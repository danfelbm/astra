import{_ as ee,c as ae}from"./CardTitle.vue_vue_type_script_setup_true_lang-BgiNK3Ya.js";import{q as te,i as N,f as Q,P as le,_ as I,a as T,b as O,c as M,d as x,C as oe}from"./SelectValue.vue_vue_type_script_setup_true_lang-BnsZXqw_.js";import{a as W,u as B,b as se,_ as J}from"./Input.vue_vue_type_script_setup_true_lang-CVKEdmcH.js";import{P as F,_ as ne,a as P}from"./createLucideIcon-DWtXnox6.js";import{_ as q}from"./Label.vue_vue_type_script_setup_true_lang-BqkWMgQk.js";import{X as ie}from"./x-CIl7KNta.js";import{d as h,a6 as Y,b as m,m as f,w as i,M as C,f as e,r as R,c as b,p as re,X as de,o as ue,e as r,$ as H,j as K,A as ce,C as pe,D as fe,g as A,h as _,i as $,F as E,k as S,n as ve,t as D}from"./app-D-mMsgzO.js";import{c as z,a as me}from"./VisuallyHidden-DtIrnN8i.js";import{u as _e}from"./useArrowNavigation-B5rxJs06.js";function ye(n,s){return te(n)?!1:Array.isArray(n)?n.some(t=>N(t,s)):N(n,s)}const[Z,ge]=z("CollapsibleRoot");var be=h({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(n,{expose:s,emit:t}){const l=n,u=W(l,"open",t,{defaultValue:l.defaultOpen,passive:l.open===void 0}),{disabled:c,unmountOnHide:y}=Y(l);return ge({contentId:"",disabled:c,open:u,unmountOnHide:y,onOpenToggle:()=>{c.value||(u.value=!u.value)}}),s({open:u}),B(),(g,p)=>(f(),m(e(F),{as:g.as,"as-child":l.asChild,"data-state":e(u)?"open":"closed","data-disabled":e(c)?"":void 0},{default:i(()=>[C(g.$slots,"default",{open:e(u)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),he=be,Ce=h({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(n,{emit:s}){const t=n,l=s,d=Z();d.contentId||(d.contentId=Q(void 0,"reka-collapsible-content"));const u=R(),{forwardRef:c,currentElement:y}=B(),g=R(0),p=R(0),a=b(()=>d.open.value),o=R(a.value),V=R();re(()=>{var v;return[a.value,(v=u.value)==null?void 0:v.present]},async()=>{await de();const v=y.value;if(!v)return;V.value=V.value||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const k=v.getBoundingClientRect();p.value=k.height,g.value=k.width,o.value||(v.style.transitionDuration=V.value.transitionDuration,v.style.animationName=V.value.animationName)},{immediate:!0});const w=b(()=>o.value&&d.open.value);return ue(()=>{requestAnimationFrame(()=>{o.value=!1})}),se(y,"beforematch",v=>{requestAnimationFrame(()=>{d.onOpenToggle(),l("contentFound")})}),(v,k)=>(f(),m(e(le),{ref_key:"presentRef",ref:u,present:v.forceMount||e(d).open.value,"force-mount":!0},{default:i(({present:U})=>{var G;return[r(e(F),H(v.$attrs,{id:e(d).contentId,ref:e(c),"as-child":t.asChild,as:v.as,hidden:U?void 0:e(d).unmountOnHide.value?"":"until-found","data-state":w.value?void 0:e(d).open.value?"open":"closed","data-disabled":(G=e(d).disabled)!=null&&G.value?"":void 0,style:{"--reka-collapsible-content-height":`${p.value}px`,"--reka-collapsible-content-width":`${g.value}px`}}),{default:i(()=>[!e(d).unmountOnHide.value||U?C(v.$slots,"default",{key:0}):K("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),Ae=Ce,Ve=h({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n;B();const t=Z();return(l,d)=>{var u,c;return f(),m(e(F),{type:l.as==="button"?"button":void 0,as:l.as,"as-child":s.asChild,"aria-controls":e(t).contentId,"aria-expanded":e(t).open.value,"data-state":e(t).open.value?"open":"closed","data-disabled":(u=e(t).disabled)!=null&&u.value?"":void 0,disabled:(c=e(t).disabled)==null?void 0:c.value,onClick:e(t).onOpenToggle},{default:i(()=>[C(l.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),xe=Ve;function qe({type:n,defaultValue:s,modelValue:t}){const l=t||s;return t!==void 0||s!==void 0?Array.isArray(l)?"multiple":"single":n??"single"}function Be({type:n,defaultValue:s,modelValue:t}){return n||qe({type:n,defaultValue:s,modelValue:t})}function we({type:n,defaultValue:s}){return s!==void 0?s:n==="single"?void 0:[]}function ke(n,s){const t=b(()=>Be(n)),l=W(n,"modelValue",s,{defaultValue:we(n),passive:n.modelValue===void 0,deep:!0});function d(c){if(t.value==="single")l.value=N(c,l.value)?void 0:c;else{const y=Array.isArray(l.value)?[...l.value||[]]:[l.value].filter(Boolean);if(ye(y,c)){const g=y.findIndex(p=>N(p,c));y.splice(g,1)}else y.push(c);l.value=y}}const u=b(()=>t.value==="single");return{modelValue:l,changeModelValue:d,isSingle:u}}const[j,$e]=z("AccordionRoot");var Ie=h({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(n,{emit:s}){const t=n,l=s,{dir:d,disabled:u,unmountOnHide:c}=Y(t),y=me(d),{modelValue:g,changeModelValue:p,isSingle:a}=ke(t,l),{forwardRef:o,currentElement:V}=B();return $e({disabled:u,direction:y,orientation:t.orientation,parentElement:V,isSingle:a,collapsible:t.collapsible,modelValue:g,changeModelValue:p,unmountOnHide:c}),(w,v)=>(f(),m(e(F),{ref:e(o),"as-child":w.asChild,as:w.as},{default:i(()=>[C(w.$slots,"default",{modelValue:e(g)})]),_:3},8,["as-child","as"]))}}),Te=Ie,L=(function(n){return n.Open="open",n.Closed="closed",n})(L||{});const[X,Oe]=z("AccordionItem");var Me=h({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n,{expose:s}){const t=n,l=j(),d=b(()=>l.isSingle.value?t.value===l.modelValue.value:Array.isArray(l.modelValue.value)&&l.modelValue.value.includes(t.value)),u=b(()=>l.disabled.value||t.disabled),c=b(()=>u.value?"":void 0),y=b(()=>d.value?L.Open:L.Closed);s({open:d,dataDisabled:c});const{currentRef:g,currentElement:p}=B();Oe({open:d,dataState:y,disabled:u,dataDisabled:c,triggerId:"",currentRef:g,currentElement:p,value:b(()=>t.value)});function a(o){var k;const V=o.target;if(Array.from(((k=l.parentElement.value)==null?void 0:k.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(U=>U===V)===-1)return null;_e(o,V,l.parentElement.value,{arrowKeyOptions:l.orientation,dir:l.direction.value,focus:!0})}return(o,V)=>(f(),m(e(he),{"data-orientation":e(l).orientation,"data-disabled":c.value,"data-state":y.value,disabled:u.value,open:d.value,as:t.as,"as-child":t.asChild,"unmount-on-hide":e(l).unmountOnHide.value,onKeydown:ce(a,["up","down","left","right","home","end"])},{default:i(()=>[C(o.$slots,"default",{open:d.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),Re=Me,Ee=h({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=j(),l=X();return B(),(d,u)=>(f(),m(e(Ae),{role:"region","as-child":s.asChild,as:d.as,"force-mount":s.forceMount,"aria-labelledby":e(l).triggerId,"data-state":e(l).dataState.value,"data-disabled":e(l).dataDisabled.value,"data-orientation":e(t).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:u[0]||(u[0]=c=>e(t).changeModelValue(e(l).value.value))},{default:i(()=>[C(d.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),Se=Ee,De=h({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(n){const s=n,t=j(),l=X();return B(),(d,u)=>(f(),m(e(F),{as:s.as,"as-child":s.asChild,"data-orientation":e(t).orientation,"data-state":e(l).dataState.value,"data-disabled":e(l).dataDisabled.value},{default:i(()=>[C(d.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),Fe=De,He=h({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,t=j(),l=X();l.triggerId||(l.triggerId=Q(void 0,"reka-accordion-trigger"));function d(){const u=t.isSingle.value&&l.open.value&&!t.collapsible;l.disabled.value||u||t.changeModelValue(l.value.value)}return(u,c)=>(f(),m(e(xe),{id:e(l).triggerId,ref:e(l).currentRef,"data-reka-collection-item":"",as:s.as,"as-child":s.asChild,"aria-disabled":e(l).disabled.value||void 0,"aria-expanded":e(l).open.value||!1,"data-disabled":e(l).dataDisabled.value,"data-orientation":e(t).orientation,"data-state":e(l).dataState.value,disabled:e(l).disabled.value,onClick:d},{default:i(()=>[C(u.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),Ue=He;const Ne={class:"space-y-4"},Pe={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"},je={class:"space-y-2"},Ke={class:"space-y-2"},Le={class:"space-y-2"},ze={class:"space-y-2"},Xe={class:"space-y-2"},Ge={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Je={class:"space-y-2 md:col-span-2"},Qe={key:0,class:"space-y-2 md:col-span-2"},ia=h({__name:"EvidenciaFilters",props:pe({contratos:{},evidencias:{},entregables:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const s=n,t=fe(n,"modelValue"),l=b(()=>{const p=new Set(s.evidencias.map(a=>a.tipo_evidencia).filter(Boolean));return Array.from(p).map(a=>({value:a,label:a}))}),d=b(()=>{const p=new Set(s.evidencias.map(a=>a.estado).filter(Boolean));return Array.from(p).map(a=>({value:a,label:a.charAt(0).toUpperCase()+a.slice(1)}))}),u=b(()=>{const p=new Map;return s.evidencias.forEach(a=>{var o;(o=a.usuario)!=null&&o.id&&p.set(a.usuario.id,a.usuario)}),Array.from(p.values()).map(a=>({value:a.id,label:a.name}))}),c=b(()=>{if(!s.entregables||s.entregables.length===0){const p=new Map;return s.evidencias.forEach(a=>{a.entregables&&a.entregables.length>0&&a.entregables.forEach(o=>{o!=null&&o.id&&p.set(o.id,o)})}),Array.from(p.values()).map(a=>({value:a.id,label:a.nombre}))}return s.entregables.map(p=>({value:p.id,label:p.nombre}))}),y=()=>{t.value={contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null,entregable_id:null}},g=b(()=>Object.values(t.value).some(p=>p!==null&&p!==""));return(p,a)=>(f(),m(e(ee),null,{default:i(()=>[r(e(ae),{class:"p-4"},{default:i(()=>[A("div",Ne,[A("div",Pe,[A("div",je,[r(e(q),{for:"filter-contrato",class:"text-xs"},{default:i(()=>[...a[7]||(a[7]=[_("Contrato",-1)])]),_:1}),r(e(I),{modelValue:t.value.contrato_id,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.contrato_id=o),id:"filter-contrato"},{default:i(()=>[r(e(T),null,{default:i(()=>[r(e(O),{placeholder:"Todos los contratos"})]),_:1}),r(e(M),null,{default:i(()=>[r(e(x),{value:null},{default:i(()=>[...a[8]||(a[8]=[_("Todos los contratos",-1)])]),_:1}),(f(!0),$(E,null,S(n.contratos,o=>(f(),m(e(x),{key:o.id,value:o.id},{default:i(()=>[_(D(o.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),A("div",Ke,[r(e(q),{for:"filter-fecha-inicio",class:"text-xs"},{default:i(()=>[...a[9]||(a[9]=[_("Fecha Desde",-1)])]),_:1}),r(e(J),{modelValue:t.value.fecha_inicio,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.fecha_inicio=o),type:"date",id:"filter-fecha-inicio",class:"text-sm"},null,8,["modelValue"])]),A("div",Le,[r(e(q),{for:"filter-fecha-fin",class:"text-xs"},{default:i(()=>[...a[10]||(a[10]=[_("Fecha Hasta",-1)])]),_:1}),r(e(J),{modelValue:t.value.fecha_fin,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.fecha_fin=o),type:"date",id:"filter-fecha-fin",class:"text-sm"},null,8,["modelValue"])]),A("div",ze,[r(e(q),{for:"filter-tipo",class:"text-xs"},{default:i(()=>[...a[11]||(a[11]=[_("Tipo",-1)])]),_:1}),r(e(I),{modelValue:t.value.tipo,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.tipo=o),id:"filter-tipo"},{default:i(()=>[r(e(T),null,{default:i(()=>[r(e(O),{placeholder:"Todos los tipos"})]),_:1}),r(e(M),null,{default:i(()=>[r(e(x),{value:null},{default:i(()=>[...a[12]||(a[12]=[_("Todos los tipos",-1)])]),_:1}),(f(!0),$(E,null,S(l.value,o=>(f(),m(e(x),{key:o.value,value:o.value},{default:i(()=>[_(D(o.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),A("div",Xe,[r(e(q),{for:"filter-estado",class:"text-xs"},{default:i(()=>[...a[13]||(a[13]=[_("Estado",-1)])]),_:1}),r(e(I),{modelValue:t.value.estado,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.estado=o),id:"filter-estado"},{default:i(()=>[r(e(T),null,{default:i(()=>[r(e(O),{placeholder:"Todos los estados"})]),_:1}),r(e(M),null,{default:i(()=>[r(e(x),{value:null},{default:i(()=>[...a[14]||(a[14]=[_("Todos los estados",-1)])]),_:1}),(f(!0),$(E,null,S(d.value,o=>(f(),m(e(x),{key:o.value,value:o.value},{default:i(()=>[_(D(o.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),A("div",Ge,[A("div",Je,[r(e(q),{for:"filter-usuario",class:"text-xs"},{default:i(()=>[...a[15]||(a[15]=[_("Usuario",-1)])]),_:1}),r(e(I),{modelValue:t.value.usuario_id,"onUpdate:modelValue":a[5]||(a[5]=o=>t.value.usuario_id=o),id:"filter-usuario"},{default:i(()=>[r(e(T),null,{default:i(()=>[r(e(O),{placeholder:"Todos los usuarios"})]),_:1}),r(e(M),null,{default:i(()=>[r(e(x),{value:null},{default:i(()=>[...a[16]||(a[16]=[_("Todos los usuarios",-1)])]),_:1}),(f(!0),$(E,null,S(u.value,o=>(f(),m(e(x),{key:o.value,value:o.value},{default:i(()=>[_(D(o.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),c.value.length>0?(f(),$("div",Qe,[r(e(q),{for:"filter-entregable",class:"text-xs"},{default:i(()=>[...a[17]||(a[17]=[_("Entregable",-1)])]),_:1}),r(e(I),{modelValue:t.value.entregable_id,"onUpdate:modelValue":a[6]||(a[6]=o=>t.value.entregable_id=o),id:"filter-entregable"},{default:i(()=>[r(e(T),null,{default:i(()=>[r(e(O),{placeholder:"Todos los entregables"})]),_:1}),r(e(M),null,{default:i(()=>[r(e(x),{value:null},{default:i(()=>[...a[18]||(a[18]=[_("Todos los entregables",-1)])]),_:1}),(f(!0),$(E,null,S(c.value,o=>(f(),m(e(x),{key:o.value,value:o.value},{default:i(()=>[_(D(o.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])):K("",!0),A("div",{class:ve(["flex items-end",c.value.length>0?"md:col-span-1":"md:col-span-3"])},[g.value?(f(),m(e(ne),{key:0,variant:"outline",size:"sm",onClick:y,class:"w-full md:w-auto"},{default:i(()=>[r(e(ie),{class:"h-4 w-4 mr-2"}),a[19]||(a[19]=_(" Limpiar Filtros ",-1))]),_:1})):K("",!0)],2)])])]),_:1})]),_:1}))}}),ra=h({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{},class:{}},setup(n){const s=n;return(t,l)=>(f(),m(e(Te),H(s,{class:e(P)("w-full",s.class)}),{default:i(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),da=h({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n;return(t,l)=>(f(),m(e(Re),H(s,{class:e(P)("border-b",s.class)}),{default:i(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),ua=h({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n;return(t,l)=>(f(),m(e(Fe),{class:"flex"},{default:i(()=>[r(e(Ue),H(s,{class:e(P)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s.class)}),{default:i(()=>[C(t.$slots,"default"),r(e(oe),{class:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]),_:3},16,["class"])]),_:3}))}}),We={class:"pb-4 pt-0"},ca=h({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n;return(t,l)=>(f(),m(e(Se),H(s,{class:e(P)("overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",s.class)}),{default:i(()=>[A("div",We,[C(t.$slots,"default")])]),_:3},16,["class"]))}});export{ia as _,ra as a,da as b,ua as c,ca as d};
