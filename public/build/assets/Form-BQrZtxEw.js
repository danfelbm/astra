import{d as Re,r as X,u as Te,c as M,o as Je,a as Ke,b as $,w as t,e as o,f as e,g as i,h as l,i as p,j as b,n as x,t as f,F as E,k as I,l as Be,m as n,p as Y,q as Qe,s as Xe}from"./app-DN6QmyVA.js";import{_ as N}from"./createLucideIcon-bHN-Vr8r.js";import{_ as D,a as A,b as q,c as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-CF8Wn-Rb.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-tXUYC_qK.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-Cls_3VRI.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-BwFmXIqv.js";import{_ as Z}from"./Textarea.vue_vue_type_script_setup_true_lang-BTJJeohk.js";import{_ as z,a as k,b as w,c as U,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-B2Cx1TMz.js";import{_ as j}from"./Switch.vue_vue_type_script_setup_true_lang-Cx_F2U_L.js";import{_ as Le,a as B}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-CL_iEmST.js";import{_ as T}from"./DateTimePicker.vue_vue_type_script_setup_true_lang-Dhy56U7K.js";import{_ as O,a as J}from"./index-Bq7UKJDk.js";import{_ as K}from"./AlertTitle.vue_vue_type_script_setup_true_lang-DxzQH761.js";import{_ as We}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CHoqJ1Vs.js";import{_ as Ye,a as he,b as ea,c as aa,d as oa,e as sa}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BwTHlVZ5.js";import{_ as ta,a as la,b as Fe,c as Ie}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DyKnPcpR.js";import{D as ia}from"./DynamicFormBuilder-yRsVyQgu.js";import{I as Q}from"./info-DEEnS1s0.js";import{L as ra}from"./loader-circle-DX1o9uNi.js";import{S as Ge}from"./save-Bq3NuywH.js";import{A as da}from"./arrow-left-Dh2XOgPa.js";import{V as Ne}from"./video-By-JMAad.js";import{S as na}from"./useFlashMessages-CBs6aChg.js";import{C as ua}from"./camera-vWSWJp4R.js";import{U as Pe}from"./users-WMBZV_7W.js";import{M as ma}from"./mic-B8oyDrY7.js";import{V as pa}from"./vote-CpB7URoM.js";import{P as fa}from"./plus-CO9XhxJV.js";import{X as _a}from"./x-Cm0qExSY.js";import"./index-Cs5j4r3l.js";import"./VisuallyHidden--r213FwR.js";import"./check-DKiVvNo7.js";import"./floating-ui.vue-CTSZ85Lh.js";import"./VisuallyHiddenInput-Cp9pc_Sr.js";import"./RovingFocusItem-D2Fxh2O3.js";import"./utils-npjear8W.js";import"./circle-CQasbBNC.js";import"./index-NrU4D0lu.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-Me-jLM3d.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-EfS_-3Lb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-T26P7ixS.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BYp6j_hm.js";import"./chevrons-up-down-4OFPGav-.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Def9XNBM.js";import"./tag--jnVc7eU.js";import"./target-D0C8ALTL.js";import"./shield-B2_nKIiu.js";import"./folder-open-xJpIHsw6.js";import"./send-DySB3ayg.js";import"./file-text-D4mPBax1.js";import"./briefcase-Ckb63ktQ.js";import"./calendar-DyqJwdM-.js";import"./megaphone-BBE9Y1S6.js";import"./user-check-BPod1YIP.js";import"./clipboard-list-CM2vRH0S.js";import"./mail-DJEwOtRX.js";import"./message-square-D7fp1M5W.js";import"./external-link-BG9mUbSP.js";import"./panel-left-D0FOsElT.js";import"./index-C3ml343d.js";import"./index-RgZvykRC.js";import"./index-DgF4TGuY.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BU0iMVSL.js";import"./trash-2-HsKE2Sb3.js";import"./grip-vertical-Dhks9J1n.js";import"./circle-alert-Bu4ClAN_.js";import"./eye-Kqm1vJJB.js";import"./git-branch-C8q64_NG.js";import"./square-pen-BfxThS9P.js";import"./copy-B5fTxO_J.js";import"./index-D9EymtZh.js";import"./user-CwFkxtf0.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-D65AShpu.js";import"./map-pin-DfCpEIxd.js";const ca={class:"space-y-2"},ba={key:0,class:"text-sm text-red-500"},ga={class:"space-y-2"},va={key:0,class:"text-sm text-red-500"},xa={class:"grid grid-cols-2 gap-4"},Va={class:"space-y-2"},ya={key:0,class:"text-sm text-red-500"},za={class:"space-y-2"},ka={class:"grid grid-cols-2 gap-4"},wa={class:"space-y-2"},Ua={key:0,class:"text-sm text-red-500"},$a={class:"space-y-2"},Sa={key:0,class:"text-sm text-red-500"},Ca={key:1,class:"text-sm text-red-500"},ja={class:"space-y-4"},Ma={class:"flex items-center space-x-2"},Ea={key:0,class:"pl-7 space-y-2"},Da=Re({__name:"CreateVotacionModal",props:{open:{type:Boolean}},emits:["close","created"],setup(V,{emit:m}){const G=m,P=X("basic"),H=X([]),s=Te({titulo:"",descripcion:"",categoria_id:null,formulario_config:[],fecha_inicio:"",fecha_fin:"",estado:"activa",resultados_publicos:!1,fecha_publicacion_resultados:"",timezone:"America/Bogota"}),S=M(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const C=new Date(s.fecha_fin),r=new Date(s.fecha_inicio);return C<=r?"La fecha de fin debe ser posterior a la fecha de inicio":""});Je(async()=>{try{const C=await Ke.get("/api/categorias-votacion");H.value=C.data}catch(C){console.error("Error cargando categorías:",C)}});const R=()=>{s.processing||G("close")},W=()=>{S.value||s.post(route("admin.votaciones.store.quick"),{preserveScroll:!0,onSuccess:C=>{var c;const r=(c=C.props.flash)==null?void 0:c.votacion_id;r&&G("created",r),s.reset()},onError:()=>{}})};return(C,r)=>(n(),$(e(sa),{open:V.open,"onUpdate:open":R},{default:t(()=>[o(e(Ye),{class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:t(()=>[o(e(he),null,{default:t(()=>[o(e(ea),null,{default:t(()=>[...r[10]||(r[10]=[l("Crear Nueva Votación",-1)])]),_:1}),o(e(aa),null,{default:t(()=>[...r[11]||(r[11]=[l(" Cree una votación rápida que se asociará automáticamente a la asamblea actual. ",-1)])]),_:1})]),_:1}),i("form",{onSubmit:Be(W,["prevent"]),class:"space-y-6"},[o(e(ta),{modelValue:P.value,"onUpdate:modelValue":r[9]||(r[9]=c=>P.value=c),class:"w-full"},{default:t(()=>[o(e(la),{class:"grid w-full grid-cols-2"},{default:t(()=>[o(e(Fe),{value:"basic"},{default:t(()=>[...r[12]||(r[12]=[l("Datos Básicos",-1)])]),_:1}),o(e(Fe),{value:"form"},{default:t(()=>[...r[13]||(r[13]=[l("Formulario",-1)])]),_:1})]),_:1}),o(e(Ie),{value:"basic",class:"space-y-4 mt-4"},{default:t(()=>[i("div",ca,[o(e(u),{for:"titulo",required:""},{default:t(()=>[...r[14]||(r[14]=[l("Título de la Votación",-1)])]),_:1}),o(e(y),{id:"titulo",modelValue:e(s).titulo,"onUpdate:modelValue":r[0]||(r[0]=c=>e(s).titulo=c),placeholder:"Ej: Elección de Junta Directiva 2024",class:x({"border-red-500":e(s).errors.titulo})},null,8,["modelValue","class"]),e(s).errors.titulo?(n(),p("span",ba,f(e(s).errors.titulo),1)):b("",!0)]),i("div",ga,[o(e(u),{for:"descripcion"},{default:t(()=>[...r[15]||(r[15]=[l("Descripción",-1)])]),_:1}),o(e(Z),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":r[1]||(r[1]=c=>e(s).descripcion=c),placeholder:"Describe brevemente el propósito de esta votación",rows:"3",class:x({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(n(),p("span",va,f(e(s).errors.descripcion),1)):b("",!0)]),i("div",xa,[i("div",Va,[o(e(u),{for:"categoria"},{default:t(()=>[...r[16]||(r[16]=[l("Categoría",-1)])]),_:1}),o(e(z),{modelValue:e(s).categoria_id,"onUpdate:modelValue":r[2]||(r[2]=c=>e(s).categoria_id=c)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Seleccionar categoría"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(E,null,I(H.value,c=>(n(),$(e(g),{key:c.id,value:c.id.toString()},{default:t(()=>[l(f(c.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(s).errors.categoria_id?(n(),p("span",ya,f(e(s).errors.categoria_id),1)):b("",!0)]),i("div",za,[o(e(u),{for:"timezone"},{default:t(()=>[...r[17]||(r[17]=[l("Zona Horaria",-1)])]),_:1}),o(e(z),{modelValue:e(s).timezone,"onUpdate:modelValue":r[3]||(r[3]=c=>e(s).timezone=c)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Seleccionar zona horaria"})]),_:1}),o(e(U),null,{default:t(()=>[o(e(g),{value:"America/Bogota"},{default:t(()=>[...r[18]||(r[18]=[l("Colombia (GMT-5)",-1)])]),_:1}),o(e(g),{value:"America/Mexico_City"},{default:t(()=>[...r[19]||(r[19]=[l("México (GMT-6)",-1)])]),_:1}),o(e(g),{value:"America/Buenos_Aires"},{default:t(()=>[...r[20]||(r[20]=[l("Argentina (GMT-3)",-1)])]),_:1}),o(e(g),{value:"America/Lima"},{default:t(()=>[...r[21]||(r[21]=[l("Perú (GMT-5)",-1)])]),_:1}),o(e(g),{value:"America/Santiago"},{default:t(()=>[...r[22]||(r[22]=[l("Chile (GMT-3)",-1)])]),_:1}),o(e(g),{value:"America/Caracas"},{default:t(()=>[...r[23]||(r[23]=[l("Venezuela (GMT-4)",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),i("div",ka,[i("div",wa,[o(e(u),{for:"fecha_inicio",required:""},{default:t(()=>[...r[24]||(r[24]=[l("Fecha y Hora de Inicio",-1)])]),_:1}),o(e(T),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":r[4]||(r[4]=c=>e(s).fecha_inicio=c),placeholder:"Seleccionar fecha y hora",class:x({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(n(),p("span",Ua,f(e(s).errors.fecha_inicio),1)):b("",!0)]),i("div",$a,[o(e(u),{for:"fecha_fin",required:""},{default:t(()=>[...r[25]||(r[25]=[l("Fecha y Hora de Fin",-1)])]),_:1}),o(e(T),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":r[5]||(r[5]=c=>e(s).fecha_fin=c),placeholder:"Seleccionar fecha y hora",class:x({"border-red-500":e(s).errors.fecha_fin||S.value})},null,8,["modelValue","class"]),S.value?(n(),p("span",Sa,f(S.value),1)):e(s).errors.fecha_fin?(n(),p("span",Ca,f(e(s).errors.fecha_fin),1)):b("",!0)])]),i("div",ja,[i("div",Ma,[o(e(j),{id:"resultados_publicos",modelValue:e(s).resultados_publicos,"onUpdate:modelValue":r[6]||(r[6]=c=>e(s).resultados_publicos=c)},null,8,["modelValue"]),o(e(u),{for:"resultados_publicos",class:"cursor-pointer"},{default:t(()=>[...r[26]||(r[26]=[l(" Resultados públicos al finalizar ",-1)])]),_:1})]),e(s).resultados_publicos?(n(),p("div",Ea,[o(e(u),{for:"fecha_publicacion"},{default:t(()=>[...r[27]||(r[27]=[l(" Fecha de publicación de resultados (opcional) ",-1)])]),_:1}),o(e(T),{modelValue:e(s).fecha_publicacion_resultados,"onUpdate:modelValue":r[7]||(r[7]=c=>e(s).fecha_publicacion_resultados=c),placeholder:"Dejar vacío para publicar al finalizar"},null,8,["modelValue"]),r[28]||(r[28]=i("p",{class:"text-xs text-muted-foreground"}," Si no especifica una fecha, los resultados se publicarán automáticamente al finalizar la votación ",-1))])):b("",!0)])]),_:1}),o(e(Ie),{value:"form",class:"space-y-4 mt-4"},{default:t(()=>[o(e(O),null,{default:t(()=>[o(e(Q),{class:"h-4 w-4"}),o(e(K),null,{default:t(()=>[...r[29]||(r[29]=[l("Configuración del Formulario",-1)])]),_:1}),o(e(J),null,{default:t(()=>[...r[30]||(r[30]=[l(" Configure las preguntas que los votantes deberán responder. ",-1)])]),_:1})]),_:1}),o(ia,{modelValue:e(s).formulario_config,"onUpdate:modelValue":r[8]||(r[8]=c=>e(s).formulario_config=c),errors:e(s).errors.formulario_config},null,8,["modelValue","errors"])]),_:1})]),_:1},8,["modelValue"]),o(e(oa),null,{default:t(()=>[o(e(N),{type:"button",variant:"outline",onClick:R},{default:t(()=>[...r[31]||(r[31]=[l(" Cancelar ",-1)])]),_:1}),o(e(N),{type:"submit",disabled:e(s).processing},{default:t(()=>[e(s).processing?(n(),$(e(ra),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),$(e(Ge),{key:1,class:"mr-2 h-4 w-4"})),r[32]||(r[32]=l(" Crear Votación ",-1))]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),Aa={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},qa={class:"flex items-center justify-between"},La={class:"text-3xl font-bold"},Fa={class:"text-muted-foreground"},Ia={class:"grid gap-4 md:grid-cols-2"},Na={class:"space-y-2"},Pa={key:0,class:"text-sm text-red-500"},Ra={class:"space-y-2"},Ta={key:0,class:"text-sm text-red-500"},Ba={class:"space-y-2"},Ga={key:0,class:"text-sm text-red-500"},Ha={key:0,class:"grid gap-4 md:grid-cols-2"},Za={class:"space-y-2"},Oa={key:0,class:"text-sm text-red-500"},Ja={class:"space-y-2"},Ka={key:0,class:"text-sm text-red-500"},Qa={class:"grid gap-4 md:grid-cols-2"},Xa={class:"space-y-2"},Wa={key:0,class:"text-sm text-red-500"},Ya={class:"space-y-2"},ha={key:0,class:"text-sm text-red-500"},eo={key:1,class:"text-sm text-red-500"},ao={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},oo={class:"space-y-2"},so={class:"space-y-2"},to={class:"space-y-2"},lo={class:"space-y-2"},io={class:"space-y-2"},ro={key:0,class:"text-sm text-red-500"},no={class:"grid gap-4 md:grid-cols-2"},uo={class:"space-y-2"},mo={key:0,class:"text-sm text-red-500"},po={class:"flex items-center space-x-2 pt-8"},fo={class:"flex items-center space-x-2"},_o={key:0,class:"space-y-4 pl-6 border-l-2 border-blue-200"},co={class:"space-y-3"},bo={class:"flex items-center space-x-2"},go={class:"flex items-center space-x-2"},vo={class:"flex items-center space-x-2"},xo={key:0,class:"space-y-4"},Vo={class:"grid gap-4 md:grid-cols-2"},yo={class:"space-y-2"},zo={key:0,class:"space-y-2"},ko={class:"flex items-center gap-2 p-2 bg-green-50 rounded-md"},wo={class:"text-xs text-muted-foreground"},Uo={class:"space-y-3"},$o={class:"grid gap-3 md:grid-cols-2"},So={class:"flex items-center space-x-2"},Co={class:"flex items-center space-x-2"},jo={class:"flex items-center space-x-2"},Mo={class:"flex items-center space-x-2"},Eo={class:"space-y-2"},Do={key:1,class:"space-y-4"},Ao={class:"grid gap-4 md:grid-cols-2"},qo={class:"space-y-2"},Lo={class:"space-y-2"},Fo={class:"space-y-2"},Io={class:"space-y-2"},No={class:"space-y-4 p-4 border rounded-lg bg-gray-50"},Po={class:"flex items-center space-x-2"},Ro={key:0,class:"space-y-2"},To={class:"grid gap-4 md:grid-cols-2"},Bo={class:"space-y-2"},Go={class:"space-y-2"},Ho={class:"space-y-2"},Zo={key:2,class:"space-y-4"},Oo={class:"space-y-2"},Jo={key:1,class:"text-sm text-red-500"},Ko={class:"flex items-center space-x-2"},Qo={key:0,class:"space-y-4"},Xo={class:"space-y-2"},Wo={class:"flex items-start space-x-2 mb-3"},Yo={class:"space-y-1"},ho={class:"flex items-start space-x-2"},es={class:"space-y-1"},as={class:"block bg-gray-100 p-2 rounded text-sm"},os={class:"list-disc list-inside text-sm space-y-1"},ss={key:0},ts={key:1},ls={key:1,class:"text-sm text-red-500"},is={key:2,class:"text-sm text-red-500"},rs={class:"space-y-2"},ds={class:"flex gap-2"},ns={class:"text-xs text-muted-foreground ml-2"},us={key:0,class:"space-y-2"},ms={class:"space-y-2"},ps={class:"flex-1"},fs={class:"font-medium"},_s={class:"text-sm text-muted-foreground"},cs={class:"text-xs text-muted-foreground mt-1"},bs={key:2,class:"text-sm text-red-500"},gs={class:"flex justify-end gap-4"},Pt=Re({__name:"Form",props:{asamblea:{},territorios:{},departamentos:{},municipios:{},localidades:{},votaciones:{},asambleaVotaciones:{},canManageParticipants:{type:Boolean}},setup(V){var ae,oe,se,te,le,ie,re,de,ne,ue,me,pe,fe,_e,ce,be,ge,ve,xe,Ve,ye,ze,ke,we,Ue,$e,Se,Ce,je,Me,Ee,De,Ae,qe;const m=V,G=[{title:"Admin",href:"/admin/dashboard"},{title:"Asambleas",href:"/admin/asambleas"},{title:m.asamblea?"Editar":"Nueva",href:"#"}],{route:P}=window,H=M(()=>typeof window<"u"?window.location.origin:""),s=Te({nombre:((ae=m.asamblea)==null?void 0:ae.nombre)||"",descripcion:((oe=m.asamblea)==null?void 0:oe.descripcion)||"",tipo:((se=m.asamblea)==null?void 0:se.tipo)||"ordinaria",estado:((te=m.asamblea)==null?void 0:te.estado)||"programada",fecha_inicio:((le=m.asamblea)==null?void 0:le.fecha_inicio)||"",fecha_fin:((ie=m.asamblea)==null?void 0:ie.fecha_fin)||"",territorio_id:((de=(re=m.asamblea)==null?void 0:re.territorio_id)==null?void 0:de.toString())||null,departamento_id:((ue=(ne=m.asamblea)==null?void 0:ne.departamento_id)==null?void 0:ue.toString())||null,municipio_id:((pe=(me=m.asamblea)==null?void 0:me.municipio_id)==null?void 0:pe.toString())||null,localidad_id:((_e=(fe=m.asamblea)==null?void 0:fe.localidad_id)==null?void 0:_e.toString())||null,lugar:((ce=m.asamblea)==null?void 0:ce.lugar)||"",quorum_minimo:((be=m.asamblea)==null?void 0:be.quorum_minimo)||null,activo:((ge=m.asamblea)==null?void 0:ge.activo)??!0,acta_url:((ve=m.asamblea)==null?void 0:ve.acta_url)||"",zoom_enabled:((xe=m.asamblea)==null?void 0:xe.zoom_enabled)??!1,zoom_integration_type:((Ve=m.asamblea)==null?void 0:Ve.zoom_integration_type)||"sdk",zoom_meeting_id:((ye=m.asamblea)==null?void 0:ye.zoom_meeting_id)||"",zoom_meeting_password:((ze=m.asamblea)==null?void 0:ze.zoom_meeting_password)||"",zoom_occurrence_ids:((ke=m.asamblea)==null?void 0:ke.zoom_occurrence_ids)||"",zoom_prefix:((we=m.asamblea)==null?void 0:we.zoom_prefix)||"",zoom_registration_open_date:((Ue=m.asamblea)==null?void 0:Ue.zoom_registration_open_date)||"",zoom_static_message:(($e=m.asamblea)==null?void 0:$e.zoom_static_message)||"",zoom_api_message_enabled:((Se=m.asamblea)==null?void 0:Se.zoom_api_message_enabled)??!1,zoom_api_message:((Ce=m.asamblea)==null?void 0:Ce.zoom_api_message)||"",zoom_join_url:((je=m.asamblea)==null?void 0:je.zoom_join_url)||"",zoom_start_url:((Me=m.asamblea)==null?void 0:Me.zoom_start_url)||"",zoom_meeting_type:((Ee=m.asamblea)==null?void 0:Ee.zoom_meeting_type)||"scheduled",zoom_settings:((De=m.asamblea)==null?void 0:De.zoom_settings)||{host_video:!0,participant_video:!1,waiting_room:!0,mute_upon_entry:!0,auto_recording:"none"},public_participants_enabled:((Ae=m.asamblea)==null?void 0:Ae.public_participants_enabled)??!1,public_participants_mode:((qe=m.asamblea)==null?void 0:qe.public_participants_mode)||"list",votacion_ids:m.asambleaVotaciones||[]}),S=X(!1);X(m.asambleaVotaciones||[]);const R=M(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const v=new Date(s.fecha_fin),a=new Date(s.fecha_inicio);return v<=a?"La fecha de fin debe ser posterior a la fecha de inicio":""}),W=M(()=>s.territorio_id?m.departamentos.filter(v=>v.territorio_id===Number(s.territorio_id)):[]),C=M(()=>s.departamento_id?m.municipios.filter(v=>v.departamento_id===Number(s.departamento_id)):[]),r=M(()=>s.municipio_id?m.localidades.filter(v=>v.municipio_id===Number(s.municipio_id)):[]);Y(()=>s.territorio_id,(v,a)=>{v!==a&&(s.departamento_id=null,s.municipio_id=null,s.localidad_id=null)}),Y(()=>s.departamento_id,(v,a)=>{v!==a&&(s.municipio_id=null,s.localidad_id=null)}),Y(()=>s.municipio_id,(v,a)=>{v!==a&&(s.localidad_id=null)});const c=v=>{s.votacion_ids.includes(v)||s.votacion_ids.push(v),S.value=!1},He=v=>{const a=s.votacion_ids.indexOf(v);a>-1&&s.votacion_ids.splice(a,1)},h=M(()=>!m.votaciones||!s.votacion_ids.length?[]:m.votaciones.filter(v=>s.votacion_ids.includes(v.id))),Ze=M(()=>m.votaciones?m.votaciones.filter(v=>!s.votacion_ids.includes(v.id)):[]),Oe=()=>{m.asamblea?s.put(P("admin.asambleas.update",m.asamblea.id),{preserveScroll:!0,onError:()=>{}}):s.post(P("admin.asambleas.store"),{preserveScroll:!0,onError:()=>{}})},ee=()=>{Xe.visit(P("admin.asambleas.index"))};return(v,a)=>(n(),p(E,null,[o(e(Qe),{title:V.asamblea?"Editar Asamblea":"Nueva Asamblea"},null,8,["title"]),o(We,{breadcrumbs:G},{default:t(()=>[i("div",Aa,[i("div",qa,[i("div",null,[i("h1",La,f(V.asamblea?"Editar Asamblea":"Nueva Asamblea"),1),i("p",Fa,f(V.asamblea?"Modifica los datos de la asamblea":"Completa los datos para crear una nueva asamblea"),1)]),o(e(N),{variant:"outline",onClick:ee},{default:t(()=>[o(e(da),{class:"mr-2 h-4 w-4"}),a[37]||(a[37]=l(" Volver ",-1))]),_:1})]),i("form",{onSubmit:Be(Oe,["prevent"]),class:"space-y-6"},[o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),null,{default:t(()=>[...a[38]||(a[38]=[l("Información General",-1)])]),_:1}),o(e(F),null,{default:t(()=>[...a[39]||(a[39]=[l(" Datos básicos de la asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-4"},{default:t(()=>[i("div",Ia,[i("div",Na,[o(e(u),{for:"nombre"},{default:t(()=>[...a[40]||(a[40]=[l("Nombre *",-1)])]),_:1}),o(e(y),{id:"nombre",modelValue:e(s).nombre,"onUpdate:modelValue":a[0]||(a[0]=d=>e(s).nombre=d),placeholder:"Ej: Asamblea General Ordinaria 2024",class:x({"border-red-500":e(s).errors.nombre})},null,8,["modelValue","class"]),e(s).errors.nombre?(n(),p("span",Pa,f(e(s).errors.nombre),1)):b("",!0)]),i("div",Ra,[o(e(u),{for:"tipo"},{default:t(()=>[...a[41]||(a[41]=[l("Tipo *",-1)])]),_:1}),o(e(z),{modelValue:e(s).tipo,"onUpdate:modelValue":a[1]||(a[1]=d=>e(s).tipo=d)},{default:t(()=>[o(e(k),{class:x({"border-red-500":e(s).errors.tipo})},{default:t(()=>[o(e(w),{placeholder:"Selecciona el tipo"})]),_:1},8,["class"]),o(e(U),null,{default:t(()=>[o(e(g),{value:"ordinaria"},{default:t(()=>[...a[42]||(a[42]=[l("Ordinaria",-1)])]),_:1}),o(e(g),{value:"extraordinaria"},{default:t(()=>[...a[43]||(a[43]=[l("Extraordinaria",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.tipo?(n(),p("span",Ta,f(e(s).errors.tipo),1)):b("",!0)])]),i("div",Ba,[o(e(u),{for:"descripcion"},{default:t(()=>[...a[44]||(a[44]=[l("Descripción",-1)])]),_:1}),o(e(Z),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":a[2]||(a[2]=d=>e(s).descripcion=d),placeholder:"Describe el propósito y agenda de la asamblea...",rows:"3",class:x({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(n(),p("span",Ga,f(e(s).errors.descripcion),1)):b("",!0)]),V.asamblea?(n(),p("div",Ha,[i("div",Za,[o(e(u),{for:"estado"},{default:t(()=>[...a[45]||(a[45]=[l("Estado",-1)])]),_:1}),o(e(z),{modelValue:e(s).estado,"onUpdate:modelValue":a[3]||(a[3]=d=>e(s).estado=d)},{default:t(()=>[o(e(k),{class:x({"border-red-500":e(s).errors.estado})},{default:t(()=>[o(e(w),{placeholder:"Selecciona el estado"})]),_:1},8,["class"]),o(e(U),null,{default:t(()=>[o(e(g),{value:"programada"},{default:t(()=>[...a[46]||(a[46]=[l("Programada",-1)])]),_:1}),o(e(g),{value:"en_curso"},{default:t(()=>[...a[47]||(a[47]=[l("En Curso",-1)])]),_:1}),o(e(g),{value:"finalizada"},{default:t(()=>[...a[48]||(a[48]=[l("Finalizada",-1)])]),_:1}),o(e(g),{value:"cancelada"},{default:t(()=>[...a[49]||(a[49]=[l("Cancelada",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.estado?(n(),p("span",Oa,f(e(s).errors.estado),1)):b("",!0)]),i("div",Ja,[o(e(u),{for:"acta_url"},{default:t(()=>[...a[50]||(a[50]=[l("URL del Acta",-1)])]),_:1}),o(e(y),{id:"acta_url",modelValue:e(s).acta_url,"onUpdate:modelValue":a[4]||(a[4]=d=>e(s).acta_url=d),placeholder:"https://ejemplo.com/acta.pdf",class:x({"border-red-500":e(s).errors.acta_url})},null,8,["modelValue","class"]),e(s).errors.acta_url?(n(),p("span",Ka,f(e(s).errors.acta_url),1)):b("",!0)])])):b("",!0)]),_:1})]),_:1}),o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),null,{default:t(()=>[...a[51]||(a[51]=[l("Fechas y Horarios",-1)])]),_:1}),o(e(F),null,{default:t(()=>[...a[52]||(a[52]=[l(" Define cuándo se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-4"},{default:t(()=>[i("div",Qa,[i("div",Xa,[o(e(u),{for:"fecha_inicio"},{default:t(()=>[...a[53]||(a[53]=[l("Fecha y Hora de Inicio *",-1)])]),_:1}),o(e(T),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":a[5]||(a[5]=d=>e(s).fecha_inicio=d),placeholder:"Seleccionar fecha y hora de inicio",class:x({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(n(),p("span",Wa,f(e(s).errors.fecha_inicio),1)):b("",!0)]),i("div",Ya,[o(e(u),{for:"fecha_fin"},{default:t(()=>[...a[54]||(a[54]=[l("Fecha y Hora de Fin *",-1)])]),_:1}),o(e(T),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":a[6]||(a[6]=d=>e(s).fecha_fin=d),placeholder:"Seleccionar fecha y hora de fin",class:x({"border-red-500":e(s).errors.fecha_fin||R.value})},null,8,["modelValue","class"]),R.value?(n(),p("span",ha,f(R.value),1)):e(s).errors.fecha_fin?(n(),p("span",eo,f(e(s).errors.fecha_fin),1)):b("",!0)])])]),_:1})]),_:1}),o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),null,{default:t(()=>[...a[55]||(a[55]=[l("Ubicación",-1)])]),_:1}),o(e(F),null,{default:t(()=>[...a[56]||(a[56]=[l(" Define dónde se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-4"},{default:t(()=>[i("div",ao,[i("div",oo,[o(e(u),{for:"territorio"},{default:t(()=>[...a[57]||(a[57]=[l("Territorio",-1)])]),_:1}),o(e(z),{modelValue:e(s).territorio_id,"onUpdate:modelValue":a[7]||(a[7]=d=>e(s).territorio_id=d)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona territorio (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(E,null,I(V.territorios,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",so,[o(e(u),{for:"departamento"},{default:t(()=>[...a[58]||(a[58]=[l("Departamento",-1)])]),_:1}),o(e(z),{modelValue:e(s).departamento_id,"onUpdate:modelValue":a[8]||(a[8]=d=>e(s).departamento_id=d),disabled:!e(s).territorio_id},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona departamento (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(E,null,I(W.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),i("div",to,[o(e(u),{for:"municipio"},{default:t(()=>[...a[59]||(a[59]=[l("Municipio",-1)])]),_:1}),o(e(z),{modelValue:e(s).municipio_id,"onUpdate:modelValue":a[9]||(a[9]=d=>e(s).municipio_id=d),disabled:!e(s).departamento_id},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona municipio (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(E,null,I(C.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),i("div",lo,[o(e(u),{for:"localidad"},{default:t(()=>[...a[60]||(a[60]=[l("Localidad",-1)])]),_:1}),o(e(z),{modelValue:e(s).localidad_id,"onUpdate:modelValue":a[10]||(a[10]=d=>e(s).localidad_id=d),disabled:!e(s).municipio_id},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona localidad (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(E,null,I(r.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),i("div",io,[o(e(u),{for:"lugar"},{default:t(()=>[...a[61]||(a[61]=[l("Dirección o Lugar",-1)])]),_:1}),o(e(y),{id:"lugar",modelValue:e(s).lugar,"onUpdate:modelValue":a[11]||(a[11]=d=>e(s).lugar=d),placeholder:"Ej: Salón Principal, Calle 123 #45-67",class:x({"border-red-500":e(s).errors.lugar})},null,8,["modelValue","class"]),e(s).errors.lugar?(n(),p("span",ro,f(e(s).errors.lugar),1)):b("",!0)])]),_:1})]),_:1}),o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),null,{default:t(()=>[...a[62]||(a[62]=[l("Configuración",-1)])]),_:1}),o(e(F),null,{default:t(()=>[...a[63]||(a[63]=[l(" Opciones adicionales de la asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-4"},{default:t(()=>[i("div",no,[i("div",uo,[o(e(u),{for:"quorum_minimo"},{default:t(()=>[...a[64]||(a[64]=[l("Quórum Mínimo",-1)])]),_:1}),o(e(y),{id:"quorum_minimo",modelValue:e(s).quorum_minimo,"onUpdate:modelValue":a[12]||(a[12]=d=>e(s).quorum_minimo=d),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"Ej: 50",class:x({"border-red-500":e(s).errors.quorum_minimo})},null,8,["modelValue","class"]),e(s).errors.quorum_minimo?(n(),p("span",mo,f(e(s).errors.quorum_minimo),1)):b("",!0),a[65]||(a[65]=i("p",{class:"text-sm text-muted-foreground"}," Número mínimo de asistentes requeridos ",-1))]),i("div",po,[o(e(j),{id:"activo",modelValue:e(s).activo,"onUpdate:modelValue":a[13]||(a[13]=d=>e(s).activo=d)},null,8,["modelValue"]),o(e(u),{for:"activo",class:"cursor-pointer"},{default:t(()=>[...a[66]||(a[66]=[l(" Asamblea Activa ",-1)])]),_:1})])])]),_:1})]),_:1}),o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),{class:"flex items-center gap-2"},{default:t(()=>[o(e(Ne),{class:"h-5 w-5"}),a[67]||(a[67]=l(" Videoconferencia ",-1))]),_:1}),o(e(F),null,{default:t(()=>[...a[68]||(a[68]=[l(" Configuración de videoconferencia con Zoom para la asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-4"},{default:t(()=>{var d;return[i("div",fo,[o(e(j),{id:"zoom_enabled",modelValue:e(s).zoom_enabled,"onUpdate:modelValue":a[14]||(a[14]=_=>e(s).zoom_enabled=_)},null,8,["modelValue"]),o(e(u),{for:"zoom_enabled",class:"cursor-pointer"},{default:t(()=>[...a[69]||(a[69]=[l(" Habilitar videoconferencia ",-1)])]),_:1})]),e(s).zoom_enabled?(n(),p("div",_o,[i("div",co,[o(e(u),{class:"text-sm font-medium"},{default:t(()=>[...a[70]||(a[70]=[l("Tipo de Integración",-1)])]),_:1}),o(e(Le),{modelValue:e(s).zoom_integration_type,"onUpdate:modelValue":a[15]||(a[15]=_=>e(s).zoom_integration_type=_),class:"flex gap-6"},{default:t(()=>[i("div",bo,[o(e(B),{value:"sdk",id:"sdk"}),o(e(u),{for:"sdk",class:"cursor-pointer"},{default:t(()=>[...a[71]||(a[71]=[l(" SDK (Automático) ",-1)])]),_:1})]),i("div",go,[o(e(B),{value:"api",id:"api"}),o(e(u),{for:"api",class:"cursor-pointer"},{default:t(()=>[...a[72]||(a[72]=[l(" API (Manual) ",-1)])]),_:1})]),i("div",vo,[o(e(B),{value:"message",id:"message"}),o(e(u),{for:"message",class:"cursor-pointer"},{default:t(()=>[...a[73]||(a[73]=[l(" Mensaje estático ",-1)])]),_:1})])]),_:1},8,["modelValue"]),a[74]||(a[74]=i("p",{class:"text-xs text-muted-foreground"}," SDK: Reuniones generadas automáticamente. API: Configuración manual de reunión existente. Mensaje: Mostrar un mensaje personalizado. ",-1))]),e(s).zoom_integration_type==="sdk"?(n(),p("div",xo,[i("div",Vo,[i("div",yo,[o(e(u),{for:"zoom_meeting_type"},{default:t(()=>[...a[75]||(a[75]=[l("Tipo de Reunión",-1)])]),_:1}),o(e(z),{modelValue:e(s).zoom_meeting_type,"onUpdate:modelValue":a[16]||(a[16]=_=>e(s).zoom_meeting_type=_)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona el tipo"})]),_:1}),o(e(U),null,{default:t(()=>[o(e(g),{value:"scheduled"},{default:t(()=>[...a[76]||(a[76]=[l("Programada",-1)])]),_:1}),o(e(g),{value:"instant"},{default:t(()=>[...a[77]||(a[77]=[l("Instantánea",-1)])]),_:1}),o(e(g),{value:"recurring"},{default:t(()=>[...a[78]||(a[78]=[l("Recurrente",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[79]||(a[79]=i("p",{class:"text-sm text-muted-foreground"},' Se recomienda "Programada" para asambleas ',-1))]),(d=V.asamblea)!=null&&d.zoom_meeting_id?(n(),p("div",zo,[o(e(u),null,{default:t(()=>[...a[80]||(a[80]=[l("Estado de la Reunión",-1)])]),_:1}),i("div",ko,[o(e(Ne),{class:"h-4 w-4 text-green-600"}),a[81]||(a[81]=i("span",{class:"text-sm text-green-800"},"Reunión creada",-1))]),i("p",wo," ID: "+f(V.asamblea.zoom_meeting_id),1)])):b("",!0)]),i("div",Uo,[o(e(u),{class:"text-sm font-medium flex items-center gap-2"},{default:t(()=>[o(e(na),{class:"h-4 w-4"}),a[82]||(a[82]=l(" Configuraciones de la Reunión ",-1))]),_:1}),i("div",$o,[i("div",So,[o(e(j),{id:"host_video",modelValue:e(s).zoom_settings.host_video,"onUpdate:modelValue":a[17]||(a[17]=_=>e(s).zoom_settings.host_video=_)},null,8,["modelValue"]),o(e(u),{for:"host_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:t(()=>[o(e(ua),{class:"h-3 w-3"}),a[83]||(a[83]=l(" Video del moderador ",-1))]),_:1})]),i("div",Co,[o(e(j),{id:"participant_video",modelValue:e(s).zoom_settings.participant_video,"onUpdate:modelValue":a[18]||(a[18]=_=>e(s).zoom_settings.participant_video=_)},null,8,["modelValue"]),o(e(u),{for:"participant_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:t(()=>[o(e(Pe),{class:"h-3 w-3"}),a[84]||(a[84]=l(" Video de participantes ",-1))]),_:1})]),i("div",jo,[o(e(j),{id:"waiting_room",modelValue:e(s).zoom_settings.waiting_room,"onUpdate:modelValue":a[19]||(a[19]=_=>e(s).zoom_settings.waiting_room=_)},null,8,["modelValue"]),o(e(u),{for:"waiting_room",class:"text-sm cursor-pointer"},{default:t(()=>[...a[85]||(a[85]=[l(" Sala de espera ",-1)])]),_:1})]),i("div",Mo,[o(e(j),{id:"mute_upon_entry",modelValue:e(s).zoom_settings.mute_upon_entry,"onUpdate:modelValue":a[20]||(a[20]=_=>e(s).zoom_settings.mute_upon_entry=_)},null,8,["modelValue"]),o(e(u),{for:"mute_upon_entry",class:"text-sm cursor-pointer flex items-center gap-1"},{default:t(()=>[o(e(ma),{class:"h-3 w-3"}),a[86]||(a[86]=l(" Silenciar al entrar ",-1))]),_:1})])]),i("div",Eo,[o(e(u),{for:"auto_recording",class:"text-sm"},{default:t(()=>[...a[87]||(a[87]=[l("Grabación automática",-1)])]),_:1}),o(e(z),{modelValue:e(s).zoom_settings.auto_recording,"onUpdate:modelValue":a[21]||(a[21]=_=>e(s).zoom_settings.auto_recording=_)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w))]),_:1}),o(e(U),null,{default:t(()=>[o(e(g),{value:"none"},{default:t(()=>[...a[88]||(a[88]=[l("Sin grabación",-1)])]),_:1}),o(e(g),{value:"local"},{default:t(()=>[...a[89]||(a[89]=[l("Grabación local",-1)])]),_:1}),o(e(g),{value:"cloud"},{default:t(()=>[...a[90]||(a[90]=[l("Grabación en la nube",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a[91]||(a[91]=i("div",{class:"bg-blue-50 p-3 rounded-md"},[i("p",{class:"text-sm text-blue-800"},[i("strong",null,"Nota:"),l(" La reunión de Zoom se creará automáticamente cuando guardes la asamblea. Los participantes podrán acceder a la videoconferencia desde la vista de la asamblea. ")])],-1))])):b("",!0),e(s).zoom_integration_type==="api"?(n(),p("div",Do,[i("div",Ao,[i("div",qo,[o(e(u),{for:"zoom_meeting_id_api"},{default:t(()=>[...a[92]||(a[92]=[l("Meeting ID",-1)])]),_:1}),o(e(y),{id:"zoom_meeting_id_api",modelValue:e(s).zoom_meeting_id,"onUpdate:modelValue":a[22]||(a[22]=_=>e(s).zoom_meeting_id=_),placeholder:"Ej: 123456789"},null,8,["modelValue"]),a[93]||(a[93]=i("p",{class:"text-xs text-muted-foreground"}," ID de la reunión existente en Zoom ",-1))]),i("div",Lo,[o(e(u),{for:"zoom_occurrence_ids"},{default:t(()=>[...a[94]||(a[94]=[l("Occurrence IDs",-1)])]),_:1}),o(e(y),{id:"zoom_occurrence_ids",modelValue:e(s).zoom_occurrence_ids,"onUpdate:modelValue":a[23]||(a[23]=_=>e(s).zoom_occurrence_ids=_),placeholder:"Ej: 1648194360000,1648280760000"},null,8,["modelValue"]),a[95]||(a[95]=i("p",{class:"text-xs text-muted-foreground"}," IDs de ocurrencias separados por comas (opcional) ",-1))]),i("div",Fo,[o(e(u),{for:"zoom_prefix"},{default:t(()=>[...a[96]||(a[96]=[l("Prefijo",-1)])]),_:1}),o(e(y),{id:"zoom_prefix",modelValue:e(s).zoom_prefix,"onUpdate:modelValue":a[24]||(a[24]=_=>e(s).zoom_prefix=_),placeholder:"Ej: CH",maxlength:"10",class:"w-24"},null,8,["modelValue"]),a[97]||(a[97]=i("p",{class:"text-xs text-muted-foreground"}," Prefijo que se añadirá al nombre en Zoom ",-1))])]),i("div",Io,[o(e(u),{for:"zoom_registration_open_date"},{default:t(()=>[...a[98]||(a[98]=[l("Apertura de inscripciones",-1)])]),_:1}),o(e(T),{id:"zoom_registration_open_date",modelValue:e(s).zoom_registration_open_date,"onUpdate:modelValue":a[25]||(a[25]=_=>e(s).zoom_registration_open_date=_),placeholder:"Seleccionar fecha y hora"},null,8,["modelValue"]),a[99]||(a[99]=i("p",{class:"text-xs text-muted-foreground"}," Fecha y hora a partir de la cual los usuarios pueden generar su link personal (opcional) ",-1))]),i("div",No,[i("div",Po,[o(e(j),{id:"zoom_api_message_enabled",modelValue:e(s).zoom_api_message_enabled,"onUpdate:modelValue":a[26]||(a[26]=_=>e(s).zoom_api_message_enabled=_)},null,8,["modelValue"]),o(e(u),{for:"zoom_api_message_enabled",class:"cursor-pointer"},{default:t(()=>[...a[100]||(a[100]=[l(" Mostrar mensaje personalizado encima del enlace ",-1)])]),_:1})]),e(s).zoom_api_message_enabled?(n(),p("div",Ro,[o(e(u),{for:"zoom_api_message"},{default:t(()=>[...a[101]||(a[101]=[l("Mensaje a mostrar",-1)])]),_:1}),o(e(Z),{id:"zoom_api_message",modelValue:e(s).zoom_api_message,"onUpdate:modelValue":a[27]||(a[27]=_=>e(s).zoom_api_message=_),placeholder:"Escriba aquí el mensaje que se mostrará encima del enlace de Zoom...",rows:"4",class:"min-h-[100px]"},null,8,["modelValue"]),a[102]||(a[102]=i("p",{class:"text-xs text-muted-foreground"}," Este mensaje aparecerá destacado encima del botón de generar/acceder al enlace de Zoom. ",-1))])):b("",!0)]),i("div",To,[i("div",Bo,[o(e(u),{for:"zoom_meeting_password_api"},{default:t(()=>[...a[103]||(a[103]=[l("Contraseña de la Reunión",-1)])]),_:1}),o(e(y),{id:"zoom_meeting_password_api",modelValue:e(s).zoom_meeting_password,"onUpdate:modelValue":a[28]||(a[28]=_=>e(s).zoom_meeting_password=_),placeholder:"Contraseña (opcional)"},null,8,["modelValue"])]),i("div",Go,[o(e(u),{for:"zoom_join_url"},{default:t(()=>[...a[104]||(a[104]=[l("Join URL",-1)])]),_:1}),o(e(y),{id:"zoom_join_url",modelValue:e(s).zoom_join_url,"onUpdate:modelValue":a[29]||(a[29]=_=>e(s).zoom_join_url=_),placeholder:"https://zoom.us/j/123456789"},null,8,["modelValue"])])]),i("div",Ho,[o(e(u),{for:"zoom_start_url"},{default:t(()=>[...a[105]||(a[105]=[l("Start URL",-1)])]),_:1}),o(e(y),{id:"zoom_start_url",modelValue:e(s).zoom_start_url,"onUpdate:modelValue":a[30]||(a[30]=_=>e(s).zoom_start_url=_),placeholder:"https://zoom.us/s/123456789"},null,8,["modelValue"]),a[106]||(a[106]=i("p",{class:"text-xs text-muted-foreground"}," URL para iniciar la reunión (para moderadores) ",-1))]),a[107]||(a[107]=i("div",{class:"bg-orange-50 p-3 rounded-md"},[i("p",{class:"text-sm text-orange-800"},[i("strong",null,"Modo API:"),l(" Los campos se completan manualmente. Los usuarios verán un botón para generar su link personal de acceso a la reunión. ")])],-1))])):b("",!0),e(s).zoom_integration_type==="message"?(n(),p("div",Zo,[i("div",Oo,[o(e(u),{for:"zoom_static_message"},{default:t(()=>[...a[108]||(a[108]=[l("Mensaje a mostrar",-1)])]),_:1}),o(e(Z),{id:"zoom_static_message",modelValue:e(s).zoom_static_message,"onUpdate:modelValue":a[31]||(a[31]=_=>e(s).zoom_static_message=_),placeholder:"Escriba aquí el mensaje que se mostrará en lugar de la videoconferencia...",rows:"5",class:"min-h-[120px]"},null,8,["modelValue"]),a[109]||(a[109]=i("p",{class:"text-xs text-muted-foreground"}," Este mensaje se mostrará a los usuarios en el espacio donde normalmente aparecería la videoconferencia. ",-1))]),a[110]||(a[110]=i("div",{class:"bg-blue-50 p-3 rounded-md"},[i("p",{class:"text-sm text-blue-800"},[i("strong",null,"Modo Mensaje:"),l(" En lugar de una videoconferencia, los usuarios verán el mensaje personalizado que configure aquí. ")])],-1))])):b("",!0)])):b("",!0),e(s).errors.zoom_enabled?(n(),p("span",Jo,f(e(s).errors.zoom_enabled),1)):b("",!0)]}),_:1})]),_:1}),o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),null,{default:t(()=>[o(e(Pe),{class:"inline-block mr-2 h-5 w-5"}),a[111]||(a[111]=l(" Consulta Pública de Participantes ",-1))]),_:1}),o(e(F),null,{default:t(()=>[...a[112]||(a[112]=[l(" Configure el acceso público sin autenticación para consultar participantes de la asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-6"},{default:t(()=>[i("div",Ko,[o(e(j),{id:"public_participants",modelValue:e(s).public_participants_enabled,"onUpdate:modelValue":a[32]||(a[32]=d=>e(s).public_participants_enabled=d)},null,8,["modelValue"]),o(e(u),{for:"public_participants"},{default:t(()=>[...a[113]||(a[113]=[l(" Habilitar consulta pública de participantes (sin autenticación) ",-1)])]),_:1})]),e(s).public_participants_enabled?(n(),p("div",Qo,[i("div",Xo,[o(e(u),null,{default:t(()=>[...a[114]||(a[114]=[l("Modo de visualización pública",-1)])]),_:1}),o(e(Le),{modelValue:e(s).public_participants_mode,"onUpdate:modelValue":a[33]||(a[33]=d=>e(s).public_participants_mode=d)},{default:t(()=>[i("div",Wo,[o(e(B),{value:"list",id:"mode_list"}),i("div",Yo,[o(e(u),{for:"mode_list",class:"font-medium cursor-pointer"},{default:t(()=>[...a[115]||(a[115]=[l(" Modo Listado ",-1)])]),_:1}),a[116]||(a[116]=i("p",{class:"text-sm text-muted-foreground"}," Muestra tabla completa con filtros avanzados. Los visitantes pueden ver: nombre, departamento, municipio y localidad de todos los participantes. ",-1))])]),i("div",ho,[o(e(B),{value:"search",id:"mode_search"}),i("div",es,[o(e(u),{for:"mode_search",class:"font-medium cursor-pointer"},{default:t(()=>[...a[117]||(a[117]=[l(" Modo Búsqueda ",-1)])]),_:1}),a[118]||(a[118]=i("p",{class:"text-sm text-muted-foreground"}," Solo muestra un campo de búsqueda. Los visitantes pueden buscar por nombre, cédula o correo, y ver únicamente si la persona es o no participante. ",-1))])])]),_:1},8,["modelValue"])]),o(e(O),null,{default:t(()=>[o(e(Q),{class:"h-4 w-4"}),o(e(K),null,{default:t(()=>[...a[119]||(a[119]=[l("URL Pública",-1)])]),_:1}),o(e(J),null,{default:t(()=>{var d;return[a[120]||(a[120]=i("p",{class:"mb-2"},"Los participantes estarán disponibles públicamente en:",-1)),i("code",as,f(H.value)+"/asambleas/"+f(((d=V.asamblea)==null?void 0:d.id)||"{id}")+"/participantes-publico ",1),a[121]||(a[121]=i("p",{class:"mt-2 text-xs"}," Esta URL será accesible sin necesidad de autenticación cuando la asamblea esté activa. ",-1))]}),_:1})]),_:1}),o(e(O),{variant:"outline"},{default:t(()=>[o(e(Q),{class:"h-4 w-4"}),o(e(K),null,{default:t(()=>[...a[122]||(a[122]=[l("Información de Privacidad",-1)])]),_:1}),o(e(J),null,{default:t(()=>[i("ul",os,[e(s).public_participants_mode==="list"?(n(),p("li",ss," En modo listado, NO se mostrarán: correo electrónico, teléfono, documento de identidad, ni información de asistencia. ")):(n(),p("li",ts," En modo búsqueda, solo se confirmará si la persona es participante o no. No se revelará ningún dato personal adicional. ")),a[123]||(a[123]=i("li",null,"Los datos expuestos cumplen con las políticas de privacidad.",-1))])]),_:1})]),_:1})])):b("",!0),e(s).errors.public_participants_enabled?(n(),p("span",ls,f(e(s).errors.public_participants_enabled),1)):b("",!0),e(s).errors.public_participants_mode?(n(),p("span",is,f(e(s).errors.public_participants_mode),1)):b("",!0)]),_:1})]),_:1}),o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(q),{class:"flex items-center gap-2"},{default:t(()=>[o(e(pa),{class:"h-5 w-5"}),a[124]||(a[124]=l(" Votaciones Asociadas ",-1))]),_:1}),o(e(F),null,{default:t(()=>[...a[125]||(a[125]=[l(" Vincule votaciones existentes o cree nuevas votaciones para esta asamblea ",-1)])]),_:1})]),_:1}),o(e(L),{class:"space-y-4"},{default:t(()=>[i("div",rs,[o(e(u),null,{default:t(()=>[...a[126]||(a[126]=[l("Vincular votaciones existentes",-1)])]),_:1}),i("div",ds,[o(e(z),{"model-value":"","onUpdate:modelValue":a[34]||(a[34]=d=>d&&!e(s).votacion_ids.includes(Number(d))&&e(s).votacion_ids.push(Number(d)))},{default:t(()=>[o(e(k),{class:"flex-1"},{default:t(()=>[o(e(w),{placeholder:"Seleccionar votación para agregar..."})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(E,null,I(Ze.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.titulo)+" ",1),i("span",ns," ("+f(d.estado)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),o(e(N),{type:"button",onClick:a[35]||(a[35]=d=>S.value=!0),variant:"outline"},{default:t(()=>[o(e(fa),{class:"h-4 w-4 mr-2"}),a[127]||(a[127]=l(" Crear nueva ",-1))]),_:1})])]),h.value.length>0?(n(),p("div",us,[o(e(u),null,{default:t(()=>[...a[128]||(a[128]=[l("Votaciones vinculadas",-1)])]),_:1}),i("div",ms,[(n(!0),p(E,null,I(h.value,d=>(n(),p("div",{key:d.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 dark:bg-gray-900"},[i("div",ps,[i("div",fs,f(d.titulo),1),i("div",_s,f(d.descripcion),1),i("div",cs," Estado: "+f(d.estado)+" | Inicio: "+f(new Date(d.fecha_inicio).toLocaleDateString())+" | Fin: "+f(new Date(d.fecha_fin).toLocaleDateString()),1)]),o(e(N),{type:"button",onClick:_=>He(d.id),variant:"ghost",size:"sm"},{default:t(()=>[o(e(_a),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])])):(n(),$(e(O),{key:1},{default:t(()=>[o(e(Q),{class:"h-4 w-4"}),o(e(K),null,{default:t(()=>[...a[129]||(a[129]=[l("Sin votaciones vinculadas",-1)])]),_:1}),o(e(J),null,{default:t(()=>[...a[130]||(a[130]=[l(" Esta asamblea no tiene votaciones asociadas. Puede vincular votaciones existentes o crear nuevas. ",-1)])]),_:1})]),_:1})),e(s).errors.votacion_ids?(n(),p("span",bs,f(e(s).errors.votacion_ids),1)):b("",!0)]),_:1})]),_:1}),i("div",gs,[o(e(N),{type:"button",variant:"outline",onClick:ee},{default:t(()=>[...a[131]||(a[131]=[l(" Cancelar ",-1)])]),_:1}),o(e(N),{type:"submit",disabled:e(s).processing},{default:t(()=>[o(e(Ge),{class:"mr-2 h-4 w-4"}),l(" "+f(V.asamblea?"Actualizar":"Crear")+" Asamblea ",1)]),_:1},8,["disabled"])])],32)]),S.value?(n(),$(Da,{key:0,open:S.value,onClose:a[36]||(a[36]=d=>S.value=!1),onCreated:c},null,8,["open"])):b("",!0)]),_:1})],64))}});export{Pt as default};
