import{d as K,r as T,c as S,i as l,e as a,F as I,k as B,w as s,f as e,g as o,h as d,t as r,j as u,s as Q,b as x,m as n,x as N,n as W,v as j}from"./app-BEXZv9D4.js";import{_ as Y}from"./AdminLayout.vue_vue_type_script_setup_true_lang-HaOg-jMM.js";import{_ as k,c as C,a as A,b as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-Ci6kjuRH.js";import{_ as Z}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cl9iNlXd.js";import{_ as b}from"./createLucideIcon-JdLteBhk.js";import{_ as O}from"./index-CKyiPBXR.js";import{_ as X,a as G}from"./index-Cl_uktDM.js";import{_ as ee}from"./ComentariosPanel.vue_vue_type_script_setup_true_lang-D2MqC9s6.js";import{_ as te}from"./Switch.vue_vue_type_script_setup_true_lang-D0gD4Dmt.js";import{_ as ae}from"./Textarea.vue_vue_type_script_setup_true_lang-DgzmZt76.js";import{_ as oe}from"./Label.vue_vue_type_script_setup_true_lang-B0OhtbTA.js";import{_ as ie,a as se,b as ne,c as re,d as le,e as de}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CnoKE1DK.js";import{t as H}from"./index-SnReKwv1.js";import{C as q}from"./clock-BNolIuU1.js";import{C as P}from"./circle-x-OovTryf3.js";import{C as R}from"./circle-check-big-CH3sTIq1.js";import{F as M}from"./file-DVW9bZsC.js";import{M as U}from"./music-DqabqLyF.js";import{V as ce}from"./video-C3FY1qs9.js";import{I as ue}from"./image-D67ftp1p.js";import{A as me}from"./arrow-left-Bhl3eCZa.js";import{D as V}from"./download-kBFSWtnZ.js";import{T as ve}from"./triangle-alert-CF14woLa.js";import{E as J}from"./eye-CW9ybKMl.js";import"./useFlashMessages-BQWSMemQ.js";import"./index-DcePN18A.js";import"./floating-ui.vue-DGmmF0XI.js";import"./x-MjRAM-mT.js";import"./Input.vue_vue_type_script_setup_true_lang-Btxc7TBU.js";import"./index-DJqslkHs.js";import"./index-Dc32wMFW.js";import"./shield-DSsoQyNN.js";import"./user-CO02PkBz.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DeF5hJ4Q.js";import"./chevron-right-q4mBAWz9.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-02x5QTXs.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CHJCqoG6.js";import"./VisuallyHidden-CGUyYIjj.js";import"./check-tU5Ba87G.js";import"./circle-alert-BPPRs1OY.js";import"./map-pin-DCkJGui3.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BZgHTFU_.js";import"./chevrons-up-down-CDd76zFI.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BRdnVbyR.js";import"./tag-CVuAb0K5.js";import"./users-BfW56zi5.js";import"./target-Ca1ZtCte.js";import"./vote-DhXVxvh8.js";import"./folder-open-Bm8bYSgZ.js";import"./send-BEYupbNu.js";import"./file-text-D7o3rFAC.js";import"./briefcase-DqoPbQIF.js";import"./calendar-BWZ081O_.js";import"./megaphone-DEQu4jR5.js";import"./user-check-CT5LXWQs.js";import"./clipboard-list-DZI3IY8w.js";import"./mail-C3ScHVdM.js";import"./message-square-CBY6ylkC.js";import"./external-link-ThR7N75O.js";import"./panel-left-CISZsrtm.js";import"./index-DrTK4xQW.js";import"./Skeleton.vue_vue_type_script_setup_true_lang-B5AT55Fe.js";import"./RichTextEditor-Bh5edgyj.js";import"./italic-sqNFEziE.js";import"./list-CiH21SGi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FileUploadField.vue_vue_type_script_setup_true_lang-B152wNd1.js";import"./useFileUpload-C_t2RKUz.js";import"./upload-D18DwDfo.js";import"./paperclip-D1dONdx6.js";import"./loader-circle-BDJe3Iji.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CxeV7I_f.js";import"./arrow-right-CE8uSN7R.js";import"./ellipsis-DRhVkhgs.js";import"./square-pen-BDShvQ9B.js";import"./trash-2-Bu2vjpbn.js";import"./chevron-left-DcX92rKG.js";import"./VisuallyHiddenInput-M8OfiK7B.js";const fe={class:"flex items-center gap-2"},ge={class:"space-y-4 py-4"},xe={class:"flex items-center justify-between"},he={key:0,class:"space-y-2"},pe=K({__name:"EvidenciaAccionesEstado",props:{evidencia:{},proyectoId:{},estadoActual:{}},setup(t){const h=t,$=T(!1),v=T(null),w=T(""),y=T(!1),z=T(!1),_={aprobada:{label:"Aprobar",icon:R,color:"text-green-600 hover:text-green-700 hover:bg-green-50",variant:"ghost",defaultComentario:!1},rechazada:{label:"Rechazar",icon:P,color:"text-red-600 hover:text-red-700 hover:bg-red-50",variant:"ghost",defaultComentario:!0},pendiente:{label:"A Pendiente",icon:q,color:"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-50",variant:"ghost",defaultComentario:!1}},L=S(()=>{const c=[];return h.estadoActual!=="aprobada"&&c.push("aprobada"),h.estadoActual!=="rechazada"&&c.push("rechazada"),h.estadoActual!=="pendiente"&&c.push("pendiente"),c}),f=S(()=>v.value?`${_[v.value].label} evidencia`:""),i=S(()=>v.value?{aprobada:"¿Confirmas que deseas aprobar esta evidencia?",rechazada:"¿Confirmas que deseas rechazar esta evidencia?",pendiente:"¿Confirmas que deseas devolver esta evidencia a estado pendiente?"}[v.value]:""),D=c=>{v.value=c,w.value="",y.value=_[c].defaultComentario,$.value=!0},F=()=>{v.value&&(z.value=!0,Q.post(`/admin/proyectos/${h.proyectoId}/evidencias/${h.evidencia.id}/cambiar-estado`,{estado:v.value,comentario:y.value?w.value:null,agregar_comentario:y.value},{preserveScroll:!0,onSuccess:()=>{H.success(`Estado cambiado a ${v.value}`),$.value=!1,w.value=""},onError:c=>{const m=Object.values(c).flat().join(", ")||"Error al cambiar estado";H.error(m)},onFinish:()=>{z.value=!1}}))},p=()=>{$.value=!1,v.value=null,w.value="",y.value=!1};return(c,m)=>(n(),l("div",fe,[(n(!0),l(I,null,B(L.value,g=>(n(),x(e(b),{key:g,variant:_[g].variant,size:"sm",class:W(["h-8",_[g].color]),onClick:Tt=>D(g)},{default:s(()=>[(n(),x(N(_[g].icon),{class:"h-4 w-4 mr-1"})),d(" "+r(_[g].label),1)]),_:2},1032,["variant","class","onClick"]))),128)),a(e(de),{open:$.value,"onUpdate:open":m[2]||(m[2]=g=>$.value=g)},{default:s(()=>[a(e(ie),{class:"sm:max-w-md"},{default:s(()=>[a(e(se),null,{default:s(()=>[a(e(ne),null,{default:s(()=>[d(r(f.value),1)]),_:1}),a(e(re),null,{default:s(()=>[d(r(i.value),1)]),_:1})]),_:1}),o("div",ge,[o("div",xe,[a(e(oe),{for:"agregar-comentario",class:"text-sm"},{default:s(()=>[d(r(v.value==="rechazada"?"Agregar motivo":"Agregar comentario"),1)]),_:1}),a(e(te),{id:"agregar-comentario",modelValue:y.value,"onUpdate:modelValue":m[0]||(m[0]=g=>y.value=g)},null,8,["modelValue"])]),y.value?(n(),l("div",he,[a(e(ae),{modelValue:w.value,"onUpdate:modelValue":m[1]||(m[1]=g=>w.value=g),placeholder:v.value==="rechazada"?"Describe el motivo del rechazo...":"Agrega un comentario opcional...",rows:"4",class:"resize-none"},null,8,["modelValue","placeholder"]),m[3]||(m[3]=o("p",{class:"text-xs text-muted-foreground"}," Este comentario aparecerá con el badge del nuevo estado. ",-1))])):u("",!0)]),a(e(le),{class:"gap-2 sm:gap-0"},{default:s(()=>[a(e(b),{variant:"outline",onClick:p,disabled:z.value},{default:s(()=>[...m[4]||(m[4]=[d(" Cancelar ",-1)])]),_:1},8,["disabled"]),a(e(b),{variant:v.value==="rechazada"?"destructive":"default",onClick:F,disabled:z.value},{default:s(()=>[d(r(z.value?"Procesando...":"Confirmar"),1)]),_:1},8,["variant","disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}}),_e={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},be={class:"flex justify-between items-start"},ye={class:"flex items-center gap-4 mt-2"},we={class:"text-muted-foreground"},ke={class:"flex gap-2"},Ce={class:"flex items-center justify-between"},$e={key:0},ze={class:"grid gap-6 lg:grid-cols-3"},Ae={class:"lg:col-span-2 space-y-6"},Ee={key:0,class:"ml-2"},De={class:"space-y-4"},Ve={key:0,class:"space-y-4"},Te={key:0,class:"text-center"},je=["src","alt"],Se={class:"text-sm text-muted-foreground mt-2"},Fe={key:1,class:"text-center"},Me=["src"],Ie={class:"text-sm text-muted-foreground mt-2"},Be={key:2,class:"flex flex-col items-center gap-4"},Ne={class:"flex items-center gap-3"},Le={class:"text-left"},Oe={class:"font-medium"},Ue=["src"],qe={key:3,class:"flex items-center gap-4 py-4"},Pe={class:"flex-1"},Re={class:"font-medium"},Xe={class:"text-sm text-muted-foreground"},Ge={key:1,class:"bg-muted/30 rounded-lg p-4"},He={key:0,class:"text-center"},Je=["src","alt"],Ke={key:1,class:"text-center"},Qe=["src"],We={key:2,class:"flex flex-col items-center gap-4"},Ye=["src"],Ze={key:3,class:"flex flex-col items-center gap-4 py-8"},et={class:"text-center"},tt={class:"font-medium"},at={class:"text-sm text-muted-foreground"},ot={key:0},it={key:2,class:"text-center py-8 text-muted-foreground"},st={class:"whitespace-pre-wrap"},nt={class:"space-y-6"},rt={class:"font-medium"},lt={key:0,class:"text-sm text-muted-foreground"},dt={key:0},ct={class:"font-medium"},ut={key:0,class:"text-sm text-muted-foreground mt-1"},mt={class:"space-y-2"},vt={class:"font-medium text-sm"},ft={class:"text-xs text-muted-foreground"},gt={class:"text-sm"},xt={class:"text-sm"},ht={key:0},pt={class:"space-y-2 max-h-32 overflow-y-auto"},_t={class:"truncate flex-1 mr-2"},bt={key:1},yt={class:"text-sm"},wt={key:2},kt={class:"text-sm"},Ct={class:"text-sm"},$t={class:"text-xs text-muted-foreground"},zt={class:"text-sm"},At={key:3},Et={class:"text-sm"},Dt={key:0,class:"text-xs text-muted-foreground"},Vt={class:"text-sm whitespace-pre-wrap"},ao=K({__name:"Show",props:{contrato:{},evidencia:{}},setup(t){const h=t,$=[{title:"Admin",href:"/admin/dashboard"},{title:"Contratos",href:"/admin/contratos"},{title:h.contrato.nombre,href:`/admin/contratos/${h.contrato.id}`},{title:"Evidencia",href:"#"}],v=S(()=>({imagen:ue,video:ce,audio:U,documento:M})[h.evidencia.tipo_evidencia]||M),w=S(()=>({pendiente:{color:"secondary",icon:q,bgClass:"bg-yellow-50",textClass:"text-yellow-800"},aprobada:{color:"success",icon:R,bgClass:"bg-green-50",textClass:"text-green-800"},rechazada:{color:"destructive",icon:P,bgClass:"bg-red-50",textClass:"text-red-800"}})[h.evidencia.estado]||{color:"default",icon:q,bgClass:"bg-gray-50",textClass:"text-gray-800"}),y=f=>f?new Date(f).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",z=f=>f?new Date(f).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"-",_=f=>{const i=f||h.evidencia.archivo_url;i&&window.open(i,"_blank")},L=()=>{var f;((f=h.evidencia.archivos_urls)==null?void 0:f.length)>0?h.evidencia.archivos_urls.forEach((i,D)=>{setTimeout(()=>{window.open(i,"_blank")},D*500)}):h.evidencia.archivo_url&&_()};return(f,i)=>(n(),x(Y,{breadcrumbs:$},{default:s(()=>{var D,F;return[o("div",_e,[o("div",be,[o("div",null,[a(e(j),{href:`/admin/contratos/${t.contrato.id}`,class:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-2"},{default:s(()=>[a(e(me),{class:"w-4 h-4 mr-2"}),i[0]||(i[0]=d(" Volver al Contrato ",-1))]),_:1},8,["href"]),i[1]||(i[1]=o("h2",{class:"text-3xl font-bold tracking-tight"},"Evidencia",-1)),o("div",ye,[a(e(O),{variant:w.value.color},{default:s(()=>[(n(),x(N(w.value.icon),{class:"w-3 h-3 mr-1"})),d(" "+r(t.evidencia.estado_label),1)]),_:1},8,["variant"]),a(e(O),{variant:"outline"},{default:s(()=>[(n(),x(N(v.value),{class:"w-3 h-3 mr-1"})),d(" "+r(t.evidencia.tipo_evidencia_label),1)]),_:1}),a(e(O),{variant:"secondary"},{default:s(()=>[d(r(t.evidencia.tiene_multiples_archivos?`${t.evidencia.total_archivos} archivos`:"1 archivo"),1)]),_:1}),o("span",we," Subida "+r(z(t.evidencia.created_at)),1)])]),o("div",ke,[t.evidencia.tiene_multiples_archivos?(n(),x(e(b),{key:0,onClick:L,variant:"outline"},{default:s(()=>[a(e(V),{class:"w-4 h-4 mr-2"}),d(" Descargar Todos ("+r(t.evidencia.total_archivos)+") ",1)]),_:1})):t.evidencia.archivo_url?(n(),x(e(b),{key:1,onClick:_,variant:"outline"},{default:s(()=>[a(e(V),{class:"w-4 h-4 mr-2"}),i[2]||(i[2]=d(" Descargar ",-1))]),_:1})):u("",!0)])]),(D=t.contrato.proyecto)!=null&&D.id?(n(),x(e(k),{key:0,class:"border-dashed"},{default:s(()=>[a(e(C),{class:"py-3"},{default:s(()=>[o("div",Ce,[i[3]||(i[3]=o("span",{class:"text-sm text-muted-foreground"},"Acciones rápidas",-1)),a(pe,{evidencia:t.evidencia,"proyecto-id":t.contrato.proyecto.id,"estado-actual":t.evidencia.estado},null,8,["evidencia","proyecto-id","estado-actual"])])]),_:1})]),_:1})):u("",!0),t.evidencia.estado==="rechazada"?(n(),x(e(X),{key:1,class:"border-red-200 bg-red-50"},{default:s(()=>[a(e(P),{class:"h-4 w-4 text-red-600"}),a(e(G),{class:"text-red-800"},{default:s(()=>[i[4]||(i[4]=d(" Esta evidencia ha sido rechazada. ",-1)),t.evidencia.observaciones_admin?(n(),l("span",$e," Motivo: "+r(t.evidencia.observaciones_admin),1)):u("",!0)]),_:1})]),_:1})):u("",!0),t.evidencia.estado==="aprobada"?(n(),x(e(X),{key:2,class:"border-green-200 bg-green-50"},{default:s(()=>[a(e(R),{class:"h-4 w-4 text-green-600"}),a(e(G),{class:"text-green-800"},{default:s(()=>[...i[5]||(i[5]=[d(" Esta evidencia ha sido aprobada exitosamente. ",-1)])]),_:1})]),_:1})):u("",!0),o("div",ze,[o("div",Ae,[a(e(k),null,{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),{class:"flex items-center gap-2"},{default:s(()=>[(n(),x(N(v.value),{class:"w-5 h-5"})),i[6]||(i[6]=d(" Archivo de Evidencia ",-1))]),_:1}),a(e(Z),null,{default:s(()=>[d(r(t.evidencia.archivo_nombre||"Archivo subido")+" ",1),t.evidencia.archivo_size_formatted?(n(),l("span",Ee," ("+r(t.evidencia.archivo_size_formatted)+") ",1)):u("",!0)]),_:1})]),_:1}),a(e(C),null,{default:s(()=>{var p;return[o("div",De,[((p=t.evidencia.archivos_info)==null?void 0:p.length)>0?(n(),l("div",Ve,[(n(!0),l(I,null,B(t.evidencia.archivos_info,(c,m)=>(n(),l("div",{key:c.indice,class:"bg-muted/30 rounded-lg p-4 relative group"},[a(e(b),{onClick:g=>_(c.url),variant:"outline",size:"sm",class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"},{default:s(()=>[a(e(V),{class:"w-4 h-4"})]),_:1},8,["onClick"]),t.evidencia.es_imagen?(n(),l("div",Te,[o("img",{src:c.url,alt:c.nombre,class:"max-w-full max-h-64 mx-auto rounded-lg shadow-sm"},null,8,je),o("p",Se,r(c.nombre),1)])):t.evidencia.es_video?(n(),l("div",Fe,[o("video",{src:c.url,controls:"",class:"max-w-full max-h-64 mx-auto rounded-lg shadow-sm"}," Tu navegador no soporta la reproducción de video. ",8,Me),o("p",Ie,r(c.nombre),1)])):t.evidencia.es_audio?(n(),l("div",Be,[o("div",Ne,[a(e(U),{class:"w-12 h-12 text-muted-foreground"}),o("div",Le,[o("p",Oe,r(c.nombre),1),i[7]||(i[7]=o("p",{class:"text-sm text-muted-foreground"},"Archivo de audio",-1))])]),o("audio",{src:c.url,controls:"",class:"w-full max-w-md"}," Tu navegador no soporta la reproducción de audio. ",8,Ue)])):(n(),l("div",qe,[a(e(M),{class:"w-12 h-12 text-muted-foreground flex-shrink-0"}),o("div",Pe,[o("p",Re,r(c.nombre),1),o("p",Xe,r(t.evidencia.tipo_evidencia_label),1)]),a(e(b),{onClick:g=>_(c.url),variant:"outline",size:"sm"},{default:s(()=>[a(e(V),{class:"w-4 h-4 mr-2"}),i[8]||(i[8]=d(" Descargar ",-1))]),_:1},8,["onClick"])]))]))),128))])):t.evidencia.archivo_url?(n(),l("div",Ge,[t.evidencia.es_imagen?(n(),l("div",He,[o("img",{src:t.evidencia.archivo_url,alt:t.evidencia.descripcion||"Evidencia",class:"max-w-full max-h-96 mx-auto rounded-lg shadow-sm"},null,8,Je)])):t.evidencia.es_video?(n(),l("div",Ke,[o("video",{src:t.evidencia.archivo_url,controls:"",class:"max-w-full max-h-96 mx-auto rounded-lg shadow-sm"}," Tu navegador no soporta la reproducción de video. ",8,Qe)])):t.evidencia.es_audio?(n(),l("div",We,[a(e(U),{class:"w-16 h-16 text-muted-foreground"}),o("audio",{src:t.evidencia.archivo_url,controls:"",class:"w-full max-w-md"}," Tu navegador no soporta la reproducción de audio. ",8,Ye)])):(n(),l("div",Ze,[a(e(M),{class:"w-16 h-16 text-muted-foreground"}),o("div",et,[o("p",tt,r(t.evidencia.archivo_nombre),1),o("p",at,[d(r(t.evidencia.tipo_evidencia_label)+" ",1),t.evidencia.archivo_size_formatted?(n(),l("span",ot," • "+r(t.evidencia.archivo_size_formatted),1)):u("",!0)])]),a(e(b),{onClick:_,variant:"outline"},{default:s(()=>[a(e(V),{class:"w-4 h-4 mr-2"}),i[9]||(i[9]=d(" Descargar para ver ",-1))]),_:1})]))])):(n(),l("div",it,[a(e(ve),{class:"w-12 h-12 mx-auto mb-3"}),i[10]||(i[10]=o("p",null,"No se pudo cargar el archivo",-1))]))])]}),_:1})]),_:1}),t.evidencia.descripcion?(n(),x(e(k),{key:0},{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),null,{default:s(()=>[...i[11]||(i[11]=[d("Descripción",-1)])]),_:1})]),_:1}),a(e(C),null,{default:s(()=>[o("p",st,r(t.evidencia.descripcion),1)]),_:1})]),_:1})):u("",!0),a(ee,{"commentable-type":"evidencias","commentable-id":t.evidencia.id,"can-create":!0},null,8,["commentable-id"])]),o("div",nt,[a(e(k),null,{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),null,{default:s(()=>[...i[12]||(i[12]=[d("Información del Contrato",-1)])]),_:1})]),_:1}),a(e(C),{class:"space-y-4"},{default:s(()=>[o("div",null,[i[13]||(i[13]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Contrato",-1)),o("p",rt,r(t.contrato.nombre),1),t.contrato.numero_contrato?(n(),l("p",lt," # "+r(t.contrato.numero_contrato),1)):u("",!0)]),t.contrato.proyecto?(n(),l("div",dt,[i[14]||(i[14]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Proyecto",-1)),a(e(j),{href:`/admin/proyectos/${t.contrato.proyecto.id}`,class:"text-sm text-primary hover:underline"},{default:s(()=>[d(r(t.contrato.proyecto.nombre),1)]),_:1},8,["href"])])):u("",!0),a(e(b),{href:`/admin/contratos/${t.contrato.id}`,as:e(j),variant:"outline",size:"sm",class:"w-full"},{default:s(()=>[a(e(J),{class:"w-4 h-4 mr-2"}),i[15]||(i[15]=d(" Ver Contrato ",-1))]),_:1},8,["href","as"])]),_:1})]),_:1}),a(e(k),null,{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),null,{default:s(()=>[...i[16]||(i[16]=[d("Obligación Contractual",-1)])]),_:1})]),_:1}),a(e(C),{class:"space-y-4"},{default:s(()=>[o("div",null,[o("p",ct,r(t.evidencia.obligacion.nombre),1),t.evidencia.obligacion.descripcion?(n(),l("p",ut,r(t.evidencia.obligacion.descripcion),1)):u("",!0)]),a(e(b),{href:`/admin/obligaciones/${t.evidencia.obligacion.id}`,as:e(j),variant:"outline",size:"sm",class:"w-full"},{default:s(()=>[a(e(J),{class:"w-4 h-4 mr-2"}),i[17]||(i[17]=d(" Ver Obligación ",-1))]),_:1},8,["href","as"])]),_:1})]),_:1}),((F=t.evidencia.entregables)==null?void 0:F.length)>0?(n(),x(e(k),{key:0},{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),null,{default:s(()=>[...i[18]||(i[18]=[d("Entregables Asociados",-1)])]),_:1})]),_:1}),a(e(C),null,{default:s(()=>[o("div",mt,[(n(!0),l(I,null,B(t.evidencia.entregables,p=>(n(),x(e(j),{key:p.id,href:`/admin/proyectos/${p.hito.proyecto.id}/hitos/${p.hito.id}/entregables/${p.id}`,class:"block p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer"},{default:s(()=>[o("p",vt,r(p.nombre),1),o("p",ft,r(p.hito.nombre),1)]),_:2},1032,["href"]))),128))])]),_:1})]),_:1})):u("",!0),a(e(k),null,{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),null,{default:s(()=>[d(r(t.evidencia.tiene_multiples_archivos?"Detalles de los Archivos":"Detalles del Archivo"),1)]),_:1})]),_:1}),a(e(C),{class:"space-y-3"},{default:s(()=>{var p,c;return[o("div",null,[i[19]||(i[19]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Tipo",-1)),o("p",gt,r(t.evidencia.tipo_evidencia_label),1)]),o("div",null,[i[20]||(i[20]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Cantidad",-1)),o("p",xt,r(t.evidencia.total_archivos||1)+" archivo(s)",1)]),((p=t.evidencia.archivos_info)==null?void 0:p.length)>0?(n(),l("div",ht,[i[21]||(i[21]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Archivos",-1)),o("div",pt,[(n(!0),l(I,null,B(t.evidencia.archivos_info,m=>(n(),l("div",{key:m.indice,class:"flex items-center justify-between text-xs p-2 bg-muted/30 rounded"},[o("span",_t,r(m.nombre),1),a(e(b),{onClick:g=>_(m.url),size:"sm",variant:"ghost",class:"h-6 w-6 p-0"},{default:s(()=>[a(e(V),{class:"w-3 h-3"})]),_:1},8,["onClick"])]))),128))])])):t.evidencia.archivo_size_formatted?(n(),l("div",bt,[i[22]||(i[22]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Tamaño",-1)),o("p",yt,r(t.evidencia.archivo_size_formatted),1)])):u("",!0),(c=t.evidencia.metadata)!=null&&c.mime_type?(n(),l("div",wt,[i[23]||(i[23]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Formato",-1)),o("p",kt,r(t.evidencia.metadata.mime_type),1)])):u("",!0),o("div",null,[i[24]||(i[24]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Subido por",-1)),o("p",Ct,r(t.evidencia.usuario.name),1),o("p",$t,r(t.evidencia.usuario.email),1)]),o("div",null,[i[25]||(i[25]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Fecha de subida",-1)),o("p",zt,r(y(t.evidencia.created_at)),1)]),t.evidencia.revisado_at?(n(),l("div",At,[i[26]||(i[26]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Revisado",-1)),o("p",Et,r(y(t.evidencia.revisado_at)),1),t.evidencia.revisor?(n(),l("p",Dt," por "+r(t.evidencia.revisor.name),1)):u("",!0)])):u("",!0)]}),_:1})]),_:1}),t.evidencia.observaciones_admin?(n(),x(e(k),{key:1},{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(E),null,{default:s(()=>[...i[27]||(i[27]=[d("Observaciones de Revisión",-1)])]),_:1})]),_:1}),a(e(C),null,{default:s(()=>[o("p",Vt,r(t.evidencia.observaciones_admin),1)]),_:1})]),_:1})):u("",!0)])])])]}),_:1}))}});export{ao as default};
