import{P as $,c as L,_ as ae,a as P}from"./createLucideIcon-CuqvJpoP.js";import{c as te,_ as le}from"./CardTitle.vue_vue_type_script_setup_true_lang-CAAlIxJ_.js";import{i as U,e as Q,P as oe,_ as O,a as R,b as S,c as D,d as V,C as se}from"./SelectValue.vue_vue_type_script_setup_true_lang-Cpe2WH2y.js";import{a as W,u as q,b as ne,_ as J}from"./Input.vue_vue_type_script_setup_true_lang-BnypupD2.js";import{_ as w}from"./Label.vue_vue_type_script_setup_true_lang-DbHCruY6.js";import{d as h,a1 as Y,b as m,e as f,w as n,V as b,u as e,r as I,c as g,m as ie,O as re,o as de,f as d,S as M,j as Z,x as ue,as as ce,at as pe,g as C,h as y,i as E,F,k as H,t as N}from"./app-BY-r2Ws5.js";import{X as fe}from"./x-JNLCp3Uv.js";import{c as z,a as ve}from"./VisuallyHidden-1Cdwj0Pt.js";import{i as me}from"./nullish-CHIgUVhi.js";import{u as _e}from"./useArrowNavigation-B5rxJs06.js";function ye(o,s){return me(o)?!1:Array.isArray(o)?o.some(a=>U(a,s)):U(o,s)}const[ee,ge]=z("CollapsibleRoot");var he=h({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(o,{expose:s,emit:a}){const t=o,u=W(t,"open",a,{defaultValue:t.defaultOpen,passive:t.open===void 0}),{disabled:c,unmountOnHide:_}=Y(t);return ge({contentId:"",disabled:c,open:u,unmountOnHide:_,onOpenToggle:()=>{c.value||(u.value=!u.value)}}),s({open:u}),q(),(p,l)=>(f(),m(e($),{as:p.as,"as-child":t.asChild,"data-state":e(u)?"open":"closed","data-disabled":e(c)?"":void 0},{default:n(()=>[b(p.$slots,"default",{open:e(u)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),be=he,Ce=h({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(o,{emit:s}){const a=o,t=s,r=ee();r.contentId||(r.contentId=Q(void 0,"reka-collapsible-content"));const u=I(),{forwardRef:c,currentElement:_}=q(),p=I(0),l=I(0),i=g(()=>r.open.value),x=I(i.value),A=I();ie(()=>{var v;return[i.value,(v=u.value)==null?void 0:v.present]},async()=>{await re();const v=_.value;if(!v)return;A.value=A.value||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const k=v.getBoundingClientRect();l.value=k.height,p.value=k.width,x.value||(v.style.transitionDuration=A.value.transitionDuration,v.style.animationName=A.value.animationName)},{immediate:!0});const B=g(()=>x.value&&r.open.value);return de(()=>{requestAnimationFrame(()=>{x.value=!1})}),ne(_,"beforematch",v=>{requestAnimationFrame(()=>{r.onOpenToggle(),t("contentFound")})}),(v,k)=>(f(),m(e(oe),{ref_key:"presentRef",ref:u,present:v.forceMount||e(r).open.value,"force-mount":!0},{default:n(({present:T})=>{var G;return[d(e($),M(v.$attrs,{id:e(r).contentId,ref:e(c),"as-child":a.asChild,as:v.as,hidden:T?void 0:e(r).unmountOnHide.value?"":"until-found","data-state":B.value?void 0:e(r).open.value?"open":"closed","data-disabled":(G=e(r).disabled)!=null&&G.value?"":void 0,style:{"--reka-collapsible-content-height":`${l.value}px`,"--reka-collapsible-content-width":`${p.value}px`}}),{default:n(()=>[!e(r).unmountOnHide.value||T?b(v.$slots,"default",{key:0}):Z("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),xe=Ce,Ae=h({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const s=o;q();const a=ee();return(t,r)=>{var u,c;return f(),m(e($),{type:t.as==="button"?"button":void 0,as:t.as,"as-child":s.asChild,"aria-controls":e(a).contentId,"aria-expanded":e(a).open.value,"data-state":e(a).open.value?"open":"closed","data-disabled":(u=e(a).disabled)!=null&&u.value?"":void 0,disabled:(c=e(a).disabled)==null?void 0:c.value,onClick:e(a).onOpenToggle},{default:n(()=>[b(t.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),Ve=Ae;function qe({type:o,defaultValue:s,modelValue:a}){const t=a||s;return a!==void 0||s!==void 0?Array.isArray(t)?"multiple":"single":o??"single"}function Be({type:o,defaultValue:s,modelValue:a}){return o||qe({type:o,defaultValue:s,modelValue:a})}function ke({type:o,defaultValue:s}){return s!==void 0?s:o==="single"?void 0:[]}function we(o,s){const a=g(()=>Be(o)),t=W(o,"modelValue",s,{defaultValue:ke(o),passive:o.modelValue===void 0,deep:!0});function r(c){if(a.value==="single")t.value=U(c,t.value)?void 0:c;else{const _=Array.isArray(t.value)?[...t.value||[]]:[t.value].filter(Boolean);if(ye(_,c)){const p=_.findIndex(l=>U(l,c));_.splice(p,1)}else _.push(c);t.value=_}}const u=g(()=>a.value==="single");return{modelValue:t,changeModelValue:r,isSingle:u}}const[j,Ie]=z("AccordionRoot");var $e=h({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(o,{emit:s}){const a=o,t=s,{dir:r,disabled:u,unmountOnHide:c}=Y(a),_=ve(r),{modelValue:p,changeModelValue:l,isSingle:i}=we(a,t),{forwardRef:x,currentElement:A}=q();return Ie({disabled:u,direction:_,orientation:a.orientation,parentElement:A,isSingle:i,collapsible:a.collapsible,modelValue:p,changeModelValue:l,unmountOnHide:c}),(B,v)=>(f(),m(e($),{ref:e(x),"as-child":B.asChild,as:B.as},{default:n(()=>[b(B.$slots,"default",{modelValue:e(p)})]),_:3},8,["as-child","as"]))}}),Me=$e,K=function(o){return o.Open="open",o.Closed="closed",o}(K||{});const[X,Te]=z("AccordionItem");var Oe=h({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o,{expose:s}){const a=o,t=j(),r=g(()=>t.isSingle.value?a.value===t.modelValue.value:Array.isArray(t.modelValue.value)&&t.modelValue.value.includes(a.value)),u=g(()=>t.disabled.value||a.disabled),c=g(()=>u.value?"":void 0),_=g(()=>r.value?K.Open:K.Closed);s({open:r,dataDisabled:c});const{currentRef:p,currentElement:l}=q();Te({open:r,dataState:_,disabled:u,dataDisabled:c,triggerId:"",currentRef:p,currentElement:l,value:g(()=>a.value)});function i(x){var k;const A=x.target;if(Array.from(((k=t.parentElement.value)==null?void 0:k.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(T=>T===A)===-1)return null;_e(x,A,t.parentElement.value,{arrowKeyOptions:t.orientation,dir:t.direction.value,focus:!0})}return(x,A)=>(f(),m(e(be),{"data-orientation":e(t).orientation,"data-disabled":c.value,"data-state":_.value,disabled:u.value,open:r.value,as:a.as,"as-child":a.asChild,"unmount-on-hide":e(t).unmountOnHide.value,onKeydown:ue(i,["up","down","left","right","home","end"])},{default:n(()=>[b(x.$slots,"default",{open:r.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),Re=Oe,Se=h({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const s=o,a=j(),t=X();return q(),(r,u)=>(f(),m(e(xe),{role:"region","as-child":s.asChild,as:r.as,"force-mount":s.forceMount,"aria-labelledby":e(t).triggerId,"data-state":e(t).dataState.value,"data-disabled":e(t).dataDisabled.value,"data-orientation":e(a).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:u[0]||(u[0]=c=>e(a).changeModelValue(e(t).value.value))},{default:n(()=>[b(r.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),De=Se,Ee=h({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(o){const s=o,a=j(),t=X();return q(),(r,u)=>(f(),m(e($),{as:s.as,"as-child":s.asChild,"data-orientation":e(a).orientation,"data-state":e(t).dataState.value,"data-disabled":e(t).dataDisabled.value},{default:n(()=>[b(r.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),Fe=Ee,He=h({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const s=o,a=j(),t=X();t.triggerId||(t.triggerId=Q(void 0,"reka-accordion-trigger"));function r(){const u=a.isSingle.value&&t.open.value&&!a.collapsible;t.disabled.value||u||a.changeModelValue(t.value.value)}return(u,c)=>(f(),m(e(Ve),{id:e(t).triggerId,ref:e(t).currentRef,"data-reka-collection-item":"",as:s.as,"as-child":s.asChild,"aria-disabled":e(t).disabled.value||void 0,"aria-expanded":e(t).open.value||!1,"data-disabled":e(t).dataDisabled.value,"data-orientation":e(a).orientation,"data-state":e(t).dataState.value,disabled:e(t).disabled.value,onClick:r},{default:n(()=>[b(u.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),Ne=He;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=L("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=L("CirclePauseIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=L("MilestoneIcon",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}],["path",{d:"M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z",key:"1btarq"}]]),Ue={class:"space-y-4"},Pe={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"},je={class:"space-y-2"},Ke={class:"space-y-2"},Le={class:"space-y-2"},ze={class:"space-y-2"},Xe={class:"space-y-2"},Ge={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Je={class:"space-y-2 md:col-span-2"},Qe={class:"flex items-end md:col-span-3"},ca=h({__name:"EvidenciaFilters",props:ce({contratos:{},evidencias:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const s=o,a=pe(o,"modelValue"),t=g(()=>{const p=new Set(s.evidencias.map(l=>l.tipo_evidencia).filter(Boolean));return Array.from(p).map(l=>({value:l,label:l}))}),r=g(()=>{const p=new Set(s.evidencias.map(l=>l.estado).filter(Boolean));return Array.from(p).map(l=>({value:l,label:l.charAt(0).toUpperCase()+l.slice(1)}))}),u=g(()=>{const p=new Map;return s.evidencias.forEach(l=>{var i;(i=l.usuario)!=null&&i.id&&p.set(l.usuario.id,l.usuario)}),Array.from(p.values()).map(l=>({value:l.id,label:l.name}))}),c=()=>{a.value={contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null}},_=g(()=>Object.values(a.value).some(p=>p!==null&&p!==""));return(p,l)=>(f(),m(e(le),null,{default:n(()=>[d(e(te),{class:"p-4"},{default:n(()=>[C("div",Ue,[C("div",Pe,[C("div",je,[d(e(w),{for:"filter-contrato",class:"text-xs"},{default:n(()=>[...l[6]||(l[6]=[y("Contrato",-1)])]),_:1}),d(e(O),{modelValue:a.value.contrato_id,"onUpdate:modelValue":l[0]||(l[0]=i=>a.value.contrato_id=i),id:"filter-contrato"},{default:n(()=>[d(e(R),null,{default:n(()=>[d(e(S),{placeholder:"Todos los contratos"})]),_:1}),d(e(D),null,{default:n(()=>[d(e(V),{value:null},{default:n(()=>[...l[7]||(l[7]=[y("Todos los contratos",-1)])]),_:1}),(f(!0),E(F,null,H(p.contratos,i=>(f(),m(e(V),{key:i.id,value:i.id},{default:n(()=>[y(N(i.numero_contrato||i.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),C("div",Ke,[d(e(w),{for:"filter-fecha-inicio",class:"text-xs"},{default:n(()=>[...l[8]||(l[8]=[y("Fecha Desde",-1)])]),_:1}),d(e(J),{modelValue:a.value.fecha_inicio,"onUpdate:modelValue":l[1]||(l[1]=i=>a.value.fecha_inicio=i),type:"date",id:"filter-fecha-inicio",class:"text-sm"},null,8,["modelValue"])]),C("div",Le,[d(e(w),{for:"filter-fecha-fin",class:"text-xs"},{default:n(()=>[...l[9]||(l[9]=[y("Fecha Hasta",-1)])]),_:1}),d(e(J),{modelValue:a.value.fecha_fin,"onUpdate:modelValue":l[2]||(l[2]=i=>a.value.fecha_fin=i),type:"date",id:"filter-fecha-fin",class:"text-sm"},null,8,["modelValue"])]),C("div",ze,[d(e(w),{for:"filter-tipo",class:"text-xs"},{default:n(()=>[...l[10]||(l[10]=[y("Tipo",-1)])]),_:1}),d(e(O),{modelValue:a.value.tipo,"onUpdate:modelValue":l[3]||(l[3]=i=>a.value.tipo=i),id:"filter-tipo"},{default:n(()=>[d(e(R),null,{default:n(()=>[d(e(S),{placeholder:"Todos los tipos"})]),_:1}),d(e(D),null,{default:n(()=>[d(e(V),{value:null},{default:n(()=>[...l[11]||(l[11]=[y("Todos los tipos",-1)])]),_:1}),(f(!0),E(F,null,H(t.value,i=>(f(),m(e(V),{key:i.value,value:i.value},{default:n(()=>[y(N(i.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),C("div",Xe,[d(e(w),{for:"filter-estado",class:"text-xs"},{default:n(()=>[...l[12]||(l[12]=[y("Estado",-1)])]),_:1}),d(e(O),{modelValue:a.value.estado,"onUpdate:modelValue":l[4]||(l[4]=i=>a.value.estado=i),id:"filter-estado"},{default:n(()=>[d(e(R),null,{default:n(()=>[d(e(S),{placeholder:"Todos los estados"})]),_:1}),d(e(D),null,{default:n(()=>[d(e(V),{value:null},{default:n(()=>[...l[13]||(l[13]=[y("Todos los estados",-1)])]),_:1}),(f(!0),E(F,null,H(r.value,i=>(f(),m(e(V),{key:i.value,value:i.value},{default:n(()=>[y(N(i.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),C("div",Ge,[C("div",Je,[d(e(w),{for:"filter-usuario",class:"text-xs"},{default:n(()=>[...l[14]||(l[14]=[y("Usuario",-1)])]),_:1}),d(e(O),{modelValue:a.value.usuario_id,"onUpdate:modelValue":l[5]||(l[5]=i=>a.value.usuario_id=i),id:"filter-usuario"},{default:n(()=>[d(e(R),null,{default:n(()=>[d(e(S),{placeholder:"Todos los usuarios"})]),_:1}),d(e(D),null,{default:n(()=>[d(e(V),{value:null},{default:n(()=>[...l[15]||(l[15]=[y("Todos los usuarios",-1)])]),_:1}),(f(!0),E(F,null,H(u.value,i=>(f(),m(e(V),{key:i.value,value:i.value},{default:n(()=>[y(N(i.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),C("div",Qe,[_.value?(f(),m(e(ae),{key:0,variant:"outline",size:"sm",onClick:c,class:"w-full md:w-auto"},{default:n(()=>[d(e(fe),{class:"h-4 w-4 mr-2"}),l[16]||(l[16]=y(" Limpiar Filtros ",-1))]),_:1})):Z("",!0)])])])]),_:1})]),_:1}))}}),pa=h({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{},class:{}},setup(o){const s=o;return(a,t)=>(f(),m(e(Me),M(s,{class:e(P)("w-full",s.class)}),{default:n(()=>[b(a.$slots,"default")]),_:3},16,["class"]))}}),fa=h({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(o){const s=o;return(a,t)=>(f(),m(e(Re),M(s,{class:e(P)("border-b",s.class)}),{default:n(()=>[b(a.$slots,"default")]),_:3},16,["class"]))}}),va=h({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const s=o;return(a,t)=>(f(),m(e(Fe),{class:"flex"},{default:n(()=>[d(e(Ne),M(s,{class:e(P)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s.class)}),{default:n(()=>[b(a.$slots,"default"),d(e(se),{class:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]),_:3},16,["class"])]),_:3}))}}),We={class:"pb-4 pt-0"},ma=h({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(o){const s=o;return(a,t)=>(f(),m(e(De),M(s,{class:e(P)("overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",s.class)}),{default:n(()=>[C("div",We,[b(a.$slots,"default")])]),_:3},16,["class"]))}});export{ra as B,da as C,ua as M,ca as _,pa as a,fa as b,va as c,ma as d};
