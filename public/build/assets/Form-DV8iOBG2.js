import{d as Re,r as W,C as Te,c as M,o as Ke,a as We,b as $,e as n,w as t,f as o,u as e,g as i,h as l,i as p,j as v,n as x,t as f,F as j,k as F,l as Be,m as X,p as Qe,W as Xe}from"./app-CGDcXcXm.js";import{c as Ge,_ as I}from"./createLucideIcon-DanALmEC.js";import{_ as E,a as D,b as A,c as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-BudF5sLg.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-B32gJRul.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-De2JuYAO.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-ucIShhqX.js";import{_ as H}from"./Textarea.vue_vue_type_script_setup_true_lang-BZVMoSLu.js";import{_ as z,a as k,b as w,c as U,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-BAaIhJ0J.js";import{_ as C}from"./Switch.vue_vue_type_script_setup_true_lang-MR3qHoCE.js";import{_ as Le,a as T}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-Lj75CINA.js";import{_ as R}from"./DateTimePicker.vue_vue_type_script_setup_true_lang-CmvHk2kU.js";import{_ as Z,a as O}from"./index-3LFn1my6.js";import{_ as J}from"./AlertTitle.vue_vue_type_script_setup_true_lang-B5qOPUBT.js";import{_ as Ye}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BHFgvyjx.js";import{_ as he,a as ea,b as aa,c as oa,d as sa,e as ta}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Blow8o_p.js";import{_ as la,a as ia,b as Fe,c as Ie}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CJdIR_d7.js";import{D as ra}from"./DynamicFormBuilder-GsssG5A5.js";import{I as K}from"./info-C8THrr80.js";import{L as da}from"./loader-circle-DjSpOu1n.js";import{S as He}from"./save-DQB2bL4w.js";import{A as na}from"./arrow-left-GVkRhu4l.js";import{V as Ne}from"./video-29yHJ9Hm.js";import{S as ua}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-_Nm3H6S4.js";import{U as Pe}from"./users-CsdoQTZz.js";import{V as ma}from"./vote-C94QGQq8.js";import{P as pa}from"./plus-DO4I9gRZ.js";import{X as fa}from"./x-BDmXRx4n.js";import"./index-D4d4TGf0.js";import"./VisuallyHidden-5PoN3-2b.js";import"./check-WUsKeayf.js";import"./floating-ui.vue-36zNgrSP.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHiddenInput-vPOddKQM.js";import"./RovingFocusItem-DZlSNDJ8.js";import"./utils-BbQHozWa.js";import"./circle-CK7nXf16.js";import"./index-BBAsWOFq.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-D0fkBAd-.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-DEJpvv4m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-Ch7F_p_y.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BBLyUXDE.js";import"./chevrons-up-down-Cfg27zyf.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C7YVKPpr.js";import"./tag-ArrCqU1L.js";import"./target-C3-zh7jw.js";import"./shield-Bejn5muX.js";import"./folder-open-ByFFqHS3.js";import"./send-Csfph9VM.js";import"./file-text-ByNZVhOA.js";import"./briefcase-D9ShWyOM.js";import"./calendar-BTZmtWlZ.js";import"./megaphone-BNsuFAyp.js";import"./user-check-DeDdhxRC.js";import"./mail-DK6kjS89.js";import"./message-square-Fj2kQlTc.js";import"./external-link-DOg911z7.js";import"./panel-left-ybRipXPO.js";import"./index-BsPs8wxd.js";import"./index-HHRqvbiQ.js";import"./index-D3sE_pCs.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CjeYPl2k.js";import"./trash-2-0rqFVT6l.js";import"./grip-vertical-CSCwCYLg.js";import"./circle-alert-CaBwTfyT.js";import"./eye-DIpLVUZd.js";import"./git-branch-RpQN-N8x.js";import"./square-pen-BPwE7V_J.js";import"./copy-B--iumxZ.js";import"./index-CcR8_wTx.js";import"./user-CyfX3Swe.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-o2J4dePs.js";import"./map-pin-Cz6bXU5Q.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ge("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ge("MicIcon",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),ba={class:"space-y-2"},va={key:0,class:"text-sm text-red-500"},ga={class:"space-y-2"},xa={key:0,class:"text-sm text-red-500"},ya={class:"grid grid-cols-2 gap-4"},Va={class:"space-y-2"},za={key:0,class:"text-sm text-red-500"},ka={class:"space-y-2"},wa={class:"grid grid-cols-2 gap-4"},Ua={class:"space-y-2"},$a={key:0,class:"text-sm text-red-500"},Sa={class:"space-y-2"},Ca={key:0,class:"text-sm text-red-500"},Ma={key:1,class:"text-sm text-red-500"},ja={class:"space-y-4"},Ea={class:"flex items-center space-x-2"},Da={key:0,class:"pl-7 space-y-2"},Aa=Re({__name:"CreateVotacionModal",props:{open:{type:Boolean}},emits:["close","created"],setup(Y,{emit:m}){const B=m,N=W("basic"),G=W([]),s=Te({titulo:"",descripcion:"",categoria_id:null,formulario_config:[],fecha_inicio:"",fecha_fin:"",estado:"activa",resultados_publicos:!1,fecha_publicacion_resultados:"",timezone:"America/Bogota"}),S=M(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const y=new Date(s.fecha_fin),r=new Date(s.fecha_inicio);return y<=r?"La fecha de fin debe ser posterior a la fecha de inicio":""});Ke(async()=>{try{const y=await We.get("/api/categorias-votacion");G.value=y.data}catch(y){console.error("Error cargando categorías:",y)}});const P=()=>{s.processing||B("close")},Q=()=>{S.value||s.post(route("admin.votaciones.store.quick"),{preserveScroll:!0,onSuccess:y=>{var b;const r=(b=y.props.flash)==null?void 0:b.votacion_id;r&&B("created",r),s.reset()},onError:()=>{}})};return(y,r)=>(n(),$(e(ta),{open:y.open,"onUpdate:open":P},{default:t(()=>[o(e(he),{class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:t(()=>[o(e(ea),null,{default:t(()=>[o(e(aa),null,{default:t(()=>[...r[10]||(r[10]=[l("Crear Nueva Votación",-1)])]),_:1}),o(e(oa),null,{default:t(()=>[...r[11]||(r[11]=[l(" Cree una votación rápida que se asociará automáticamente a la asamblea actual. ",-1)])]),_:1})]),_:1}),i("form",{onSubmit:Be(Q,["prevent"]),class:"space-y-6"},[o(e(la),{modelValue:N.value,"onUpdate:modelValue":r[9]||(r[9]=b=>N.value=b),class:"w-full"},{default:t(()=>[o(e(ia),{class:"grid w-full grid-cols-2"},{default:t(()=>[o(e(Fe),{value:"basic"},{default:t(()=>[...r[12]||(r[12]=[l("Datos Básicos",-1)])]),_:1}),o(e(Fe),{value:"form"},{default:t(()=>[...r[13]||(r[13]=[l("Formulario",-1)])]),_:1})]),_:1}),o(e(Ie),{value:"basic",class:"space-y-4 mt-4"},{default:t(()=>[i("div",ba,[o(e(u),{for:"titulo",required:""},{default:t(()=>[...r[14]||(r[14]=[l("Título de la Votación",-1)])]),_:1}),o(e(V),{id:"titulo",modelValue:e(s).titulo,"onUpdate:modelValue":r[0]||(r[0]=b=>e(s).titulo=b),placeholder:"Ej: Elección de Junta Directiva 2024",class:x({"border-red-500":e(s).errors.titulo})},null,8,["modelValue","class"]),e(s).errors.titulo?(n(),p("span",va,f(e(s).errors.titulo),1)):v("",!0)]),i("div",ga,[o(e(u),{for:"descripcion"},{default:t(()=>[...r[15]||(r[15]=[l("Descripción",-1)])]),_:1}),o(e(H),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":r[1]||(r[1]=b=>e(s).descripcion=b),placeholder:"Describe brevemente el propósito de esta votación",rows:"3",class:x({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(n(),p("span",xa,f(e(s).errors.descripcion),1)):v("",!0)]),i("div",ya,[i("div",Va,[o(e(u),{for:"categoria"},{default:t(()=>[...r[16]||(r[16]=[l("Categoría",-1)])]),_:1}),o(e(z),{modelValue:e(s).categoria_id,"onUpdate:modelValue":r[2]||(r[2]=b=>e(s).categoria_id=b)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Seleccionar categoría"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(j,null,F(G.value,b=>(n(),$(e(g),{key:b.id,value:b.id.toString()},{default:t(()=>[l(f(b.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(s).errors.categoria_id?(n(),p("span",za,f(e(s).errors.categoria_id),1)):v("",!0)]),i("div",ka,[o(e(u),{for:"timezone"},{default:t(()=>[...r[17]||(r[17]=[l("Zona Horaria",-1)])]),_:1}),o(e(z),{modelValue:e(s).timezone,"onUpdate:modelValue":r[3]||(r[3]=b=>e(s).timezone=b)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Seleccionar zona horaria"})]),_:1}),o(e(U),null,{default:t(()=>[o(e(g),{value:"America/Bogota"},{default:t(()=>[...r[18]||(r[18]=[l("Colombia (GMT-5)",-1)])]),_:1}),o(e(g),{value:"America/Mexico_City"},{default:t(()=>[...r[19]||(r[19]=[l("México (GMT-6)",-1)])]),_:1}),o(e(g),{value:"America/Buenos_Aires"},{default:t(()=>[...r[20]||(r[20]=[l("Argentina (GMT-3)",-1)])]),_:1}),o(e(g),{value:"America/Lima"},{default:t(()=>[...r[21]||(r[21]=[l("Perú (GMT-5)",-1)])]),_:1}),o(e(g),{value:"America/Santiago"},{default:t(()=>[...r[22]||(r[22]=[l("Chile (GMT-3)",-1)])]),_:1}),o(e(g),{value:"America/Caracas"},{default:t(()=>[...r[23]||(r[23]=[l("Venezuela (GMT-4)",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),i("div",wa,[i("div",Ua,[o(e(u),{for:"fecha_inicio",required:""},{default:t(()=>[...r[24]||(r[24]=[l("Fecha y Hora de Inicio",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":r[4]||(r[4]=b=>e(s).fecha_inicio=b),placeholder:"Seleccionar fecha y hora",class:x({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(n(),p("span",$a,f(e(s).errors.fecha_inicio),1)):v("",!0)]),i("div",Sa,[o(e(u),{for:"fecha_fin",required:""},{default:t(()=>[...r[25]||(r[25]=[l("Fecha y Hora de Fin",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":r[5]||(r[5]=b=>e(s).fecha_fin=b),placeholder:"Seleccionar fecha y hora",class:x({"border-red-500":e(s).errors.fecha_fin||S.value})},null,8,["modelValue","class"]),S.value?(n(),p("span",Ca,f(S.value),1)):e(s).errors.fecha_fin?(n(),p("span",Ma,f(e(s).errors.fecha_fin),1)):v("",!0)])]),i("div",ja,[i("div",Ea,[o(e(C),{id:"resultados_publicos",modelValue:e(s).resultados_publicos,"onUpdate:modelValue":r[6]||(r[6]=b=>e(s).resultados_publicos=b)},null,8,["modelValue"]),o(e(u),{for:"resultados_publicos",class:"cursor-pointer"},{default:t(()=>[...r[26]||(r[26]=[l(" Resultados públicos al finalizar ",-1)])]),_:1})]),e(s).resultados_publicos?(n(),p("div",Da,[o(e(u),{for:"fecha_publicacion"},{default:t(()=>[...r[27]||(r[27]=[l(" Fecha de publicación de resultados (opcional) ",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_publicacion_resultados,"onUpdate:modelValue":r[7]||(r[7]=b=>e(s).fecha_publicacion_resultados=b),placeholder:"Dejar vacío para publicar al finalizar"},null,8,["modelValue"]),r[28]||(r[28]=i("p",{class:"text-xs text-muted-foreground"}," Si no especifica una fecha, los resultados se publicarán automáticamente al finalizar la votación ",-1))])):v("",!0)])]),_:1}),o(e(Ie),{value:"form",class:"space-y-4 mt-4"},{default:t(()=>[o(e(Z),null,{default:t(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:t(()=>[...r[29]||(r[29]=[l("Configuración del Formulario",-1)])]),_:1}),o(e(O),null,{default:t(()=>[...r[30]||(r[30]=[l(" Configure las preguntas que los votantes deberán responder. ",-1)])]),_:1})]),_:1}),o(ra,{modelValue:e(s).formulario_config,"onUpdate:modelValue":r[8]||(r[8]=b=>e(s).formulario_config=b),errors:e(s).errors.formulario_config},null,8,["modelValue","errors"])]),_:1})]),_:1},8,["modelValue"]),o(e(sa),null,{default:t(()=>[o(e(I),{type:"button",variant:"outline",onClick:P},{default:t(()=>[...r[31]||(r[31]=[l(" Cancelar ",-1)])]),_:1}),o(e(I),{type:"submit",disabled:e(s).processing},{default:t(()=>[e(s).processing?(n(),$(e(da),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),$(e(He),{key:1,class:"mr-2 h-4 w-4"})),r[32]||(r[32]=l(" Crear Votación ",-1))]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),qa={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},La={class:"flex items-center justify-between"},Fa={class:"text-3xl font-bold"},Ia={class:"text-muted-foreground"},Na={class:"grid gap-4 md:grid-cols-2"},Pa={class:"space-y-2"},Ra={key:0,class:"text-sm text-red-500"},Ta={class:"space-y-2"},Ba={key:0,class:"text-sm text-red-500"},Ga={class:"space-y-2"},Ha={key:0,class:"text-sm text-red-500"},Za={key:0,class:"grid gap-4 md:grid-cols-2"},Oa={class:"space-y-2"},Ja={key:0,class:"text-sm text-red-500"},Ka={class:"space-y-2"},Wa={key:0,class:"text-sm text-red-500"},Qa={class:"grid gap-4 md:grid-cols-2"},Xa={class:"space-y-2"},Ya={key:0,class:"text-sm text-red-500"},ha={class:"space-y-2"},eo={key:0,class:"text-sm text-red-500"},ao={key:1,class:"text-sm text-red-500"},oo={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},so={class:"space-y-2"},to={class:"space-y-2"},lo={class:"space-y-2"},io={class:"space-y-2"},ro={class:"space-y-2"},no={key:0,class:"text-sm text-red-500"},uo={class:"grid gap-4 md:grid-cols-2"},mo={class:"space-y-2"},po={key:0,class:"text-sm text-red-500"},fo={class:"flex items-center space-x-2 pt-8"},_o={class:"flex items-center space-x-2"},co={key:0,class:"space-y-4 pl-6 border-l-2 border-blue-200"},bo={class:"space-y-3"},vo={class:"flex items-center space-x-2"},go={class:"flex items-center space-x-2"},xo={class:"flex items-center space-x-2"},yo={key:0,class:"space-y-4"},Vo={class:"grid gap-4 md:grid-cols-2"},zo={class:"space-y-2"},ko={key:0,class:"space-y-2"},wo={class:"flex items-center gap-2 p-2 bg-green-50 rounded-md"},Uo={class:"text-xs text-muted-foreground"},$o={class:"space-y-3"},So={class:"grid gap-3 md:grid-cols-2"},Co={class:"flex items-center space-x-2"},Mo={class:"flex items-center space-x-2"},jo={class:"flex items-center space-x-2"},Eo={class:"flex items-center space-x-2"},Do={class:"space-y-2"},Ao={key:1,class:"space-y-4"},qo={class:"grid gap-4 md:grid-cols-2"},Lo={class:"space-y-2"},Fo={class:"space-y-2"},Io={class:"space-y-2"},No={class:"space-y-2"},Po={class:"space-y-4 p-4 border rounded-lg bg-gray-50"},Ro={class:"flex items-center space-x-2"},To={key:0,class:"space-y-2"},Bo={class:"grid gap-4 md:grid-cols-2"},Go={class:"space-y-2"},Ho={class:"space-y-2"},Zo={class:"space-y-2"},Oo={key:2,class:"space-y-4"},Jo={class:"space-y-2"},Ko={key:1,class:"text-sm text-red-500"},Wo={class:"flex items-center space-x-2"},Qo={key:0,class:"space-y-4"},Xo={class:"space-y-2"},Yo={class:"flex items-start space-x-2 mb-3"},ho={class:"space-y-1"},es={class:"flex items-start space-x-2"},as={class:"space-y-1"},os={class:"block bg-gray-100 p-2 rounded text-sm"},ss={class:"list-disc list-inside text-sm space-y-1"},ts={key:0},ls={key:1},is={key:1,class:"text-sm text-red-500"},rs={key:2,class:"text-sm text-red-500"},ds={class:"space-y-2"},ns={class:"flex gap-2"},us={class:"text-xs text-muted-foreground ml-2"},ms={key:0,class:"space-y-2"},ps={class:"space-y-2"},fs={class:"flex-1"},_s={class:"font-medium"},cs={class:"text-sm text-muted-foreground"},bs={class:"text-xs text-muted-foreground mt-1"},vs={key:2,class:"text-sm text-red-500"},gs={class:"flex justify-end gap-4"},Nt=Re({__name:"Form",props:{asamblea:{},territorios:{},departamentos:{},municipios:{},localidades:{},votaciones:{},asambleaVotaciones:{},canManageParticipants:{type:Boolean}},setup(Y){var ae,oe,se,te,le,ie,re,de,ne,ue,me,pe,fe,_e,ce,be,ve,ge,xe,ye,Ve,ze,ke,we,Ue,$e,Se,Ce,Me,je,Ee,De,Ae,qe;const m=Y,B=[{title:"Admin",href:"/admin/dashboard"},{title:"Asambleas",href:"/admin/asambleas"},{title:m.asamblea?"Editar":"Nueva",href:"#"}],{route:N}=window,G=M(()=>typeof window<"u"?window.location.origin:""),s=Te({nombre:((ae=m.asamblea)==null?void 0:ae.nombre)||"",descripcion:((oe=m.asamblea)==null?void 0:oe.descripcion)||"",tipo:((se=m.asamblea)==null?void 0:se.tipo)||"ordinaria",estado:((te=m.asamblea)==null?void 0:te.estado)||"programada",fecha_inicio:((le=m.asamblea)==null?void 0:le.fecha_inicio)||"",fecha_fin:((ie=m.asamblea)==null?void 0:ie.fecha_fin)||"",territorio_id:((de=(re=m.asamblea)==null?void 0:re.territorio_id)==null?void 0:de.toString())||null,departamento_id:((ue=(ne=m.asamblea)==null?void 0:ne.departamento_id)==null?void 0:ue.toString())||null,municipio_id:((pe=(me=m.asamblea)==null?void 0:me.municipio_id)==null?void 0:pe.toString())||null,localidad_id:((_e=(fe=m.asamblea)==null?void 0:fe.localidad_id)==null?void 0:_e.toString())||null,lugar:((ce=m.asamblea)==null?void 0:ce.lugar)||"",quorum_minimo:((be=m.asamblea)==null?void 0:be.quorum_minimo)||null,activo:((ve=m.asamblea)==null?void 0:ve.activo)??!0,acta_url:((ge=m.asamblea)==null?void 0:ge.acta_url)||"",zoom_enabled:((xe=m.asamblea)==null?void 0:xe.zoom_enabled)??!1,zoom_integration_type:((ye=m.asamblea)==null?void 0:ye.zoom_integration_type)||"sdk",zoom_meeting_id:((Ve=m.asamblea)==null?void 0:Ve.zoom_meeting_id)||"",zoom_meeting_password:((ze=m.asamblea)==null?void 0:ze.zoom_meeting_password)||"",zoom_occurrence_ids:((ke=m.asamblea)==null?void 0:ke.zoom_occurrence_ids)||"",zoom_prefix:((we=m.asamblea)==null?void 0:we.zoom_prefix)||"",zoom_registration_open_date:((Ue=m.asamblea)==null?void 0:Ue.zoom_registration_open_date)||"",zoom_static_message:(($e=m.asamblea)==null?void 0:$e.zoom_static_message)||"",zoom_api_message_enabled:((Se=m.asamblea)==null?void 0:Se.zoom_api_message_enabled)??!1,zoom_api_message:((Ce=m.asamblea)==null?void 0:Ce.zoom_api_message)||"",zoom_join_url:((Me=m.asamblea)==null?void 0:Me.zoom_join_url)||"",zoom_start_url:((je=m.asamblea)==null?void 0:je.zoom_start_url)||"",zoom_meeting_type:((Ee=m.asamblea)==null?void 0:Ee.zoom_meeting_type)||"scheduled",zoom_settings:((De=m.asamblea)==null?void 0:De.zoom_settings)||{host_video:!0,participant_video:!1,waiting_room:!0,mute_upon_entry:!0,auto_recording:"none"},public_participants_enabled:((Ae=m.asamblea)==null?void 0:Ae.public_participants_enabled)??!1,public_participants_mode:((qe=m.asamblea)==null?void 0:qe.public_participants_mode)||"list",votacion_ids:m.asambleaVotaciones||[]}),S=W(!1);W(m.asambleaVotaciones||[]);const P=M(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const c=new Date(s.fecha_fin),a=new Date(s.fecha_inicio);return c<=a?"La fecha de fin debe ser posterior a la fecha de inicio":""}),Q=M(()=>s.territorio_id?m.departamentos.filter(c=>c.territorio_id===Number(s.territorio_id)):[]),y=M(()=>s.departamento_id?m.municipios.filter(c=>c.departamento_id===Number(s.departamento_id)):[]),r=M(()=>s.municipio_id?m.localidades.filter(c=>c.municipio_id===Number(s.municipio_id)):[]);X(()=>s.territorio_id,(c,a)=>{c!==a&&(s.departamento_id=null,s.municipio_id=null,s.localidad_id=null)}),X(()=>s.departamento_id,(c,a)=>{c!==a&&(s.municipio_id=null,s.localidad_id=null)}),X(()=>s.municipio_id,(c,a)=>{c!==a&&(s.localidad_id=null)});const b=c=>{s.votacion_ids.includes(c)||s.votacion_ids.push(c),S.value=!1},Ze=c=>{const a=s.votacion_ids.indexOf(c);a>-1&&s.votacion_ids.splice(a,1)},h=M(()=>!m.votaciones||!s.votacion_ids.length?[]:m.votaciones.filter(c=>s.votacion_ids.includes(c.id))),Oe=M(()=>m.votaciones?m.votaciones.filter(c=>!s.votacion_ids.includes(c.id)):[]),Je=()=>{m.asamblea?s.put(N("admin.asambleas.update",m.asamblea.id),{preserveScroll:!0,onError:()=>{}}):s.post(N("admin.asambleas.store"),{preserveScroll:!0,onError:()=>{}})},ee=()=>{Xe.visit(N("admin.asambleas.index"))};return(c,a)=>(n(),p(j,null,[o(e(Qe),{title:c.asamblea?"Editar Asamblea":"Nueva Asamblea"},null,8,["title"]),o(Ye,{breadcrumbs:B},{default:t(()=>[i("div",qa,[i("div",La,[i("div",null,[i("h1",Fa,f(c.asamblea?"Editar Asamblea":"Nueva Asamblea"),1),i("p",Ia,f(c.asamblea?"Modifica los datos de la asamblea":"Completa los datos para crear una nueva asamblea"),1)]),o(e(I),{variant:"outline",onClick:ee},{default:t(()=>[o(e(na),{class:"mr-2 h-4 w-4"}),a[37]||(a[37]=l(" Volver ",-1))]),_:1})]),i("form",{onSubmit:Be(Je,["prevent"]),class:"space-y-6"},[o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[...a[38]||(a[38]=[l("Información General",-1)])]),_:1}),o(e(L),null,{default:t(()=>[...a[39]||(a[39]=[l(" Datos básicos de la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:t(()=>[i("div",Na,[i("div",Pa,[o(e(u),{for:"nombre"},{default:t(()=>[...a[40]||(a[40]=[l("Nombre *",-1)])]),_:1}),o(e(V),{id:"nombre",modelValue:e(s).nombre,"onUpdate:modelValue":a[0]||(a[0]=d=>e(s).nombre=d),placeholder:"Ej: Asamblea General Ordinaria 2024",class:x({"border-red-500":e(s).errors.nombre})},null,8,["modelValue","class"]),e(s).errors.nombre?(n(),p("span",Ra,f(e(s).errors.nombre),1)):v("",!0)]),i("div",Ta,[o(e(u),{for:"tipo"},{default:t(()=>[...a[41]||(a[41]=[l("Tipo *",-1)])]),_:1}),o(e(z),{modelValue:e(s).tipo,"onUpdate:modelValue":a[1]||(a[1]=d=>e(s).tipo=d)},{default:t(()=>[o(e(k),{class:x({"border-red-500":e(s).errors.tipo})},{default:t(()=>[o(e(w),{placeholder:"Selecciona el tipo"})]),_:1},8,["class"]),o(e(U),null,{default:t(()=>[o(e(g),{value:"ordinaria"},{default:t(()=>[...a[42]||(a[42]=[l("Ordinaria",-1)])]),_:1}),o(e(g),{value:"extraordinaria"},{default:t(()=>[...a[43]||(a[43]=[l("Extraordinaria",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.tipo?(n(),p("span",Ba,f(e(s).errors.tipo),1)):v("",!0)])]),i("div",Ga,[o(e(u),{for:"descripcion"},{default:t(()=>[...a[44]||(a[44]=[l("Descripción",-1)])]),_:1}),o(e(H),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":a[2]||(a[2]=d=>e(s).descripcion=d),placeholder:"Describe el propósito y agenda de la asamblea...",rows:"3",class:x({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(n(),p("span",Ha,f(e(s).errors.descripcion),1)):v("",!0)]),c.asamblea?(n(),p("div",Za,[i("div",Oa,[o(e(u),{for:"estado"},{default:t(()=>[...a[45]||(a[45]=[l("Estado",-1)])]),_:1}),o(e(z),{modelValue:e(s).estado,"onUpdate:modelValue":a[3]||(a[3]=d=>e(s).estado=d)},{default:t(()=>[o(e(k),{class:x({"border-red-500":e(s).errors.estado})},{default:t(()=>[o(e(w),{placeholder:"Selecciona el estado"})]),_:1},8,["class"]),o(e(U),null,{default:t(()=>[o(e(g),{value:"programada"},{default:t(()=>[...a[46]||(a[46]=[l("Programada",-1)])]),_:1}),o(e(g),{value:"en_curso"},{default:t(()=>[...a[47]||(a[47]=[l("En Curso",-1)])]),_:1}),o(e(g),{value:"finalizada"},{default:t(()=>[...a[48]||(a[48]=[l("Finalizada",-1)])]),_:1}),o(e(g),{value:"cancelada"},{default:t(()=>[...a[49]||(a[49]=[l("Cancelada",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.estado?(n(),p("span",Ja,f(e(s).errors.estado),1)):v("",!0)]),i("div",Ka,[o(e(u),{for:"acta_url"},{default:t(()=>[...a[50]||(a[50]=[l("URL del Acta",-1)])]),_:1}),o(e(V),{id:"acta_url",modelValue:e(s).acta_url,"onUpdate:modelValue":a[4]||(a[4]=d=>e(s).acta_url=d),placeholder:"https://ejemplo.com/acta.pdf",class:x({"border-red-500":e(s).errors.acta_url})},null,8,["modelValue","class"]),e(s).errors.acta_url?(n(),p("span",Wa,f(e(s).errors.acta_url),1)):v("",!0)])])):v("",!0)]),_:1})]),_:1}),o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[...a[51]||(a[51]=[l("Fechas y Horarios",-1)])]),_:1}),o(e(L),null,{default:t(()=>[...a[52]||(a[52]=[l(" Define cuándo se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:t(()=>[i("div",Qa,[i("div",Xa,[o(e(u),{for:"fecha_inicio"},{default:t(()=>[...a[53]||(a[53]=[l("Fecha y Hora de Inicio *",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":a[5]||(a[5]=d=>e(s).fecha_inicio=d),placeholder:"Seleccionar fecha y hora de inicio",class:x({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(n(),p("span",Ya,f(e(s).errors.fecha_inicio),1)):v("",!0)]),i("div",ha,[o(e(u),{for:"fecha_fin"},{default:t(()=>[...a[54]||(a[54]=[l("Fecha y Hora de Fin *",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":a[6]||(a[6]=d=>e(s).fecha_fin=d),placeholder:"Seleccionar fecha y hora de fin",class:x({"border-red-500":e(s).errors.fecha_fin||P.value})},null,8,["modelValue","class"]),P.value?(n(),p("span",eo,f(P.value),1)):e(s).errors.fecha_fin?(n(),p("span",ao,f(e(s).errors.fecha_fin),1)):v("",!0)])])]),_:1})]),_:1}),o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[...a[55]||(a[55]=[l("Ubicación",-1)])]),_:1}),o(e(L),null,{default:t(()=>[...a[56]||(a[56]=[l(" Define dónde se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:t(()=>[i("div",oo,[i("div",so,[o(e(u),{for:"territorio"},{default:t(()=>[...a[57]||(a[57]=[l("Territorio",-1)])]),_:1}),o(e(z),{modelValue:e(s).territorio_id,"onUpdate:modelValue":a[7]||(a[7]=d=>e(s).territorio_id=d)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona territorio (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(j,null,F(c.territorios,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",to,[o(e(u),{for:"departamento"},{default:t(()=>[...a[58]||(a[58]=[l("Departamento",-1)])]),_:1}),o(e(z),{modelValue:e(s).departamento_id,"onUpdate:modelValue":a[8]||(a[8]=d=>e(s).departamento_id=d),disabled:!e(s).territorio_id},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona departamento (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(j,null,F(Q.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),i("div",lo,[o(e(u),{for:"municipio"},{default:t(()=>[...a[59]||(a[59]=[l("Municipio",-1)])]),_:1}),o(e(z),{modelValue:e(s).municipio_id,"onUpdate:modelValue":a[9]||(a[9]=d=>e(s).municipio_id=d),disabled:!e(s).departamento_id},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona municipio (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(j,null,F(y.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),i("div",io,[o(e(u),{for:"localidad"},{default:t(()=>[...a[60]||(a[60]=[l("Localidad",-1)])]),_:1}),o(e(z),{modelValue:e(s).localidad_id,"onUpdate:modelValue":a[10]||(a[10]=d=>e(s).localidad_id=d),disabled:!e(s).municipio_id},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona localidad (opcional)"})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(j,null,F(r.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),i("div",ro,[o(e(u),{for:"lugar"},{default:t(()=>[...a[61]||(a[61]=[l("Dirección o Lugar",-1)])]),_:1}),o(e(V),{id:"lugar",modelValue:e(s).lugar,"onUpdate:modelValue":a[11]||(a[11]=d=>e(s).lugar=d),placeholder:"Ej: Salón Principal, Calle 123 #45-67",class:x({"border-red-500":e(s).errors.lugar})},null,8,["modelValue","class"]),e(s).errors.lugar?(n(),p("span",no,f(e(s).errors.lugar),1)):v("",!0)])]),_:1})]),_:1}),o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[...a[62]||(a[62]=[l("Configuración",-1)])]),_:1}),o(e(L),null,{default:t(()=>[...a[63]||(a[63]=[l(" Opciones adicionales de la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:t(()=>[i("div",uo,[i("div",mo,[o(e(u),{for:"quorum_minimo"},{default:t(()=>[...a[64]||(a[64]=[l("Quórum Mínimo",-1)])]),_:1}),o(e(V),{id:"quorum_minimo",modelValue:e(s).quorum_minimo,"onUpdate:modelValue":a[12]||(a[12]=d=>e(s).quorum_minimo=d),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"Ej: 50",class:x({"border-red-500":e(s).errors.quorum_minimo})},null,8,["modelValue","class"]),e(s).errors.quorum_minimo?(n(),p("span",po,f(e(s).errors.quorum_minimo),1)):v("",!0),a[65]||(a[65]=i("p",{class:"text-sm text-muted-foreground"}," Número mínimo de asistentes requeridos ",-1))]),i("div",fo,[o(e(C),{id:"activo",modelValue:e(s).activo,"onUpdate:modelValue":a[13]||(a[13]=d=>e(s).activo=d)},null,8,["modelValue"]),o(e(u),{for:"activo",class:"cursor-pointer"},{default:t(()=>[...a[66]||(a[66]=[l(" Asamblea Activa ",-1)])]),_:1})])])]),_:1})]),_:1}),o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),{class:"flex items-center gap-2"},{default:t(()=>[o(e(Ne),{class:"h-5 w-5"}),a[67]||(a[67]=l(" Videoconferencia ",-1))]),_:1}),o(e(L),null,{default:t(()=>[...a[68]||(a[68]=[l(" Configuración de videoconferencia con Zoom para la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:t(()=>{var d;return[i("div",_o,[o(e(C),{id:"zoom_enabled",modelValue:e(s).zoom_enabled,"onUpdate:modelValue":a[14]||(a[14]=_=>e(s).zoom_enabled=_)},null,8,["modelValue"]),o(e(u),{for:"zoom_enabled",class:"cursor-pointer"},{default:t(()=>[...a[69]||(a[69]=[l(" Habilitar videoconferencia ",-1)])]),_:1})]),e(s).zoom_enabled?(n(),p("div",co,[i("div",bo,[o(e(u),{class:"text-sm font-medium"},{default:t(()=>[...a[70]||(a[70]=[l("Tipo de Integración",-1)])]),_:1}),o(e(Le),{modelValue:e(s).zoom_integration_type,"onUpdate:modelValue":a[15]||(a[15]=_=>e(s).zoom_integration_type=_),class:"flex gap-6"},{default:t(()=>[i("div",vo,[o(e(T),{value:"sdk",id:"sdk"}),o(e(u),{for:"sdk",class:"cursor-pointer"},{default:t(()=>[...a[71]||(a[71]=[l(" SDK (Automático) ",-1)])]),_:1})]),i("div",go,[o(e(T),{value:"api",id:"api"}),o(e(u),{for:"api",class:"cursor-pointer"},{default:t(()=>[...a[72]||(a[72]=[l(" API (Manual) ",-1)])]),_:1})]),i("div",xo,[o(e(T),{value:"message",id:"message"}),o(e(u),{for:"message",class:"cursor-pointer"},{default:t(()=>[...a[73]||(a[73]=[l(" Mensaje estático ",-1)])]),_:1})])]),_:1},8,["modelValue"]),a[74]||(a[74]=i("p",{class:"text-xs text-muted-foreground"}," SDK: Reuniones generadas automáticamente. API: Configuración manual de reunión existente. Mensaje: Mostrar un mensaje personalizado. ",-1))]),e(s).zoom_integration_type==="sdk"?(n(),p("div",yo,[i("div",Vo,[i("div",zo,[o(e(u),{for:"zoom_meeting_type"},{default:t(()=>[...a[75]||(a[75]=[l("Tipo de Reunión",-1)])]),_:1}),o(e(z),{modelValue:e(s).zoom_meeting_type,"onUpdate:modelValue":a[16]||(a[16]=_=>e(s).zoom_meeting_type=_)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w),{placeholder:"Selecciona el tipo"})]),_:1}),o(e(U),null,{default:t(()=>[o(e(g),{value:"scheduled"},{default:t(()=>[...a[76]||(a[76]=[l("Programada",-1)])]),_:1}),o(e(g),{value:"instant"},{default:t(()=>[...a[77]||(a[77]=[l("Instantánea",-1)])]),_:1}),o(e(g),{value:"recurring"},{default:t(()=>[...a[78]||(a[78]=[l("Recurrente",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[79]||(a[79]=i("p",{class:"text-sm text-muted-foreground"},' Se recomienda "Programada" para asambleas ',-1))]),(d=c.asamblea)!=null&&d.zoom_meeting_id?(n(),p("div",ko,[o(e(u),null,{default:t(()=>[...a[80]||(a[80]=[l("Estado de la Reunión",-1)])]),_:1}),i("div",wo,[o(e(Ne),{class:"h-4 w-4 text-green-600"}),a[81]||(a[81]=i("span",{class:"text-sm text-green-800"},"Reunión creada",-1))]),i("p",Uo," ID: "+f(c.asamblea.zoom_meeting_id),1)])):v("",!0)]),i("div",$o,[o(e(u),{class:"text-sm font-medium flex items-center gap-2"},{default:t(()=>[o(e(ua),{class:"h-4 w-4"}),a[82]||(a[82]=l(" Configuraciones de la Reunión ",-1))]),_:1}),i("div",So,[i("div",Co,[o(e(C),{id:"host_video",modelValue:e(s).zoom_settings.host_video,"onUpdate:modelValue":a[17]||(a[17]=_=>e(s).zoom_settings.host_video=_)},null,8,["modelValue"]),o(e(u),{for:"host_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:t(()=>[o(e(_a),{class:"h-3 w-3"}),a[83]||(a[83]=l(" Video del moderador ",-1))]),_:1})]),i("div",Mo,[o(e(C),{id:"participant_video",modelValue:e(s).zoom_settings.participant_video,"onUpdate:modelValue":a[18]||(a[18]=_=>e(s).zoom_settings.participant_video=_)},null,8,["modelValue"]),o(e(u),{for:"participant_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:t(()=>[o(e(Pe),{class:"h-3 w-3"}),a[84]||(a[84]=l(" Video de participantes ",-1))]),_:1})]),i("div",jo,[o(e(C),{id:"waiting_room",modelValue:e(s).zoom_settings.waiting_room,"onUpdate:modelValue":a[19]||(a[19]=_=>e(s).zoom_settings.waiting_room=_)},null,8,["modelValue"]),o(e(u),{for:"waiting_room",class:"text-sm cursor-pointer"},{default:t(()=>[...a[85]||(a[85]=[l(" Sala de espera ",-1)])]),_:1})]),i("div",Eo,[o(e(C),{id:"mute_upon_entry",modelValue:e(s).zoom_settings.mute_upon_entry,"onUpdate:modelValue":a[20]||(a[20]=_=>e(s).zoom_settings.mute_upon_entry=_)},null,8,["modelValue"]),o(e(u),{for:"mute_upon_entry",class:"text-sm cursor-pointer flex items-center gap-1"},{default:t(()=>[o(e(ca),{class:"h-3 w-3"}),a[86]||(a[86]=l(" Silenciar al entrar ",-1))]),_:1})])]),i("div",Do,[o(e(u),{for:"auto_recording",class:"text-sm"},{default:t(()=>[...a[87]||(a[87]=[l("Grabación automática",-1)])]),_:1}),o(e(z),{modelValue:e(s).zoom_settings.auto_recording,"onUpdate:modelValue":a[21]||(a[21]=_=>e(s).zoom_settings.auto_recording=_)},{default:t(()=>[o(e(k),null,{default:t(()=>[o(e(w))]),_:1}),o(e(U),null,{default:t(()=>[o(e(g),{value:"none"},{default:t(()=>[...a[88]||(a[88]=[l("Sin grabación",-1)])]),_:1}),o(e(g),{value:"local"},{default:t(()=>[...a[89]||(a[89]=[l("Grabación local",-1)])]),_:1}),o(e(g),{value:"cloud"},{default:t(()=>[...a[90]||(a[90]=[l("Grabación en la nube",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a[91]||(a[91]=i("div",{class:"bg-blue-50 p-3 rounded-md"},[i("p",{class:"text-sm text-blue-800"},[i("strong",null,"Nota:"),l(" La reunión de Zoom se creará automáticamente cuando guardes la asamblea. Los participantes podrán acceder a la videoconferencia desde la vista de la asamblea. ")])],-1))])):v("",!0),e(s).zoom_integration_type==="api"?(n(),p("div",Ao,[i("div",qo,[i("div",Lo,[o(e(u),{for:"zoom_meeting_id_api"},{default:t(()=>[...a[92]||(a[92]=[l("Meeting ID",-1)])]),_:1}),o(e(V),{id:"zoom_meeting_id_api",modelValue:e(s).zoom_meeting_id,"onUpdate:modelValue":a[22]||(a[22]=_=>e(s).zoom_meeting_id=_),placeholder:"Ej: 123456789"},null,8,["modelValue"]),a[93]||(a[93]=i("p",{class:"text-xs text-muted-foreground"}," ID de la reunión existente en Zoom ",-1))]),i("div",Fo,[o(e(u),{for:"zoom_occurrence_ids"},{default:t(()=>[...a[94]||(a[94]=[l("Occurrence IDs",-1)])]),_:1}),o(e(V),{id:"zoom_occurrence_ids",modelValue:e(s).zoom_occurrence_ids,"onUpdate:modelValue":a[23]||(a[23]=_=>e(s).zoom_occurrence_ids=_),placeholder:"Ej: 1648194360000,1648280760000"},null,8,["modelValue"]),a[95]||(a[95]=i("p",{class:"text-xs text-muted-foreground"}," IDs de ocurrencias separados por comas (opcional) ",-1))]),i("div",Io,[o(e(u),{for:"zoom_prefix"},{default:t(()=>[...a[96]||(a[96]=[l("Prefijo",-1)])]),_:1}),o(e(V),{id:"zoom_prefix",modelValue:e(s).zoom_prefix,"onUpdate:modelValue":a[24]||(a[24]=_=>e(s).zoom_prefix=_),placeholder:"Ej: CH",maxlength:"10",class:"w-24"},null,8,["modelValue"]),a[97]||(a[97]=i("p",{class:"text-xs text-muted-foreground"}," Prefijo que se añadirá al nombre en Zoom ",-1))])]),i("div",No,[o(e(u),{for:"zoom_registration_open_date"},{default:t(()=>[...a[98]||(a[98]=[l("Apertura de inscripciones",-1)])]),_:1}),o(e(R),{id:"zoom_registration_open_date",modelValue:e(s).zoom_registration_open_date,"onUpdate:modelValue":a[25]||(a[25]=_=>e(s).zoom_registration_open_date=_),placeholder:"Seleccionar fecha y hora"},null,8,["modelValue"]),a[99]||(a[99]=i("p",{class:"text-xs text-muted-foreground"}," Fecha y hora a partir de la cual los usuarios pueden generar su link personal (opcional) ",-1))]),i("div",Po,[i("div",Ro,[o(e(C),{id:"zoom_api_message_enabled",modelValue:e(s).zoom_api_message_enabled,"onUpdate:modelValue":a[26]||(a[26]=_=>e(s).zoom_api_message_enabled=_)},null,8,["modelValue"]),o(e(u),{for:"zoom_api_message_enabled",class:"cursor-pointer"},{default:t(()=>[...a[100]||(a[100]=[l(" Mostrar mensaje personalizado encima del enlace ",-1)])]),_:1})]),e(s).zoom_api_message_enabled?(n(),p("div",To,[o(e(u),{for:"zoom_api_message"},{default:t(()=>[...a[101]||(a[101]=[l("Mensaje a mostrar",-1)])]),_:1}),o(e(H),{id:"zoom_api_message",modelValue:e(s).zoom_api_message,"onUpdate:modelValue":a[27]||(a[27]=_=>e(s).zoom_api_message=_),placeholder:"Escriba aquí el mensaje que se mostrará encima del enlace de Zoom...",rows:"4",class:"min-h-[100px]"},null,8,["modelValue"]),a[102]||(a[102]=i("p",{class:"text-xs text-muted-foreground"}," Este mensaje aparecerá destacado encima del botón de generar/acceder al enlace de Zoom. ",-1))])):v("",!0)]),i("div",Bo,[i("div",Go,[o(e(u),{for:"zoom_meeting_password_api"},{default:t(()=>[...a[103]||(a[103]=[l("Contraseña de la Reunión",-1)])]),_:1}),o(e(V),{id:"zoom_meeting_password_api",modelValue:e(s).zoom_meeting_password,"onUpdate:modelValue":a[28]||(a[28]=_=>e(s).zoom_meeting_password=_),placeholder:"Contraseña (opcional)"},null,8,["modelValue"])]),i("div",Ho,[o(e(u),{for:"zoom_join_url"},{default:t(()=>[...a[104]||(a[104]=[l("Join URL",-1)])]),_:1}),o(e(V),{id:"zoom_join_url",modelValue:e(s).zoom_join_url,"onUpdate:modelValue":a[29]||(a[29]=_=>e(s).zoom_join_url=_),placeholder:"https://zoom.us/j/123456789"},null,8,["modelValue"])])]),i("div",Zo,[o(e(u),{for:"zoom_start_url"},{default:t(()=>[...a[105]||(a[105]=[l("Start URL",-1)])]),_:1}),o(e(V),{id:"zoom_start_url",modelValue:e(s).zoom_start_url,"onUpdate:modelValue":a[30]||(a[30]=_=>e(s).zoom_start_url=_),placeholder:"https://zoom.us/s/123456789"},null,8,["modelValue"]),a[106]||(a[106]=i("p",{class:"text-xs text-muted-foreground"}," URL para iniciar la reunión (para moderadores) ",-1))]),a[107]||(a[107]=i("div",{class:"bg-orange-50 p-3 rounded-md"},[i("p",{class:"text-sm text-orange-800"},[i("strong",null,"Modo API:"),l(" Los campos se completan manualmente. Los usuarios verán un botón para generar su link personal de acceso a la reunión. ")])],-1))])):v("",!0),e(s).zoom_integration_type==="message"?(n(),p("div",Oo,[i("div",Jo,[o(e(u),{for:"zoom_static_message"},{default:t(()=>[...a[108]||(a[108]=[l("Mensaje a mostrar",-1)])]),_:1}),o(e(H),{id:"zoom_static_message",modelValue:e(s).zoom_static_message,"onUpdate:modelValue":a[31]||(a[31]=_=>e(s).zoom_static_message=_),placeholder:"Escriba aquí el mensaje que se mostrará en lugar de la videoconferencia...",rows:"5",class:"min-h-[120px]"},null,8,["modelValue"]),a[109]||(a[109]=i("p",{class:"text-xs text-muted-foreground"}," Este mensaje se mostrará a los usuarios en el espacio donde normalmente aparecería la videoconferencia. ",-1))]),a[110]||(a[110]=i("div",{class:"bg-blue-50 p-3 rounded-md"},[i("p",{class:"text-sm text-blue-800"},[i("strong",null,"Modo Mensaje:"),l(" En lugar de una videoconferencia, los usuarios verán el mensaje personalizado que configure aquí. ")])],-1))])):v("",!0)])):v("",!0),e(s).errors.zoom_enabled?(n(),p("span",Ko,f(e(s).errors.zoom_enabled),1)):v("",!0)]}),_:1})]),_:1}),o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),null,{default:t(()=>[o(e(Pe),{class:"inline-block mr-2 h-5 w-5"}),a[111]||(a[111]=l(" Consulta Pública de Participantes ",-1))]),_:1}),o(e(L),null,{default:t(()=>[...a[112]||(a[112]=[l(" Configure el acceso público sin autenticación para consultar participantes de la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-6"},{default:t(()=>[i("div",Wo,[o(e(C),{id:"public_participants",modelValue:e(s).public_participants_enabled,"onUpdate:modelValue":a[32]||(a[32]=d=>e(s).public_participants_enabled=d)},null,8,["modelValue"]),o(e(u),{for:"public_participants"},{default:t(()=>[...a[113]||(a[113]=[l(" Habilitar consulta pública de participantes (sin autenticación) ",-1)])]),_:1})]),e(s).public_participants_enabled?(n(),p("div",Qo,[i("div",Xo,[o(e(u),null,{default:t(()=>[...a[114]||(a[114]=[l("Modo de visualización pública",-1)])]),_:1}),o(e(Le),{modelValue:e(s).public_participants_mode,"onUpdate:modelValue":a[33]||(a[33]=d=>e(s).public_participants_mode=d)},{default:t(()=>[i("div",Yo,[o(e(T),{value:"list",id:"mode_list"}),i("div",ho,[o(e(u),{for:"mode_list",class:"font-medium cursor-pointer"},{default:t(()=>[...a[115]||(a[115]=[l(" Modo Listado ",-1)])]),_:1}),a[116]||(a[116]=i("p",{class:"text-sm text-muted-foreground"}," Muestra tabla completa con filtros avanzados. Los visitantes pueden ver: nombre, departamento, municipio y localidad de todos los participantes. ",-1))])]),i("div",es,[o(e(T),{value:"search",id:"mode_search"}),i("div",as,[o(e(u),{for:"mode_search",class:"font-medium cursor-pointer"},{default:t(()=>[...a[117]||(a[117]=[l(" Modo Búsqueda ",-1)])]),_:1}),a[118]||(a[118]=i("p",{class:"text-sm text-muted-foreground"}," Solo muestra un campo de búsqueda. Los visitantes pueden buscar por nombre, cédula o correo, y ver únicamente si la persona es o no participante. ",-1))])])]),_:1},8,["modelValue"])]),o(e(Z),null,{default:t(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:t(()=>[...a[119]||(a[119]=[l("URL Pública",-1)])]),_:1}),o(e(O),null,{default:t(()=>{var d;return[a[120]||(a[120]=i("p",{class:"mb-2"},"Los participantes estarán disponibles públicamente en:",-1)),i("code",os,f(G.value)+"/asambleas/"+f(((d=c.asamblea)==null?void 0:d.id)||"{id}")+"/participantes-publico ",1),a[121]||(a[121]=i("p",{class:"mt-2 text-xs"}," Esta URL será accesible sin necesidad de autenticación cuando la asamblea esté activa. ",-1))]}),_:1})]),_:1}),o(e(Z),{variant:"outline"},{default:t(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:t(()=>[...a[122]||(a[122]=[l("Información de Privacidad",-1)])]),_:1}),o(e(O),null,{default:t(()=>[i("ul",ss,[e(s).public_participants_mode==="list"?(n(),p("li",ts," En modo listado, NO se mostrarán: correo electrónico, teléfono, documento de identidad, ni información de asistencia. ")):(n(),p("li",ls," En modo búsqueda, solo se confirmará si la persona es participante o no. No se revelará ningún dato personal adicional. ")),a[123]||(a[123]=i("li",null,"Los datos expuestos cumplen con las políticas de privacidad.",-1))])]),_:1})]),_:1})])):v("",!0),e(s).errors.public_participants_enabled?(n(),p("span",is,f(e(s).errors.public_participants_enabled),1)):v("",!0),e(s).errors.public_participants_mode?(n(),p("span",rs,f(e(s).errors.public_participants_mode),1)):v("",!0)]),_:1})]),_:1}),o(e(E),null,{default:t(()=>[o(e(D),null,{default:t(()=>[o(e(A),{class:"flex items-center gap-2"},{default:t(()=>[o(e(ma),{class:"h-5 w-5"}),a[124]||(a[124]=l(" Votaciones Asociadas ",-1))]),_:1}),o(e(L),null,{default:t(()=>[...a[125]||(a[125]=[l(" Vincule votaciones existentes o cree nuevas votaciones para esta asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:t(()=>[i("div",ds,[o(e(u),null,{default:t(()=>[...a[126]||(a[126]=[l("Vincular votaciones existentes",-1)])]),_:1}),i("div",ns,[o(e(z),{"model-value":"","onUpdate:modelValue":a[34]||(a[34]=d=>d&&!e(s).votacion_ids.includes(Number(d))&&e(s).votacion_ids.push(Number(d)))},{default:t(()=>[o(e(k),{class:"flex-1"},{default:t(()=>[o(e(w),{placeholder:"Seleccionar votación para agregar..."})]),_:1}),o(e(U),null,{default:t(()=>[(n(!0),p(j,null,F(Oe.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:t(()=>[l(f(d.titulo)+" ",1),i("span",us," ("+f(d.estado)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),o(e(I),{type:"button",onClick:a[35]||(a[35]=d=>S.value=!0),variant:"outline"},{default:t(()=>[o(e(pa),{class:"h-4 w-4 mr-2"}),a[127]||(a[127]=l(" Crear nueva ",-1))]),_:1})])]),h.value.length>0?(n(),p("div",ms,[o(e(u),null,{default:t(()=>[...a[128]||(a[128]=[l("Votaciones vinculadas",-1)])]),_:1}),i("div",ps,[(n(!0),p(j,null,F(h.value,d=>(n(),p("div",{key:d.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 dark:bg-gray-900"},[i("div",fs,[i("div",_s,f(d.titulo),1),i("div",cs,f(d.descripcion),1),i("div",bs," Estado: "+f(d.estado)+" | Inicio: "+f(new Date(d.fecha_inicio).toLocaleDateString())+" | Fin: "+f(new Date(d.fecha_fin).toLocaleDateString()),1)]),o(e(I),{type:"button",onClick:_=>Ze(d.id),variant:"ghost",size:"sm"},{default:t(()=>[o(e(fa),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]))),128))])])):(n(),$(e(Z),{key:1},{default:t(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:t(()=>[...a[129]||(a[129]=[l("Sin votaciones vinculadas",-1)])]),_:1}),o(e(O),null,{default:t(()=>[...a[130]||(a[130]=[l(" Esta asamblea no tiene votaciones asociadas. Puede vincular votaciones existentes o crear nuevas. ",-1)])]),_:1})]),_:1})),e(s).errors.votacion_ids?(n(),p("span",vs,f(e(s).errors.votacion_ids),1)):v("",!0)]),_:1})]),_:1}),i("div",gs,[o(e(I),{type:"button",variant:"outline",onClick:ee},{default:t(()=>[...a[131]||(a[131]=[l(" Cancelar ",-1)])]),_:1}),o(e(I),{type:"submit",disabled:e(s).processing},{default:t(()=>[o(e(He),{class:"mr-2 h-4 w-4"}),l(" "+f(c.asamblea?"Actualizar":"Crear")+" Asamblea ",1)]),_:1},8,["disabled"])])],32)]),S.value?(n(),$(Aa,{key:0,open:S.value,onClose:a[36]||(a[36]=d=>S.value=!1),onCreated:b},null,8,["open"])):v("",!0)]),_:1})],64))}});export{Nt as default};
