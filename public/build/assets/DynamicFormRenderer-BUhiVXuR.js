import{d as W,c as S,a,o as t,f as m,j as x,i as p,b as r,u as s,e as l,g as b,t as u,W as De,n as F,F as w,r as A,h as H,k as Ne,w as Ce,T as Ee}from"./app-DkmRr0KC.js";import{a as T,b as R,c as P,_ as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-C5ejVlRg.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-BocLyR7u.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-CGBXdJMY.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-DihuhIKU.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-CJyIYAf6.js";import{_ as Se,a as Be,b as Ae,c as je,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-CLO-V0CQ.js";import{_ as Te}from"./Textarea.vue_vue_type_script_setup_true_lang-BcMxfGEX.js";import{_ as Re}from"./index-DVRv0UkJ.js";import{_ as ze}from"./createLucideIcon-DXkxOUK0.js";import{C as Q}from"./circle-alert-Cn12rJzD.js";import{P as Le}from"./plus-BZtBw6vi.js";import{U as K}from"./user-AeqXvCM3.js";import{F as Ye}from"./file-text-DxNfQIRv.js";import{a as L,_ as O}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-AIBEsGCn.js";import{U as Fe}from"./users-CeUnMfI3.js";import{_ as Ue,a as we,b as qe}from"./index-Bku5qikM.js";import{u as Ie,_ as Me,a as We,b as Ge,c as He}from"./useConditionalFields-B5PBjRw9.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ke={class:"space-y-3"},Oe={class:"space-y-1.5"},Qe={key:0,class:"text-red-500 ml-1"},Xe={key:0,class:"text-sm text-muted-foreground"},Ze={class:"flex items-center space-x-2"},et={key:1,class:"space-y-3"},tt={class:"flex items-center space-x-2"},st={class:"flex items-center justify-between"},at={class:"flex items-center space-x-2"},rt={class:"space-y-2 text-sm"},ot={class:"flex justify-between"},lt={class:"font-medium"},dt={class:"flex justify-between"},it={class:"font-medium"},nt={key:2,class:"text-sm text-red-600"},ut=W({__name:"PerfilCandidaturaField",props:{modelValue:{},candidaturasAprobadas:{},label:{default:"Perfil de Candidatura"},description:{default:"Selecciona tu perfil de candidatura aprobado para vincular a esta postulación"},required:{type:Boolean,default:!1},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:E}){const h=N,$=E,q=S({get:()=>h.modelValue,set:v=>$("update:modelValue",v)}),y=S(()=>h.candidaturasAprobadas.length>0),C=S(()=>q.value?h.candidaturasAprobadas.find(v=>v.id===q.value):null),j=v=>{const c=v==="null"?null:parseInt(v);q.value=c};return(v,c)=>{var f;return t(),a("div",Ke,[m("div",Oe,[r(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(v.label)+" ",1),v.required?(t(),a("span",Qe,"*")):p("",!0)]),_:1}),v.description?(t(),a("p",Xe,u(v.description),1)):p("",!0)]),y.value?(t(),a("div",et,[r(s(Se),{"model-value":((f=q.value)==null?void 0:f.toString())||"null","onUpdate:modelValue":j,disabled:v.disabled},{default:l(()=>[r(s(Be),{class:F(["w-full",v.error?"border-red-300":""])},{default:l(()=>[r(s(Ae),{placeholder:"Selecciona tu perfil de candidatura"})]),_:1},8,["class"]),r(s(je),null,{default:l(()=>[r(s(J),{value:"null"},{default:l(()=>[...c[4]||(c[4]=[m("div",{class:"flex items-center space-x-2"},[m("span",{class:"text-muted-foreground"},"No vincular perfil")],-1)])]),_:1}),(t(!0),a(w,null,A(v.candidaturasAprobadas,n=>(t(),x(s(J),{key:n.id,value:n.id.toString()},{default:l(()=>[m("div",tt,[r(s(K),{class:"h-4 w-4"}),m("span",null,u(n.resumen),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),C.value?(t(),x(s(B),{key:0,class:"border-green-200 bg-green-50"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[m("div",st,[m("div",at,[r(s(Ye),{class:"h-5 w-5 text-green-600"}),r(s(R),{class:"text-base text-green-800"},{default:l(()=>[...c[5]||(c[5]=[b(" Perfil seleccionado ",-1)])]),_:1})]),r(s(Re),{variant:"secondary",class:"bg-green-100 text-green-800"},{default:l(()=>[...c[6]||(c[6]=[b(" Aprobado ",-1)])]),_:1})]),r(s(z),{class:"text-green-700"},{default:l(()=>[...c[7]||(c[7]=[b(" Se vinculará tu perfil de candidatura a esta postulación, preservando una copia de todos tus datos actuales. ",-1)])]),_:1})]),_:1}),r(s(P),{class:"pt-0"},{default:l(()=>[m("div",rt,[m("div",ot,[c[8]||(c[8]=m("span",{class:"text-muted-foreground"},"Versión:",-1)),m("span",lt,"v"+u(C.value.version),1)]),m("div",dt,[c[9]||(c[9]=m("span",{class:"text-muted-foreground"},"Fecha aprobación:",-1)),m("span",it,u(C.value.fecha_aprobacion),1)])])]),_:1})]),_:1})):p("",!0)])):(t(),x(s(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[m("div",Ze,[r(s(Q),{class:"h-5 w-5 text-amber-600"}),r(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...c[1]||(c[1]=[b(" No tienes un perfil de candidatura aprobado ",-1)])]),_:1})]),r(s(z),{class:"text-amber-700"},{default:l(()=>[...c[2]||(c[2]=[b(" Para vincular tu perfil a esta postulación, primero necesitas crear y obtener la aprobación de tu candidatura. ",-1)])]),_:1})]),_:1}),r(s(P),{class:"pt-0"},{default:l(()=>[r(s(ze),{variant:"outline",size:"sm",class:"border-amber-300 text-amber-800 hover:bg-amber-100",onClick:c[0]||(c[0]=n=>s(De).get("/miembro/candidaturas"))},{default:l(()=>[r(s(Le),{class:"mr-2 h-4 w-4"}),c[3]||(c[3]=b(" Crear Perfil de Candidatura ",-1))]),_:1})]),_:1})]),_:1})),v.error?(t(),a("p",nt,u(v.error),1)):p("",!0)])}}}),ct={class:"space-y-3"},mt={class:"space-y-1.5"},pt={key:0,class:"text-red-500 ml-1"},_t={key:0,class:"text-sm text-muted-foreground"},ft={class:"flex items-center space-x-2"},bt={key:1,class:"space-y-3"},vt={class:"space-y-3"},yt={key:0,class:"flex items-start space-x-3 pb-3 border-b"},ht={class:"flex items-start justify-between"},gt={class:"font-medium"},xt={key:0,class:"text-xs text-muted-foreground mt-0.5"},$t={key:1,class:"text-xs text-muted-foreground"},kt={class:"flex items-center space-x-2"},Vt={class:"space-y-3"},Ct={class:"flex items-start justify-between"},Ut={class:"font-medium"},wt={key:0,class:"text-xs text-muted-foreground mt-0.5"},qt={key:1,class:"text-xs text-muted-foreground"},St={key:2,class:"text-sm text-red-600"},Bt=W({__name:"CandidatosVotacionField",props:{modelValue:{},candidatosElegibles:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos disponibles"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:E}){const h=N,$=E,q=S(()=>h.candidatosElegibles.length>0),y=c=>{const f=c==="null"?null:parseInt(c);$("update:modelValue",f)},C=c=>h.multiple?Array.isArray(h.modelValue)&&h.modelValue.includes(c):h.modelValue===c,j=(c,f)=>{if(!h.multiple){$("update:modelValue",f?c:null);return}const n=Array.isArray(h.modelValue)?h.modelValue:[];let i;f?i=[...n,c]:i=n.filter(d=>d!==c),$("update:modelValue",i)},v=c=>{const f=[];return c.localidad&&f.push(c.localidad),c.municipio&&f.push(c.municipio),c.departamento&&f.push(c.departamento),c.territorio&&f.push(c.territorio),f.length>0?f.join(", "):""};return(c,f)=>{var n;return t(),a("div",ct,[m("div",mt,[r(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(c.label)+" ",1),c.required?(t(),a("span",pt,"*")):p("",!0)]),_:1}),c.description?(t(),a("p",_t,u(c.description),1)):p("",!0)]),q.value?(t(),a("div",bt,[c.multiple?(t(),x(s(B),{key:1,class:"border"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[m("div",kt,[r(s(Fe),{class:"h-4 w-4 text-muted-foreground"}),r(s(R),{class:"text-sm"},{default:l(()=>[...f[3]||(f[3]=[b(" Candidatos disponibles ",-1)])]),_:1})]),r(s(z),{class:"text-xs"},{default:l(()=>[...f[4]||(f[4]=[b(" Puedes seleccionar múltiples candidatos ",-1)])]),_:1})]),_:1}),r(s(P),null,{default:l(()=>[m("div",Vt,[(t(!0),a(w,null,A(c.candidatosElegibles,i=>(t(),a("div",{key:i.id,class:"flex items-start space-x-3"},[r(s(M),{id:`candidato_check_${i.id}`,checked:C(i.id),"onUpdate:checked":d=>j(i.id,d),disabled:c.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),r(s(g),{for:`candidato_check_${i.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",Ct,[m("div",null,[m("p",Ut,u(i.name),1),i.cargo?(t(),a("p",wt,u(i.cargo),1)):p("",!0),v(i)?(t(),a("p",qt,u(v(i)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):(t(),x(s(O),{key:0,"model-value":((n=c.modelValue)==null?void 0:n.toString())||"null","onUpdate:modelValue":y,disabled:c.disabled,class:"space-y-2"},{default:l(()=>[r(s(B),{class:"border"},{default:l(()=>[r(s(P),{class:"pt-6"},{default:l(()=>[m("div",vt,[c.mostrarVotoBlanco?(t(),a("div",yt,[r(s(L),{value:"null",id:"candidato_none"}),r(s(g),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:l(()=>[...f[2]||(f[2]=[m("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):p("",!0),(t(!0),a(w,null,A(c.candidatosElegibles,i=>(t(),a("div",{key:i.id,class:"flex items-start space-x-3 py-2"},[r(s(L),{value:i.id.toString(),id:`candidato_${i.id}`},null,8,["value","id"]),r(s(g),{for:`candidato_${i.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",ht,[m("div",null,[m("p",gt,u(i.name),1),i.cargo?(t(),a("p",xt,u(i.cargo),1)):p("",!0),v(i)?(t(),a("p",$t,u(v(i)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"]))])):(t(),x(s(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[m("div",ft,[r(s(Q),{class:"h-5 w-5 text-amber-600"}),r(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...f[0]||(f[0]=[b(" No hay candidatos disponibles ",-1)])]),_:1})]),r(s(z),{class:"text-amber-700"},{default:l(()=>[...f[1]||(f[1]=[b(" No se encontraron candidatos que cumplan con los criterios configurados para esta votación. ",-1)])]),_:1})]),_:1})]),_:1})),c.error?(t(),a("p",St,u(c.error),1)):p("",!0)])}}}),At={class:"space-y-3"},jt={class:"space-y-1.5"},Ft={key:0,class:"text-red-500 ml-1"},Pt={key:0,class:"text-sm text-muted-foreground"},Dt={key:1,class:"text-xs text-blue-600 font-medium"},Nt={class:"flex items-center space-x-2"},Et={key:1,class:"space-y-3"},Tt={class:"space-y-3"},Rt={class:"flex items-start justify-between"},zt={class:"space-y-1"},Lt={class:"flex items-center gap-2"},Yt={class:"font-medium"},It={key:0,class:"text-xs text-muted-foreground ml-6"},Mt={key:1,class:"text-xs text-muted-foreground ml-6"},Wt={key:2,class:"text-xs text-blue-600 ml-6"},Gt={key:0,class:"flex items-start space-x-3 pt-3 border-t"},Ht={class:"flex items-center space-x-2"},Jt={class:"space-y-3"},Kt={class:"flex items-start justify-between"},Ot={class:"space-y-1"},Qt={class:"flex items-center gap-2"},Xt={class:"font-medium"},Zt={key:0,class:"text-xs text-muted-foreground ml-6"},es={key:1,class:"text-xs text-muted-foreground ml-6"},ts={key:2,class:"text-xs text-blue-600 ml-6"},ss={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},as={class:"flex items-center gap-3 mb-3"},rs={class:"flex-1 min-w-0"},os={class:"font-medium truncate"},ls={key:0,class:"text-xs text-muted-foreground truncate"},ds={class:"space-y-1 text-xs text-muted-foreground"},is={key:0,class:"truncate"},ns={key:1,class:"truncate"},us={key:2,class:"text-blue-600 truncate"},cs={class:"flex justify-end mt-3 pt-3 border-t"},ms={class:"text-center"},ps={class:"mt-4"},_s={key:3,class:"space-y-4"},fs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},bs={class:"flex items-center gap-3 mb-3"},vs={class:"flex-1 min-w-0"},ys={class:"font-medium truncate"},hs={key:0,class:"text-xs text-muted-foreground truncate"},gs={class:"space-y-1 text-xs text-muted-foreground"},xs={key:0,class:"truncate"},$s={key:1,class:"truncate"},ks={key:2,class:"text-blue-600 truncate"},Vs={class:"flex justify-end mt-3 pt-3 border-t"},Cs={key:2,class:"text-sm text-red-600"},Us=W({__name:"ConvocatoriaVotacionField",props:{modelValue:{},candidatos:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos aprobados de la convocatoria"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1},convocatoriaNombre:{},vistaPreferida:{default:"lista"}},emits:["update:modelValue"],setup(N,{emit:E}){const h=N,$=E,q=S(()=>h.candidatos.length>0),y=n=>{$("update:modelValue",n==="null"?null:n)},C=n=>h.multiple?Array.isArray(h.modelValue)&&h.modelValue.includes(n):h.modelValue===n,j=(n,i)=>{if(!h.multiple){$("update:modelValue",i?n:null);return}const d=Array.isArray(h.modelValue)?h.modelValue:[];let V;i?V=[...d,n]:V=d.filter(G=>G!==n),$("update:modelValue",V)},v=n=>{const i=[];return n.localidad&&i.push(n.localidad),n.municipio&&i.push(n.municipio),n.departamento&&i.push(n.departamento),n.territorio&&i.push(n.territorio),i.length>0?i.join(", "):""},c=n=>{var V;if(!((V=n.candidatura_snapshot)!=null&&V.formulario_data))return"";const i=n.candidatura_snapshot.formulario_data,d=[];return i.profesion&&d.push(i.profesion),i.experiencia&&d.push(`${i.experiencia} años de experiencia`),d.join(" - ")},f=n=>n.split(" ").map(i=>i[0]).join("").toUpperCase().substring(0,2);return(n,i)=>(t(),a("div",At,[m("div",jt,[r(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(n.label)+" ",1),n.required?(t(),a("span",Ft,"*")):p("",!0)]),_:1}),n.description?(t(),a("p",Pt,u(n.description),1)):p("",!0),n.convocatoriaNombre?(t(),a("p",Dt," Convocatoria: "+u(n.convocatoriaNombre),1)):p("",!0)]),q.value?(t(),a("div",Et,[!n.multiple&&n.vistaPreferida==="lista"?(t(),x(s(O),{key:0,"model-value":n.modelValue,"onUpdate:modelValue":y,disabled:n.disabled,class:"space-y-2"},{default:l(()=>[r(s(B),{class:"border"},{default:l(()=>[r(s(P),{class:"pt-6"},{default:l(()=>[m("div",Tt,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),a("div",{key:d.id,class:"flex items-start space-x-3 py-2"},[r(s(L),{value:d.name,id:`candidato_${d.id}`},null,8,["value","id"]),r(s(g),{for:`candidato_${d.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",Rt,[m("div",zt,[m("div",Lt,[r(s(K),{class:"h-4 w-4 text-muted-foreground"}),m("p",Yt,u(d.name),1)]),d.cargo?(t(),a("p",It," Cargo: "+u(d.cargo),1)):p("",!0),v(d)?(t(),a("p",Mt," Ubicación: "+u(v(d)),1)):p("",!0),c(d)?(t(),a("p",Wt,u(c(d)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128)),n.mostrarVotoBlanco?(t(),a("div",Gt,[r(s(L),{value:"null",id:"candidato_none"}),r(s(g),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:l(()=>[...i[6]||(i[6]=[m("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):p("",!0)])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"])):n.multiple&&n.vistaPreferida==="lista"?(t(),x(s(B),{key:1,class:"border"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[m("div",Ht,[r(s(Fe),{class:"h-4 w-4 text-muted-foreground"}),r(s(R),{class:"text-sm"},{default:l(()=>[...i[7]||(i[7]=[b(" Candidatos disponibles ",-1)])]),_:1})]),r(s(z),{class:"text-xs"},{default:l(()=>[...i[8]||(i[8]=[b(" Puedes seleccionar múltiples candidatos de la convocatoria ",-1)])]),_:1})]),_:1}),r(s(P),null,{default:l(()=>[m("div",Jt,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),a("div",{key:d.id,class:"flex items-start space-x-3"},[r(s(M),{id:`candidato_check_${d.id}`,checked:C(d.name),"onUpdate:checked":V=>j(d.name,V),disabled:n.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),r(s(g),{for:`candidato_check_${d.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",Kt,[m("div",Ot,[m("div",Qt,[r(s(K),{class:"h-4 w-4 text-muted-foreground"}),m("p",Xt,u(d.name),1)]),d.cargo?(t(),a("p",Zt," Cargo: "+u(d.cargo),1)):p("",!0),v(d)?(t(),a("p",es," Ubicación: "+u(v(d)),1)):p("",!0),c(d)?(t(),a("p",ts,u(c(d)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):p("",!0),!n.multiple&&n.vistaPreferida==="cards"?(t(),x(s(O),{key:2,"model-value":n.modelValue,"onUpdate:modelValue":y,disabled:n.disabled,class:"space-y-4"},{default:l(()=>[m("div",ss,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),x(s(B),{key:d.id,class:F(["cursor-pointer transition-all hover:shadow-md",n.modelValue===d.name?"ring-2 ring-primary":""]),onClick:V=>y(d.name)},{default:l(()=>[r(s(P),{class:"p-4"},{default:l(()=>[m("div",as,[r(s(Ue),{class:"h-12 w-12"},{default:l(()=>[d.avatar_url?(t(),x(s(we),{key:0,src:d.avatar_url,alt:d.name},null,8,["src","alt"])):p("",!0),r(s(qe),{class:"bg-primary/10 text-primary font-semibold"},{default:l(()=>[b(u(f(d.name)),1)]),_:2},1024)]),_:2},1024),m("div",rs,[m("p",os,u(d.name),1),d.email?(t(),a("p",ls,u(d.email),1)):p("",!0)])]),m("div",ds,[d.cargo?(t(),a("p",is,[i[9]||(i[9]=m("span",{class:"font-medium"},"Cargo:",-1)),b(" "+u(d.cargo),1)])):p("",!0),v(d)?(t(),a("p",ns,[i[10]||(i[10]=m("span",{class:"font-medium"},"Ubicación:",-1)),b(" "+u(v(d)),1)])):p("",!0),c(d)?(t(),a("p",us,u(c(d)),1)):p("",!0)]),m("div",cs,[r(s(L),{value:d.name,checked:n.modelValue===d.name,onClick:i[0]||(i[0]=H(()=>{},["stop"]))},null,8,["value","checked"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),n.mostrarVotoBlanco?(t(),x(s(B),{key:0,class:F(["cursor-pointer transition-all hover:shadow-md",n.modelValue===null?"ring-2 ring-primary":""]),onClick:i[2]||(i[2]=d=>y("null"))},{default:l(()=>[r(s(P),{class:"flex items-center justify-center h-full min-h-[180px] p-4"},{default:l(()=>[m("div",ms,[i[11]||(i[11]=m("span",{class:"text-muted-foreground text-lg"},"Voto en blanco",-1)),m("div",ps,[r(s(L),{value:"null",checked:n.modelValue===null,onClick:i[1]||(i[1]=H(()=>{},["stop"]))},null,8,["checked"])])])]),_:1})]),_:1},8,["class"])):p("",!0)])]),_:1},8,["model-value","disabled"])):n.multiple&&n.vistaPreferida==="cards"?(t(),a("div",_s,[m("div",fs,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),x(s(B),{key:d.id,class:F(["cursor-pointer transition-all hover:shadow-md",C(d.name)?"ring-2 ring-primary":""]),onClick:V=>j(d.name,!C(d.name))},{default:l(()=>[r(s(P),{class:"p-4"},{default:l(()=>[m("div",bs,[r(s(Ue),{class:"h-12 w-12"},{default:l(()=>[d.avatar_url?(t(),x(s(we),{key:0,src:d.avatar_url,alt:d.name},null,8,["src","alt"])):p("",!0),r(s(qe),{class:"bg-primary/10 text-primary font-semibold"},{default:l(()=>[b(u(f(d.name)),1)]),_:2},1024)]),_:2},1024),m("div",vs,[m("p",ys,u(d.name),1),d.email?(t(),a("p",hs,u(d.email),1)):p("",!0)])]),m("div",gs,[d.cargo?(t(),a("p",xs,[i[12]||(i[12]=m("span",{class:"font-medium"},"Cargo:",-1)),b(" "+u(d.cargo),1)])):p("",!0),v(d)?(t(),a("p",$s,[i[13]||(i[13]=m("span",{class:"font-medium"},"Ubicación:",-1)),b(" "+u(v(d)),1)])):p("",!0),c(d)?(t(),a("p",ks,u(c(d)),1)):p("",!0)]),m("div",Vs,[r(s(M),{checked:C(d.name),"onUpdate:checked":V=>j(d.name,V),onClick:i[3]||(i[3]=H(()=>{},["stop"])),disabled:n.disabled},null,8,["checked","onUpdate:checked","disabled"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])])):p("",!0)])):(t(),x(s(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[m("div",Nt,[r(s(Q),{class:"h-5 w-5 text-amber-600"}),r(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...i[4]||(i[4]=[b(" No hay candidatos disponibles ",-1)])]),_:1})]),r(s(z),{class:"text-amber-700"},{default:l(()=>[...i[5]||(i[5]=[b(" No se encontraron candidatos con postulaciones aprobadas para esta convocatoria. ",-1)])]),_:1})]),_:1})]),_:1})),n.error?(t(),a("p",Cs,u(n.error),1)):p("",!0)]))}}),ws={class:"space-y-6"},qs={key:0},Ss={class:"text-lg font-semibold"},Bs={key:0,class:"text-sm text-muted-foreground"},As={class:"space-y-4"},js={key:0},Fs={key:1},Ps={key:2},Ds={key:0,class:"text-red-500 ml-1"},Ns={key:0,class:"text-sm text-muted-foreground mb-2"},Es={key:1,class:"text-sm text-red-600 mt-1"},Ts={key:3},Rs={key:0,class:"text-red-500 ml-1"},zs={key:0,class:"text-sm text-muted-foreground mb-2"},Ls={key:1,class:"text-sm text-red-600 mt-1"},Ys={key:4},Is={key:0,class:"text-red-500 ml-1"},Ms={key:0,class:"text-sm text-muted-foreground mb-2"},Ws={key:1,class:"text-sm text-red-600 mt-1"},Gs={key:5},Hs={key:0,class:"text-red-500 ml-1"},Js={key:0,class:"text-sm text-muted-foreground mb-2"},Ks={key:1,class:"text-sm text-red-600 mt-1"},Os={key:6},Qs={key:0,class:"text-red-500 ml-1"},Xs={key:0,class:"text-sm text-muted-foreground mb-2"},Zs={key:1,class:"text-sm text-red-600 mt-1"},ea={key:7},ta={key:0,class:"text-red-500 ml-1"},sa={key:0,class:"text-sm text-muted-foreground mb-2"},aa={key:1,class:"text-sm text-red-600 mt-1"},ra={key:8},oa={key:0,class:"text-red-500 ml-1"},la={key:0,class:"text-sm text-muted-foreground mb-2"},da={class:"space-y-2"},ia=["id","name","value","checked","onChange","disabled"],na={key:1,class:"text-sm text-red-600 mt-1"},ua={key:9},ca={key:0,class:"text-red-500 ml-1"},ma={key:0,class:"text-sm text-muted-foreground mb-2"},pa={class:"space-y-2"},_a={key:1,class:"text-sm text-red-600 mt-1"},fa={key:10},ba={key:11},va={key:12},ya={key:13},ha={class:"list-disc list-inside space-y-1 text-sm text-amber-800"},ga=W({__name:"DynamicFormRenderer",props:{fields:{},modelValue:{},candidaturasAprobadas:{default:()=>[]},candidaturaSeleccionada:{},candidatosElegibles:{default:()=>({})},errors:{default:()=>({})},disabled:{type:Boolean,default:!1},title:{default:"Formulario de Postulación"},description:{default:"Completa los siguientes campos para enviar tu postulación"},context:{default:"postulacion"},files:{}},emits:["update:modelValue","update:candidaturaSeleccionada","filesSelected"],setup(N,{expose:E,emit:h}){const $=N,q=h,y=S({get:()=>$.modelValue||{},set:o=>q("update:modelValue",o)}),C=S({get:()=>$.candidaturaSeleccionada,set:o=>q("update:candidaturaSeleccionada",o)});S(()=>$.fields.some(o=>o.type==="perfil_candidatura"));const j=Ne($.fields);Ce(()=>$.fields,o=>{j.value=o},{deep:!0});const{visibleFields:v,clearHiddenFieldValues:c}=Ie(j,y);Ce(v,()=>{c()});const f=(o,k)=>{const U={...y.value||{}};U[o]=k,y.value=U},n=(o,k,e)=>{const U=y.value[o]||[];let D;e?D=[...U,k]:D=U.filter(Y=>Y!==k),f(o,D)},i=S(()=>v.value.filter(o=>o.required).map(o=>o.id)),d=S(()=>i.value.filter(o=>{const k=v.value.find(U=>U.id===o);if((k==null?void 0:k.type)==="perfil_candidatura")return!$.candidaturaSeleccionada;const e=y.value[o];return!e||Array.isArray(e)&&e.length===0})),V=S(()=>{const o=$.fields.find(k=>k.type==="perfil_candidatura");return(o==null?void 0:o.required)||!1}),G=S(()=>d.value.length===0);return E({formularioCompleto:G,camposIncompletos:d,perfilCandidaturaRequerido:V}),(o,k)=>(t(),a("div",ws,[o.title||o.description?(t(),a("div",qs,[m("h3",Ss,u(o.title),1),o.description?(t(),a("p",Bs,u(o.description),1)):p("",!0)])):p("",!0),m("div",As,[r(Ee,{name:"fade-field"},{default:l(()=>[(t(!0),a(w,null,A(s(v),e=>{var U,D,Y,X,Z,ee,te,se,ae,re,oe,le,de,ie,ne,ue,ce,me,pe,_e,fe,be,ve,ye,he,ge,xe,$e,ke,Ve;return t(),a(w,{key:e.id},[e.type==="convocatoria"&&o.context==="votacion"?(t(),a("div",js,[r(Us,{modelValue:y.value[e.id],"onUpdate:modelValue":_=>y.value[e.id]=_,candidatos:((U=o.candidatosElegibles[e.id])==null?void 0:U.candidatos)||[],"convocatoria-nombre":(Y=(D=o.candidatosElegibles[e.id])==null?void 0:D.convocatoria)==null?void 0:Y.nombre,label:e.title,description:e.description,required:e.required,multiple:((X=e.convocatoriaConfig)==null?void 0:X.multiple)||!1,"mostrar-voto-blanco":((Z=e.convocatoriaConfig)==null?void 0:Z.mostrarVotoBlanco)??!0,"vista-preferida":((ee=e.convocatoriaConfig)==null?void 0:ee.vistaPreferida)||"lista",error:o.errors[e.id],disabled:o.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos","convocatoria-nombre","label","description","required","multiple","mostrar-voto-blanco","vista-preferida","error","disabled"])])):e.type==="perfil_candidatura"?(t(),a("div",Fs,[o.context==="postulacion"?(t(),x(ut,{key:0,modelValue:C.value,"onUpdate:modelValue":k[0]||(k[0]=_=>C.value=_),"candidaturas-aprobadas":o.candidaturasAprobadas,label:e.title,description:e.description,required:e.required,error:o.errors.candidatura_id,disabled:o.disabled},null,8,["modelValue","candidaturas-aprobadas","label","description","required","error","disabled"])):o.context==="votacion"?(t(),x(Bt,{key:1,modelValue:y.value[e.id],"onUpdate:modelValue":_=>y.value[e.id]=_,"candidatos-elegibles":o.candidatosElegibles[e.id]||[],label:e.title,description:e.description,required:e.required,multiple:((te=e.perfilCandidaturaConfig)==null?void 0:te.multiple)||!1,"mostrar-voto-blanco":((se=e.perfilCandidaturaConfig)==null?void 0:se.mostrarVotoBlanco)??!0,error:o.errors[e.id],disabled:o.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos-elegibles","label","description","required","multiple","mostrar-voto-blanco","error","disabled"])):p("",!0)])):e.type==="text"?(t(),a("div",Ps,[r(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Ds,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Ns,u(e.description),1)):p("",!0),r(s(I),{id:e.id,"model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Ingresa ${e.title.toLowerCase()}`,disabled:o.disabled,class:F([o.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",Es,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="textarea"?(t(),a("div",Ts,[r(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Rs,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",zs,u(e.description),1)):p("",!0),r(s(Te),{id:e.id,"model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Describe ${e.title.toLowerCase()}`,disabled:o.disabled,rows:"4",class:F([o.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",Ls,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="number"?(t(),a("div",Ys,[r(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Is,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Ms,u(e.description),1)):p("",!0),r(s(I),{id:e.id,type:"number","model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:o.disabled,min:(ae=e.numberConfig)==null?void 0:ae.min,max:(re=e.numberConfig)==null?void 0:re.max,step:((oe=e.numberConfig)==null?void 0:oe.step)||1,placeholder:e.placeholder||"",class:F([o.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","min","max","step","placeholder","class"]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",Ws,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="email"?(t(),a("div",Gs,[r(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Hs,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Js,u(e.description),1)):p("",!0),r(s(I),{id:e.id,type:"email","model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:"ejemplo@correo.com",disabled:o.disabled,class:F([o.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",Ks,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="date"?(t(),a("div",Os,[r(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Qs,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Xs,u(e.description),1)):p("",!0),r(s(I),{id:e.id,type:"date","model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:o.disabled,class:F([o.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",Zs,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="select"?(t(),a("div",ea,[r(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",ta,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",sa,u(e.description),1)):p("",!0),r(s(Se),{"model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:o.disabled},{default:l(()=>[r(s(Be),{class:F([o.errors[`formulario_data.${e.id}`]?"border-red-300":""])},{default:l(()=>[r(s(Ae),{placeholder:`Selecciona ${e.title.toLowerCase()}`},null,8,["placeholder"])]),_:2},1032,["class"]),r(s(je),null,{default:l(()=>[(t(!0),a(w,null,A(e.options,_=>(t(),x(s(J),{key:_,value:_},{default:l(()=>[b(u(_),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["model-value","onUpdate:modelValue","disabled"]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",aa,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="radio"?(t(),a("div",ra,[r(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",oa,"*")):p("",!0)]),_:2},1024),e.description?(t(),a("p",la,u(e.description),1)):p("",!0),m("div",da,[(t(!0),a(w,null,A(e.options,_=>(t(),a("div",{key:_,class:"flex items-center space-x-2"},[m("input",{id:`${e.id}-${_}`,type:"radio",name:e.id,value:_,checked:y.value[e.id]===_,onChange:()=>f(e.id,_),disabled:o.disabled,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,40,ia),r(s(g),{for:`${e.id}-${_}`,class:"text-sm"},{default:l(()=>[b(u(_),1)]),_:2},1032,["for"])]))),128))]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",na,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="checkbox"?(t(),a("div",ua,[r(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",ca,"*")):p("",!0)]),_:2},1024),e.description?(t(),a("p",ma,u(e.description),1)):p("",!0),m("div",pa,[(t(!0),a(w,null,A(e.options,_=>(t(),a("div",{key:_,class:"flex items-center space-x-2"},[r(s(M),{id:`${e.id}-${_}`,checked:(y.value[e.id]||[]).includes(_),"onUpdate:checked":Pe=>n(e.id,_,Pe),disabled:o.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),r(s(g),{for:`${e.id}-${_}`,class:"text-sm"},{default:l(()=>[b(u(_),1)]),_:2},1032,["for"])]))),128))]),o.errors[`formulario_data.${e.id}`]?(t(),a("p",_a,u(o.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="file"?(t(),a("div",fa,[r(Me,{"model-value":y.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),onFilesSelected:_=>q("filesSelected",e.id,_),label:e.title,description:e.description,required:e.required,multiple:((le=e.fileConfig)==null?void 0:le.multiple)||!1,"max-files":((de=e.fileConfig)==null?void 0:de.maxFiles)||5,"max-file-size":((ie=e.fileConfig)==null?void 0:ie.maxFileSize)||10,accept:((ne=e.fileConfig)==null?void 0:ne.accept)||".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",error:o.errors[`formulario_data.${e.id}`],disabled:o.disabled},null,8,["model-value","onUpdate:modelValue","onFilesSelected","label","description","required","multiple","max-files","max-file-size","accept","error","disabled"])])):e.type==="datepicker"?(t(),a("div",ba,[r(We,{"model-value":y.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:o.disabled,error:o.errors[`formulario_data.${e.id}`],"min-date":(ue=e.datepickerConfig)==null?void 0:ue.minDate,"max-date":(ce=e.datepickerConfig)==null?void 0:ce.maxDate,format:((me=e.datepickerConfig)==null?void 0:me.format)||"DD/MM/YYYY","allow-past-dates":((pe=e.datepickerConfig)==null?void 0:pe.allowPastDates)??!0,"allow-future-dates":((_e=e.datepickerConfig)==null?void 0:_e.allowFutureDates)??!0},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-date","max-date","format","allow-past-dates","allow-future-dates"])])):e.type==="disclaimer"?(t(),a("div",va,[r(Ge,{"model-value":y.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:o.disabled,error:o.errors[`formulario_data.${e.id}`],"disclaimer-text":((fe=e.disclaimerConfig)==null?void 0:fe.disclaimerText)||"","modal-title":((be=e.disclaimerConfig)==null?void 0:be.modalTitle)||"Términos y Condiciones","accept-button-text":((ve=e.disclaimerConfig)==null?void 0:ve.acceptButtonText)||"Acepto","decline-button-text":((ye=e.disclaimerConfig)==null?void 0:ye.declineButtonText)||"No acepto"},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","disclaimer-text","modal-title","accept-button-text","decline-button-text"])])):e.type==="repeater"?(t(),a("div",ya,[r(He,{"model-value":y.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:o.disabled,error:o.errors[`formulario_data.${e.id}`],"min-items":((he=e.repeaterConfig)==null?void 0:he.minItems)||0,"max-items":((ge=e.repeaterConfig)==null?void 0:ge.maxItems)||10,"item-name":((xe=e.repeaterConfig)==null?void 0:xe.itemName)||"Elemento","add-button-text":(($e=e.repeaterConfig)==null?void 0:$e.addButtonText)||"Agregar elemento","remove-button-text":((ke=e.repeaterConfig)==null?void 0:ke.removeButtonText)||"Eliminar",fields:((Ve=e.repeaterConfig)==null?void 0:Ve.fields)||[]},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-items","max-items","item-name","add-button-text","remove-button-text","fields"])])):p("",!0)],64)}),128))]),_:1})]),o.context==="postulacion"&&d.value.length>0?(t(),x(s(B),{key:1,class:"border-amber-200 bg-amber-50"},{default:l(()=>[r(s(T),{class:"pb-3"},{default:l(()=>[r(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...k[1]||(k[1]=[b(" Campos requeridos pendientes ",-1)])]),_:1}),r(s(z),{class:"text-amber-700"},{default:l(()=>[...k[2]||(k[2]=[b(" Completa los siguientes campos obligatorios antes de enviar tu postulación. ",-1)])]),_:1})]),_:1}),r(s(P),{class:"pt-0"},{default:l(()=>[m("ul",ha,[(t(!0),a(w,null,A(d.value,e=>{var U;return t(),a("li",{key:e},u((U=o.fields.find(D=>D.id===e))==null?void 0:U.title),1)}),128))])]),_:1})]),_:1})):p("",!0)]))}}),za=Je(ga,[["__scopeId","data-v-5b6649df"]]);export{za as D};
