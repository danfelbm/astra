import{d as N,C as A,i as p,e as m,f as o,u as e,p as F,w as s,g as i,P as U,h as r,l as O,j as g,t as u,F as x,k,b as S}from"./app-Cq1yjciB.js";import{_ as q}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DExbpHhv.js";import{_ as v}from"./createLucideIcon-CdhR9dO9.js";import{_ as c,a as b,b as y,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-0fTqTWJ6.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-RpmezTum.js";import{_ as d}from"./Input.vue_vue_type_script_setup_true_lang-Djopat-c.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-Czx3cDJk.js";import{_ as w,a as L,b as M,c as P,d as T}from"./SelectValue.vue_vue_type_script_setup_true_lang-DNRe4yfD.js";import{_ as E}from"./Switch.vue_vue_type_script_setup_true_lang-BgJ6l57g.js";import{_ as G,a as I,b as z,c as C}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-D-5Tk0ij.js";import{A as R}from"./arrow-left-BG8i7CiQ.js";import{S as Z}from"./save-B4PAQEwM.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-C04MaYnJ.js";import"./index-2HnwpJAQ.js";import"./floating-ui.vue-CDIgi2Oy.js";import"./x-Gbs0cNn3.js";import"./index-mUs_VBs1.js";import"./shield-CFUAReMC.js";import"./user-Btko2wTn.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-ByoI8SMh.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-e8q2hI1M.js";import"./VisuallyHidden-DYlRSZ1-.js";import"./index-b6qXbMEQ.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-j7MDdFgh.js";import"./index-CNOFl1x1.js";import"./circle-alert-V9uGECp8.js";import"./map-pin-lpBwF8Bm.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-BzJDFT6T.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-B0vpzwC6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-CMJWz7fg.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Da9QQks1.js";import"./users-DnAI58UF.js";import"./vote-4dgEsZuc.js";import"./file-text-BhKliUKk.js";import"./calendar-10DCyPsw.js";import"./briefcase-ByIc69UB.js";import"./megaphone-BzEtHhxV.js";import"./user-check-DhfUb5gv.js";import"./external-link-Ds9hb02A.js";import"./panel-left-BAj4wuiX.js";import"./index-Bm6-zcm0.js";import"./check-BmE0WgU0.js";import"./index-C-0eZmuW.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHiddenInput-PW2fHdPF.js";import"./RovingFocusItem-DhyhAvPS.js";import"./utils-DXCZMETy.js";const H={class:"flex h-full flex-1 flex-col gap-4 p-4"},J={class:"flex items-center justify-between"},K={class:"grid gap-4 md:grid-cols-2"},Q={class:"space-y-2"},W={key:0,class:"text-sm text-red-500"},X={class:"space-y-2"},Y={class:"flex"},h={key:0,class:"text-sm text-red-500"},ee={class:"space-y-2"},te={key:0,class:"text-sm text-red-500"},oe={class:"space-y-2"},se={class:"flex items-center space-x-2"},ae={class:"grid gap-4 md:grid-cols-2"},ie={class:"space-y-2"},le={class:"space-y-2"},re={class:"flex gap-2"},ne={class:"space-y-2"},de={class:"space-y-2"},me={class:"grid gap-4 md:grid-cols-3"},ue={class:"space-y-2"},pe={class:"space-y-2"},fe={class:"space-y-2"},_e={class:"mt-6 flex justify-end gap-4"},mt=N({__name:"Create",props:{subscriptionPlans:{},timezones:{}},setup(ge){const j=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Tenants",href:"/admin/tenants"},{title:"Crear Tenant",href:"#"}],a=A({name:"",subdomain:"",subscription_plan:"basic",active:!0,settings:{logo:"",primary_color:"#3B82F6",otp_expiration:10,timezone:"America/Bogota"},limits:{max_users:null,max_votaciones:null,max_convocatorias:null}}),B=()=>{a.post("/admin/tenants",{preserveScroll:!0})},D=()=>{a.name&&!a.subdomain&&(a.subdomain=a.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};return(_,t)=>(m(),p(x,null,[o(e(F),{title:"Crear Tenant"}),o(q,{breadcrumbs:j},{default:s(()=>[i("div",H,[i("div",J,[t[13]||(t[13]=i("div",null,[i("h2",{class:"text-3xl font-bold tracking-tight"},"Crear Nuevo Tenant"),i("p",{class:"text-muted-foreground"}," Configura una nueva organización en el sistema ")],-1)),o(e(U),{href:_.route("admin.tenants.index")},{default:s(()=>[o(e(v),{variant:"outline"},{default:s(()=>[o(e(R),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=r(" Volver ",-1))]),_:1})]),_:1},8,["href"])]),i("form",{onSubmit:O(B,["prevent"])},[o(e(G),{"default-value":"general",class:"w-full"},{default:s(()=>[o(e(I),{class:"grid w-full grid-cols-3"},{default:s(()=>[o(e(z),{value:"general"},{default:s(()=>[...t[14]||(t[14]=[r("Información General",-1)])]),_:1}),o(e(z),{value:"settings"},{default:s(()=>[...t[15]||(t[15]=[r("Configuración",-1)])]),_:1}),o(e(z),{value:"limits"},{default:s(()=>[...t[16]||(t[16]=[r("Límites y Cuotas",-1)])]),_:1})]),_:1}),o(e(C),{value:"general"},{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[o(e(y),null,{default:s(()=>[...t[17]||(t[17]=[r("Información General",-1)])]),_:1}),o(e($),null,{default:s(()=>[...t[18]||(t[18]=[r(" Datos básicos de la organización ",-1)])]),_:1})]),_:1}),o(e(V),{class:"space-y-4"},{default:s(()=>[i("div",K,[i("div",Q,[o(e(n),{for:"name"},{default:s(()=>[...t[19]||(t[19]=[r("Nombre de la Organización *",-1)])]),_:1}),o(e(d),{id:"name",modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).name=l),onBlur:D,placeholder:"Mi Organización",required:""},null,8,["modelValue"]),e(a).errors.name?(m(),p("p",W,u(e(a).errors.name),1)):g("",!0)]),i("div",X,[o(e(n),{for:"subdomain"},{default:s(()=>[...t[20]||(t[20]=[r("Subdominio *",-1)])]),_:1}),i("div",Y,[o(e(d),{id:"subdomain",modelValue:e(a).subdomain,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).subdomain=l),placeholder:"mi-organizacion",pattern:"[a-z0-9-]+",required:"",class:"rounded-r-none"},null,8,["modelValue"]),t[21]||(t[21]=i("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," .votaciones.test ",-1))]),t[22]||(t[22]=i("p",{class:"text-xs text-muted-foreground"}," Solo letras minúsculas, números y guiones ",-1)),e(a).errors.subdomain?(m(),p("p",h,u(e(a).errors.subdomain),1)):g("",!0)]),i("div",ee,[o(e(n),{for:"subscription_plan"},{default:s(()=>[...t[23]||(t[23]=[r("Plan de Suscripción *",-1)])]),_:1}),o(e(w),{modelValue:e(a).subscription_plan,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).subscription_plan=l)},{default:s(()=>[o(e(L),{id:"subscription_plan"},{default:s(()=>[o(e(M))]),_:1}),o(e(P),null,{default:s(()=>[(m(!0),p(x,null,k(_.subscriptionPlans,(l,f)=>(m(),S(e(T),{key:f,value:f},{default:s(()=>[r(u(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.subscription_plan?(m(),p("p",te,u(e(a).errors.subscription_plan),1)):g("",!0)]),i("div",oe,[o(e(n),{for:"active"},{default:s(()=>[...t[24]||(t[24]=[r("Estado",-1)])]),_:1}),i("div",se,[o(e(E),{id:"active",checked:e(a).active,"onUpdate:checked":t[3]||(t[3]=l=>e(a).active=l)},null,8,["checked"]),o(e(n),{for:"active",class:"font-normal"},{default:s(()=>[r(u(e(a).active?"Activo":"Inactivo"),1)]),_:1})]),t[25]||(t[25]=i("p",{class:"text-xs text-muted-foreground"}," Los tenants inactivos no pueden acceder al sistema ",-1))])])]),_:1})]),_:1})]),_:1}),o(e(C),{value:"settings"},{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[o(e(y),null,{default:s(()=>[...t[26]||(t[26]=[r("Configuración del Sistema",-1)])]),_:1}),o(e($),null,{default:s(()=>[...t[27]||(t[27]=[r(" Personalización y configuraciones específicas ",-1)])]),_:1})]),_:1}),o(e(V),{class:"space-y-4"},{default:s(()=>[i("div",ae,[i("div",ie,[o(e(n),{for:"logo"},{default:s(()=>[...t[28]||(t[28]=[r("URL del Logo",-1)])]),_:1}),o(e(d),{id:"logo",modelValue:e(a).settings.logo,"onUpdate:modelValue":t[4]||(t[4]=l=>e(a).settings.logo=l),placeholder:"https://ejemplo.com/logo.png",type:"url"},null,8,["modelValue"]),t[29]||(t[29]=i("p",{class:"text-xs text-muted-foreground"}," URL de la imagen del logo de la organización ",-1))]),i("div",le,[o(e(n),{for:"primary_color"},{default:s(()=>[...t[30]||(t[30]=[r("Color Primario",-1)])]),_:1}),i("div",re,[o(e(d),{id:"primary_color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":t[5]||(t[5]=l=>e(a).settings.primary_color=l),placeholder:"#3B82F6",pattern:"#[0-9A-Fa-f]{6}"},null,8,["modelValue"]),o(e(d),{type:"color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":t[6]||(t[6]=l=>e(a).settings.primary_color=l),class:"w-12 p-1"},null,8,["modelValue"])]),t[31]||(t[31]=i("p",{class:"text-xs text-muted-foreground"}," Color principal de la interfaz ",-1))]),i("div",ne,[o(e(n),{for:"otp_expiration"},{default:s(()=>[...t[32]||(t[32]=[r("Expiración OTP (minutos)",-1)])]),_:1}),o(e(d),{id:"otp_expiration",modelValue:e(a).settings.otp_expiration,"onUpdate:modelValue":t[7]||(t[7]=l=>e(a).settings.otp_expiration=l),modelModifiers:{number:!0},type:"number",min:"5",max:"60",placeholder:"10"},null,8,["modelValue"]),t[33]||(t[33]=i("p",{class:"text-xs text-muted-foreground"}," Tiempo de validez del código OTP (5-60 minutos) ",-1))]),i("div",de,[o(e(n),{for:"timezone"},{default:s(()=>[...t[34]||(t[34]=[r("Zona Horaria",-1)])]),_:1}),o(e(w),{modelValue:e(a).settings.timezone,"onUpdate:modelValue":t[8]||(t[8]=l=>e(a).settings.timezone=l)},{default:s(()=>[o(e(L),{id:"timezone"},{default:s(()=>[o(e(M))]),_:1}),o(e(P),null,{default:s(()=>[(m(!0),p(x,null,k(_.timezones,(l,f)=>(m(),S(e(T),{key:f,value:f},{default:s(()=>[r(u(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[35]||(t[35]=i("p",{class:"text-xs text-muted-foreground"}," Zona horaria por defecto para votaciones ",-1))])])]),_:1})]),_:1})]),_:1}),o(e(C),{value:"limits"},{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[o(e(y),null,{default:s(()=>[...t[36]||(t[36]=[r("Límites y Cuotas",-1)])]),_:1}),o(e($),null,{default:s(()=>[...t[37]||(t[37]=[r(" Define los límites de recursos para esta organización ",-1)])]),_:1})]),_:1}),o(e(V),{class:"space-y-4"},{default:s(()=>[i("div",me,[i("div",ue,[o(e(n),{for:"max_users"},{default:s(()=>[...t[38]||(t[38]=[r("Usuarios Máximos",-1)])]),_:1}),o(e(d),{id:"max_users",modelValue:e(a).limits.max_users,"onUpdate:modelValue":t[9]||(t[9]=l=>e(a).limits.max_users=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[39]||(t[39]=i("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),i("div",pe,[o(e(n),{for:"max_votaciones"},{default:s(()=>[...t[40]||(t[40]=[r("Votaciones Máximas",-1)])]),_:1}),o(e(d),{id:"max_votaciones",modelValue:e(a).limits.max_votaciones,"onUpdate:modelValue":t[10]||(t[10]=l=>e(a).limits.max_votaciones=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[41]||(t[41]=i("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),i("div",fe,[o(e(n),{for:"max_convocatorias"},{default:s(()=>[...t[42]||(t[42]=[r("Convocatorias Máximas",-1)])]),_:1}),o(e(d),{id:"max_convocatorias",modelValue:e(a).limits.max_convocatorias,"onUpdate:modelValue":t[11]||(t[11]=l=>e(a).limits.max_convocatorias=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[43]||(t[43]=i("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))])]),t[44]||(t[44]=i("div",{class:"rounded-lg bg-muted p-4"},[i("p",{class:"text-sm text-muted-foreground"},[i("strong",null,"Nota:"),r(" Los límites se aplican según el plan de suscripción. Un valor vacío significa que no hay límite establecido para ese recurso. ")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),i("div",_e,[o(e(U),{href:_.route("admin.tenants.index")},{default:s(()=>[o(e(v),{type:"button",variant:"outline"},{default:s(()=>[...t[45]||(t[45]=[r(" Cancelar ",-1)])]),_:1})]),_:1},8,["href"]),o(e(v),{type:"submit",disabled:e(a).processing},{default:s(()=>[o(e(Z),{class:"mr-2 h-4 w-4"}),r(" "+u(e(a).processing?"Guardando...":"Crear Tenant"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{mt as default};
