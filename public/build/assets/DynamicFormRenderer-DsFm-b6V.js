import{d as W,c as S,a,o as t,f as m,j as k,i as p,b as o,u as s,e as l,g as b,t as u,W as Pe,n as F,F as w,r as A,h as H,k as De,w as Ce,T as Ne}from"./app-DqKZ5Wz7.js";import{a as T,b as R,c as P,_ as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-CN0b8aQn.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-B8lw3_EG.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-BOuIbXwM.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-U-qwaLrD.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-Cje20kZJ.js";import{_ as qe,a as Se,b as Be,c as Ae,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dn9OoszL.js";import{_ as Ee}from"./Textarea.vue_vue_type_script_setup_true_lang-ChVM_9we.js";import{_ as Te}from"./index-ESAugIes.js";import{_ as Re}from"./createLucideIcon-KFE7syiO.js";import{C as Q}from"./circle-alert-CMhwu9EW.js";import{P as ze}from"./plus-Cadc2hhK.js";import{U as K}from"./user-Gsqassl9.js";import{F as Le}from"./file-text-D5VHUHgS.js";import{a as L,_ as O}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-CAxzeLdU.js";import{U as je}from"./users-P9xvkXAv.js";import{_ as Ue,a as we}from"./index-DvhUlPUl.js";import{u as Ye,_ as Ie,a as Me,b as We,c as Ge}from"./useConditionalFields-CZUHAnEY.js";import{_ as He}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Je={class:"space-y-3"},Ke={class:"space-y-1.5"},Oe={key:0,class:"text-red-500 ml-1"},Qe={key:0,class:"text-sm text-muted-foreground"},Xe={class:"flex items-center space-x-2"},Ze={key:1,class:"space-y-3"},et={class:"flex items-center space-x-2"},tt={class:"flex items-center justify-between"},st={class:"flex items-center space-x-2"},at={class:"space-y-2 text-sm"},ot={class:"flex justify-between"},rt={class:"font-medium"},lt={class:"flex justify-between"},dt={class:"font-medium"},it={key:2,class:"text-sm text-red-600"},nt=W({__name:"PerfilCandidaturaField",props:{modelValue:{},candidaturasAprobadas:{},label:{default:"Perfil de Candidatura"},description:{default:"Selecciona tu perfil de candidatura aprobado para vincular a esta postulación"},required:{type:Boolean,default:!1},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:E}){const h=N,x=E,q=S({get:()=>h.modelValue,set:v=>x("update:modelValue",v)}),y=S(()=>h.candidaturasAprobadas.length>0),C=S(()=>q.value?h.candidaturasAprobadas.find(v=>v.id===q.value):null),j=v=>{const c=v==="null"?null:parseInt(v);q.value=c};return(v,c)=>{var f;return t(),a("div",Je,[m("div",Ke,[o(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(v.label)+" ",1),v.required?(t(),a("span",Oe,"*")):p("",!0)]),_:1}),v.description?(t(),a("p",Qe,u(v.description),1)):p("",!0)]),y.value?(t(),a("div",Ze,[o(s(qe),{"model-value":((f=q.value)==null?void 0:f.toString())||"null","onUpdate:modelValue":j,disabled:v.disabled},{default:l(()=>[o(s(Se),{class:F(["w-full",v.error?"border-red-300":""])},{default:l(()=>[o(s(Be),{placeholder:"Selecciona tu perfil de candidatura"})]),_:1},8,["class"]),o(s(Ae),null,{default:l(()=>[o(s(J),{value:"null"},{default:l(()=>[...c[4]||(c[4]=[m("div",{class:"flex items-center space-x-2"},[m("span",{class:"text-muted-foreground"},"No vincular perfil")],-1)])]),_:1}),(t(!0),a(w,null,A(v.candidaturasAprobadas,n=>(t(),k(s(J),{key:n.id,value:n.id.toString()},{default:l(()=>[m("div",et,[o(s(K),{class:"h-4 w-4"}),m("span",null,u(n.resumen),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),C.value?(t(),k(s(B),{key:0,class:"border-green-200 bg-green-50"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[m("div",tt,[m("div",st,[o(s(Le),{class:"h-5 w-5 text-green-600"}),o(s(R),{class:"text-base text-green-800"},{default:l(()=>[...c[5]||(c[5]=[b(" Perfil seleccionado ",-1)])]),_:1})]),o(s(Te),{variant:"secondary",class:"bg-green-100 text-green-800"},{default:l(()=>[...c[6]||(c[6]=[b(" Aprobado ",-1)])]),_:1})]),o(s(z),{class:"text-green-700"},{default:l(()=>[...c[7]||(c[7]=[b(" Se vinculará tu perfil de candidatura a esta postulación, preservando una copia de todos tus datos actuales. ",-1)])]),_:1})]),_:1}),o(s(P),{class:"pt-0"},{default:l(()=>[m("div",at,[m("div",ot,[c[8]||(c[8]=m("span",{class:"text-muted-foreground"},"Versión:",-1)),m("span",rt,"v"+u(C.value.version),1)]),m("div",lt,[c[9]||(c[9]=m("span",{class:"text-muted-foreground"},"Fecha aprobación:",-1)),m("span",dt,u(C.value.fecha_aprobacion),1)])])]),_:1})]),_:1})):p("",!0)])):(t(),k(s(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[m("div",Xe,[o(s(Q),{class:"h-5 w-5 text-amber-600"}),o(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...c[1]||(c[1]=[b(" No tienes un perfil de candidatura aprobado ",-1)])]),_:1})]),o(s(z),{class:"text-amber-700"},{default:l(()=>[...c[2]||(c[2]=[b(" Para vincular tu perfil a esta postulación, primero necesitas crear y obtener la aprobación de tu candidatura. ",-1)])]),_:1})]),_:1}),o(s(P),{class:"pt-0"},{default:l(()=>[o(s(Re),{variant:"outline",size:"sm",class:"border-amber-300 text-amber-800 hover:bg-amber-100",onClick:c[0]||(c[0]=n=>s(Pe).get("/miembro/candidaturas"))},{default:l(()=>[o(s(ze),{class:"mr-2 h-4 w-4"}),c[3]||(c[3]=b(" Crear Perfil de Candidatura ",-1))]),_:1})]),_:1})]),_:1})),v.error?(t(),a("p",it,u(v.error),1)):p("",!0)])}}}),ut={class:"space-y-3"},ct={class:"space-y-1.5"},mt={key:0,class:"text-red-500 ml-1"},pt={key:0,class:"text-sm text-muted-foreground"},_t={class:"flex items-center space-x-2"},ft={key:1,class:"space-y-3"},bt={class:"space-y-3"},vt={key:0,class:"flex items-start space-x-3 pb-3 border-b"},yt={class:"flex items-start justify-between"},ht={class:"font-medium"},gt={key:0,class:"text-xs text-muted-foreground mt-0.5"},xt={key:1,class:"text-xs text-muted-foreground"},$t={class:"flex items-center space-x-2"},kt={class:"space-y-3"},Vt={class:"flex items-start justify-between"},Ct={class:"font-medium"},Ut={key:0,class:"text-xs text-muted-foreground mt-0.5"},wt={key:1,class:"text-xs text-muted-foreground"},qt={key:2,class:"text-sm text-red-600"},St=W({__name:"CandidatosVotacionField",props:{modelValue:{},candidatosElegibles:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos disponibles"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:E}){const h=N,x=E,q=S(()=>h.candidatosElegibles.length>0),y=c=>{const f=c==="null"?null:parseInt(c);x("update:modelValue",f)},C=c=>h.multiple?Array.isArray(h.modelValue)&&h.modelValue.includes(c):h.modelValue===c,j=(c,f)=>{if(!h.multiple){x("update:modelValue",f?c:null);return}const n=Array.isArray(h.modelValue)?h.modelValue:[];let i;f?i=[...n,c]:i=n.filter(d=>d!==c),x("update:modelValue",i)},v=c=>{const f=[];return c.localidad&&f.push(c.localidad),c.municipio&&f.push(c.municipio),c.departamento&&f.push(c.departamento),c.territorio&&f.push(c.territorio),f.length>0?f.join(", "):""};return(c,f)=>{var n;return t(),a("div",ut,[m("div",ct,[o(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(c.label)+" ",1),c.required?(t(),a("span",mt,"*")):p("",!0)]),_:1}),c.description?(t(),a("p",pt,u(c.description),1)):p("",!0)]),q.value?(t(),a("div",ft,[c.multiple?(t(),k(s(B),{key:1,class:"border"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[m("div",$t,[o(s(je),{class:"h-4 w-4 text-muted-foreground"}),o(s(R),{class:"text-sm"},{default:l(()=>[...f[3]||(f[3]=[b(" Candidatos disponibles ",-1)])]),_:1})]),o(s(z),{class:"text-xs"},{default:l(()=>[...f[4]||(f[4]=[b(" Puedes seleccionar múltiples candidatos ",-1)])]),_:1})]),_:1}),o(s(P),null,{default:l(()=>[m("div",kt,[(t(!0),a(w,null,A(c.candidatosElegibles,i=>(t(),a("div",{key:i.id,class:"flex items-start space-x-3"},[o(s(M),{id:`candidato_check_${i.id}`,checked:C(i.id),"onUpdate:checked":d=>j(i.id,d),disabled:c.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(s(g),{for:`candidato_check_${i.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",Vt,[m("div",null,[m("p",Ct,u(i.name),1),i.cargo?(t(),a("p",Ut,u(i.cargo),1)):p("",!0),v(i)?(t(),a("p",wt,u(v(i)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):(t(),k(s(O),{key:0,"model-value":((n=c.modelValue)==null?void 0:n.toString())||"null","onUpdate:modelValue":y,disabled:c.disabled,class:"space-y-2"},{default:l(()=>[o(s(B),{class:"border"},{default:l(()=>[o(s(P),{class:"pt-6"},{default:l(()=>[m("div",bt,[c.mostrarVotoBlanco?(t(),a("div",vt,[o(s(L),{value:"null",id:"candidato_none"}),o(s(g),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:l(()=>[...f[2]||(f[2]=[m("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):p("",!0),(t(!0),a(w,null,A(c.candidatosElegibles,i=>(t(),a("div",{key:i.id,class:"flex items-start space-x-3 py-2"},[o(s(L),{value:i.id.toString(),id:`candidato_${i.id}`},null,8,["value","id"]),o(s(g),{for:`candidato_${i.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",yt,[m("div",null,[m("p",ht,u(i.name),1),i.cargo?(t(),a("p",gt,u(i.cargo),1)):p("",!0),v(i)?(t(),a("p",xt,u(v(i)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"]))])):(t(),k(s(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[m("div",_t,[o(s(Q),{class:"h-5 w-5 text-amber-600"}),o(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...f[0]||(f[0]=[b(" No hay candidatos disponibles ",-1)])]),_:1})]),o(s(z),{class:"text-amber-700"},{default:l(()=>[...f[1]||(f[1]=[b(" No se encontraron candidatos que cumplan con los criterios configurados para esta votación. ",-1)])]),_:1})]),_:1})]),_:1})),c.error?(t(),a("p",qt,u(c.error),1)):p("",!0)])}}}),Bt={class:"space-y-3"},At={class:"space-y-1.5"},jt={key:0,class:"text-red-500 ml-1"},Ft={key:0,class:"text-sm text-muted-foreground"},Pt={key:1,class:"text-xs text-blue-600 font-medium"},Dt={class:"flex items-center space-x-2"},Nt={key:1,class:"space-y-3"},Et={class:"space-y-3"},Tt={class:"flex items-start justify-between"},Rt={class:"space-y-1"},zt={class:"flex items-center gap-2"},Lt={class:"font-medium"},Yt={key:0,class:"text-xs text-muted-foreground ml-6"},It={key:1,class:"text-xs text-muted-foreground ml-6"},Mt={key:2,class:"text-xs text-blue-600 ml-6"},Wt={key:0,class:"flex items-start space-x-3 pt-3 border-t"},Gt={class:"flex items-center space-x-2"},Ht={class:"space-y-3"},Jt={class:"flex items-start justify-between"},Kt={class:"space-y-1"},Ot={class:"flex items-center gap-2"},Qt={class:"font-medium"},Xt={key:0,class:"text-xs text-muted-foreground ml-6"},Zt={key:1,class:"text-xs text-muted-foreground ml-6"},es={key:2,class:"text-xs text-blue-600 ml-6"},ts={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ss={class:"flex items-center gap-3 mb-3"},as={class:"flex-1 min-w-0"},os={class:"font-medium truncate"},rs={key:0,class:"text-xs text-muted-foreground truncate"},ls={class:"space-y-1 text-xs text-muted-foreground"},ds={key:0,class:"truncate"},is={key:1,class:"truncate"},ns={key:2,class:"text-blue-600 truncate"},us={class:"flex justify-end mt-3 pt-3 border-t"},cs={class:"text-center"},ms={class:"mt-4"},ps={key:3,class:"space-y-4"},_s={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},fs={class:"flex items-center gap-3 mb-3"},bs={class:"flex-1 min-w-0"},vs={class:"font-medium truncate"},ys={key:0,class:"text-xs text-muted-foreground truncate"},hs={class:"space-y-1 text-xs text-muted-foreground"},gs={key:0,class:"truncate"},xs={key:1,class:"truncate"},$s={key:2,class:"text-blue-600 truncate"},ks={class:"flex justify-end mt-3 pt-3 border-t"},Vs={key:2,class:"text-sm text-red-600"},Cs=W({__name:"ConvocatoriaVotacionField",props:{modelValue:{},candidatos:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos aprobados de la convocatoria"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1},convocatoriaNombre:{},vistaPreferida:{default:"lista"}},emits:["update:modelValue"],setup(N,{emit:E}){const h=N,x=E,q=S(()=>h.candidatos.length>0),y=n=>{x("update:modelValue",n==="null"?null:n)},C=n=>h.multiple?Array.isArray(h.modelValue)&&h.modelValue.includes(n):h.modelValue===n,j=(n,i)=>{if(!h.multiple){x("update:modelValue",i?n:null);return}const d=Array.isArray(h.modelValue)?h.modelValue:[];let V;i?V=[...d,n]:V=d.filter(G=>G!==n),x("update:modelValue",V)},v=n=>{const i=[];return n.localidad&&i.push(n.localidad),n.municipio&&i.push(n.municipio),n.departamento&&i.push(n.departamento),n.territorio&&i.push(n.territorio),i.length>0?i.join(", "):""},c=n=>{var V;if(!((V=n.candidatura_snapshot)!=null&&V.formulario_data))return"";const i=n.candidatura_snapshot.formulario_data,d=[];return i.profesion&&d.push(i.profesion),i.experiencia&&d.push(`${i.experiencia} años de experiencia`),d.join(" - ")},f=n=>n.split(" ").map(i=>i[0]).join("").toUpperCase().substring(0,2);return(n,i)=>(t(),a("div",Bt,[m("div",At,[o(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(n.label)+" ",1),n.required?(t(),a("span",jt,"*")):p("",!0)]),_:1}),n.description?(t(),a("p",Ft,u(n.description),1)):p("",!0),n.convocatoriaNombre?(t(),a("p",Pt," Convocatoria: "+u(n.convocatoriaNombre),1)):p("",!0)]),q.value?(t(),a("div",Nt,[!n.multiple&&n.vistaPreferida==="lista"?(t(),k(s(O),{key:0,"model-value":n.modelValue,"onUpdate:modelValue":y,disabled:n.disabled,class:"space-y-2"},{default:l(()=>[o(s(B),{class:"border"},{default:l(()=>[o(s(P),{class:"pt-6"},{default:l(()=>[m("div",Et,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),a("div",{key:d.id,class:"flex items-start space-x-3 py-2"},[o(s(L),{value:d.name,id:`candidato_${d.id}`},null,8,["value","id"]),o(s(g),{for:`candidato_${d.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",Tt,[m("div",Rt,[m("div",zt,[o(s(K),{class:"h-4 w-4 text-muted-foreground"}),m("p",Lt,u(d.name),1)]),d.cargo?(t(),a("p",Yt," Cargo: "+u(d.cargo),1)):p("",!0),v(d)?(t(),a("p",It," Ubicación: "+u(v(d)),1)):p("",!0),c(d)?(t(),a("p",Mt,u(c(d)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128)),n.mostrarVotoBlanco?(t(),a("div",Wt,[o(s(L),{value:"null",id:"candidato_none"}),o(s(g),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:l(()=>[...i[6]||(i[6]=[m("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):p("",!0)])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"])):n.multiple&&n.vistaPreferida==="lista"?(t(),k(s(B),{key:1,class:"border"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[m("div",Gt,[o(s(je),{class:"h-4 w-4 text-muted-foreground"}),o(s(R),{class:"text-sm"},{default:l(()=>[...i[7]||(i[7]=[b(" Candidatos disponibles ",-1)])]),_:1})]),o(s(z),{class:"text-xs"},{default:l(()=>[...i[8]||(i[8]=[b(" Puedes seleccionar múltiples candidatos de la convocatoria ",-1)])]),_:1})]),_:1}),o(s(P),null,{default:l(()=>[m("div",Ht,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),a("div",{key:d.id,class:"flex items-start space-x-3"},[o(s(M),{id:`candidato_check_${d.id}`,checked:C(d.name),"onUpdate:checked":V=>j(d.name,V),disabled:n.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(s(g),{for:`candidato_check_${d.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:l(()=>[m("div",Jt,[m("div",Kt,[m("div",Ot,[o(s(K),{class:"h-4 w-4 text-muted-foreground"}),m("p",Qt,u(d.name),1)]),d.cargo?(t(),a("p",Xt," Cargo: "+u(d.cargo),1)):p("",!0),v(d)?(t(),a("p",Zt," Ubicación: "+u(v(d)),1)):p("",!0),c(d)?(t(),a("p",es,u(c(d)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):p("",!0),!n.multiple&&n.vistaPreferida==="cards"?(t(),k(s(O),{key:2,"model-value":n.modelValue,"onUpdate:modelValue":y,disabled:n.disabled,class:"space-y-4"},{default:l(()=>[m("div",ts,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),k(s(B),{key:d.id,class:F(["cursor-pointer transition-all hover:shadow-md",n.modelValue===d.name?"ring-2 ring-primary":""]),onClick:V=>y(d.name)},{default:l(()=>[o(s(P),{class:"p-4"},{default:l(()=>[m("div",ss,[o(s(Ue),{class:"h-12 w-12"},{default:l(()=>[o(s(we),{class:"bg-primary/10 text-primary font-semibold"},{default:l(()=>[b(u(f(d.name)),1)]),_:2},1024)]),_:2},1024),m("div",as,[m("p",os,u(d.name),1),d.email?(t(),a("p",rs,u(d.email),1)):p("",!0)])]),m("div",ls,[d.cargo?(t(),a("p",ds,[i[9]||(i[9]=m("span",{class:"font-medium"},"Cargo:",-1)),b(" "+u(d.cargo),1)])):p("",!0),v(d)?(t(),a("p",is,[i[10]||(i[10]=m("span",{class:"font-medium"},"Ubicación:",-1)),b(" "+u(v(d)),1)])):p("",!0),c(d)?(t(),a("p",ns,u(c(d)),1)):p("",!0)]),m("div",us,[o(s(L),{value:d.name,checked:n.modelValue===d.name,onClick:i[0]||(i[0]=H(()=>{},["stop"]))},null,8,["value","checked"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),n.mostrarVotoBlanco?(t(),k(s(B),{key:0,class:F(["cursor-pointer transition-all hover:shadow-md",n.modelValue===null?"ring-2 ring-primary":""]),onClick:i[2]||(i[2]=d=>y("null"))},{default:l(()=>[o(s(P),{class:"flex items-center justify-center h-full min-h-[180px] p-4"},{default:l(()=>[m("div",cs,[i[11]||(i[11]=m("span",{class:"text-muted-foreground text-lg"},"Voto en blanco",-1)),m("div",ms,[o(s(L),{value:"null",checked:n.modelValue===null,onClick:i[1]||(i[1]=H(()=>{},["stop"]))},null,8,["checked"])])])]),_:1})]),_:1},8,["class"])):p("",!0)])]),_:1},8,["model-value","disabled"])):n.multiple&&n.vistaPreferida==="cards"?(t(),a("div",ps,[m("div",_s,[(t(!0),a(w,null,A(n.candidatos,d=>(t(),k(s(B),{key:d.id,class:F(["cursor-pointer transition-all hover:shadow-md",C(d.name)?"ring-2 ring-primary":""]),onClick:V=>j(d.name,!C(d.name))},{default:l(()=>[o(s(P),{class:"p-4"},{default:l(()=>[m("div",fs,[o(s(Ue),{class:"h-12 w-12"},{default:l(()=>[o(s(we),{class:"bg-primary/10 text-primary font-semibold"},{default:l(()=>[b(u(f(d.name)),1)]),_:2},1024)]),_:2},1024),m("div",bs,[m("p",vs,u(d.name),1),d.email?(t(),a("p",ys,u(d.email),1)):p("",!0)])]),m("div",hs,[d.cargo?(t(),a("p",gs,[i[12]||(i[12]=m("span",{class:"font-medium"},"Cargo:",-1)),b(" "+u(d.cargo),1)])):p("",!0),v(d)?(t(),a("p",xs,[i[13]||(i[13]=m("span",{class:"font-medium"},"Ubicación:",-1)),b(" "+u(v(d)),1)])):p("",!0),c(d)?(t(),a("p",$s,u(c(d)),1)):p("",!0)]),m("div",ks,[o(s(M),{checked:C(d.name),"onUpdate:checked":V=>j(d.name,V),onClick:i[3]||(i[3]=H(()=>{},["stop"])),disabled:n.disabled},null,8,["checked","onUpdate:checked","disabled"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])])):p("",!0)])):(t(),k(s(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[m("div",Dt,[o(s(Q),{class:"h-5 w-5 text-amber-600"}),o(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...i[4]||(i[4]=[b(" No hay candidatos disponibles ",-1)])]),_:1})]),o(s(z),{class:"text-amber-700"},{default:l(()=>[...i[5]||(i[5]=[b(" No se encontraron candidatos con postulaciones aprobadas para esta convocatoria. ",-1)])]),_:1})]),_:1})]),_:1})),n.error?(t(),a("p",Vs,u(n.error),1)):p("",!0)]))}}),Us={class:"space-y-6"},ws={key:0},qs={class:"text-lg font-semibold"},Ss={key:0,class:"text-sm text-muted-foreground"},Bs={class:"space-y-4"},As={key:0},js={key:1},Fs={key:2},Ps={key:0,class:"text-red-500 ml-1"},Ds={key:0,class:"text-sm text-muted-foreground mb-2"},Ns={key:1,class:"text-sm text-red-600 mt-1"},Es={key:3},Ts={key:0,class:"text-red-500 ml-1"},Rs={key:0,class:"text-sm text-muted-foreground mb-2"},zs={key:1,class:"text-sm text-red-600 mt-1"},Ls={key:4},Ys={key:0,class:"text-red-500 ml-1"},Is={key:0,class:"text-sm text-muted-foreground mb-2"},Ms={key:1,class:"text-sm text-red-600 mt-1"},Ws={key:5},Gs={key:0,class:"text-red-500 ml-1"},Hs={key:0,class:"text-sm text-muted-foreground mb-2"},Js={key:1,class:"text-sm text-red-600 mt-1"},Ks={key:6},Os={key:0,class:"text-red-500 ml-1"},Qs={key:0,class:"text-sm text-muted-foreground mb-2"},Xs={key:1,class:"text-sm text-red-600 mt-1"},Zs={key:7},ea={key:0,class:"text-red-500 ml-1"},ta={key:0,class:"text-sm text-muted-foreground mb-2"},sa={key:1,class:"text-sm text-red-600 mt-1"},aa={key:8},oa={key:0,class:"text-red-500 ml-1"},ra={key:0,class:"text-sm text-muted-foreground mb-2"},la={class:"space-y-2"},da=["id","name","value","checked","onChange","disabled"],ia={key:1,class:"text-sm text-red-600 mt-1"},na={key:9},ua={key:0,class:"text-red-500 ml-1"},ca={key:0,class:"text-sm text-muted-foreground mb-2"},ma={class:"space-y-2"},pa={key:1,class:"text-sm text-red-600 mt-1"},_a={key:10},fa={key:11},ba={key:12},va={key:13},ya={class:"list-disc list-inside space-y-1 text-sm text-amber-800"},ha=W({__name:"DynamicFormRenderer",props:{fields:{},modelValue:{},candidaturasAprobadas:{default:()=>[]},candidaturaSeleccionada:{},candidatosElegibles:{default:()=>({})},errors:{default:()=>({})},disabled:{type:Boolean,default:!1},title:{default:"Formulario de Postulación"},description:{default:"Completa los siguientes campos para enviar tu postulación"},context:{default:"postulacion"},files:{}},emits:["update:modelValue","update:candidaturaSeleccionada","filesSelected"],setup(N,{expose:E,emit:h}){const x=N,q=h,y=S({get:()=>x.modelValue||{},set:r=>q("update:modelValue",r)}),C=S({get:()=>x.candidaturaSeleccionada,set:r=>q("update:candidaturaSeleccionada",r)});S(()=>x.fields.some(r=>r.type==="perfil_candidatura"));const j=De(x.fields);Ce(()=>x.fields,r=>{j.value=r},{deep:!0});const{visibleFields:v,clearHiddenFieldValues:c}=Ye(j,y);Ce(v,()=>{c()});const f=(r,$)=>{const U={...y.value||{}};U[r]=$,y.value=U},n=(r,$,e)=>{const U=y.value[r]||[];let D;e?D=[...U,$]:D=U.filter(Y=>Y!==$),f(r,D)},i=S(()=>v.value.filter(r=>r.required).map(r=>r.id)),d=S(()=>i.value.filter(r=>{const $=v.value.find(U=>U.id===r);if(($==null?void 0:$.type)==="perfil_candidatura")return!x.candidaturaSeleccionada;const e=y.value[r];return!e||Array.isArray(e)&&e.length===0})),V=S(()=>{const r=x.fields.find($=>$.type==="perfil_candidatura");return(r==null?void 0:r.required)||!1}),G=S(()=>d.value.length===0);return E({formularioCompleto:G,camposIncompletos:d,perfilCandidaturaRequerido:V}),(r,$)=>(t(),a("div",Us,[r.title||r.description?(t(),a("div",ws,[m("h3",qs,u(r.title),1),r.description?(t(),a("p",Ss,u(r.description),1)):p("",!0)])):p("",!0),m("div",Bs,[o(Ne,{name:"fade-field"},{default:l(()=>[(t(!0),a(w,null,A(s(v),e=>{var U,D,Y,X,Z,ee,te,se,ae,oe,re,le,de,ie,ne,ue,ce,me,pe,_e,fe,be,ve,ye,he,ge,xe,$e,ke,Ve;return t(),a(w,{key:e.id},[e.type==="convocatoria"&&r.context==="votacion"?(t(),a("div",As,[o(Cs,{modelValue:y.value[e.id],"onUpdate:modelValue":_=>y.value[e.id]=_,candidatos:((U=r.candidatosElegibles[e.id])==null?void 0:U.candidatos)||[],"convocatoria-nombre":(Y=(D=r.candidatosElegibles[e.id])==null?void 0:D.convocatoria)==null?void 0:Y.nombre,label:e.title,description:e.description,required:e.required,multiple:((X=e.convocatoriaConfig)==null?void 0:X.multiple)||!1,"mostrar-voto-blanco":((Z=e.convocatoriaConfig)==null?void 0:Z.mostrarVotoBlanco)??!0,"vista-preferida":((ee=e.convocatoriaConfig)==null?void 0:ee.vistaPreferida)||"lista",error:r.errors[e.id],disabled:r.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos","convocatoria-nombre","label","description","required","multiple","mostrar-voto-blanco","vista-preferida","error","disabled"])])):e.type==="perfil_candidatura"?(t(),a("div",js,[r.context==="postulacion"?(t(),k(nt,{key:0,modelValue:C.value,"onUpdate:modelValue":$[0]||($[0]=_=>C.value=_),"candidaturas-aprobadas":r.candidaturasAprobadas,label:e.title,description:e.description,required:e.required,error:r.errors.candidatura_id,disabled:r.disabled},null,8,["modelValue","candidaturas-aprobadas","label","description","required","error","disabled"])):r.context==="votacion"?(t(),k(St,{key:1,modelValue:y.value[e.id],"onUpdate:modelValue":_=>y.value[e.id]=_,"candidatos-elegibles":r.candidatosElegibles[e.id]||[],label:e.title,description:e.description,required:e.required,multiple:((te=e.perfilCandidaturaConfig)==null?void 0:te.multiple)||!1,"mostrar-voto-blanco":((se=e.perfilCandidaturaConfig)==null?void 0:se.mostrarVotoBlanco)??!0,error:r.errors[e.id],disabled:r.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos-elegibles","label","description","required","multiple","mostrar-voto-blanco","error","disabled"])):p("",!0)])):e.type==="text"?(t(),a("div",Fs,[o(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Ps,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Ds,u(e.description),1)):p("",!0),o(s(I),{id:e.id,"model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Ingresa ${e.title.toLowerCase()}`,disabled:r.disabled,class:F([r.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",Ns,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="textarea"?(t(),a("div",Es,[o(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Ts,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Rs,u(e.description),1)):p("",!0),o(s(Ee),{id:e.id,"model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Describe ${e.title.toLowerCase()}`,disabled:r.disabled,rows:"4",class:F([r.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",zs,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="number"?(t(),a("div",Ls,[o(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Ys,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Is,u(e.description),1)):p("",!0),o(s(I),{id:e.id,type:"number","model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:r.disabled,min:(ae=e.numberConfig)==null?void 0:ae.min,max:(oe=e.numberConfig)==null?void 0:oe.max,step:((re=e.numberConfig)==null?void 0:re.step)||1,placeholder:e.placeholder||"",class:F([r.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","min","max","step","placeholder","class"]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",Ms,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="email"?(t(),a("div",Ws,[o(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Gs,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Hs,u(e.description),1)):p("",!0),o(s(I),{id:e.id,type:"email","model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:"ejemplo@correo.com",disabled:r.disabled,class:F([r.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",Js,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="date"?(t(),a("div",Ks,[o(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",Os,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",Qs,u(e.description),1)):p("",!0),o(s(I),{id:e.id,type:"date","model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:r.disabled,class:F([r.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",Xs,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="select"?(t(),a("div",Zs,[o(s(g),{for:e.id,class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",ea,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(t(),a("p",ta,u(e.description),1)):p("",!0),o(s(qe),{"model-value":y.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:r.disabled},{default:l(()=>[o(s(Se),{class:F([r.errors[`formulario_data.${e.id}`]?"border-red-300":""])},{default:l(()=>[o(s(Be),{placeholder:`Selecciona ${e.title.toLowerCase()}`},null,8,["placeholder"])]),_:2},1032,["class"]),o(s(Ae),null,{default:l(()=>[(t(!0),a(w,null,A(e.options,_=>(t(),k(s(J),{key:_,value:_},{default:l(()=>[b(u(_),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["model-value","onUpdate:modelValue","disabled"]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",sa,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="radio"?(t(),a("div",aa,[o(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",oa,"*")):p("",!0)]),_:2},1024),e.description?(t(),a("p",ra,u(e.description),1)):p("",!0),m("div",la,[(t(!0),a(w,null,A(e.options,_=>(t(),a("div",{key:_,class:"flex items-center space-x-2"},[m("input",{id:`${e.id}-${_}`,type:"radio",name:e.id,value:_,checked:y.value[e.id]===_,onChange:()=>f(e.id,_),disabled:r.disabled,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,40,da),o(s(g),{for:`${e.id}-${_}`,class:"text-sm"},{default:l(()=>[b(u(_),1)]),_:2},1032,["for"])]))),128))]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",ia,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="checkbox"?(t(),a("div",na,[o(s(g),{class:"text-sm font-medium"},{default:l(()=>[b(u(e.title)+" ",1),e.required?(t(),a("span",ua,"*")):p("",!0)]),_:2},1024),e.description?(t(),a("p",ca,u(e.description),1)):p("",!0),m("div",ma,[(t(!0),a(w,null,A(e.options,_=>(t(),a("div",{key:_,class:"flex items-center space-x-2"},[o(s(M),{id:`${e.id}-${_}`,checked:(y.value[e.id]||[]).includes(_),"onUpdate:checked":Fe=>n(e.id,_,Fe),disabled:r.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(s(g),{for:`${e.id}-${_}`,class:"text-sm"},{default:l(()=>[b(u(_),1)]),_:2},1032,["for"])]))),128))]),r.errors[`formulario_data.${e.id}`]?(t(),a("p",pa,u(r.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="file"?(t(),a("div",_a,[o(Ie,{"model-value":y.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),onFilesSelected:_=>q("filesSelected",e.id,_),label:e.title,description:e.description,required:e.required,multiple:((le=e.fileConfig)==null?void 0:le.multiple)||!1,"max-files":((de=e.fileConfig)==null?void 0:de.maxFiles)||5,"max-file-size":((ie=e.fileConfig)==null?void 0:ie.maxFileSize)||10,accept:((ne=e.fileConfig)==null?void 0:ne.accept)||".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",error:r.errors[`formulario_data.${e.id}`],disabled:r.disabled},null,8,["model-value","onUpdate:modelValue","onFilesSelected","label","description","required","multiple","max-files","max-file-size","accept","error","disabled"])])):e.type==="datepicker"?(t(),a("div",fa,[o(Me,{"model-value":y.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:r.disabled,error:r.errors[`formulario_data.${e.id}`],"min-date":(ue=e.datepickerConfig)==null?void 0:ue.minDate,"max-date":(ce=e.datepickerConfig)==null?void 0:ce.maxDate,format:((me=e.datepickerConfig)==null?void 0:me.format)||"DD/MM/YYYY","allow-past-dates":((pe=e.datepickerConfig)==null?void 0:pe.allowPastDates)??!0,"allow-future-dates":((_e=e.datepickerConfig)==null?void 0:_e.allowFutureDates)??!0},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-date","max-date","format","allow-past-dates","allow-future-dates"])])):e.type==="disclaimer"?(t(),a("div",ba,[o(We,{"model-value":y.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:r.disabled,error:r.errors[`formulario_data.${e.id}`],"disclaimer-text":((fe=e.disclaimerConfig)==null?void 0:fe.disclaimerText)||"","modal-title":((be=e.disclaimerConfig)==null?void 0:be.modalTitle)||"Términos y Condiciones","accept-button-text":((ve=e.disclaimerConfig)==null?void 0:ve.acceptButtonText)||"Acepto","decline-button-text":((ye=e.disclaimerConfig)==null?void 0:ye.declineButtonText)||"No acepto"},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","disclaimer-text","modal-title","accept-button-text","decline-button-text"])])):e.type==="repeater"?(t(),a("div",va,[o(Ge,{"model-value":y.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:r.disabled,error:r.errors[`formulario_data.${e.id}`],"min-items":((he=e.repeaterConfig)==null?void 0:he.minItems)||0,"max-items":((ge=e.repeaterConfig)==null?void 0:ge.maxItems)||10,"item-name":((xe=e.repeaterConfig)==null?void 0:xe.itemName)||"Elemento","add-button-text":(($e=e.repeaterConfig)==null?void 0:$e.addButtonText)||"Agregar elemento","remove-button-text":((ke=e.repeaterConfig)==null?void 0:ke.removeButtonText)||"Eliminar",fields:((Ve=e.repeaterConfig)==null?void 0:Ve.fields)||[]},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-items","max-items","item-name","add-button-text","remove-button-text","fields"])])):p("",!0)],64)}),128))]),_:1})]),r.context==="postulacion"&&d.value.length>0?(t(),k(s(B),{key:1,class:"border-amber-200 bg-amber-50"},{default:l(()=>[o(s(T),{class:"pb-3"},{default:l(()=>[o(s(R),{class:"text-base text-amber-800"},{default:l(()=>[...$[1]||($[1]=[b(" Campos requeridos pendientes ",-1)])]),_:1}),o(s(z),{class:"text-amber-700"},{default:l(()=>[...$[2]||($[2]=[b(" Completa los siguientes campos obligatorios antes de enviar tu postulación. ",-1)])]),_:1})]),_:1}),o(s(P),{class:"pt-0"},{default:l(()=>[m("ul",ya,[(t(!0),a(w,null,A(d.value,e=>{var U;return t(),a("li",{key:e},u((U=r.fields.find(D=>D.id===e))==null?void 0:U.title),1)}),128))])]),_:1})]),_:1})):p("",!0)]))}}),Ra=He(ha,[["__scopeId","data-v-5b6649df"]]);export{Ra as D};
