import{d as A,u as F,i as p,e as o,f as e,q,w as s,g as i,v as k,h as r,l as O,j as _,m,t as u,F as g,k as S,b as w}from"./app-CrD_KEFj.js";import{_ as E}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DsZMIhJR.js";import{_ as x}from"./createLucideIcon-ZnxzUm35.js";import{_ as v,a as c,b,c as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-xJVPjAdU.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-CTEOuTSD.js";import{_ as d}from"./Input.vue_vue_type_script_setup_true_lang-CDAyKT8J.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-BaMHB0QC.js";import{_ as L,a as M,b as T,c as j,d as B}from"./SelectValue.vue_vue_type_script_setup_true_lang-GMm3aUgQ.js";import{_ as G}from"./Switch.vue_vue_type_script_setup_true_lang-DbdYESAj.js";import{_ as I,a as R,b as $,c as z}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-D4k45FQL.js";import{A as Z}from"./arrow-left-DuPa6oNw.js";import{S as H}from"./save-Bsy9J4bA.js";import"./useFlashMessages-trgAog73.js";import"./index-777viwuQ.js";import"./floating-ui.vue-gpeSOIY0.js";import"./x-B7aKZY06.js";import"./index-Bt8AT0c4.js";import"./shield-DJolrK95.js";import"./user-5xjrPwhc.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CLmN0hbT.js";import"./chevron-right-C9WzyXtv.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CyEERs4H.js";import"./VisuallyHidden-1uupHXlw.js";import"./index-c4ehKeV7.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CM3JmPaK.js";import"./index-BP3SOsfU.js";import"./circle-alert-0K4JQ-z5.js";import"./map-pin-BiDcjO9W.js";import"./chevrons-up-down-DyidzQ0P.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-1jA7iwBL.js";import"./tag-DS-1Ejin.js";import"./users-BaF55dbJ.js";import"./target-D9-QNOuA.js";import"./vote-IRVpGuAQ.js";import"./folder-open-xNF7AHc7.js";import"./send-TyaYyBhR.js";import"./file-text-Bu1VvZe4.js";import"./briefcase-DREJOcCn.js";import"./calendar-BLm5XE2X.js";import"./megaphone-BaDiRPWr.js";import"./user-check-IQDv947s.js";import"./clipboard-list-Cs-V_sio.js";import"./mail-C1dcLyQd.js";import"./message-square-DPOk_07o.js";import"./external-link-DTi_Y1WS.js";import"./panel-left-C1oWoC8m.js";import"./index-CiAadxSQ.js";import"./check-BPUn1pTh.js";import"./index-Cx43HDCP.js";import"./VisuallyHiddenInput-D2TiXZkP.js";import"./RovingFocusItem-CABPV_rH.js";import"./utils-BaUQ2S0d.js";const J={class:"flex h-full flex-1 flex-col gap-4 p-4"},K={class:"flex items-center justify-between"},Q={class:"grid gap-4 md:grid-cols-2"},W={class:"space-y-2"},X={key:0,class:"text-sm text-red-500"},Y={class:"space-y-2"},h={class:"flex"},ee={key:0,class:"text-sm text-red-500"},te={class:"space-y-2"},oe={key:0,class:"text-sm text-red-500"},se={class:"space-y-2"},ae={class:"flex items-center space-x-2"},ie={class:"grid gap-4 md:grid-cols-2"},le={class:"space-y-2"},re={class:"space-y-2"},ne={class:"flex gap-2"},de={class:"space-y-2"},me={class:"space-y-2"},ue={class:"grid gap-4 md:grid-cols-3"},pe={class:"space-y-2"},fe={class:"space-y-2"},_e={class:"space-y-2"},ge={class:"mt-6 flex justify-end gap-4"},_t=A({__name:"Create",props:{subscriptionPlans:{},timezones:{}},setup(C){const D=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Tenants",href:"/admin/tenants"},{title:"Crear Tenant",href:"#"}],a=F({name:"",subdomain:"",subscription_plan:"basic",active:!0,settings:{logo:"",primary_color:"#3B82F6",otp_expiration:10,timezone:"America/Bogota"},limits:{max_users:null,max_votaciones:null,max_convocatorias:null}}),N=()=>{a.post("/admin/tenants",{preserveScroll:!0})},P=()=>{a.name&&!a.subdomain&&(a.subdomain=a.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};return(U,t)=>(m(),p(g,null,[o(e(q),{title:"Crear Tenant"}),o(E,{breadcrumbs:D},{default:s(()=>[i("div",J,[i("div",K,[t[13]||(t[13]=i("div",null,[i("h2",{class:"text-3xl font-bold tracking-tight"},"Crear Nuevo Tenant"),i("p",{class:"text-muted-foreground"}," Configura una nueva organización en el sistema ")],-1)),o(e(k),{href:U.route("admin.tenants.index")},{default:s(()=>[o(e(x),{variant:"outline"},{default:s(()=>[o(e(Z),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=r(" Volver ",-1))]),_:1})]),_:1},8,["href"])]),i("form",{onSubmit:O(N,["prevent"])},[o(e(I),{"default-value":"general",class:"w-full"},{default:s(()=>[o(e(R),{class:"grid w-full grid-cols-3"},{default:s(()=>[o(e($),{value:"general"},{default:s(()=>[...t[14]||(t[14]=[r("Información General",-1)])]),_:1}),o(e($),{value:"settings"},{default:s(()=>[...t[15]||(t[15]=[r("Configuración",-1)])]),_:1}),o(e($),{value:"limits"},{default:s(()=>[...t[16]||(t[16]=[r("Límites y Cuotas",-1)])]),_:1})]),_:1}),o(e(z),{value:"general"},{default:s(()=>[o(e(v),null,{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[...t[17]||(t[17]=[r("Información General",-1)])]),_:1}),o(e(V),null,{default:s(()=>[...t[18]||(t[18]=[r(" Datos básicos de la organización ",-1)])]),_:1})]),_:1}),o(e(y),{class:"space-y-4"},{default:s(()=>[i("div",Q,[i("div",W,[o(e(n),{for:"name"},{default:s(()=>[...t[19]||(t[19]=[r("Nombre de la Organización *",-1)])]),_:1}),o(e(d),{id:"name",modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).name=l),onBlur:P,placeholder:"Mi Organización",required:""},null,8,["modelValue"]),e(a).errors.name?(m(),p("p",X,u(e(a).errors.name),1)):_("",!0)]),i("div",Y,[o(e(n),{for:"subdomain"},{default:s(()=>[...t[20]||(t[20]=[r("Subdominio *",-1)])]),_:1}),i("div",h,[o(e(d),{id:"subdomain",modelValue:e(a).subdomain,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).subdomain=l),placeholder:"mi-organizacion",pattern:"[a-z0-9-]+",required:"",class:"rounded-r-none"},null,8,["modelValue"]),t[21]||(t[21]=i("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," .votaciones.test ",-1))]),t[22]||(t[22]=i("p",{class:"text-xs text-muted-foreground"}," Solo letras minúsculas, números y guiones ",-1)),e(a).errors.subdomain?(m(),p("p",ee,u(e(a).errors.subdomain),1)):_("",!0)]),i("div",te,[o(e(n),{for:"subscription_plan"},{default:s(()=>[...t[23]||(t[23]=[r("Plan de Suscripción *",-1)])]),_:1}),o(e(L),{modelValue:e(a).subscription_plan,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).subscription_plan=l)},{default:s(()=>[o(e(M),{id:"subscription_plan"},{default:s(()=>[o(e(T))]),_:1}),o(e(j),null,{default:s(()=>[(m(!0),p(g,null,S(C.subscriptionPlans,(l,f)=>(m(),w(e(B),{key:f,value:f},{default:s(()=>[r(u(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.subscription_plan?(m(),p("p",oe,u(e(a).errors.subscription_plan),1)):_("",!0)]),i("div",se,[o(e(n),{for:"active"},{default:s(()=>[...t[24]||(t[24]=[r("Estado",-1)])]),_:1}),i("div",ae,[o(e(G),{id:"active",checked:e(a).active,"onUpdate:checked":t[3]||(t[3]=l=>e(a).active=l)},null,8,["checked"]),o(e(n),{for:"active",class:"font-normal"},{default:s(()=>[r(u(e(a).active?"Activo":"Inactivo"),1)]),_:1})]),t[25]||(t[25]=i("p",{class:"text-xs text-muted-foreground"}," Los tenants inactivos no pueden acceder al sistema ",-1))])])]),_:1})]),_:1})]),_:1}),o(e(z),{value:"settings"},{default:s(()=>[o(e(v),null,{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[...t[26]||(t[26]=[r("Configuración del Sistema",-1)])]),_:1}),o(e(V),null,{default:s(()=>[...t[27]||(t[27]=[r(" Personalización y configuraciones específicas ",-1)])]),_:1})]),_:1}),o(e(y),{class:"space-y-4"},{default:s(()=>[i("div",ie,[i("div",le,[o(e(n),{for:"logo"},{default:s(()=>[...t[28]||(t[28]=[r("URL del Logo",-1)])]),_:1}),o(e(d),{id:"logo",modelValue:e(a).settings.logo,"onUpdate:modelValue":t[4]||(t[4]=l=>e(a).settings.logo=l),placeholder:"https://ejemplo.com/logo.png",type:"url"},null,8,["modelValue"]),t[29]||(t[29]=i("p",{class:"text-xs text-muted-foreground"}," URL de la imagen del logo de la organización ",-1))]),i("div",re,[o(e(n),{for:"primary_color"},{default:s(()=>[...t[30]||(t[30]=[r("Color Primario",-1)])]),_:1}),i("div",ne,[o(e(d),{id:"primary_color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":t[5]||(t[5]=l=>e(a).settings.primary_color=l),placeholder:"#3B82F6",pattern:"#[0-9A-Fa-f]{6}"},null,8,["modelValue"]),o(e(d),{type:"color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":t[6]||(t[6]=l=>e(a).settings.primary_color=l),class:"w-12 p-1"},null,8,["modelValue"])]),t[31]||(t[31]=i("p",{class:"text-xs text-muted-foreground"}," Color principal de la interfaz ",-1))]),i("div",de,[o(e(n),{for:"otp_expiration"},{default:s(()=>[...t[32]||(t[32]=[r("Expiración OTP (minutos)",-1)])]),_:1}),o(e(d),{id:"otp_expiration",modelValue:e(a).settings.otp_expiration,"onUpdate:modelValue":t[7]||(t[7]=l=>e(a).settings.otp_expiration=l),modelModifiers:{number:!0},type:"number",min:"5",max:"60",placeholder:"10"},null,8,["modelValue"]),t[33]||(t[33]=i("p",{class:"text-xs text-muted-foreground"}," Tiempo de validez del código OTP (5-60 minutos) ",-1))]),i("div",me,[o(e(n),{for:"timezone"},{default:s(()=>[...t[34]||(t[34]=[r("Zona Horaria",-1)])]),_:1}),o(e(L),{modelValue:e(a).settings.timezone,"onUpdate:modelValue":t[8]||(t[8]=l=>e(a).settings.timezone=l)},{default:s(()=>[o(e(M),{id:"timezone"},{default:s(()=>[o(e(T))]),_:1}),o(e(j),null,{default:s(()=>[(m(!0),p(g,null,S(C.timezones,(l,f)=>(m(),w(e(B),{key:f,value:f},{default:s(()=>[r(u(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[35]||(t[35]=i("p",{class:"text-xs text-muted-foreground"}," Zona horaria por defecto para votaciones ",-1))])])]),_:1})]),_:1})]),_:1}),o(e(z),{value:"limits"},{default:s(()=>[o(e(v),null,{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[...t[36]||(t[36]=[r("Límites y Cuotas",-1)])]),_:1}),o(e(V),null,{default:s(()=>[...t[37]||(t[37]=[r(" Define los límites de recursos para esta organización ",-1)])]),_:1})]),_:1}),o(e(y),{class:"space-y-4"},{default:s(()=>[i("div",ue,[i("div",pe,[o(e(n),{for:"max_users"},{default:s(()=>[...t[38]||(t[38]=[r("Usuarios Máximos",-1)])]),_:1}),o(e(d),{id:"max_users",modelValue:e(a).limits.max_users,"onUpdate:modelValue":t[9]||(t[9]=l=>e(a).limits.max_users=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[39]||(t[39]=i("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),i("div",fe,[o(e(n),{for:"max_votaciones"},{default:s(()=>[...t[40]||(t[40]=[r("Votaciones Máximas",-1)])]),_:1}),o(e(d),{id:"max_votaciones",modelValue:e(a).limits.max_votaciones,"onUpdate:modelValue":t[10]||(t[10]=l=>e(a).limits.max_votaciones=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[41]||(t[41]=i("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),i("div",_e,[o(e(n),{for:"max_convocatorias"},{default:s(()=>[...t[42]||(t[42]=[r("Convocatorias Máximas",-1)])]),_:1}),o(e(d),{id:"max_convocatorias",modelValue:e(a).limits.max_convocatorias,"onUpdate:modelValue":t[11]||(t[11]=l=>e(a).limits.max_convocatorias=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[43]||(t[43]=i("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))])]),t[44]||(t[44]=i("div",{class:"rounded-lg bg-muted p-4"},[i("p",{class:"text-sm text-muted-foreground"},[i("strong",null,"Nota:"),r(" Los límites se aplican según el plan de suscripción. Un valor vacío significa que no hay límite establecido para ese recurso. ")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),i("div",ge,[o(e(k),{href:U.route("admin.tenants.index")},{default:s(()=>[o(e(x),{type:"button",variant:"outline"},{default:s(()=>[...t[45]||(t[45]=[r(" Cancelar ",-1)])]),_:1})]),_:1},8,["href"]),o(e(x),{type:"submit",disabled:e(a).processing},{default:s(()=>[o(e(H),{class:"mr-2 h-4 w-4"}),r(" "+u(e(a).processing?"Guardando...":"Crear Tenant"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{_t as default};
