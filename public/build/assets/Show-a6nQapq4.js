import{_ as ee}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DZYDPVQJ.js";import{d as te,r as D,c as se,i as g,e as s,f as t,q as ae,w as a,g as i,t as d,b as x,j as f,v as oe,h as l,m as u,n as C,F as z,k as F,y as ie,s as $}from"./app-BrD2QGCV.js";import{_ as p,a as v,b as h,c as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-DAXo-B_x.js";import{_ as H}from"./CardDescription.vue_vue_type_script_setup_true_lang-DBZUa_H8.js";import{_ as w}from"./createLucideIcon-CfvjSeOT.js";import{_ as E}from"./index-CNCNgiGH.js";import{_ as le}from"./Progress.vue_vue_type_script_setup_true_lang-BGoEEFsA.js";import{_ as ne,a as re,b as P,c as j}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DJKQjuB8.js";import{_ as de,a as ue,b as me,c as fe,d as ce,e as ge,f as be,g as pe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CyBhw61L.js";import{_ as ye}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-BbrjOBCH.js";import{t as _}from"./index-DnzQ_biR.js";import{_ as xe}from"./EntregablesTable.vue_vue_type_script_setup_true_lang-B-oCllUt.js";import{_ as ve,a as he}from"./ActivityLog.vue_vue_type_script_setup_true_lang-DoBDDZOz.js";import{A as _e}from"./arrow-left-DFkojAHR.js";import{S as $e}from"./square-pen-CirwZveB.js";import{C as Ee}from"./copy-DjjvLZN1.js";import{T as we}from"./trash-2-CDmVNBir.js";import{T as ke}from"./target-dK9v5UXZ.js";import{C as Ce}from"./clock-4chQLfX0.js";import{F as T}from"./file-text-CTdhs6hj.js";import{C as ze}from"./calendar-CYwFKqbN.js";import{U as Pe}from"./user-CFoGTRlH.js";import{T as je}from"./tag-Bb4Acpj2.js";import{P as A}from"./plus-CnnTpAtf.js";import{f as B,e as I}from"./es-BDPlFIsO.js";import{p as q}from"./parseISO-DFjB8F03.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-Ym97pKSR.js";import"./index-CaxA_LAe.js";import"./floating-ui.vue-gLKKvGLM.js";import"./x-GbNmdtd1.js";import"./Input.vue_vue_type_script_setup_true_lang-q8xABjEX.js";import"./index-BUVuXDf0.js";import"./index-C-zWBZWq.js";import"./shield-B5Q6GdXO.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DyEz-uPK.js";import"./chevron-right-YNwTIyTL.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BUWxYp1-.js";import"./VisuallyHidden-nhjRayVb.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-r_ipOL3R.js";import"./check-DCLeEZ05.js";import"./Label.vue_vue_type_script_setup_true_lang-DZqq_eao.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CE6wF4w5.js";import"./circle-alert-C3pua8qZ.js";import"./map-pin-9JO26skO.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-DYQJYrap.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-GBfMPHrO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-BhbJk3yE.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CzSE5pTM.js";import"./users-CKUBvxrh.js";import"./vote-DlQ2_ROW.js";import"./folder-open-EMUKzbDY.js";import"./send-QuKJqBZV.js";import"./briefcase-CM5vbtF2.js";import"./megaphone-DKElQkZz.js";import"./user-check-DLvFRXOO.js";import"./clipboard-list-Br-bGukG.js";import"./mail-CReXc2pr.js";import"./message-square-P8I4Nbh3.js";import"./external-link-BzGRET35.js";import"./panel-left-DBcB4ucU.js";import"./index-lazXCbFK.js";import"./RovingFocusItem-DsUoMxIm.js";import"./utils-DM5qppqJ.js";import"./DialogTrigger-CRjUD-Lf.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-ByXequ3_.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-Bsdl3ZMu.js";import"./eye-CJEUMqxr.js";import"./circle-check-BqkTo4ZH.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-D0-YoXrM.js";import"./filter-nxNxH-UA.js";const Se={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Me={class:"flex items-center justify-between"},Ne={class:"text-2xl font-bold"},Ve={class:"text-muted-foreground"},De={class:"flex items-center gap-2"},Fe={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-5"},He={class:"text-2xl font-bold"},Te={class:"text-2xl font-bold"},Ae={class:"text-xs text-muted-foreground"},Be={class:"text-sm font-medium"},Ie={class:"text-sm font-medium"},qe={key:0,class:"text-xs text-muted-foreground"},Re={key:0},Ue={class:"text-sm text-muted-foreground whitespace-pre-wrap"},Le={class:"grid gap-4 md:grid-cols-2"},Oe={class:"text-sm text-muted-foreground"},Ge={class:"text-sm text-muted-foreground"},Je={class:"text-sm text-muted-foreground"},Ke={class:"space-y-2"},Qe={class:"flex items-center justify-between text-sm"},We={class:"flex items-center justify-between text-sm"},Xe={class:"flex items-center justify-between text-sm"},Ye={class:"flex items-center gap-2"},Ze={class:"flex flex-wrap gap-2"},et={class:"space-y-3"},tt={key:0},st={class:"text-sm text-muted-foreground"},at={key:1},ot={class:"grid gap-4 md:grid-cols-2"},it={class:"font-semibold mb-1"},lt={key:0,class:"text-red-500"},nt={class:"text-sm text-muted-foreground"},rt={key:0,class:"text-xs text-muted-foreground mt-1"},dt={key:0,class:"text-center py-4"},ut={class:"grid gap-4 md:grid-cols-2 text-sm"},mt={class:"font-medium"},ft={class:"font-medium"},ct={key:0},gt={class:"font-medium"},bt={key:1},pt={class:"font-medium"},yt={class:"flex justify-between items-center"},Fs=te({__name:"Show",props:{hito:{},proyecto:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageEntregables:{type:Boolean},estadisticas:{},actividades:{},usuariosActividades:{},camposPersonalizados:{},valoresCamposPersonalizados:{}},setup(o){const m=o,R=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:m.proyecto.nombre,href:`/admin/proyectos/${m.proyecto.id}`},{title:"Hitos",href:`/admin/proyectos/${m.proyecto.id}/hitos`},{title:m.hito.nombre,href:"#"}],S=D("detalles"),c=D({usuario_id:null,tipo_entidad:null,tipo_accion:null,fecha_inicio:null,fecha_fin:null}),U=()=>{$.visit(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/edit`)},L=()=>{$.delete(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}`,{onSuccess:()=>{_.success("Hito eliminado exitosamente")},onError:()=>{_.error("Error al eliminar el hito")}})},O=()=>{$.post(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/duplicar`,{},{onSuccess:()=>{_.success("Hito duplicado exitosamente")},onError:()=>{_.error("Error al duplicar el hito")}})},M=()=>{$.visit(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/entregables/create`)},G=n=>{$.visit(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/entregables/${n.id}`)},J=n=>{$.visit(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/entregables/${n.id}/edit`)},K=n=>{$.delete(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/entregables/${n.id}`,{onSuccess:()=>{_.success("Entregable eliminado exitosamente")},onError:()=>{_.error("Error al eliminar el entregable")}})},Q=n=>{$.post(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/entregables/${n.id}/completar`,{},{onSuccess:()=>{_.success("Entregable completado exitosamente")},onError:()=>{_.error("Error al completar el entregable")}})},W=n=>{$.post(`/admin/proyectos/${m.proyecto.id}/hitos/${m.hito.id}/entregables/${n.id}/actualizar-estado`,{estado:"en_progreso"},{onSuccess:()=>{_.success("Entregable marcado como en progreso")},onError:()=>{_.error("Error al actualizar el estado")}})},N=n=>({pendiente:"bg-gray-100 text-gray-800",en_progreso:"bg-blue-100 text-blue-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",k=n=>n?B(q(n),"dd MMM yyyy",{locale:I}):"No definida",V=n=>n?B(q(n),"dd MMM yyyy 'a las' HH:mm",{locale:I}):"No definida",X=(n,e)=>{var r;if(e==null||e==="")return"No especificado";switch(n.tipo){case"date":return k(e);case"checkbox":return e?"Sí":"No";case"select":case"radio":const b=(r=n.opciones)==null?void 0:r.find(Z=>Z.value===e);return(b==null?void 0:b.label)||e;default:return e}},Y=se(()=>{let n=m.actividades||[];return c.value.usuario_id&&(n=n.filter(e=>{var r;return((r=e.causer)==null?void 0:r.id)===c.value.usuario_id})),c.value.tipo_entidad&&(n=n.filter(e=>e.subject_type===c.value.tipo_entidad)),c.value.tipo_accion&&(n=n.filter(e=>e.event===c.value.tipo_accion)),(c.value.fecha_inicio||c.value.fecha_fin)&&(n=n.filter(e=>{const r=new Date(e.created_at);if(c.value.fecha_inicio){const b=new Date(c.value.fecha_inicio);if(r<b)return!1}if(c.value.fecha_fin){const b=new Date(c.value.fecha_fin);if(b.setHours(23,59,59,999),r>b)return!1}return!0})),n});return(n,e)=>(u(),g(z,null,[s(t(ae),{title:`Hito: ${o.hito.nombre}`},null,8,["title"]),s(ee,{breadcrumbs:R},{default:a(()=>[i("div",Se,[i("div",Me,[i("div",null,[i("h1",Ne,d(o.hito.nombre),1),i("p",Ve,"Proyecto: "+d(o.proyecto.nombre),1)]),i("div",De,[s(t(oe),{href:`/admin/proyectos/${o.proyecto.id}/hitos`},{default:a(()=>[s(t(w),{variant:"outline",size:"sm"},{default:a(()=>[s(t(_e),{class:"h-4 w-4 mr-2"}),e[2]||(e[2]=l(" Volver ",-1))]),_:1})]),_:1},8,["href"]),o.canEdit?(u(),x(t(w),{key:0,onClick:U,size:"sm",variant:"outline"},{default:a(()=>[s(t($e),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=l(" Editar ",-1))]),_:1})):f("",!0),s(t(w),{onClick:O,size:"sm",variant:"outline"},{default:a(()=>[s(t(Ee),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=l(" Duplicar ",-1))]),_:1}),o.canDelete?(u(),x(t(de),{key:1},{default:a(()=>[s(t(ye),{asChild:""},{default:a(()=>[s(t(w),{variant:"destructive",size:"sm"},{default:a(()=>[s(t(we),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=l(" Eliminar ",-1))]),_:1})]),_:1}),s(t(ue),null,{default:a(()=>[s(t(me),null,{default:a(()=>[s(t(fe),null,{default:a(()=>[...e[6]||(e[6]=[l("¿Estás seguro?",-1)])]),_:1}),s(t(ce),null,{default:a(()=>[...e[7]||(e[7]=[l(" Esta acción no se puede deshacer. Se eliminará permanentemente el hito y todos sus entregables asociados. ",-1)])]),_:1})]),_:1}),s(t(ge),null,{default:a(()=>[s(t(be),null,{default:a(()=>[...e[8]||(e[8]=[l("Cancelar",-1)])]),_:1}),s(t(pe),{onClick:L},{default:a(()=>[...e[9]||(e[9]=[l(" Eliminar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0)])]),i("div",Fe,[s(t(p),null,{default:a(()=>[s(t(v),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(h),{class:"text-sm font-medium"},{default:a(()=>[...e[10]||(e[10]=[l("Estado",-1)])]),_:1}),s(t(ke),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(y),null,{default:a(()=>[s(t(E),{class:C([N(o.hito.estado),"mt-1"])},{default:a(()=>[l(d(o.hito.estado),1)]),_:1},8,["class"])]),_:1})]),_:1}),s(t(p),null,{default:a(()=>[s(t(v),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(h),{class:"text-sm font-medium"},{default:a(()=>[...e[11]||(e[11]=[l("Progreso",-1)])]),_:1}),s(t(Ce),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(y),null,{default:a(()=>[i("div",He,d(o.hito.porcentaje_completado)+"%",1),s(t(le),{value:o.hito.porcentaje_completado,class:"mt-2 h-1"},null,8,["value"])]),_:1})]),_:1}),s(t(p),null,{default:a(()=>[s(t(v),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(h),{class:"text-sm font-medium"},{default:a(()=>[...e[12]||(e[12]=[l("Entregables",-1)])]),_:1}),s(t(T),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(y),null,{default:a(()=>[i("div",Te,d(o.estadisticas.total_entregables),1),i("p",Ae,d(o.estadisticas.entregables_completados)+" completados ",1)]),_:1})]),_:1}),s(t(p),null,{default:a(()=>[s(t(v),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(h),{class:"text-sm font-medium"},{default:a(()=>[...e[13]||(e[13]=[l("Fecha Fin",-1)])]),_:1}),s(t(ze),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(y),null,{default:a(()=>[i("div",Be,d(k(o.hito.fecha_fin)),1),o.estadisticas.dias_restantes!==null?(u(),g("p",{key:0,class:C(["text-xs",o.estadisticas.esta_vencido?"text-red-600":"text-muted-foreground"])},d(o.estadisticas.esta_vencido?`Vencido hace ${Math.abs(o.estadisticas.dias_restantes)} días`:`${o.estadisticas.dias_restantes} días restantes`),3)):f("",!0)]),_:1})]),_:1}),s(t(p),null,{default:a(()=>[s(t(v),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(h),{class:"text-sm font-medium"},{default:a(()=>[...e[14]||(e[14]=[l("Responsable",-1)])]),_:1}),s(t(Pe),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(y),null,{default:a(()=>{var r;return[i("div",Ie,d(((r=o.hito.responsable)==null?void 0:r.name)||"Sin asignar"),1),o.hito.responsable?(u(),g("p",qe,d(o.hito.responsable.email),1)):f("",!0)]}),_:1})]),_:1})]),s(t(ne),{modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=r=>S.value=r),class:"flex-1"},{default:a(()=>[s(t(re),null,{default:a(()=>[s(t(P),{value:"detalles"},{default:a(()=>[...e[15]||(e[15]=[l("Detalles",-1)])]),_:1}),s(t(P),{value:"entregables"},{default:a(()=>[e[16]||(e[16]=l(" Entregables ",-1)),s(t(E),{variant:"secondary",class:"ml-2"},{default:a(()=>[l(d(o.estadisticas.total_entregables),1)]),_:1})]),_:1}),s(t(P),{value:"actividad"},{default:a(()=>[...e[17]||(e[17]=[l("Actividad",-1)])]),_:1})]),_:1}),s(t(j),{value:"detalles",class:"space-y-4"},{default:a(()=>[s(t(p),null,{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[18]||(e[18]=[l("Información General",-1)])]),_:1})]),_:1}),s(t(y),{class:"space-y-4"},{default:a(()=>[o.hito.descripcion?(u(),g("div",Re,[e[19]||(e[19]=i("h3",{class:"font-semibold mb-2"},"Descripción",-1)),i("p",Ue,d(o.hito.descripcion),1)])):f("",!0),i("div",Le,[i("div",null,[e[20]||(e[20]=i("h3",{class:"font-semibold mb-2"},"Fecha de Inicio",-1)),i("p",Oe,d(k(o.hito.fecha_inicio)),1)]),i("div",null,[e[21]||(e[21]=i("h3",{class:"font-semibold mb-2"},"Fecha de Fin",-1)),i("p",Ge,d(k(o.hito.fecha_fin)),1)]),i("div",null,[e[22]||(e[22]=i("h3",{class:"font-semibold mb-2"},"Orden",-1)),i("p",Je,d(o.hito.orden),1)]),i("div",null,[e[23]||(e[23]=i("h3",{class:"font-semibold mb-2"},"Estado",-1)),s(t(E),{class:C(N(o.hito.estado))},{default:a(()=>[l(d(o.hito.estado),1)]),_:1},8,["class"])])]),i("div",null,[e[27]||(e[27]=i("h3",{class:"font-semibold mb-2"},"Resumen de Entregables",-1)),i("div",Ke,[i("div",Qe,[e[24]||(e[24]=i("span",{class:"text-muted-foreground"},"Pendientes",-1)),s(t(E),{variant:"outline"},{default:a(()=>[l(d(o.estadisticas.entregables_pendientes),1)]),_:1})]),i("div",We,[e[25]||(e[25]=i("span",{class:"text-muted-foreground"},"En Progreso",-1)),s(t(E),{variant:"outline",class:"bg-blue-50"},{default:a(()=>[l(d(o.estadisticas.entregables_en_progreso),1)]),_:1})]),i("div",Xe,[e[26]||(e[26]=i("span",{class:"text-muted-foreground"},"Completados",-1)),s(t(E),{variant:"outline",class:"bg-green-50"},{default:a(()=>[l(d(o.estadisticas.entregables_completados),1)]),_:1})])])])]),_:1})]),_:1}),o.hito.etiquetas&&o.hito.etiquetas.length>0?(u(),x(t(p),{key:0},{default:a(()=>[s(t(v),null,{default:a(()=>[i("div",Ye,[s(t(je),{class:"h-5 w-5"}),s(t(h),null,{default:a(()=>[...e[28]||(e[28]=[l("Etiquetas",-1)])]),_:1})]),s(t(H),null,{default:a(()=>[...e[29]||(e[29]=[l(" Etiquetas asignadas a este hito para su organización y categorización ",-1)])]),_:1})]),_:1}),s(t(y),null,{default:a(()=>[i("div",Ze,[(u(!0),g(z,null,F(o.hito.etiquetas,r=>(u(),x(t(E),{key:r.id,variant:"outline",class:"px-3 py-1.5",style:ie({borderColor:r.color||"#94a3b8",color:r.color||"#64748b",backgroundColor:`${r.color}15`||"#f1f5f9"})},{default:a(()=>[l(d(r.nombre),1)]),_:2},1032,["style"]))),128))])]),_:1})]),_:1})):f("",!0),o.hito.parent_id||o.hito.ruta_completa?(u(),x(t(p),{key:1},{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[30]||(e[30]=[l("Jerarquía",-1)])]),_:1})]),_:1}),s(t(y),null,{default:a(()=>[i("div",et,[o.hito.ruta_completa?(u(),g("div",tt,[e[31]||(e[31]=i("h3",{class:"font-semibold mb-2"},"Ruta Completa",-1)),i("p",st,d(o.hito.ruta_completa),1)])):f("",!0),o.hito.nivel!==void 0?(u(),g("div",at,[e[32]||(e[32]=i("h3",{class:"font-semibold mb-2"},"Nivel",-1)),s(t(E),{variant:"outline"},{default:a(()=>[l("Nivel "+d(o.hito.nivel),1)]),_:1})])):f("",!0)])]),_:1})]),_:1})):f("",!0),o.camposPersonalizados&&o.camposPersonalizados.length>0?(u(),x(t(p),{key:2},{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[33]||(e[33]=[l("Campos Personalizados",-1)])]),_:1}),s(t(H),null,{default:a(()=>[...e[34]||(e[34]=[l(" Información adicional específica del hito ",-1)])]),_:1})]),_:1}),s(t(y),null,{default:a(()=>[i("div",ot,[(u(!0),g(z,null,F(o.camposPersonalizados,r=>{var b;return u(),g("div",{key:r.id},[i("h3",it,[l(d(r.nombre)+" ",1),r.es_requerido?(u(),g("span",lt,"*")):f("",!0)]),i("p",nt,d(X(r,(b=o.valoresCamposPersonalizados)==null?void 0:b[r.id])),1),r.descripcion?(u(),g("p",rt,d(r.descripcion),1)):f("",!0)])}),128))]),!o.camposPersonalizados||o.camposPersonalizados.length===0?(u(),g("div",dt,[...e[35]||(e[35]=[i("p",{class:"text-sm text-muted-foreground"},"No hay campos personalizados configurados",-1)])])):f("",!0)]),_:1})]),_:1})):f("",!0),s(t(p),null,{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[36]||(e[36]=[l("Información del Sistema",-1)])]),_:1})]),_:1}),s(t(y),null,{default:a(()=>[i("div",ut,[i("div",null,[e[37]||(e[37]=i("span",{class:"text-muted-foreground"},"Creado el:",-1)),i("p",mt,d(V(o.hito.created_at)),1)]),i("div",null,[e[38]||(e[38]=i("span",{class:"text-muted-foreground"},"Última actualización:",-1)),i("p",ft,d(V(o.hito.updated_at)),1)]),o.hito.created_by_usuario?(u(),g("div",ct,[e[39]||(e[39]=i("span",{class:"text-muted-foreground"},"Creado por:",-1)),i("p",gt,d(o.hito.created_by_usuario.name),1)])):f("",!0),o.hito.updated_by_usuario?(u(),g("div",bt,[e[40]||(e[40]=i("span",{class:"text-muted-foreground"},"Actualizado por:",-1)),i("p",pt,d(o.hito.updated_by_usuario.name),1)])):f("",!0)])]),_:1})]),_:1})]),_:1}),s(t(j),{value:"entregables",class:"space-y-4"},{default:a(()=>[i("div",yt,[e[42]||(e[42]=i("h2",{class:"text-lg font-semibold"},"Lista de Entregables",-1)),o.canManageEntregables?(u(),x(t(w),{key:0,onClick:M,size:"sm"},{default:a(()=>[s(t(A),{class:"h-4 w-4 mr-2"}),e[41]||(e[41]=l(" Nuevo Entregable ",-1))]),_:1})):f("",!0)]),s(xe,{entregables:o.hito.entregables||[],"proyecto-id":o.proyecto.id,"hito-id":o.hito.id,"can-edit":o.canManageEntregables,"can-delete":o.canManageEntregables,"can-complete":o.canManageEntregables,"show-checkbox":!1,grouped:!0,onView:G,onEdit:J,onDelete:K,onComplete:Q,onMarkInProgress:W},null,8,["entregables","proyecto-id","hito-id","can-edit","can-delete","can-complete"]),!o.hito.entregables||o.hito.entregables.length===0?(u(),x(t(p),{key:0},{default:a(()=>[s(t(y),{class:"text-center py-8"},{default:a(()=>[s(t(T),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e[44]||(e[44]=i("p",{class:"text-muted-foreground mb-4"},"No hay entregables asignados a este hito",-1)),o.canManageEntregables?(u(),x(t(w),{key:0,onClick:M,variant:"outline"},{default:a(()=>[s(t(A),{class:"h-4 w-4 mr-2"}),e[43]||(e[43]=l(" Crear Primer Entregable ",-1))]),_:1})):f("",!0)]),_:1})]),_:1})):f("",!0)]),_:1}),s(t(j),{value:"actividad",class:"space-y-4"},{default:a(()=>[o.actividades&&o.actividades.length>0?(u(),x(ve,{key:0,modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),usuarios:o.usuariosActividades,"context-level":"hito"},null,8,["modelValue","usuarios"])):f("",!0),s(he,{activities:Y.value,title:"Historial de Actividad",description:"Registro de cambios y actividades del hito y sus entregables","empty-message":"No hay actividad registrada"},null,8,["activities"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{Fs as default};
