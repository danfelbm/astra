import{_ as $}from"./AdminLayout.vue_vue_type_script_setup_true_lang-7LKLDY2y.js";import{d as E,i as n,e as o,f as e,q as j,w as r,g as s,j as m,b as d,m as i,v as g,h as f,t as u,F as y,k as x,n as b,s as h}from"./app-DvZ1-K7a.js";import{_}from"./createLucideIcon-P3NRsumo.js";import{_ as M,a as N,b as z,c as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-B4HvUgEv.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-kOJuhc_C.js";import{_ as v}from"./index-BD9cFrTB.js";import{P as w}from"./plus-BDkDOn9P.js";import{F as P}from"./file-text-BbQo20m-.js";import{E as V}from"./eye-B6hXSfE-.js";import{S as A}from"./square-pen-Cw38Nj6a.js";import{D as H}from"./download-8aj9iKBN.js";import{T as S}from"./trash-2-Cp_zTu-L.js";import"./useFlashMessages-CHF7AIXb.js";import"./index-03IpLp0a.js";import"./floating-ui.vue-CJQ0_Vzh.js";import"./x-BIRThpJP.js";import"./Input.vue_vue_type_script_setup_true_lang-CQKpRggb.js";import"./index-CoQK2WTM.js";import"./index-ChzLLOk6.js";import"./shield-BrPJakgT.js";import"./user-Dsaete2y.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-vb4LIVAP.js";import"./chevron-right-DqS2t5k7.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BNj1aFxp.js";import"./VisuallyHidden-ajYbfbqW.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-D6AUpC9n.js";import"./check-D7HNl1Oq.js";import"./Label.vue_vue_type_script_setup_true_lang-CGy7mMpA.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-1KPysJx4.js";import"./index-Bbh0mYdX.js";import"./circle-alert-D6RXuwKp.js";import"./map-pin-DtVXWTwN.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CJO_j-h4.js";import"./chevrons-up-down-B1jhx-SJ.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D2ytabyO.js";import"./tag-CCJoRlvB.js";import"./users-CokXAxsN.js";import"./target-DBxOcIRA.js";import"./vote-xbSq6Rzs.js";import"./folder-open-BBkkc7EL.js";import"./send-BF9hOsdl.js";import"./briefcase-D1pu9Psf.js";import"./calendar-alGpXrBt.js";import"./megaphone-SVYQCwxw.js";import"./user-check-DZe7M9n1.js";import"./clipboard-list-zFyqYedV.js";import"./mail-BoJ57Y88.js";import"./message-square-BGWdqt_z.js";import"./external-link-B0O5hVqR.js";import"./panel-left-DaU6_Ad8.js";import"./index-DHRRjd_B.js";const R={class:"p-6"},q={class:"mb-6 flex items-center justify-between"},G={key:0,class:"text-center py-12"},I={class:"mt-1 text-sm text-gray-500"},J={key:0,class:"mt-6"},K={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},O={class:"flex items-start justify-between"},Q={class:"flex-1"},U={class:"space-y-2 text-sm"},W={class:"flex items-center justify-between"},X={class:"flex items-center justify-between"},Y={class:"font-medium"},Z={key:0,class:"flex items-center justify-between"},ee={class:"flex items-center justify-between"},te={class:"text-xs bg-gray-100 px-1 py-0.5 rounded"},se={class:"mt-4 flex gap-2"},oe={key:2,class:"mt-6"},ae={class:"flex items-center justify-center gap-1"},re=["innerHTML"],ot=E({__name:"Index",props:{formularios:{},categorias:{},filters:{},filterFieldsConfig:{},canCreate:{type:Boolean},canEdit:{type:Boolean},canDelete:{type:Boolean},canExport:{type:Boolean},canViewResponses:{type:Boolean},canManagePermissions:{type:Boolean}},setup(p){const c=p,k=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"/admin/dashboard"},{title:"Formularios",href:"#"}],C=l=>{confirm("¿Estás seguro de eliminar este formulario?")&&h.delete(route("admin.formularios.destroy",l))},B=l=>({gray:"bg-gray-100 text-gray-800",slate:"bg-slate-100 text-slate-800",red:"bg-red-100 text-red-800",blue:"bg-blue-100 text-blue-800",orange:"bg-orange-100 text-orange-800",yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800"})[l]||"bg-gray-100 text-gray-800",F=l=>({publico:"Público",autenticado:"Autenticado",con_permiso:"Con Permiso"})[l]||l;return(l,a)=>(i(),n(y,null,[o(e(j),{title:"Gestión de Formularios"}),o($,{breadcrumbs:k},{default:r(()=>[s("div",R,[s("div",q,[a[1]||(a[1]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Gestión de Formularios"),s("p",{class:"text-muted-foreground"}," Administra los formularios dinámicos del sistema ")],-1)),c.canCreate?(i(),d(e(g),{key:0,href:l.route("admin.formularios.create")},{default:r(()=>[o(e(_),null,{default:r(()=>[o(e(w),{class:"mr-2 h-4 w-4"}),a[0]||(a[0]=f(" Nuevo Formulario ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),p.formularios.data.length===0?(i(),n("div",G,[o(e(P),{class:"mx-auto h-12 w-12 text-gray-400"}),a[3]||(a[3]=s("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No hay formularios",-1)),s("p",I,u(c.canCreate?"Comienza creando un nuevo formulario.":"No tienes permisos para crear formularios."),1),c.canCreate?(i(),n("div",J,[o(e(g),{href:l.route("admin.formularios.create")},{default:r(()=>[o(e(_),null,{default:r(()=>[o(e(w),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=f(" Crear primer formulario ",-1))]),_:1})]),_:1},8,["href"])])):m("",!0)])):(i(),n("div",K,[(i(!0),n(y,null,x(p.formularios.data,t=>(i(),d(e(M),{key:t.id},{default:r(()=>[o(e(N),null,{default:r(()=>[s("div",O,[s("div",Q,[o(e(z),{class:"text-lg"},{default:r(()=>[f(u(t.titulo),1)]),_:2},1024),t.descripcion?(i(),d(e(L),{key:0,class:"mt-1"},{default:r(()=>[f(u(t.descripcion),1)]),_:2},1024)):m("",!0)]),o(e(v),{class:b(B(t.estado_temporal_color))},{default:r(()=>[f(u(t.estado_temporal_label),1)]),_:2},1032,["class"])])]),_:2},1024),o(e(D),null,{default:r(()=>[s("div",U,[s("div",W,[a[4]||(a[4]=s("span",{class:"text-muted-foreground"},"Tipo de acceso:",-1)),o(e(v),{variant:"outline"},{default:r(()=>[f(u(F(t.tipo_acceso)),1)]),_:2},1024)]),s("div",X,[a[5]||(a[5]=s("span",{class:"text-muted-foreground"},"Respuestas:",-1)),s("span",Y,u(t.estadisticas.total_respuestas),1)]),t.categoria?(i(),n("div",Z,[a[6]||(a[6]=s("span",{class:"text-muted-foreground"},"Categoría:",-1)),s("span",null,u(t.categoria.nombre),1)])):m("",!0),s("div",ee,[a[7]||(a[7]=s("span",{class:"text-muted-foreground"},"Slug:",-1)),s("code",te,u(t.slug),1)])]),s("div",se,[c.canViewResponses?(i(),d(e(g),{key:0,href:l.route("admin.formularios.show",t.id)},{default:r(()=>[o(e(_),{variant:"outline",size:"sm"},{default:r(()=>[o(e(V),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"])):m("",!0),c.canEdit?(i(),d(e(g),{key:1,href:l.route("admin.formularios.edit",t.id)},{default:r(()=>[o(e(_),{variant:"outline",size:"sm"},{default:r(()=>[o(e(A),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"])):m("",!0),c.canExport&&t.estadisticas.total_respuestas>0?(i(),d(e(_),{key:2,variant:"outline",size:"sm",onClick:T=>e(h).visit(l.route("admin.formularios.exportar",t.id))},{default:r(()=>[o(e(H),{class:"h-4 w-4"})]),_:1},8,["onClick"])):m("",!0),c.canDelete&&t.estadisticas.total_respuestas===0?(i(),d(e(_),{key:3,variant:"outline",size:"sm",onClick:T=>C(t.id)},{default:r(()=>[o(e(S),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])):m("",!0)])]),_:2},1024)]),_:2},1024))),128))])),p.formularios.links&&p.formularios.links.length>3?(i(),n("div",oe,[s("nav",ae,[(i(!0),n(y,null,x(p.formularios.links,t=>(i(),n(y,{key:t.label},[t.url?(i(),d(e(g),{key:0,href:t.url,class:b(["px-3 py-2 text-sm rounded-md",t.active?"bg-primary text-primary-foreground":"bg-white hover:bg-gray-50 border"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(i(),n("span",{key:1,class:"px-3 py-2 text-sm text-gray-400",innerHTML:t.label},null,8,re))],64))),128))])])):m("",!0)])]),_:1})],64))}});export{ot as default};
