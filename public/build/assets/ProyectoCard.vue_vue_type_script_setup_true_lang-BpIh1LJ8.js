import{d as $,b as m,w as o,e as s,j as n,f as t,g as r,h as d,t as i,n as f,i as g,l as x,m as c,s as u}from"./app-qOPHKlU8.js";import{a as U,b as D,c as V,_ as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-BTxXkXND.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-CVdsOpXT.js";import{_ as B}from"./CardFooter.vue_vue_type_script_setup_true_lang-CKVgNkR4.js";import{_ as k}from"./index-Ci6BdDi-.js";import{c as M,_ as b}from"./createLucideIcon-BWo8psn6.js";import{_ as E}from"./Progress.vue_vue_type_script_setup_true_lang-BDobS0H2.js";import{E as T}from"./EtiquetaDisplay-B4hn2LEP.js";import{C as A}from"./calendar-9aloSFVd.js";import{F as N}from"./zap-Cyj-tK3M.js";import{U as S}from"./user-CItJBnh3.js";import{C as z}from"./clock-C1w7AmvV.js";import{a as F}from"./target-Foqs84xh.js";import{A as P}from"./arrow-right-DrbKBG_i.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=M("FileUpIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),L={class:"flex justify-between items-start"},R={class:"flex-1"},H={class:"flex gap-2"},Z={key:0,class:"space-y-2"},G={class:"flex justify-between text-sm"},J={class:"font-medium"},K={class:"grid grid-cols-2 gap-3 text-sm"},O={class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},Q={class:"flex items-center gap-2"},W={key:0,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},X={class:"truncate"},Y={key:1,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},ee={class:"text-xs"},te={key:1,class:"pt-3 border-t"},ae={class:"flex items-center gap-2"},se={key:2,class:"pt-2 border-t"},re={class:"text-xs text-gray-500"},he=$({__name:"ProyectoCard",props:{proyecto:{},showActions:{type:Boolean,default:!0},linkUrl:{},evidenciaUrl:{default:null},clickable:{type:Boolean,default:!1}},setup(e){const y=e,h=()=>{y.clickable&&y.linkUrl&&u.visit(y.linkUrl)},p=l=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[l]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",v=l=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[l]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",w=l=>new Date(l).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),_=l=>{if(!l)return null;const a=Math.ceil((new Date(l).getTime()-new Date().getTime())/(1e3*60*60*24));return a<0?`Vencido hace ${Math.abs(a)} días`:a===0?"Vence hoy":a===1?"Vence mañana":`${a} días restantes`};return(l,a)=>(c(),m(t(q),{class:f(["hover:shadow-lg transition-all duration-300",e.clickable?"cursor-pointer hover:border-primary":""]),onClick:h},{default:o(()=>[s(t(U),null,{default:o(()=>[r("div",L,[r("div",R,[s(t(D),{class:"text-lg"},{default:o(()=>[d(i(e.proyecto.nombre),1)]),_:1}),e.proyecto.descripcion?(c(),m(t(j),{key:0,class:"mt-1 line-clamp-2"},{default:o(()=>[d(i(e.proyecto.descripcion),1)]),_:1})):n("",!0)]),r("div",H,[s(t(k),{class:f([p(e.proyecto.estado),"text-xs"])},{default:o(()=>[d(i(e.proyecto.estado_label),1)]),_:1},8,["class"])])])]),_:1}),s(t(V),{class:"space-y-4"},{default:o(()=>[e.proyecto.estado!=="cancelado"?(c(),g("div",Z,[r("div",G,[a[2]||(a[2]=r("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso",-1)),r("span",J,i(e.proyecto.porcentaje_completado)+"%",1)]),s(t(E),{"model-value":e.proyecto.porcentaje_completado,class:"h-2"},null,8,["model-value"])])):n("",!0),r("div",K,[r("div",O,[s(t(A),{class:"h-4 w-4"}),r("span",null,i(w(e.proyecto.fecha_inicio)),1)]),r("div",Q,[s(t(N),{class:"h-4 w-4 text-gray-600 dark:text-gray-400"}),s(t(k),{class:f([v(e.proyecto.prioridad),"text-xs"])},{default:o(()=>[d(i(e.proyecto.prioridad_label),1)]),_:1},8,["class"])]),e.proyecto.responsable?(c(),g("div",W,[s(t(S),{class:"h-4 w-4"}),r("span",X,i(e.proyecto.responsable.name),1)])):n("",!0),e.proyecto.fecha_fin?(c(),g("div",Y,[s(t(z),{class:"h-4 w-4"}),r("span",ee,i(_(e.proyecto.fecha_fin)),1)])):n("",!0)]),e.proyecto.etiquetas&&e.proyecto.etiquetas.length>0?(c(),g("div",te,[r("div",ae,[s(t(F),{class:"h-3 w-3 text-gray-500"}),s(T,{etiquetas:e.proyecto.etiquetas,"max-visible":3,size:"sm"},null,8,["etiquetas"])])])):n("",!0),e.proyecto.duracion_dias?(c(),g("div",se,[r("p",re," Duración total: "+i(e.proyecto.duracion_dias)+" días ",1)])):n("",!0)]),_:1}),e.showActions?(c(),m(t(B),{key:0,class:"pt-0 flex flex-col gap-2"},{default:o(()=>[s(t(b),{variant:"outline",class:"w-full group",onClick:a[0]||(a[0]=x(C=>e.linkUrl?t(u).visit(e.linkUrl):t(u).visit(`/admin/proyectos/${e.proyecto.id}`),["stop"]))},{default:o(()=>[a[3]||(a[3]=d(" Ver detalles ",-1)),s(t(P),{class:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]),_:1}),e.evidenciaUrl?(c(),m(t(b),{key:0,variant:"outline",class:"w-full",onClick:a[1]||(a[1]=x(C=>t(u).visit(e.evidenciaUrl),["stop"]))},{default:o(()=>[s(t(I),{class:"mr-2 h-4 w-4"}),a[4]||(a[4]=d(" Subir evidencia ",-1))]),_:1})):n("",!0)]),_:1})):n("",!0)]),_:1},8,["class"]))}});export{he as _};
