import{u as H,_ as ce,a as ue,b as pe,c as fe,d as me,L as he,S as O,e as be,f as _e,g as ve,h as ge,i as xe,j as ye,k as we,l as $e,m as ke}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-CfUbX_WD.js";import{c as ae,a as y,_ as te,b as Ce}from"./createLucideIcon-vAvq2H8c.js";import{d as _,i as m,b as u,X as M,f as e,Z as g,w as t,e as s,y as Se,g as f,n as w,m as r,aa as V,ab as G,c as S,F as C,h as $,t as x,x as P,k as E,v as N,M as D,r as se,j as F,s as Te}from"./app-CjFEq2BU.js";import{O as R,S as ie,W as Be,q as ze,U as Ae,j as Me}from"./index-C2LCBIFh.js";import{_ as Pe,a as je}from"./CollapsibleContent.vue_vue_type_script_setup_true_lang-bubOQqGM.js";import{_ as Ie}from"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BV2Sm7lL.js";import{_ as Ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as Ee}from"./chevron-right-DWpnWfCP.js";import{_ as ne,a as re,b as oe,c as Fe,d as W,e as K}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DEAWQr4R.js";import{C as Le}from"./chevrons-up-down-NqVsVnqd.js";import{_ as De}from"./AppLogo.vue_vue_type_script_setup_true_lang-BKrizK-E.js";import{F as Z,T as Ve}from"./tag-DF1RSJ7_.js";import{U as J}from"./users-CirEAGq9.js";import{T as Ne}from"./target-4dAH4eV-.js";import{S as qe}from"./shield-yVxjmj5r.js";import{V as X}from"./vote-CV99t7DL.js";import{F as Oe}from"./folder-open-etnSTGKu.js";import{S as Q}from"./send-uyB-D0nK.js";import{F as Y}from"./file-text-BtBnAiVa.js";import{B as He}from"./briefcase-BIsnv6vK.js";import{C as Ge}from"./calendar-B-11ozB3.js";import{M as Re}from"./megaphone-DCFs_0DD.js";import{U as We}from"./user-check-BE9rk2RZ.js";import{C as Ke}from"./clipboard-list-CH4csswU.js";import{M as Ze}from"./mail-C3ivzYEZ.js";import{M as Je}from"./message-square-BSb4v2Pv.js";import{E as Xe}from"./external-link-DOObJ68Z.js";import{P as Qe}from"./panel-left-OoIxv7dt.js";import{_ as A}from"./index-DsmsFoGX.js";import{C as Ye}from"./SelectValue.vue_vue_type_script_setup_true_lang-HIXjM73i.js";import{C as ea}from"./check-XfMfJ3IX.js";import{_ as aa}from"./index-Bo3e0yDf.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=ae("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ae("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),sa={class:"flex h-full w-full flex-col"},ia=["data-state","data-collapsible","data-variant","data-side"],na={"data-sidebar":"sidebar",class:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},ra=_({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(a){const i=a,{isMobile:n,state:o,openMobile:p,setOpenMobile:h}=H();return(l,c)=>a.collapsible==="none"?(r(),m("div",M({key:0,class:e(y)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i.class)},l.$attrs),[g(l.$slots,"default")],16)):e(n)?(r(),u(ce,M({key:1,open:e(p)},l.$attrs,{"onUpdate:open":e(h)}),{default:t(()=>[s(ue,{"data-sidebar":"sidebar","data-mobile":"true",side:a.side,class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:Se({"--sidebar-width":e(pe)})},{default:t(()=>[f("div",sa,[g(l.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):(r(),m("div",{key:2,class:"group peer hidden md:block","data-state":e(o),"data-collapsible":e(o)==="collapsed"?a.collapsible:"","data-variant":a.variant,"data-side":a.side},[f("div",{class:w(e(y)("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a.variant==="floating"||a.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_1rem)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]"))},null,2),f("div",M({class:e(y)("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",a.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a.variant==="floating"||a.variant==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_1rem_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i.class)},l.$attrs),[f("div",na,[g(l.$slots,"default")])],16)],8,ia))}}),oa=_({__name:"SidebarContent",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("div",{"data-sidebar":"content",class:w(e(y)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",i.class))},[g(n.$slots,"default")],2))}}),la=_({__name:"SidebarFooter",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("div",{"data-sidebar":"footer",class:w(e(y)("flex flex-col gap-2 p-2",i.class))},[g(n.$slots,"default")],2))}}),le=_({__name:"SidebarGroup",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("div",{"data-sidebar":"group",class:w(e(y)("relative flex w-full min-w-0 flex-col p-2",i.class))},[g(n.$slots,"default")],2))}}),da=_({__name:"SidebarGroupContent",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("div",{"data-sidebar":"group-content",class:w(e(y)("w-full text-sm",i.class))},[g(n.$slots,"default")],2))}}),ca=_({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const i=a;return(n,o)=>(r(),u(e(R),{"data-sidebar":"group-label",as:a.as,"as-child":a.asChild,class:w(e(y)("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",i.class))},{default:t(()=>[g(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),ua=_({__name:"SidebarHeader",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("div",{"data-sidebar":"header",class:w(e(y)("flex flex-col gap-2 p-2",i.class))},[g(n.$slots,"default")],2))}}),q=_({__name:"SidebarMenu",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("ul",{"data-sidebar":"menu",class:w(e(y)("flex w-full min-w-0 flex-col gap-1",i.class))},[g(n.$slots,"default")],2))}}),pa=_({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(a,{emit:i}){const p=ie(a,i);return(h,l)=>(r(),u(e(Be),V(G(e(p))),{default:t(()=>[g(h.$slots,"default")]),_:3},16))}}),fa=_({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(a,{emit:i}){const n=a,o=i,p=S(()=>{const{class:l,...c}=n;return c}),h=ie(p,o);return(l,c)=>(r(),u(e(ze),null,{default:t(()=>[s(e(Ae),M({...e(h),...l.$attrs},{class:e(y)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ma=_({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(a){const i=a;return(n,o)=>(r(),u(e(Me),V(G(i)),{default:t(()=>[g(n.$slots,"default")]),_:3},16))}}),ee=_({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(a){const i=a;return(n,o)=>(r(),u(e(R),M({"data-sidebar":"menu-button","data-size":a.size,"data-active":a.isActive,class:e(y)(e(ya)({variant:a.variant,size:a.size}),i.class),as:a.as,"as-child":a.asChild},n.$attrs),{default:t(()=>[g(n.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),j=_({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(a){const i=a,{isMobile:n,state:o}=H(),p=S(()=>{const{tooltip:h,...l}=i;return l});return(h,l)=>a.tooltip?(r(),u(pa,{key:1},{default:t(()=>[s(ma,{"as-child":""},{default:t(()=>[s(ee,V(G({...p.value,...h.$attrs})),{default:t(()=>[g(h.$slots,"default")]),_:3},16)]),_:3}),s(fa,{side:"right",align:"center",hidden:e(o)!=="collapsed"||e(n)},{default:t(()=>[typeof a.tooltip=="string"?(r(),m(C,{key:0},[$(x(a.tooltip),1)],64)):(r(),u(P(a.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(r(),u(ee,V(M({key:0},{...p.value,...h.$attrs})),{default:t(()=>[g(h.$slots,"default")]),_:3},16))}}),L=_({__name:"SidebarMenuItem",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("li",{"data-sidebar":"menu-item",class:w(e(y)("group/menu-item relative",i.class))},[g(n.$slots,"default")],2))}}),ha=_({__name:"SidebarMenuSub",props:{class:{}},setup(a){const i=a;return(n,o)=>(r(),m("ul",{"data-sidebar":"menu-badge",class:w(e(y)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",i.class))},[g(n.$slots,"default")],2))}}),ba=_({__name:"SidebarMenuSubButton",props:{asChild:{type:Boolean},as:{default:"a"},size:{default:"md"},isActive:{type:Boolean},class:{}},setup(a){const i=a;return(n,o)=>(r(),u(e(R),{"data-sidebar":"menu-sub-button",as:a.as,"as-child":a.asChild,"data-size":a.size,"data-active":a.isActive,class:w(e(y)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a.size==="sm"&&"text-xs",a.size==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",i.class))},{default:t(()=>[g(n.$slots,"default")]),_:3},8,["as","as-child","data-size","data-active","class"]))}}),_a={};function va(a,i){return r(),m("li",null,[g(a.$slots,"default")])}const ga=Ue(_a,[["render",va]]),xa=_({__name:"SidebarTrigger",props:{class:{}},setup(a){const i=a,{toggleSidebar:n}=H();return(o,p)=>(r(),u(te,{"data-sidebar":"trigger",variant:"ghost",size:"icon",class:w(e(y)("h-7 w-7",i.class)),onClick:e(n)},{default:t(()=>[s(e(Qe)),p[0]||(p[0]=f("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),ya=Ce("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),wa=["href"],$a=_({__name:"NavFooter",props:{items:{},class:{}},setup(a){return(i,n)=>(r(),u(e(le),{class:w(`group-data-[collapsible=icon]:p-0 ${i.$props.class||""}`)},{default:t(()=>[s(e(da),null,{default:t(()=>[s(e(q),null,{default:t(()=>[(r(!0),m(C,null,E(a.items,o=>(r(),u(e(L),{key:o.title},{default:t(()=>[o.isInternal?(r(),u(e(j),{key:0,class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100 cursor-pointer","as-child":""},{default:t(()=>[s(e(N),{href:o.url||o.href},{default:t(()=>[(r(),u(P(o.icon))),f("span",null,x(o.title),1)]),_:2},1032,["href"])]),_:2},1024)):(r(),u(e(j),{key:1,class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100","as-child":""},{default:t(()=>[f("a",{href:o.href||o.url,target:"_blank",rel:"noopener noreferrer"},[(r(),u(P(o.icon))),f("span",null,x(o.title),1)],8,wa)]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["class"]))}}),ka=_({__name:"NavMain",props:{items:{}},setup(a){const i=a,n=D(),o=se({}),p=l=>l?n.url===l||n.url.startsWith(l+"/"):!1,h=l=>l.url&&p(l.url)?!0:l.items?l.items.some(c=>p(c.url)):!1;return i.items.forEach(l=>{l.isCollapsible&&h(l)&&(o.value[l.title]=!0)}),(l,c)=>(r(),u(e(le),{class:"px-2 py-0"},{default:t(()=>[s(e(ca),null,{default:t(()=>[...c[0]||(c[0]=[$("Sistema de Votaciones",-1)])]),_:1}),s(e(q),null,{default:t(()=>[(r(!0),m(C,null,E(a.items,v=>(r(),m(C,{key:v.title},[v.isCollapsible&&v.items?(r(),u(e(L),{key:0},{default:t(()=>[s(e(Pe),{open:o.value[v.title],"onUpdate:open":d=>o.value[v.title]=d,"default-open":h(v)},{default:t(()=>[s(e(Ie),{"as-child":""},{default:t(()=>[s(e(j),{class:"w-full","is-active":h(v)},{default:t(()=>[(r(),u(P(v.icon))),f("span",null,x(v.title),1),s(e(Ee),{class:w(["ml-auto transition-transform",{"rotate-90":o.value[v.title]}])},null,8,["class"])]),_:2},1032,["is-active"])]),_:2},1024),s(e(je),null,{default:t(()=>[s(e(ha),null,{default:t(()=>[(r(!0),m(C,null,E(v.items,d=>(r(),u(e(ga),{key:d.title},{default:t(()=>[s(e(ba),{"as-child":"","is-active":p(d.url)},{default:t(()=>[s(e(N),{href:d.url},{default:t(()=>[(r(),u(P(d.icon),{class:"h-4 w-4"})),f("span",null,x(d.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["open","onUpdate:open","default-open"])]),_:2},1024)):(r(),u(e(L),{key:1},{default:t(()=>[s(e(j),{"as-child":"","is-active":p(v.url)},{default:t(()=>[s(e(N),{href:v.url},{default:t(()=>[(r(),u(P(v.icon))),f("span",null,x(v.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))],64))),128))]),_:1})]),_:1}))}}),Ca=_({__name:"NavUser",setup(a){const n=D().props.auth.user;return(o,p)=>(r(),u(e(q),null,{default:t(()=>[s(e(L),null,{default:t(()=>[s(e(ne),null,{default:t(()=>[s(e(re),{"as-child":""},{default:t(()=>[s(e(j),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:t(()=>[s(fe,{user:e(n)},null,8,["user"]),s(e(Le),{class:"ml-auto size-4"})]),_:1})]),_:1}),s(e(oe),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"bottom",align:"end","side-offset":4},{default:t(()=>[s(me,{user:e(n)},null,8,["user"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Sa=_({__name:"AppSidebar",setup(a){const i=D(),n=i.props.auth.user;i.props.auth.roles;const o=i.props.auth.permissions||[],p=i.props.auth.allowedModules||[],h=i.props.auth.isSuperAdmin||!1;i.props.auth.isAdmin;const l=i.props.auth.hasAdministrativeRole||!1,c=b=>h?!0:o.includes(b)||o.includes("*"),v=()=>h,d=b=>h||p.includes("*")?!0:p.includes(b),B=S(()=>{const b=[];if(b.push({title:"Dashboard",url:l?"/admin/dashboard":"/miembro/dashboard",icon:he}),v()&&(b.push({title:"Tenants",url:"/admin/tenants",icon:U}),b.push({title:"Territorios",url:"/admin/territorios",icon:Z}),b.push({title:"Configuración Global",url:"/admin/configuracion-global",icon:O})),l&&!v()){c("users.view")&&d("users")&&b.push({title:"Usuarios",url:"/admin/usuarios",icon:J}),c("segments.view")&&d("segments")&&b.push({title:"Segmentos",url:"/admin/segments",icon:Ne}),c("roles.view")&&d("roles")&&b.push({title:"Roles y Permisos",url:"/admin/roles",icon:qe});const T=[];c("formularios.view")&&d("formularios")&&T.push({title:"Formularios",url:"/admin/formularios",icon:Y}),T.length>0&&b.push({title:"CRM",icon:ta,isCollapsible:!0,items:T});const k=[];c("cargos.view")&&d("cargos")&&k.push({title:"Cargos",url:"/admin/cargos",icon:He}),c("periodos.view")&&d("periodos")&&k.push({title:"Periodos Electorales",url:"/admin/periodos-electorales",icon:Ge}),c("convocatorias.view")&&d("convocatorias")&&k.push({title:"Convocatorias",url:"/admin/convocatorias",icon:Re}),c("candidaturas.view")&&d("candidaturas")&&k.push({title:"Candidaturas",url:"/admin/candidaturas",icon:We}),c("postulaciones.view")&&d("postulaciones")&&k.push({title:"Postulaciones",url:"/admin/postulaciones",icon:Ke}),k.length>0&&b.push({title:"Elecciones",icon:X,isCollapsible:!0,items:k}),c("asambleas.view")&&d("asambleas")&&b.push({title:"Asambleas",url:"/admin/asambleas",icon:J}),c("votaciones.view")&&d("votaciones")&&b.push({title:"Votaciones",url:"/admin/votaciones",icon:X});const z=[];c("proyectos.view")&&d("proyectos")&&z.push({title:"Proyectos",url:"/admin/proyectos",icon:Z}),c("proyectos.manage_fields")&&d("proyectos")&&z.push({title:"Campos Personalizados",url:"/admin/campos-personalizados",icon:O}),c("categorias_etiquetas.view")&&d("proyectos")&&z.push({title:"Categorías de Etiquetas",url:"/admin/categorias-etiquetas",icon:Ve}),c("contratos.view")&&d("proyectos")&&z.push({title:"Contratos",url:"/admin/contratos",icon:Y}),z.length>0&&b.push({title:"Proyectos",icon:Oe,isCollapsible:!0,items:z});const I=[];c("campanas.plantillas.view")&&(I.push({title:"Plantillas Email",url:"/admin/campanas/plantillas-email",icon:Ze}),I.push({title:"Plantillas WhatsApp",url:"/admin/campanas/plantillas-whatsapp",icon:Je})),c("campanas.view")&&I.push({title:"Campañas",url:"/admin/campanas",icon:Q}),I.length>0&&b.push({title:"Campañas",icon:Q,isCollapsible:!0,items:I}),c("settings.view")&&b.push({title:"Configuración",url:"/admin/configuracion",icon:O})}return b}),de=S(()=>{var T;const b=[];return l&&((T=n==null?void 0:n.roles)!=null&&T.some(k=>k.name==="user"))&&b.push({title:"Cambiar a Vista Usuario",url:"/miembro/dashboard",icon:Xe,isInternal:!0}),b});return(b,T)=>(r(),m(C,null,[s(e(ra),{collapsible:"icon",variant:"inset"},{default:t(()=>[s(e(ua),null,{default:t(()=>[s(e(q),null,{default:t(()=>[s(e(L),null,{default:t(()=>[s(e(j),{size:"lg"},{default:t(()=>[s(De)]),_:1})]),_:1})]),_:1})]),_:1}),s(e(oa),null,{default:t(()=>[s(ka,{items:B.value},null,8,["items"])]),_:1}),s(e(la),null,{default:t(()=>[s($a,{items:de.value},null,8,["items"]),s(Ca)]),_:1})]),_:1}),g(b.$slots,"default")],64))}}),Ta={key:0,class:"flex items-center gap-2"},Ba={class:"flex flex-col items-start text-left"},za={class:"text-sm font-medium"},Aa={class:"flex items-center gap-1"},Ma={class:"flex items-center justify-between"},Pa={key:0,class:"max-h-60 overflow-y-auto"},ja={class:"flex items-start gap-3 flex-1"},Ia={class:"mt-1"},Ua={class:"flex-1"},Ea={class:"font-medium text-sm"},Fa={class:"text-xs text-muted-foreground"},La={class:"flex items-center gap-1 mt-1"},Da={key:0,class:"mt-1"},Va={key:1,class:"p-3 text-sm text-muted-foreground text-center"},Na={href:"/admin/tenants",class:"flex items-center gap-2"},qa={key:1,class:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg"},Oa={class:"flex flex-col text-left"},Ha={class:"text-sm font-medium"},Ga=_({__name:"TenantSelector",props:{currentTenant:{},availableTenants:{},isSuperAdmin:{type:Boolean}},setup(a){const i=a,n=se(!1),o=S(()=>i.currentTenant&&{basic:"secondary",professional:"default",enterprise:"destructive"}[i.currentTenant.subscription_plan]||"outline"),p=S(()=>i.currentTenant?{basic:"Básico",professional:"Profesional",enterprise:"Empresarial"}[i.currentTenant.subscription_plan]||i.currentTenant.subscription_plan:""),h=async l=>{if(!(!i.isSuperAdmin||n.value)){n.value=!0;try{await Te.post("/admin/tenants/switch",{tenant_id:l},{preserveState:!0,onFinish:()=>{n.value=!1,window.location.reload()},onError:()=>{n.value=!1}})}catch(c){console.error("Error switching tenant:",c),n.value=!1}}};return(l,c)=>a.isSuperAdmin&&a.currentTenant?(r(),m("div",Ta,[s(e(ne),null,{default:t(()=>[s(e(re),{asChild:""},{default:t(()=>[s(e(te),{variant:"ghost",class:"flex items-center gap-2 h-auto py-2 px-3"},{default:t(()=>[s(e(U),{class:"h-4 w-4"}),f("div",Ba,[f("span",za,x(a.currentTenant.name),1),f("div",Aa,[s(e(A),{variant:o.value,class:"text-xs px-1 py-0"},{default:t(()=>[$(x(p.value),1)]),_:1},8,["variant"]),s(e(A),{variant:a.currentTenant.active?"default":"secondary",class:"text-xs px-1 py-0"},{default:t(()=>[$(x(a.currentTenant.active?"Activo":"Inactivo"),1)]),_:1},8,["variant"])])]),s(e(Ye),{class:"h-4 w-4 opacity-50"})]),_:1})]),_:1}),s(e(oe),{align:"end",class:"w-80"},{default:t(()=>{var v;return[s(e(Fe),null,{default:t(()=>[f("div",Ma,[c[1]||(c[1]=f("span",null,"Cambiar Organización",-1)),s(e(A),{variant:"outline",class:"text-xs"},{default:t(()=>[...c[0]||(c[0]=[$(" Super Admin ",-1)])]),_:1})])]),_:1}),s(e(W)),(v=a.availableTenants)!=null&&v.length?(r(),m("div",Pa,[(r(!0),m(C,null,E(a.availableTenants,d=>(r(),u(e(K),{key:d.id,onClick:B=>h(d.id),disabled:n.value||d.id===a.currentTenant.id,class:"flex items-start justify-between p-3 cursor-pointer"},{default:t(()=>[f("div",ja,[f("div",Ia,[s(e(U),{class:"h-4 w-4 text-muted-foreground"})]),f("div",Ua,[f("p",Ea,x(d.name),1),f("p",Fa,x(d.subdomain),1),f("div",La,[s(e(A),{variant:d.subscription_plan==="enterprise"?"destructive":d.subscription_plan==="professional"?"default":"secondary",class:"text-xs px-1 py-0"},{default:t(()=>[$(x(d.subscription_plan),1)]),_:2},1032,["variant"]),s(e(A),{variant:d.active?"default":"secondary",class:"text-xs px-1 py-0"},{default:t(()=>[$(x(d.active?"Activo":"Inactivo"),1)]),_:2},1032,["variant"])])]),d.id===a.currentTenant.id?(r(),m("div",Da,[s(e(ea),{class:"h-4 w-4 text-primary"})])):F("",!0)])]),_:2},1032,["onClick","disabled"]))),128))])):(r(),m("div",Va," No hay otros tenants disponibles ")),s(e(W)),s(e(K),{asChild:""},{default:t(()=>[f("a",Na,[s(e(U),{class:"h-4 w-4"}),c[2]||(c[2]=$(" Gestionar Tenants ",-1))])]),_:1})]}),_:1})]),_:1})])):a.currentTenant?(r(),m("div",qa,[s(e(U),{class:"h-4 w-4 text-muted-foreground"}),f("div",Oa,[f("span",Ha,x(a.currentTenant.name),1),s(e(A),{variant:o.value,class:"text-xs w-fit"},{default:t(()=>[$(x(p.value),1)]),_:1},8,["variant"])])])):F("",!0)}}),Ra={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 md:px-4"},Wa={class:"flex items-center gap-2"},Ka={class:"flex items-center gap-4"},Za=_({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]}},setup(a){var h,l;const i=D();i.props.auth.user;const n=i.props.auth.isSuperAdmin||!1,o=(h=i.props.tenant)==null?void 0:h.current,p=(l=i.props.tenant)==null?void 0:l.available;return(c,v)=>(r(),m("header",Ra,[f("div",Wa,[s(e(xa),{class:"-ml-1"}),a.breadcrumbs.length>0?(r(),u(e(be),{key:0},{default:t(()=>[s(e(_e),null,{default:t(()=>[(r(!0),m(C,null,E(a.breadcrumbs,(d,B)=>(r(),m(C,{key:B},[s(e(ve),null,{default:t(()=>[B===a.breadcrumbs.length-1?(r(),u(e(ge),{key:0},{default:t(()=>[$(x(d.title),1)]),_:2},1024)):(r(),u(e(xe),{key:1,"as-child":""},{default:t(()=>[s(e(N),{href:d.href,class:"transition-colors hover:text-foreground"},{default:t(()=>[$(x(d.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),B!==a.breadcrumbs.length-1?(r(),u(e(ye),{key:0})):F("",!0)],64))),128))]),_:1})]),_:1})):F("",!0)]),f("div",Ka,[s(Ga,{isSuperAdmin:e(n),currentTenant:e(o),availableTenants:e(p)},null,8,["isSuperAdmin","currentTenant","availableTenants"])])]))}}),Bt=_({__name:"AdminLayout",props:{breadcrumbs:{default:()=>[]}},setup(a){const i=D(),n=S(()=>{var p;return(p=i.props.auth)==null?void 0:p.user}),o=S(()=>n.value?!n.value.nombre||!n.value.documento_identidad||!n.value.territorio_id||!n.value.departamento_id||!n.value.municipio_id||!n.value.telefono:!1);return(p,h)=>(r(),u(ke,{variant:"sidebar"},{default:t(()=>[s(Sa),s(we,{variant:"sidebar"},{default:t(()=>[s(Za,{breadcrumbs:a.breadcrumbs},null,8,["breadcrumbs"]),g(p.$slots,"default")]),_:3}),o.value&&!p.$page.url.startsWith("/admin/usuarios")?(r(),u($e,{key:0,show:!1})):F("",!0),s(e(aa),{duration:6e3,"rich-colors":"","close-button":""})]),_:3}))}});export{U as B,Bt as _,pa as a,ma as b,fa as c};
