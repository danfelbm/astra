import{c as F,f as e,d as k,a4 as qe,r as I,p as me,U as N,b as E,w as C,Z as L,j,m as x,e as U,A as T,l as se,au as Se,o as le,B as ne,X as K,av as Fe,N as Ke,h as Ve,t as Pe,i as $e,g as Ae}from"./app-CmZXEU6r.js";import{u as ve,a as He,c as z,d as he,b as ge}from"./VisuallyHidden-Bx32aKt8.js";import{P,a as A}from"./createLucideIcon-CnNZrfzB.js";import{n as ae,k as Ge,r as H}from"./index-mWTuss3Z.js";import{i as oe,l as ie,r as Re,u as Ne,f as W,h as Me}from"./SelectValue.vue_vue_type_script_setup_true_lang-D5V10iEd.js";import{a as ye,u as Te,h as ze}from"./Input.vue_vue_type_script_setup_true_lang-D2njpHVb.js";import{S as De}from"./search-BUYmF1F5.js";import{u as Oe}from"./useKbd-kRIii9yh.js";import{g as Ue}from"./utils-Dg8jTo0U.js";import{V as je}from"./VisuallyHiddenInput--ip9ZdT5.js";function We(l,i,t){const n=l.findIndex(s=>oe(s,i)),d=l.findIndex(s=>oe(s,t));if(n===-1||d===-1)return[];const[r,o]=[n,d].sort((s,f)=>s-f);return l.slice(r,o+1)}function Xe(l){const i=F(()=>e(l)),t=F(()=>new Intl.Collator("en",{usage:"search",...i.value}));return{startsWith:(o,s)=>s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),t.value.compare(o.slice(0,s.length),s)===0),endsWith:(o,s)=>s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),t.value.compare(o.slice(-s.length),s)===0),contains:(o,s)=>{if(s.length===0)return!0;o=o.normalize("NFC"),s=s.normalize("NFC");let f=0;const m=s.length;for(;f+m<=o.length;f++){const v=o.slice(f,f+m);if(t.value.compare(s,v)===0)return!0}return!1}}}function Ze(l,i,t){return l===void 0?!1:Array.isArray(l)?l.some(n=>M(n,i,t)):M(l,i,t)}function M(l,i,t){return l===void 0||i===void 0?!1:typeof l=="string"?l===i:typeof t=="function"?t(l,i):typeof t=="string"?(l==null?void 0:l[t])===(i==null?void 0:i[t]):oe(l,i)}const[re,Je]=z("ListboxRoot");var Qe=k({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(l,{expose:i,emit:t}){const n=l,d=t,{multiple:r,highlightOnHover:o,orientation:s,disabled:f,selectionBehavior:m,dir:v}=qe(n),{getItems:h}=ie({isProvider:!0}),{handleTypeaheadSearch:w}=Re(),{primitiveElement:B,currentElement:p}=ve(),_=Oe(),V=He(v),be=Ne(p),D=I(),G=I(!1),Z=I(!0),y=ye(n,"modelValue",d,{defaultValue:n.defaultValue??(r.value?[]:void 0),passive:n.modelValue===void 0,deep:!0});function _e(a){if(G.value=!0,n.multiple){const u=Array.isArray(y.value)?[...y.value]:[],c=u.findIndex(g=>M(g,a,n.by));n.selectionBehavior==="toggle"?(c===-1?u.push(a):u.splice(c,1),y.value=u):(y.value=[a],D.value=a)}else n.selectionBehavior==="toggle"&&M(y.value,a,n.by)?y.value=void 0:y.value=a;setTimeout(()=>{G.value=!1},1)}const b=I(null),J=I(null),$=I(!1),Q=I(!1),ue=ae(),Y=ae(),de=ae();function ee(){return h().map(a=>a.ref).filter(a=>a.dataset.disabled!=="")}function q(a,u=!0){if(!a)return;b.value=a,Z.value&&b.value.focus(),u&&b.value.scrollIntoView({block:"nearest"});const c=h().find(g=>g.ref===a);d("highlight",c)}function Ce(a){if($.value)de.trigger(a);else{const u=h().find(c=>M(c.value,a,n.by));u&&(b.value=u.ref,q(u.ref))}}function xe(a){b.value&&b.value.isConnected&&(a.preventDefault(),a.stopPropagation(),Q.value||b.value.click())}function we(a){if(Z.value){if(G.value=!0,$.value)Y.trigger(a);else{const u=a.altKey||a.ctrlKey||a.metaKey;if(u&&a.key==="a"&&r.value){const c=h(),g=c.map(S=>S.value);y.value=[...g],a.preventDefault(),q(c[c.length-1].ref)}else if(!u){const c=w(a.key,h());c&&q(c)}}setTimeout(()=>{G.value=!1},1)}}function Ee(){Q.value=!0}function ke(){N(()=>{Q.value=!1})}function ce(){N(()=>{const a=new KeyboardEvent("keydown",{key:"PageUp"});fe(a)})}function te(a){const u=b.value;u!=null&&u.isConnected&&(J.value=u),b.value=null,d("leave",a)}function Be(a){var c,g;const u=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((c=a.currentTarget)==null||c.dispatchEvent(u),d("entryFocus",u),!u.defaultPrevented)if(J.value)q(J.value);else{const S=(g=ee())==null?void 0:g[0];q(S)}}function fe(a){const u=Ue(a,s.value,V.value);if(!u)return;let c=ee();if(b.value){if(u==="last")c.reverse();else if(u==="prev"||u==="next"){u==="prev"&&c.reverse();const g=c.indexOf(b.value);c=c.slice(g+1)}Ie(a,c[0])}if(c.length){const g=!b.value&&u==="prev"?c.length-1:0;q(c[g])}if($.value)return Y.trigger(a)}function Ie(a,u){var g;if(!($.value||n.selectionBehavior!=="replace"||!r.value||!Array.isArray(y.value)||(a.altKey||a.ctrlKey||a.metaKey)&&!a.shiftKey)&&a.shiftKey){const S=h().filter(R=>R.ref.dataset.disabled!=="");let O=(g=S.find(R=>R.ref===u))==null?void 0:g.value;if(a.key===_.END?O=S[S.length-1].value:a.key===_.HOME&&(O=S[0].value),!O||!D.value)return;const Le=We(S.map(R=>R.value),D.value,O);y.value=Le}}async function pe(a){if(await N(),$.value)ue.trigger(a);else{const u=ee(),c=u.find(g=>g.dataset.state==="checked");c?q(c):u.length&&q(u[0])}}return me(y,()=>{G.value||N(()=>{pe()})},{immediate:!0,deep:!0}),i({highlightedElement:b,highlightItem:Ce,highlightFirstItem:ce,highlightSelected:pe,getItems:h}),Je({modelValue:y,onValueChange:_e,multiple:r,orientation:s,dir:V,disabled:f,highlightOnHover:o,highlightedElement:b,isVirtual:$,virtualFocusHook:ue,virtualKeydownHook:Y,virtualHighlightHook:de,by:n.by,firstValue:D,selectionBehavior:m,focusable:Z,onLeave:te,onEnter:Be,changeHighlight:q,onKeydownEnter:xe,onKeydownNavigation:fe,onKeydownTypeAhead:we,onCompositionStart:Ee,onCompositionEnd:ke,highlightFirstItem:ce}),(a,u)=>(x(),E(e(P),{ref_key:"primitiveElement",ref:B,as:a.as,"as-child":a.asChild,dir:e(V),"data-disabled":e(f)?"":void 0,onPointerleave:te,onFocusout:u[0]||(u[0]=async c=>{const g=c.relatedTarget||c.target;await N(),b.value&&e(p)&&!e(p).contains(g)&&te(c)})},{default:C(()=>[L(a.$slots,"default",{modelValue:e(y)}),e(be)&&a.name?(x(),E(e(je),{key:0,name:a.name,value:e(y),disabled:e(f),required:a.required},null,8,["name","value","disabled","required"])):j("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Ye=Qe,et=k({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const{CollectionSlot:i}=ie(),t=re(),n=Ge(!1,10);return(d,r)=>(x(),E(e(i),null,{default:C(()=>[U(e(P),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(t).focusable.value?e(t).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(t).orientation.value,"aria-multiselectable":!!e(t).multiple.value,"data-orientation":e(t).orientation.value,onMousedown:r[0]||(r[0]=se(o=>n.value=!0,["left"])),onFocus:r[1]||(r[1]=o=>{e(n)||e(t).onEnter(o)}),onKeydown:[r[2]||(r[2]=T(o=>{e(t).orientation.value==="vertical"&&(o.key==="ArrowLeft"||o.key==="ArrowRight")||e(t).orientation.value==="horizontal"&&(o.key==="ArrowUp"||o.key==="ArrowDown")||(o.preventDefault(),e(t).focusable.value&&e(t).onKeydownNavigation(o))},["down","up","left","right","home","end"])),T(e(t).onKeydownEnter,["enter"]),e(t).onKeydownTypeAhead]},{default:C(()=>[L(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),tt=et,at=k({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(l,{emit:i}){const t=l,d=ye(t,"modelValue",i,{defaultValue:"",passive:t.modelValue===void 0}),r=re(),{primitiveElement:o,currentElement:s}=ve(),f=F(()=>t.disabled||r.disabled.value||!1),m=I();return Se(()=>{var v;return m.value=(v=r.highlightedElement.value)==null?void 0:v.id}),le(()=>{r.focusable.value=!1,setTimeout(()=>{var v;t.autoFocus&&((v=s.value)==null||v.focus())},1)}),ne(()=>{r.focusable.value=!0}),(v,h)=>(x(),E(e(P),{ref_key:"primitiveElement",ref:o,as:v.as,"as-child":v.asChild,value:e(d),disabled:f.value?"":void 0,"data-disabled":f.value?"":void 0,"aria-disabled":f.value??void 0,"aria-activedescendant":m.value,type:"text",onKeydown:[T(se(e(r).onKeydownNavigation,["prevent"]),["down","up","home","end"]),T(e(r).onKeydownEnter,["enter"])],onInput:h[0]||(h[0]=w=>{d.value=w.target.value,e(r).highlightFirstItem()}),onCompositionstart:e(r).onCompositionStart,onCompositionend:e(r).onCompositionEnd},{default:C(()=>[L(v.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ot=at;const[st,lt]=z("ListboxGroup");var nt=k({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const i=l,t=W(void 0,"reka-listbox-group");return lt({id:t}),(n,d)=>(x(),E(e(P),K({role:"group"},i,{"aria-labelledby":e(t)}),{default:C(()=>[L(n.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),it=nt,rt=k({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const i=l,t=st({id:""});return(n,d)=>(x(),E(e(P),K(i,{id:e(t).id}),{default:C(()=>[L(n.$slots,"default")]),_:3},16,["id"]))}}),ut=rt;const dt="listbox.select",[qt,ct]=z("ListboxItem");var ft=k({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(l,{emit:i}){const t=l,n=i,d=W(void 0,"reka-listbox-item"),{CollectionItem:r}=ie(),{forwardRef:o,currentElement:s}=Te(),f=re(),m=F(()=>s.value===f.highlightedElement.value),v=F(()=>Ze(f.modelValue.value,t.value,f.by)),h=F(()=>f.disabled.value||t.disabled);async function w(p){n("select",p),!(p!=null&&p.defaultPrevented)&&!h.value&&p&&(f.onValueChange(t.value),f.changeHighlight(s.value))}function B(p){const _={originalEvent:p,value:t.value};Me(dt,w,_)}return ct({isSelected:v}),(p,_)=>(x(),E(e(r),{value:p.value},{default:C(()=>[Fe([m.value,v.value],()=>U(e(P),K({id:e(d)},p.$attrs,{ref:e(o),role:"option",tabindex:e(f).focusable.value?m.value?"0":"-1":-1,"aria-selected":v.value,as:p.as,"as-child":p.asChild,disabled:h.value?"":void 0,"data-disabled":h.value?"":void 0,"data-highlighted":m.value?"":void 0,"data-state":v.value?"checked":"unchecked",onClick:B,onKeydown:T(se(B,["prevent"]),["space"]),onPointermove:_[0]||(_[0]=V=>{e(f).highlightedElement.value!==e(s)&&(e(f).highlightOnHover.value?e(f).changeHighlight(e(s),!1):e(f).focusable.value||e(f).changeHighlight(e(s),!1))})}),{default:C(()=>[L(p.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),_,1)]),_:3},8,["value"]))}}),pt=ft;const St=k({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(l,{emit:i}){const t=l,n=i,d=H(t,"class"),r=he(d,n),o=I(new Map),s=I(new Map),{contains:f}=Xe({sensitivity:"base"}),m=Ke({search:"",filtered:{count:0,items:new Map,groups:new Set}});function v(){if(!m.search){m.filtered.count=o.value.size;return}m.filtered.groups=new Set;let h=0;for(const[w,B]of o.value){const p=f(B,m.search);m.filtered.items.set(w,p?1:0),p&&h++}for(const[w,B]of s.value)for(const p of B)if(m.filtered.items.get(p)>0){m.filtered.groups.add(w);break}m.filtered.count=h}return me(()=>m.search,()=>{v()}),ht({allItems:o,allGroups:s,filterState:m}),(h,w)=>(x(),E(e(Ye),K({"data-slot":"command"},e(r),{class:e(A)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t.class)}),{default:C(()=>[L(h.$slots,"default")]),_:3},16,["class"]))}}),Ft=k({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const i=l,t=H(i,"class"),{filterState:n}=X(),d=F(()=>!!n.search&&n.filtered.count===0);return(r,o)=>d.value?(x(),E(e(P),K({key:0,"data-slot":"command-empty"},e(t),{class:e(A)("py-6 text-center text-sm",i.class)}),{default:C(()=>[L(r.$slots,"default")]),_:3},16,["class"])):j("",!0)}}),Kt=k({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(l){const i=l,t=H(i,"class"),{allGroups:n,filterState:d}=X(),r=W(),o=F(()=>d.search?d.filtered.groups.has(r):!0);return yt({id:r}),le(()=>{n.value.has(r)||n.value.set(r,new Set)}),ne(()=>{n.value.delete(r)}),(s,f)=>(x(),E(e(it),K(e(t),{id:e(r),"data-slot":"command-group",class:e(A)("text-foreground overflow-hidden p-1",i.class),hidden:o.value?void 0:!0}),{default:C(()=>[l.heading?(x(),E(e(ut),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:C(()=>[Ve(Pe(l.heading),1)]),_:1})):j("",!0),L(s.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),mt={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},Vt=k({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(l){const i=l,t=H(i,"class"),n=ge(t),{filterState:d}=X();return(r,o)=>(x(),$e("div",mt,[U(e(De),{class:"size-4 shrink-0 opacity-50"}),U(e(ot),K({...e(n),...r.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":o[0]||(o[0]=s=>e(d).search=s),"data-slot":"command-input","auto-focus":"",class:e(A)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",i.class)}),null,16,["modelValue","class"])]))}}),Pt=k({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(l,{emit:i}){const t=l,n=i,d=H(t,"class"),r=he(d,n),o=W(),{filterState:s,allItems:f,allGroups:m}=X(),v=gt(),h=F(()=>{if(s.search){const p=s.filtered.items.get(o);return p===void 0?!0:p>0}else return!0}),w=I(),B=ze(w);return le(()=>{var _,V;if(!(B.value instanceof HTMLElement))return;f.value.set(o,B.value.textContent??((_=t.value)==null?void 0:_.toString())??"");const p=v==null?void 0:v.id;p&&(m.value.has(p)?(V=m.value.get(p))==null||V.add(o):m.value.set(p,new Set([o])))}),ne(()=>{f.value.delete(o)}),(p,_)=>h.value?(x(),E(e(pt),K({key:0},e(r),{id:e(o),ref_key:"itemRef",ref:w,"data-slot":"command-item",class:e(A)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class),onSelect:_[0]||(_[0]=()=>{e(s).search=""})}),{default:C(()=>[L(p.$slots,"default")]),_:3},16,["id","class"])):j("",!0)}}),vt={role:"presentation"},$t=k({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const i=l,t=H(i,"class"),n=ge(t);return(d,r)=>(x(),E(e(tt),K({"data-slot":"command-list"},e(n),{class:e(A)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",i.class)}),{default:C(()=>[Ae("div",vt,[L(d.$slots,"default")])]),_:3},16,["class"]))}}),[X,ht]=z("Command"),[gt,yt]=z("CommandGroup");export{St as _,Vt as a,$t as b,Ft as c,Pt as d,Kt as e};
