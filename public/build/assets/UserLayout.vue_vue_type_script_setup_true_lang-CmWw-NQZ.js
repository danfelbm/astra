import{L as Y,_ as Z,a as ee,p as se,e as te,f as ae,g as re,c as oe,h as W,j as ne,i as le,k as T,l as ie,m as ce,n as ue,o as de}from"./useFlashMessages-CUQzbx15.js";import{a as me,_ as fe}from"./AppLogo.vue_vue_type_script_setup_true_lang-BMtwfigF.js";import{_ as pe,a as _e,b as he}from"./index-DD5KrQ7V.js";import{c as Q,a as N,b as xe,_ as A}from"./createLucideIcon-BgvNgHlT.js";import{E as be}from"./ellipsis-CPOWMqh9.js";import{d as w,i as h,n as $,f as e,U as B,m as a,c as b,b as c,Q as S,w as s,a9 as L,aa as U,g as p,e as t,M as H,j as g,h as v,F as M,k as j,v as C,t as y,x as z}from"./app-CqrxAVE4.js";import{b as I,c as V,d as D,_ as ge,a as ve,g as R}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DXvTGocI.js";import{B as ye,o as we,a as J,y as ke,S as K,l as $e,p as Me,r as Ce,s as Be}from"./index-Bes2EvoR.js";import{u as Pe}from"./usePermissions-bbMkWkGM.js";import{S as je}from"./square-check-big-BG8ZH1kQ.js";import{U as ze}from"./user-B4zsHwea.js";import{F}from"./file-text-DpDhqzMk.js";import{U as Ne}from"./users-C6th6Y1J.js";import{F as q}from"./folder-open-C76E6Zeb.js";import{M as Se}from"./milestone-CF5i2ePY.js";import{C as O}from"./SelectValue.vue_vue_type_script_setup_true_lang-D00Vodyw.js";import{M as Te}from"./map-pin-DCVsCVYi.js";import{_ as Ae}from"./index-BarqKNcU.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=Q("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Q("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),De=w({__name:"SheetHeader",props:{class:{}},setup(m){const o=m;return(n,l)=>(a(),h("div",{class:$(e(N)("flex flex-col gap-y-2 text-center sm:text-left",o.class))},[B(n.$slots,"default")],2))}}),Fe=w({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(m){const o=m,n=b(()=>{const{class:l,..._}=o;return _});return(l,_)=>(a(),c(e(ye),S({class:e(N)("text-lg font-semibold text-foreground",o.class)},n.value),{default:s(()=>[B(l.$slots,"default")]),_:3},16,["class"]))}}),Le=w({__name:"SheetTrigger",props:{asChild:{type:Boolean},as:{}},setup(m){const o=m;return(n,l)=>(a(),c(e(we),L(U(o)),{default:s(()=>[B(n.$slots,"default")]),_:3},16))}}),Ue=w({__name:"BreadcrumbEllipsis",props:{class:{}},setup(m){const o=m;return(n,l)=>(a(),h("span",{role:"presentation","aria-hidden":"true",class:$(e(N)("flex h-9 w-9 items-center justify-center",o.class))},[B(n.$slots,"default",{},()=>[t(e(be),{class:"h-4 w-4"})]),l[0]||(l[0]=p("span",{class:"sr-only"},"More",-1))],2))}}),He={class:"absolute left-0 top-full flex justify-center"},Ee=w({__name:"NavigationMenuViewport",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(m){const o=m,n=b(()=>{const{class:_,...u}=o;return u}),l=J(n);return(_,u)=>(a(),h("div",He,[t(e(ke),S(e(l),{class:e(N)("origin-top-center relative mt-1.5 h-[--radix-navigation-menu-viewport-height] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[--radix-navigation-menu-viewport-width]",o.class)}),null,16,["class"])]))}}),We=w({__name:"NavigationMenu",props:{modelValue:{},defaultValue:{},dir:{},orientation:{},delayDuration:{},skipDelayDuration:{},disableClickTrigger:{type:Boolean},disableHoverTrigger:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(m,{emit:o}){const n=m,l=o,_=b(()=>{const{class:x,...P}=n;return P}),u=K(_,l);return(x,P)=>(a(),c(e($e),S(e(u),{class:e(N)("relative z-10 flex max-w-max flex-1 items-center justify-center",n.class)}),{default:s(()=>[B(x.$slots,"default"),t(Ee)]),_:3},16,["class"]))}}),Re=w({__name:"NavigationMenuItem",props:{value:{},asChild:{type:Boolean},as:{}},setup(m){const o=m;return(n,l)=>(a(),c(e(Me),L(U(o)),{default:s(()=>[B(n.$slots,"default")]),_:3},16))}}),qe=w({__name:"NavigationMenuLink",props:{active:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(m,{emit:o}){const _=K(m,o);return(u,x)=>(a(),c(e(Ce),L(U(e(_))),{default:s(()=>[B(u.$slots,"default")]),_:3},16))}}),Oe=w({__name:"NavigationMenuList",props:{asChild:{type:Boolean},as:{},class:{}},setup(m){const o=m,n=b(()=>{const{class:_,...u}=o;return u}),l=J(n);return(_,u)=>(a(),c(e(Be),S(e(l),{class:e(N)("group flex flex-1 list-none items-center justify-center gap-x-1",o.class)}),{default:s(()=>[B(_.$slots,"default")]),_:3},16,["class"]))}}),G=xe("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Ge={class:"border-b border-border"},Qe={class:"mx-auto flex h-16 items-center px-4 md:max-w-7xl"},Je={class:"lg:hidden"},Ke={class:"-mx-3 space-y-1 py-6"},Xe={class:"flex items-center gap-x-3"},Ye={class:"hidden h-full lg:flex lg:flex-1"},Ze={class:"ml-auto"},es={key:0,class:"flex w-full border-b border-border"},ss={class:"mx-auto flex h-12 w-full items-center justify-start px-2 sm:px-4 text-neutral-500 md:max-w-7xl"},ts=w({__name:"AppHeader",props:{breadcrumbs:{default:()=>[]}},setup(m){const o=m,n=H(),l=b(()=>n.props.auth),{hasPermission:_,hasAnyPermission:u}=Pe(),x=f=>n.url===f,P=[{title:"Dashboard",href:"/miembro/dashboard",icon:Y},{title:"Votaciones",href:"/miembro/votaciones",icon:je,permission:"votaciones.view_public"},{title:"Candidaturas",href:"/miembro/candidaturas",icon:ze,permission:["candidaturas.view_own","candidaturas.create_own"]},{title:"Postulaciones",href:"/miembro/postulaciones",icon:F,permission:"postulaciones.view_own"},{title:"Asambleas",href:"/miembro/asambleas",icon:Ne,permission:"asambleas.view_public"},{title:"Proyectos",href:"/miembro/mis-proyectos",icon:q,permission:"proyectos.view_own",children:[{title:"Mis Proyectos",href:"/miembro/mis-proyectos",icon:q},{title:"Mis Hitos",href:"/miembro/mis-hitos",icon:Se,permission:"hitos.view_own"}]},{title:"Mis Contratos",href:"/miembro/mis-contratos",icon:F,permission:"contratos.view_own"},{title:"Formularios",href:"/miembro/formularios",icon:F,permission:"formularios.view_public"}],i=b(()=>P.filter(f=>f.permission?Array.isArray(f.permission)?u(f.permission):_(f.permission):!0));return(f,k)=>(a(),h("div",null,[p("div",Ge,[p("div",Qe,[p("div",Je,[t(e(Z),null,{default:s(()=>[t(e(Le),{"as-child":!0},{default:s(()=>[t(e(A),{variant:"ghost",size:"icon",class:"mr-2 h-9 w-9"},{default:s(()=>[t(e(Ve),{class:"h-5 w-5"})]),_:1})]),_:1}),t(e(ee),{side:"left",class:"w-[300px] p-6"},{default:s(()=>[t(e(Fe),{class:"sr-only"},{default:s(()=>[...k[0]||(k[0]=[v("Navigation Menu",-1)])]),_:1}),t(e(De),{class:"flex justify-start text-left"},{default:s(()=>[t(me,{class:"size-6 fill-current text-black dark:text-white"})]),_:1}),p("nav",Ke,[(a(!0),h(M,null,j(i.value,r=>(a(),h(M,{key:r.title},[r.children&&r.children.length>0?(a(),c(e(ge),{key:0,class:"space-y-1"},{default:s(()=>[t(e(oe),{class:$(["flex items-center justify-between w-full gap-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent",e(n).url.startsWith("/miembro/mis-proyectos")||e(n).url.startsWith("/miembro/mis-hitos")?"bg-accent text-accent-foreground font-semibold":"text-muted-foreground hover:text-accent-foreground"])},{default:s(()=>[p("span",Xe,[r.icon?(a(),c(z(r.icon),{key:0,class:"h-5 w-5"})):g("",!0),v(" "+y(r.title),1)]),t(e(O),{class:"h-4 w-4"})]),_:2},1032,["class"]),t(e(ve),{class:"pl-8 space-y-1"},{default:s(()=>[(a(!0),h(M,null,j(r.children,d=>(a(),c(e(C),{key:d.href,href:d.href,class:$(["flex items-center gap-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent",x(d.href)?"bg-accent text-accent-foreground font-semibold":"text-muted-foreground hover:text-accent-foreground"])},{default:s(()=>[d.icon?(a(),c(z(d.icon),{key:0,class:"h-4 w-4"})):g("",!0),v(" "+y(d.title),1)]),_:2},1032,["href","class"]))),128))]),_:2},1024)]),_:2},1024)):(a(),c(e(C),{key:1,href:r.href,class:$(["flex items-center gap-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent",x(r.href)?"bg-accent text-accent-foreground font-semibold":"text-muted-foreground hover:text-accent-foreground"])},{default:s(()=>[r.icon?(a(),c(z(r.icon),{key:0,class:"h-5 w-5"})):g("",!0),v(" "+y(r.title),1)]),_:2},1032,["href","class"]))],64))),128))])]),_:1})]),_:1})]),t(e(C),{href:f.route("user.dashboard"),class:"flex items-center gap-x-2"},{default:s(()=>[t(fe,{class:"hidden h-6 xl:block"})]),_:1},8,["href"]),p("div",Ye,[t(e(We),{class:"ml-10"},{default:s(()=>[t(e(Oe),{class:"space-x-1"},{default:s(()=>[(a(!0),h(M,null,j(i.value,r=>(a(),c(e(Re),{key:r.href},{default:s(()=>[r.children&&r.children.length>0?(a(),c(e(I),{key:0},{default:s(()=>[t(e(V),{"as-child":!0},{default:s(()=>[t(e(A),{variant:"ghost",class:$([e(G)(),"flex items-center gap-2 px-3 py-2",e(n).url.startsWith("/miembro/mis-proyectos")||e(n).url.startsWith("/miembro/mis-hitos")?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},{default:s(()=>[r.icon?(a(),c(z(r.icon),{key:0,class:"h-4 w-4"})):g("",!0),v(" "+y(r.title)+" ",1),t(e(O),{class:"h-3 w-3 ml-1"})]),_:2},1032,["class"])]),_:2},1024),t(e(D),{align:"start"},{default:s(()=>[(a(!0),h(M,null,j(r.children,d=>(a(),c(e(R),{key:d.href,"as-child":!0},{default:s(()=>[t(e(C),{href:d.href,class:$(["flex items-center gap-2 w-full",{"font-semibold":x(d.href)}])},{default:s(()=>[d.icon?(a(),c(z(d.icon),{key:0,class:"h-4 w-4"})):g("",!0),v(" "+y(d.title),1)]),_:2},1032,["href","class"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):(a(),c(e(qe),{key:1,"as-child":!0},{default:s(()=>[t(e(C),{href:r.href,class:$([e(G)(),"flex items-center gap-2 px-3 py-2",x(r.href)?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},{default:s(()=>[r.icon?(a(),c(z(r.icon),{key:0,class:"h-4 w-4"})):g("",!0),v(" "+y(r.title),1)]),_:2},1032,["href","class"])]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),p("div",Ze,[t(e(I),null,{default:s(()=>[t(e(V),{"as-child":!0},{default:s(()=>[t(e(A),{variant:"ghost",size:"icon",class:"relative h-10 w-10 rounded-full focus-within:ring-2 focus-within:ring-primary"},{default:s(()=>[t(e(pe),{class:"h-8 w-8"},{default:s(()=>[l.value.user.avatar_url?(a(),c(e(_e),{key:0,src:l.value.user.avatar_url,alt:l.value.user.name},null,8,["src","alt"])):g("",!0),t(e(he),{class:"bg-neutral-200 font-semibold text-black dark:bg-neutral-700 dark:text-white"},{default:s(()=>{var r;return[v(y(e(se)((r=l.value.user)==null?void 0:r.name)),1)]}),_:1})]),_:1})]),_:1})]),_:1}),t(e(D),{align:"end",class:"w-56"},{default:s(()=>[t(te,{user:l.value.user},null,8,["user"])]),_:1})]),_:1})])])]),o.breadcrumbs.length>=1?(a(),h("div",es,[p("div",ss,[t(e(ae),null,{default:s(()=>[t(e(re),null,{default:s(()=>[(a(!0),h(M,null,j(o.breadcrumbs,(r,d)=>(a(),h(M,{key:d},[t(e(W),{class:$([o.breadcrumbs.length>3&&d>0&&d<o.breadcrumbs.length-1?"hidden md:inline-flex":""])},{default:s(()=>[r.href&&r.href!=="#"&&d<o.breadcrumbs.length-1?(a(),c(e(ne),{key:0,"as-child":!0},{default:s(()=>[t(e(C),{href:r.href,class:"max-w-[120px] sm:max-w-none truncate"},{default:s(()=>[v(y(r.title),1)]),_:2},1032,["href"])]),_:2},1024)):(a(),c(e(le),{key:1,class:"max-w-[150px] sm:max-w-none truncate"},{default:s(()=>[v(y(r.title),1)]),_:2},1024))]),_:2},1032,["class"]),d<o.breadcrumbs.length-1?(a(),c(e(T),{key:0,class:$([o.breadcrumbs.length>3&&d>=1&&d<o.breadcrumbs.length-1?"hidden md:inline-flex":"",o.breadcrumbs.length>3&&d===0?"hidden md:inline-flex":""])},null,8,["class"])):g("",!0),o.breadcrumbs.length>3&&d===0?(a(),h(M,{key:1},[t(e(T),{class:"md:hidden"}),t(e(W),{class:"md:hidden"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(e(V),{class:"flex items-center gap-1"},{default:s(()=>[t(e(Ue),{class:"h-4 w-4"})]),_:1}),t(e(D),{align:"start"},{default:s(()=>[(a(!0),h(M,null,j(o.breadcrumbs.slice(1,-1),(E,X)=>(a(),c(e(R),{key:X,"as-child":!0},{default:s(()=>[t(e(C),{href:E.href||"#",class:"w-full"},{default:s(()=>[v(y(E.title),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t(e(T),{class:"md:hidden"})],64)):g("",!0)],64))),128))]),_:1})]),_:1})])])):g("",!0)]))}}),as={class:"border-b border-border bg-muted/20 dark:bg-muted/10"},rs={class:"mx-auto flex h-10 items-center justify-between gap-2 px-2 sm:px-4 md:max-w-7xl"},os={class:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground min-w-0 flex-1"},ns={key:0,class:"hidden md:inline truncate"},ls={key:1,class:"md:hidden truncate"},is={key:2,class:"text-muted-foreground/50 truncate"},cs={class:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground flex-shrink-0"},us=w({__name:"UserTopbar",setup(m){const o=H(),n=b(()=>{var i;return(i=o.props.auth)==null?void 0:i.user});b(()=>{var i;return(i=n.value)==null?void 0:i.territorio});const l=b(()=>{var i;return(i=n.value)==null?void 0:i.departamento}),_=b(()=>{var i;return(i=n.value)==null?void 0:i.municipio}),u=b(()=>{var i;return(i=n.value)==null?void 0:i.localidad}),x=b(()=>{var f,k,r;const i=[];return(f=l.value)!=null&&f.nombre&&i.push(l.value.nombre),(k=_.value)!=null&&k.nombre&&i.push(_.value.nombre),(r=u.value)!=null&&r.nombre&&i.push(u.value.nombre),i.join(", ")||"Ubicaci贸n no definida"}),P=b(()=>{var i,f,k;return((i=l.value)==null?void 0:i.nombre)||((f=_.value)==null?void 0:f.nombre)||((k=u.value)==null?void 0:k.nombre)});return(i,f)=>{var k,r;return a(),h("div",as,[p("div",rs,[p("div",os,[t(e(Te),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground/70 flex-shrink-0"}),P.value?(a(),h("span",ns,y(x.value),1)):g("",!0),P.value?(a(),h("span",ls,y(((k=_.value)==null?void 0:k.nombre)||((r=l.value)==null?void 0:r.nombre)||"Sin ubicaci贸n"),1)):g("",!0),P.value?g("",!0):(a(),h("span",is," Sin ubicaci贸n ")),t(e(C),{href:"/settings/update-data",class:"ml-1 text-xs text-primary hover:text-primary/80 hover:underline transition-colors flex-shrink-0 hidden sm:inline"},{default:s(()=>[...f[0]||(f[0]=[v(" (actualizar) ",-1)])]),_:1})]),p("div",cs,[t(e(Ie),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground/70"}),f[1]||(f[1]=p("span",{class:"hidden lg:inline"}," pedir ayuda ",-1)),f[2]||(f[2]=p("a",{href:"mailto:soporte@colombiahumana.co",class:"font-medium text-foreground hover:text-primary transition-colors underline underline-offset-4 decoration-1 hover:decoration-primary truncate max-w-[120px] sm:max-w-none"},[p("span",{class:"hidden sm:inline"},"soporte@colombiahumana.co"),p("span",{class:"sm:hidden"},"soporte")],-1))])])])}}}),ds={class:"container mx-auto px-2 py-4 sm:px-4 sm:py-6"},ms={key:0,class:"mb-4 rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-950"},fs={class:"flex items-center"},ps={class:"text-sm text-blue-800 dark:text-blue-200"},Ts=w({__name:"UserLayout",props:{breadcrumbs:{default:()=>[]}},setup(m){const o=H(),n=b(()=>{var u;return(u=o.props.auth)==null?void 0:u.user});ie();const l=b(()=>n.value?!n.value.name||!n.value.documento_identidad||!n.value.territorio_id||!n.value.departamento_id||!n.value.municipio_id||!n.value.telefono:!1),_=b(()=>{var u;return((u=o.props.auth)==null?void 0:u.hasAdministrativeRole)||!1});return(u,x)=>(a(),c(de,{variant:"header"},{default:s(()=>[t(us),t(ts,{breadcrumbs:m.breadcrumbs},null,8,["breadcrumbs"]),t(ce,{variant:"header"},{default:s(()=>[p("div",ds,[_.value?(a(),h("div",ms,[p("div",fs,[x[2]||(x[2]=p("svg",{class:"mr-2 h-4 w-4 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p("p",ps,[x[1]||(x[1]=v(" Tienes acceso administrativo. ",-1)),t(e(C),{href:u.route("admin.dashboard"),class:"font-medium underline hover:no-underline"},{default:s(()=>[...x[0]||(x[0]=[v(" Ir al panel de administraci贸n ",-1)])]),_:1},8,["href"])])])])):g("",!0),B(u.$slots,"default")])]),_:3}),l.value?(a(),c(ue,{key:0,open:l.value},null,8,["open"])):g("",!0),t(e(Ae),{duration:6e3,"rich-colors":"","close-button":""})]),_:3}))}});export{Ts as _};
