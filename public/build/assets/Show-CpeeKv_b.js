import{_ as Y}from"./AdminLayout.vue_vue_type_script_setup_true_lang-rwizxJSL.js";import{_ as w}from"./index-Ch-ylojk.js";import{_ as k}from"./createLucideIcon-DYYZ8d8j.js";import{_ as v,a as g,b as x,c as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-DYxclH40.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-DtaWd4Ev.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-C0Y6AGVd.js";import{_ as Z,a as tt,b as N,c as b,d as et,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-BBku5oYm.js";import{d as ot,c as $,a as p,o as d,b as o,u as t,m as at,e as a,f as s,j as f,i as C,W as h,g as i,t as l,n as D,l as q,F,r as z}from"./app-uqgoC9P3.js";import{A as st}from"./arrow-left-DiBkjcYj.js";import{S}from"./square-pen-C6X3pkPG.js";import{T as rt}from"./trash-2-BRDtwBGY.js";import{I as it}from"./info-B9uN4Kze.js";import{C as nt}from"./calendar-ChB8nT0z.js";import{U as j}from"./users-sB3os_bH.js";import{M as lt}from"./map-pin-CD_aikIG.js";import{F as A}from"./file-text-E2I6sKSt.js";import{U as dt}from"./user-CjmsF3u4.js";import{E as ut}from"./eye-CG1F308a.js";import{C as M}from"./clock-Xir7CfmS.js";import{C as G}from"./circle-check-big-C2u9aOTm.js";import{C as mt}from"./circle-x-D3z7D6dF.js";import{S as ct}from"./send-DtqRGMRz.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-DQs-6ABP.js";import"./index-BwwIHVWL.js";import"./floating-ui.vue-9q4rJ5MR.js";import"./x-CVrJT_FT.js";import"./Input.vue_vue_type_script_setup_true_lang-BUQ8h4mk.js";import"./index-3PJFboPx.js";import"./shield-B0yuCzDx.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D6Z3yHKs.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-D7Yoy2IF.js";import"./VisuallyHidden-D4UYEJiU.js";import"./PopperContent-bQryVTkf.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-WmfZ5qRR.js";import"./check-DIu3_Sq6.js";import"./nullish-CHIgUVhi.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-Dzid8Kmk.js";import"./index-JMjM76-u.js";import"./circle-alert-D1W5s3bu.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-af2a-qkw.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-8iEk5KmH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-DuF59Vjv.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BjaJLPMP.js";import"./vote-CjDHfvbc.js";import"./briefcase-DoSHyDwo.js";import"./megaphone-CilTLEbm.js";import"./user-check-BUld1wmi.js";import"./external-link-CA213bfE.js";import"./panel-left-Bs1QaZm7.js";import"./index-CIjidGQc.js";const ft={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},pt={class:"space-y-6"},_t={class:"flex items-center justify-between"},vt={class:"space-y-1"},gt={class:"flex items-center gap-2"},xt={class:"text-3xl font-bold tracking-tight"},yt={class:"flex items-center gap-2 mt-2"},bt={class:"flex gap-2"},Ct={class:"grid gap-6 md:grid-cols-2"},wt={class:"font-medium"},kt={class:"font-medium"},$t={class:"font-medium"},ht={class:"font-medium"},Et={class:"font-medium"},Nt={class:"font-medium"},Dt={class:"font-medium"},Ft={class:"font-medium"},St={class:"font-medium"},At={class:"font-medium"},Bt={class:"font-medium"},Pt={class:"font-medium"},Tt={class:"font-medium"},Vt={class:"space-y-4"},It={class:"flex items-center justify-between"},Lt={class:"font-medium"},Ut={class:"text-sm text-muted-foreground"},qt={key:0,class:"text-sm text-red-600"},zt={class:"rounded-md border"},jt={class:"font-medium"},Mt={class:"text-sm text-muted-foreground"},Gt={class:"text-sm"},Rt={class:"text-xs text-muted-foreground"},Wt={key:1,class:"text-sm text-muted-foreground"},Xt={key:0},Ht={class:"text-sm font-medium"},Jt={class:"text-xs text-muted-foreground"},Kt={key:1,class:"text-sm text-muted-foreground"},He=ot({__name:"Show",props:{convocatoria:{},postulaciones:{},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(R){const m=R,W=[{title:"Admin",href:"/admin/dashboard"},{title:"Convocatorias",href:"/admin/convocatorias"},{title:m.convocatoria.nombre,href:`/admin/convocatorias/${m.convocatoria.id}`}],X=r=>{switch(r){case"borrador":return S;case"activa":return G;case"cerrada":return M;default:return A}},H=r=>{switch(r){case"borrador":return S;case"enviada":return ct;case"en_revision":return M;case"aceptada":return G;case"rechazada":return mt;default:return A}},J=r=>{switch(r){case"borrador":return"bg-gray-100 text-gray-800";case"activa":return"bg-green-100 text-green-800";case"cerrada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=r=>{switch(r){case"borrador":return"Borrador";case"activa":return"Activa";case"cerrada":return"Cerrada";default:return r}},E=r=>r?new Date(r).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida",P=$(()=>{const r=new Date,e=new Date(m.convocatoria.fecha_apertura),n=new Date(m.convocatoria.fecha_cierre);return r>=e&&r<=n&&m.convocatoria.estado==="activa"}),T=$(()=>{const r=new Date,e=new Date(m.convocatoria.fecha_apertura);return r<e}),V=$(()=>P.value?"Abierta":T.value?"Futura":"Cerrada"),K=$(()=>P.value?"bg-green-100 text-green-800":T.value?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),O=()=>{h.get(`/admin/convocatorias/${m.convocatoria.id}/edit`)},Q=()=>{confirm("¿Estás seguro de que deseas eliminar esta convocatoria?")&&h.delete(`/admin/convocatorias/${m.convocatoria.id}`)};return(r,e)=>(d(),p(F,null,[o(t(at),{title:`Convocatoria: ${r.convocatoria.nombre}`},null,8,["title"]),o(Y,{breadcrumbs:W},{default:a(()=>[s("div",ft,[s("div",pt,[s("div",_t,[s("div",vt,[s("div",gt,[o(t(k),{variant:"ghost",size:"sm",onClick:e[0]||(e[0]=n=>t(h).get("/admin/convocatorias"))},{default:a(()=>[o(t(st),{class:"h-4 w-4 mr-2"}),e[1]||(e[1]=i(" Volver ",-1))]),_:1})]),s("h1",xt,l(r.convocatoria.nombre),1),s("div",yt,[o(t(w),{class:D([J(r.convocatoria.estado),"text-sm px-2 py-1"])},{default:a(()=>[(d(),f(q(X(r.convocatoria.estado)),{class:"mr-1 h-3 w-3"})),i(" "+l(B(r.convocatoria.estado)),1)]),_:1},8,["class"]),o(t(w),{class:D([K.value,"text-sm px-2 py-1"])},{default:a(()=>[i(l(V.value),1)]),_:1},8,["class"]),r.convocatoria.activo?C("",!0):(d(),f(t(w),{key:0,variant:"secondary",class:"text-sm px-2 py-1"},{default:a(()=>[...e[2]||(e[2]=[i(" Inactiva ",-1)])]),_:1}))])]),s("div",bt,[m.canEdit?(d(),f(t(k),{key:0,onClick:O,variant:"outline"},{default:a(()=>[o(t(S),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=i(" Editar ",-1))]),_:1})):C("",!0),m.canDelete?(d(),f(t(k),{key:1,onClick:Q,variant:"destructive"},{default:a(()=>[o(t(rt),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=i(" Eliminar ",-1))]),_:1})):C("",!0)])]),s("div",Ct,[o(t(v),null,{default:a(()=>[o(t(g),null,{default:a(()=>[o(t(x),{class:"flex items-center gap-2"},{default:a(()=>[o(t(it),{class:"h-5 w-5"}),e[5]||(e[5]=i(" Información General ",-1))]),_:1})]),_:1}),o(t(y),{class:"space-y-4"},{default:a(()=>[s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[6]||(e[6]=[i("Descripción:",-1)])]),_:1}),s("p",wt,l(r.convocatoria.descripcion||"Sin descripción"),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[7]||(e[7]=[i("Estado:",-1)])]),_:1}),s("p",kt,l(B(r.convocatoria.estado)),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[8]||(e[8]=[i("Activo:",-1)])]),_:1}),s("p",$t,l(r.convocatoria.activo?"Sí":"No"),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[9]||(e[9]=[i("Creado:",-1)])]),_:1}),s("p",ht,l(E(r.convocatoria.created_at)),1)])]),_:1})]),_:1}),o(t(v),null,{default:a(()=>[o(t(g),null,{default:a(()=>[o(t(x),{class:"flex items-center gap-2"},{default:a(()=>[o(t(nt),{class:"h-5 w-5"}),e[10]||(e[10]=i(" Fechas ",-1))]),_:1})]),_:1}),o(t(y),{class:"space-y-4"},{default:a(()=>[s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[11]||(e[11]=[i("Fecha de Apertura:",-1)])]),_:1}),s("p",Et,l(E(r.convocatoria.fecha_apertura)),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[12]||(e[12]=[i("Fecha de Cierre:",-1)])]),_:1}),s("p",Nt,l(E(r.convocatoria.fecha_cierre)),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[13]||(e[13]=[i("Estado Temporal:",-1)])]),_:1}),s("p",Dt,l(V.value),1)])]),_:1})]),_:1}),o(t(v),null,{default:a(()=>[o(t(g),null,{default:a(()=>[o(t(x),{class:"flex items-center gap-2"},{default:a(()=>[o(t(j),{class:"h-5 w-5"}),e[14]||(e[14]=i(" Cargo y Periodo Electoral ",-1))]),_:1})]),_:1}),o(t(y),{class:"space-y-4"},{default:a(()=>{var n,c;return[s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[15]||(e[15]=[i("Cargo:",-1)])]),_:1}),s("p",Ft,l(((n=r.convocatoria.cargo)==null?void 0:n.nombre)||"No asignado"),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[16]||(e[16]=[i("Periodo Electoral:",-1)])]),_:1}),s("p",St,l(((c=r.convocatoria.periodoElectoral)==null?void 0:c.nombre)||"No asignado"),1)])]}),_:1})]),_:1}),o(t(v),null,{default:a(()=>[o(t(g),null,{default:a(()=>[o(t(x),{class:"flex items-center gap-2"},{default:a(()=>[o(t(lt),{class:"h-5 w-5"}),e[17]||(e[17]=i(" Ubicación Geográfica ",-1))]),_:1})]),_:1}),o(t(y),{class:"space-y-4"},{default:a(()=>{var n,c,I,L;return[s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[18]||(e[18]=[i("Territorio:",-1)])]),_:1}),s("p",At,l(((n=r.convocatoria.territorio)==null?void 0:n.nombre)||"No especificado"),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[19]||(e[19]=[i("Departamento:",-1)])]),_:1}),s("p",Bt,l(((c=r.convocatoria.departamento)==null?void 0:c.nombre)||"No especificado"),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[20]||(e[20]=[i("Municipio:",-1)])]),_:1}),s("p",Pt,l(((I=r.convocatoria.municipio)==null?void 0:I.nombre)||"No especificado"),1)]),s("div",null,[o(t(u),{class:"text-muted-foreground"},{default:a(()=>[...e[21]||(e[21]=[i("Localidad:",-1)])]),_:1}),s("p",Tt,l(((L=r.convocatoria.localidad)==null?void 0:L.nombre)||"No especificado"),1)])]}),_:1})]),_:1})]),r.convocatoria.formulario_postulacion&&r.convocatoria.formulario_postulacion.length>0?(d(),f(t(v),{key:0},{default:a(()=>[o(t(g),null,{default:a(()=>[o(t(x),{class:"flex items-center gap-2"},{default:a(()=>[o(t(A),{class:"h-5 w-5"}),e[22]||(e[22]=i(" Formulario de Postulación ",-1))]),_:1}),o(t(U),null,{default:a(()=>[...e[23]||(e[23]=[i(" Campos configurados para el formulario de postulación de esta convocatoria. ",-1)])]),_:1})]),_:1}),o(t(y),null,{default:a(()=>[s("div",Vt,[(d(!0),p(F,null,z(r.convocatoria.formulario_postulacion,(n,c)=>(d(),p("div",{key:c,class:"border rounded-lg p-4"},[s("div",It,[s("div",null,[s("p",Lt,l(n.title||n.label||`Campo ${c+1}`),1),s("p",Ut,"Tipo: "+l(n.type||"No especificado"),1),n.required?(d(),p("p",qt,"Requerido")):C("",!0)])])]))),128))])]),_:1})]),_:1})):C("",!0),o(t(v),null,{default:a(()=>[o(t(g),null,{default:a(()=>[o(t(x),{class:"flex items-center gap-2"},{default:a(()=>[o(t(j),{class:"h-5 w-5"}),e[24]||(e[24]=i(" Postulaciones ",-1))]),_:1}),o(t(U),null,{default:a(()=>[...e[25]||(e[25]=[i(" Lista de postulaciones recibidas para esta convocatoria. ",-1)])]),_:1})]),_:1}),o(t(y),null,{default:a(()=>[s("div",zt,[o(t(Z),null,{default:a(()=>[o(t(tt),null,{default:a(()=>[o(t(N),null,{default:a(()=>[o(t(b),null,{default:a(()=>[...e[26]||(e[26]=[i("Usuario",-1)])]),_:1}),o(t(b),null,{default:a(()=>[...e[27]||(e[27]=[i("Estado",-1)])]),_:1}),o(t(b),null,{default:a(()=>[...e[28]||(e[28]=[i("Fecha Postulación",-1)])]),_:1}),o(t(b),null,{default:a(()=>[...e[29]||(e[29]=[i("Perfil",-1)])]),_:1}),o(t(b),null,{default:a(()=>[...e[30]||(e[30]=[i("Revisado por",-1)])]),_:1}),o(t(b),{class:"text-right"},{default:a(()=>[...e[31]||(e[31]=[i("Acciones",-1)])]),_:1})]),_:1})]),_:1}),o(t(et),null,{default:a(()=>[!r.postulaciones||r.postulaciones.length===0?(d(),f(t(N),{key:0},{default:a(()=>[o(t(_),{colspan:"6",class:"text-center text-muted-foreground py-8"},{default:a(()=>[...e[32]||(e[32]=[i(" No hay postulaciones para esta convocatoria. ",-1)])]),_:1})]),_:1})):C("",!0),(d(!0),p(F,null,z(r.postulaciones,n=>(d(),f(t(N),{key:n.id},{default:a(()=>[o(t(_),null,{default:a(()=>[s("div",null,[s("p",jt,l(n.usuario.name),1),s("p",Mt,l(n.usuario.email),1)])]),_:2},1024),o(t(_),null,{default:a(()=>[o(t(w),{class:D(n.estado_color)},{default:a(()=>[(d(),f(q(H(n.estado)),{class:"mr-1 h-3 w-3"})),i(" "+l(n.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),o(t(_),null,{default:a(()=>[s("p",Gt,l(n.fecha_postulacion||"Borrador"),1),s("p",Rt,l(n.created_at),1)]),_:2},1024),o(t(_),null,{default:a(()=>[n.tiene_candidatura_vinculada?(d(),f(t(w),{key:0,variant:"secondary",class:"bg-green-100 text-green-800"},{default:a(()=>[o(t(dt),{class:"mr-1 h-3 w-3"}),e[33]||(e[33]=i(" Vinculado ",-1))]),_:1})):(d(),p("span",Wt,"No vinculado"))]),_:2},1024),o(t(_),null,{default:a(()=>[n.revisado_por?(d(),p("div",Xt,[s("p",Ht,l(n.revisado_por.name),1),s("p",Jt,l(n.fecha_revision),1)])):(d(),p("span",Kt,"Sin revisar"))]),_:2},1024),o(t(_),{class:"text-right"},{default:a(()=>[o(t(k),{variant:"outline",size:"sm",onClick:c=>t(h).get(`/admin/postulaciones/${n.id}`)},{default:a(()=>[o(t(ut),{class:"mr-2 h-4 w-4"}),e[34]||(e[34]=i(" Ver detalle ",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})])])]),_:1})],64))}});export{He as default};
