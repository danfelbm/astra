import{_ as J,C as I}from"./index-BAQRLgBF.js";import{_ as v}from"./createLucideIcon-DuI2DrCA.js";import{_ as me,c as fe}from"./CardTitle.vue_vue_type_script_setup_true_lang-3LTNVSDv.js";import{_ as q}from"./Label.vue_vue_type_script_setup_true_lang-CsBkOf58.js";import{_ as pe,a as _e,b as K,c as y,d as ve,e as h}from"./TableHeader.vue_vue_type_script_setup_true_lang-QYjAGM7q.js";import{S as ge,U as xe,a as be,b as ye,c as he,_ as we}from"./AppLayout.vue_vue_type_script_setup_true_lang-DwDg25c0.js";import{d as D,a as u,i as L,o as d,f as s,F as R,r as te,j as V,u as t,W as oe,e as n,s as Ce,v as $e,x as ke,y as Ee,k as _,w as Se,b as o,m as Ae,g as r,P as Ne,t as l,n as je}from"./app-Cek8aP6k.js";import{_ as Pe}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-Cbd10Ek4.js";import{_ as X,a as G,b as Q,c as Y,d as Z,e as ee}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C7a0PwBQ.js";import{_ as W}from"./Checkbox.vue_vue_type_script_setup_true_lang-0K7Z68LZ.js";import{H as Te}from"./index-DTr9lscB.js";import{M as T}from"./mail-aUfYwmT9.js";import{S as B}from"./send-DFQV02J-.js";import{E as Ve}from"./eye-CYU2Cg50.js";import{E as Me}from"./external-link-RiMXPmuz.js";import{M as se}from"./message-square-Ccn-mrTv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-BmEvmKAm.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-pt25EWWT.js";import"./VisuallyHidden-Cd3OMfy1.js";import"./check-NWA7xPga.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BvLpt0Xu.js";import"./index-VwN8agGc.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-cy5wB9LS.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-BoIzEZWP.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-C7Mvg76u.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-DWIqcD1y.js";import"./loader-circle-q_xFPKrn.js";import"./trash-2-DRVcyDup.js";import"./plus-CDZJPo__.js";import"./search-KnqzzlxU.js";import"./history--Er8RBh-.js";import"./save-pG1Y7cLP.js";const qe={key:0,class:"mt-6 flex justify-center"},We={class:"flex items-center gap-2"},Le=["innerHTML"],Re=D({__name:"Pagination",props:{links:{}},setup(x){const c=m=>({"pagination.previous":"&laquo; Anterior","pagination.next":"Siguiente &raquo;","&laquo; Previous":"&laquo; Anterior","Next &raquo;":"Siguiente &raquo;",Previous:"Anterior",Next:"Siguiente","...":"..."})[m]||m,w=m=>{m&&oe.get(m)};return(m,F)=>m.links&&m.links.length>3?(d(),u("div",qe,[s("div",We,[(d(!0),u(R,null,te(m.links,g=>(d(),u(R,{key:g.label},[g.url?(d(),V(t(v),{key:0,variant:g.active?"default":"outline",size:"sm",onClick:H=>w(g.url),innerHTML:c(g.label)},null,8,["variant","onClick","innerHTML"])):(d(),u("span",{key:1,class:"px-3 py-1 text-sm text-muted-foreground cursor-not-allowed",innerHTML:c(g.label)},null,8,Le))],64))),128))])])):L("",!0)}}),Fe=D({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(x){const c=x;return(w,m)=>(d(),V(t(Te),$e(ke(c)),{default:n(()=>[Ce(w.$slots,"default")]),_:3},16))}});function Be(x){if(!x)return"";const c=document.createElement("DIV");return c.innerHTML=x,(c.textContent||c.innerText||"").trim()}const De={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},He={class:"flex items-center justify-between"},Oe={class:"flex gap-3 items-center"},Ue={key:0,class:"text-center py-8"},ze={key:1,class:"rounded-md border"},Je={class:"font-medium"},Ie={class:"text-sm text-muted-foreground"},Ke={class:"text-xs text-muted-foreground"},Xe={key:0},Ge={class:"font-medium text-sm"},Qe={key:1,class:"text-sm text-muted-foreground"},Ye={key:0},Ze={class:"text-sm"},es={class:"text-xs text-muted-foreground"},ss={key:1,class:"text-sm text-muted-foreground"},ts={class:"text-sm"},os={key:0,class:"max-w-xs space-y-1"},as={class:"text-sm text-blue-800 dark:text-blue-200 truncate"},ns={class:"flex items-center gap-2"},ls={key:0,class:"text-xs text-muted-foreground"},rs={key:1,class:"text-sm text-muted-foreground"},is=["href"],ds={class:"space-y-6"},us={class:"bg-orange-50 border border-orange-200 rounded-lg p-4"},cs={class:"flex items-center gap-2 mb-3"},ms={class:"grid grid-cols-2 gap-3 text-sm"},fs={class:"flex justify-between"},ps={class:"font-medium text-orange-900"},_s={class:"flex justify-between"},vs={class:"font-medium text-orange-900"},gs={class:"flex justify-between"},xs={class:"font-medium text-orange-900"},bs={class:"flex justify-between"},ys={class:"font-medium text-red-700"},hs={class:"space-y-4"},ws={class:"space-y-3"},Cs={class:"flex items-center space-x-3"},$s={class:"flex items-center gap-2"},ks={class:"text-sm text-muted-foreground ml-1"},Es={class:"flex items-center space-x-3"},Ss={class:"flex items-center gap-2"},As={class:"text-sm text-muted-foreground ml-1"},Ns={class:"space-y-6"},js={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ps={class:"flex items-center gap-2 mb-3"},Ts={class:"grid grid-cols-2 gap-3 text-sm"},Vs={class:"flex justify-between"},Ms={class:"font-medium text-blue-900"},qs={class:"flex justify-between"},Ws={class:"font-medium text-blue-900"},Ls={class:"flex justify-between"},Rs={class:"font-medium text-blue-900"},Fs={class:"flex justify-between"},Bs={class:"font-medium text-red-700"},Ds={class:"space-y-4"},Hs={class:"space-y-3"},Os={class:"flex items-center space-x-3"},Us={class:"flex items-center gap-2"},zs={class:"text-sm text-muted-foreground ml-1"},Js={class:"flex items-center space-x-3"},Is={class:"flex items-center gap-2"},Ks={class:"text-sm text-muted-foreground ml-1"},Nt=D({__name:"Index",props:{candidaturas:{},filters:{},filterFieldsConfig:{}},setup(x){var O,U;const c=x,w=Ee(),m=((O=w.props.auth)==null?void 0:O.permissions)||[],F=((U=w.props.auth)==null?void 0:U.isSuperAdmin)||!1,g=i=>F?!0:m.includes(i)||m.includes("*"),H=[{title:"Admin",href:"/admin/dashboard"},{title:"Candidaturas",href:"#"}],M=_({estado:c.filters.estado||"null",search:c.filters.search||""});Se(M,i=>{const e=Object.entries(i).reduce((a,[b,z])=>(a[b]=z==="null"?"":z,a),{});oe.get("/admin/candidaturas",e,{preserveState:!0,replace:!0})},{deep:!0});const ae={fields:c.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre, email o documento...",quickSearchFields:["user.name","user.email","user.documento_identidad"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:C}=window,ne=_("todos"),le=()=>{var i;if(c.filters.advanced_filters)try{const a=(i=JSON.parse(c.filters.advanced_filters).conditions)==null?void 0:i.find(b=>b.field==="candidaturas.estado"&&b.operator==="equals");if(a)return a.value}catch{}return"todos"};ne.value=le();const $=_(!1),k=_(!1),E=_(!0),S=_(!0),f=_({total_borradores:0,con_email:0,con_telefono:0,sin_email:0,sin_telefono:0}),A=_(!1),N=_(!1),j=_(!0),P=_(!0),p=_({total_pendientes:0,con_email:0,con_telefono:0,sin_email:0,sin_telefono:0}),re=i=>new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ie=async()=>{try{const e=await(await fetch(C("admin.candidaturas.estadisticas-borradores"))).json();f.value=e,$.value=!0}catch(i){console.error("Error cargando estadísticas:",i),alert("Error cargando estadísticas de candidaturas en borrador")}},de=async()=>{try{const e=await(await fetch(C("admin.candidaturas.estadisticas-pendientes"))).json();p.value=e,A.value=!0}catch(i){console.error("Error cargando estadísticas:",i),alert("Error cargando estadísticas de candidaturas pendientes")}},ue=async()=>{var i;if(!j.value&&!P.value){alert("Debes seleccionar al menos un tipo de notificación (email o WhatsApp)");return}N.value=!0;try{const a=await(await fetch(C("admin.candidaturas.enviar-notificaciones"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"))||""},body:JSON.stringify({incluir_email:j.value,incluir_whatsapp:P.value})})).json();a.success?(A.value=!1,alert(`Notificaciones enviadas exitosamente!

• Candidaturas procesadas: ${a.contadores.total_candidaturas}
• Correos programados: ${a.contadores.emails_enviados}
• WhatsApps programados: ${a.contadores.whatsapps_enviados}
• Errores: ${a.contadores.errores}

Los mensajes se están enviando en segundo plano respetando los límites de velocidad configurados.`)):alert(`Error: ${a.message}`)}catch(e){console.error("Error enviando notificaciones:",e),alert("Error enviando notificaciones. Por favor intenta de nuevo.")}finally{N.value=!1}},ce=async()=>{var i;if(!E.value&&!S.value){alert("Debes seleccionar al menos un tipo de recordatorio (email o WhatsApp)");return}k.value=!0;try{const a=await(await fetch(C("admin.candidaturas.enviar-recordatorios"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"))||""},body:JSON.stringify({incluir_email:E.value,incluir_whatsapp:S.value})})).json();a.success?($.value=!1,alert(`Recordatorios enviados exitosamente!

• Candidaturas procesadas: ${a.contadores.total_candidaturas}
• Correos programados: ${a.contadores.emails_enviados}
• WhatsApps programados: ${a.contadores.whatsapps_enviados}
• Errores: ${a.contadores.errores}

Los mensajes se están enviando en segundo plano respetando los límites de velocidad configurados.`)):alert(`Error: ${a.message}`)}catch(e){console.error("Error enviando recordatorios:",e),alert("Error enviando recordatorios. Por favor intenta de nuevo.")}finally{k.value=!1}};return(i,e)=>(d(),u(R,null,[o(t(Ae),{title:"Candidaturas"}),o(we,{breadcrumbs:H},{default:n(()=>[s("div",De,[s("div",He,[e[12]||(e[12]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Candidaturas"),s("p",{class:"text-muted-foreground"}," Revisa y gestiona los perfiles de candidatura de los usuarios ")],-1)),s("div",Oe,[e[11]||(e[11]=s("div",{class:"h-8 w-px bg-border"},null,-1)),o(t(v),{onClick:de,variant:"outline",class:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 hover:border-blue-300"},{default:n(()=>[o(t(T),{class:"mr-2 h-4 w-4"}),e[8]||(e[8]=r(" Notificaciones "))]),_:1}),o(t(v),{onClick:ie,variant:"outline",class:"bg-orange-50 border-orange-200 text-orange-700 hover:bg-orange-100 hover:border-orange-300"},{default:n(()=>[o(t(B),{class:"mr-2 h-4 w-4"}),e[9]||(e[9]=r(" Recordatorios "))]),_:1}),g("candidaturas.configuracion")?(d(),V(t(Ne),{key:0,href:"/admin/candidaturas/configuracion"},{default:n(()=>[o(t(v),null,{default:n(()=>[o(t(ge),{class:"mr-2 h-4 w-4"}),e[10]||(e[10]=r(" Configuración "))]),_:1})]),_:1})):L("",!0)])]),o(Pe,{config:ae,route:t(C)("admin.candidaturas.index"),"initial-filters":{quickSearch:M.value.search,rootGroup:M.value.advanced_filters?JSON.parse(M.value.advanced_filters):void 0}},null,8,["route","initial-filters"]),o(t(me),null,{default:n(()=>[o(t(fe),{class:"pt-6"},{default:n(()=>[i.candidaturas.data.length===0?(d(),u("div",Ue,[o(t(xe),{class:"mx-auto h-12 w-12 text-muted-foreground"}),e[13]||(e[13]=s("h3",{class:"mt-4 text-lg font-medium"},"No hay candidaturas",-1)),e[14]||(e[14]=s("p",{class:"text-muted-foreground"},"No se encontraron candidaturas con los filtros aplicados.",-1))])):(d(),u("div",ze,[o(t(pe),null,{default:n(()=>[o(t(_e),null,{default:n(()=>[o(t(K),null,{default:n(()=>[o(t(y),null,{default:n(()=>e[15]||(e[15]=[r("Usuario")])),_:1}),o(t(y),null,{default:n(()=>e[16]||(e[16]=[r("Convocatoria")])),_:1}),o(t(y),null,{default:n(()=>e[17]||(e[17]=[r("Estado")])),_:1}),o(t(y),null,{default:n(()=>e[18]||(e[18]=[r("Datos Completados")])),_:1}),o(t(y),null,{default:n(()=>e[19]||(e[19]=[r("Actualizado")])),_:1}),o(t(y),null,{default:n(()=>e[20]||(e[20]=[r("Comentarios")])),_:1}),o(t(y),{class:"text-right"},{default:n(()=>e[21]||(e[21]=[r("Acciones")])),_:1})]),_:1})]),_:1}),o(t(ve),null,{default:n(()=>[(d(!0),u(R,null,te(i.candidaturas.data,a=>(d(),V(t(K),{key:a.id},{default:n(()=>[o(t(h),null,{default:n(()=>[s("div",null,[s("p",Je,l(a.usuario.name),1),s("p",Ie,l(a.usuario.email),1),s("p",Ke,l(a.usuario.documento_identidad||"Sin documento"),1)])]),_:2},1024),o(t(h),null,{default:n(()=>[a.convocatoria?(d(),u("div",Xe,[s("p",Ge,l(a.convocatoria.nombre),1)])):(d(),u("span",Qe,"Sin convocatoria"))]),_:2},1024),o(t(h),null,{default:n(()=>[o(t(J),{class:je(a.estado_color)},{default:n(()=>[r(l(a.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),o(t(h),null,{default:n(()=>[a.total_campos>0?(d(),u("div",Ye,[s("p",Ze,l(a.campos_llenados)+" / "+l(a.total_campos),1),s("p",es," ("+l(a.porcentaje_completado)+"%) ",1)])):(d(),u("span",ss,"Sin configuración"))]),_:2},1024),o(t(h),null,{default:n(()=>[s("p",ts,l(re(a.updated_at)),1)]),_:2},1024),o(t(h),null,{default:n(()=>{var b;return[a.comentario_actual||a.comentarios_admin?(d(),u("div",os,[s("p",as,l(t(Be)(((b=a.comentario_actual)==null?void 0:b.comentario)||a.comentarios_admin||"")),1),s("div",ns,[a.comentario_actual?(d(),u("span",ls,l(a.comentario_actual.fecha_relativa),1)):L("",!0),a.total_comentarios&&a.total_comentarios>1?(d(),V(t(J),{key:1,variant:"secondary",class:"text-xs"},{default:n(()=>[r(" +"+l(a.total_comentarios-1)+" más ",1)]),_:2},1024)):L("",!0)])])):(d(),u("span",rs,"-"))]}),_:2},1024),o(t(h),{class:"text-right"},{default:n(()=>[o(t(Fe),null,{default:n(()=>[o(t(be),null,{default:n(()=>[o(t(ye),{asChild:""},{default:n(()=>[s("a",{href:`/admin/candidaturas/${a.id}`,target:"_blank",rel:"noopener noreferrer"},[o(t(v),{variant:"outline",size:"sm"},{default:n(()=>[o(t(Ve),{class:"mr-2 h-4 w-4"}),e[22]||(e[22]=r(" Ver candidatura ")),o(t(Me),{class:"ml-1 h-3 w-3"})]),_:1})],8,is)]),_:2},1024),o(t(he),null,{default:n(()=>e[23]||(e[23]=[s("p",null,"Abrir en nueva ventana",-1)])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),o(Re,{links:i.candidaturas.links},null,8,["links"])]),_:1})]),_:1}),o(t(X),{open:$.value,"onUpdate:open":e[3]||(e[3]=a=>$.value=a)},{default:n(()=>[o(t(G),{class:"sm:max-w-md"},{default:n(()=>[o(t(Q),null,{default:n(()=>[o(t(Y),{class:"flex items-center gap-2"},{default:n(()=>[o(t(B),{class:"h-5 w-5 text-orange-600"}),e[24]||(e[24]=r(" Enviar Recordatorios Masivos "))]),_:1}),o(t(Z),null,{default:n(()=>e[25]||(e[25]=[r(" Envía recordatorios por correo y/o WhatsApp a todas las candidaturas en estado borrador. ")])),_:1})]),_:1}),s("div",ds,[s("div",us,[s("div",cs,[o(t(I),{class:"h-5 w-5 text-orange-600"}),e[26]||(e[26]=s("h3",{class:"font-medium text-orange-900"},"Candidaturas en Borrador",-1))]),s("div",ms,[s("div",fs,[e[27]||(e[27]=s("span",{class:"text-orange-700"},"Total en borrador:",-1)),s("span",ps,l(f.value.total_borradores),1)]),s("div",_s,[e[28]||(e[28]=s("span",{class:"text-orange-700"},"Con email:",-1)),s("span",vs,l(f.value.con_email),1)]),s("div",gs,[e[29]||(e[29]=s("span",{class:"text-orange-700"},"Con teléfono:",-1)),s("span",xs,l(f.value.con_telefono),1)]),s("div",bs,[e[30]||(e[30]=s("span",{class:"text-red-600"},"Sin contacto:",-1)),s("span",ys,l(Math.max(0,f.value.total_borradores-Math.max(f.value.con_email,f.value.con_telefono))),1)])])]),s("div",hs,[e[33]||(e[33]=s("h4",{class:"font-medium text-gray-900"},"Selecciona los tipos de recordatorio:",-1)),s("div",ws,[s("div",Cs,[o(t(W),{id:"include-email",modelValue:E.value,"onUpdate:modelValue":e[0]||(e[0]=a=>E.value=a),disabled:f.value.con_email===0},null,8,["modelValue","disabled"]),s("div",$s,[o(t(T),{class:"h-4 w-4 text-blue-600"}),o(t(q),{for:"include-email",class:"flex-1"},{default:n(()=>[e[31]||(e[31]=r(" Correo electrónico ")),s("span",ks," ("+l(f.value.con_email)+" candidaturas) ",1)]),_:1})])]),s("div",Es,[o(t(W),{id:"include-whatsapp",modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=a=>S.value=a),disabled:f.value.con_telefono===0},null,8,["modelValue","disabled"]),s("div",Ss,[o(t(se),{class:"h-4 w-4 text-green-600"}),o(t(q),{for:"include-whatsapp",class:"flex-1"},{default:n(()=>[e[32]||(e[32]=r(" WhatsApp ")),s("span",As," ("+l(f.value.con_telefono)+" candidaturas) ",1)]),_:1})])])])]),e[34]||(e[34]=s("div",{class:"text-xs text-muted-foreground bg-gray-50 border border-gray-200 rounded p-3"},[s("p",{class:"mb-1"},"• Los mensajes se envían respetando los límites de velocidad configurados"),s("p",{class:"mb-1"},"• Emails: 2 por segundo | WhatsApp: 5 por segundo"),s("p",null,"• El proceso se ejecuta en segundo plano")],-1))]),o(t(ee),null,{default:n(()=>[o(t(v),{variant:"outline",onClick:e[2]||(e[2]=a=>$.value=!1),disabled:k.value},{default:n(()=>e[35]||(e[35]=[r(" Cancelar ")])),_:1},8,["disabled"]),o(t(v),{onClick:ce,disabled:k.value||f.value.total_borradores===0||!E.value&&!S.value,class:"bg-orange-600 hover:bg-orange-700"},{default:n(()=>[o(t(B),{class:"mr-2 h-4 w-4"}),r(" "+l(k.value?"Enviando...":`Enviar Recordatorios (${f.value.total_borradores})`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),o(t(X),{open:A.value,"onUpdate:open":e[7]||(e[7]=a=>A.value=a)},{default:n(()=>[o(t(G),{class:"sm:max-w-md"},{default:n(()=>[o(t(Q),null,{default:n(()=>[o(t(Y),{class:"flex items-center gap-2"},{default:n(()=>[o(t(T),{class:"h-5 w-5 text-blue-600"}),e[36]||(e[36]=r(" Enviar Notificaciones de Estado "))]),_:1}),o(t(Z),null,{default:n(()=>e[37]||(e[37]=[r(" Envía notificaciones por correo y/o WhatsApp a todas las candidaturas en estado pendiente de revisión. ")])),_:1})]),_:1}),s("div",Ns,[s("div",js,[s("div",Ps,[o(t(I),{class:"h-5 w-5 text-blue-600"}),e[38]||(e[38]=s("h3",{class:"font-medium text-blue-900"},"Candidaturas Pendientes de Revisión",-1))]),s("div",Ts,[s("div",Vs,[e[39]||(e[39]=s("span",{class:"text-blue-700"},"Total pendientes:",-1)),s("span",Ms,l(p.value.total_pendientes),1)]),s("div",qs,[e[40]||(e[40]=s("span",{class:"text-blue-700"},"Con email:",-1)),s("span",Ws,l(p.value.con_email),1)]),s("div",Ls,[e[41]||(e[41]=s("span",{class:"text-blue-700"},"Con teléfono:",-1)),s("span",Rs,l(p.value.con_telefono),1)]),s("div",Fs,[e[42]||(e[42]=s("span",{class:"text-red-600"},"Sin contacto:",-1)),s("span",Bs,l(Math.max(0,p.value.total_pendientes-Math.max(p.value.con_email,p.value.con_telefono))),1)])])]),s("div",Ds,[e[45]||(e[45]=s("h4",{class:"font-medium text-gray-900"},"Selecciona los tipos de notificación:",-1)),s("div",Hs,[s("div",Os,[o(t(W),{id:"include-email-notif",modelValue:j.value,"onUpdate:modelValue":e[4]||(e[4]=a=>j.value=a),disabled:p.value.con_email===0},null,8,["modelValue","disabled"]),s("div",Us,[o(t(T),{class:"h-4 w-4 text-blue-600"}),o(t(q),{for:"include-email-notif",class:"flex-1"},{default:n(()=>[e[43]||(e[43]=r(" Correo electrónico ")),s("span",zs," ("+l(p.value.con_email)+" candidaturas) ",1)]),_:1})])]),s("div",Js,[o(t(W),{id:"include-whatsapp-notif",modelValue:P.value,"onUpdate:modelValue":e[5]||(e[5]=a=>P.value=a),disabled:p.value.con_telefono===0},null,8,["modelValue","disabled"]),s("div",Is,[o(t(se),{class:"h-4 w-4 text-green-600"}),o(t(q),{for:"include-whatsapp-notif",class:"flex-1"},{default:n(()=>[e[44]||(e[44]=r(" WhatsApp ")),s("span",Ks," ("+l(p.value.con_telefono)+" candidaturas) ",1)]),_:1})])])])]),e[46]||(e[46]=s("div",{class:"text-xs text-muted-foreground bg-gray-50 border border-gray-200 rounded p-3"},[s("p",{class:"mb-1"},"• Se notificará que la candidatura fue recibida exitosamente"),s("p",{class:"mb-1"},"• Emails: 2 por segundo | WhatsApp: 5 por segundo"),s("p",null,"• El proceso se ejecuta en segundo plano")],-1))]),o(t(ee),null,{default:n(()=>[o(t(v),{variant:"outline",onClick:e[6]||(e[6]=a=>A.value=!1),disabled:N.value},{default:n(()=>e[47]||(e[47]=[r(" Cancelar ")])),_:1},8,["disabled"]),o(t(v),{onClick:ue,disabled:N.value||p.value.total_pendientes===0||!j.value&&!P.value,class:"bg-blue-600 hover:bg-blue-700"},{default:n(()=>[o(t(T),{class:"mr-2 h-4 w-4"}),r(" "+l(N.value?"Enviando...":`Enviar Notificaciones (${p.value.total_pendientes})`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{Nt as default};
