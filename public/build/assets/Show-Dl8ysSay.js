import{d as P,b as V,e as c,w as t,g as s,f as a,u as l,h as e,i as B,j as M,t as r,W as d}from"./app-CbA_dzrH.js";import{_ as w}from"./UserLayout.vue_vue_type_script_setup_true_lang-C0kuRXSj.js";import{_ as u,a as f,b as _,c as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dpl1EP6e.js";import{_ as b}from"./createLucideIcon-0y3HvBb2.js";import{_ as v}from"./index-MuREUf8q.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-BHOcaT7W.js";import{_ as z}from"./Progress.vue_vue_type_script_setup_true_lang-D8y6e2Bc.js";import{t as y}from"./index-CXCj42Z3.js";import{f as N,e as O}from"./es-BDPlFIsO.js";import{p as x}from"./parseISO-DFjB8F03.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-C4x6rJ8B.js";import"./index-D-PGeZ3t.js";import"./floating-ui.vue-D3EH1Xba.js";import"./x-CxSWfWOJ.js";import"./Input.vue_vue_type_script_setup_true_lang-Dw2oMjuZ.js";import"./index-DzUkqZxm.js";import"./index-BGfSt6nP.js";import"./shield-yBic2gp-.js";import"./user-BnDczykq.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-H44qAxpr.js";import"./chevron-right-pq_ChJ0s.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-H8FdC1v8.js";import"./VisuallyHidden-BOU54Fpc.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-C7VbuHoF.js";import"./check-8t2yOxAa.js";import"./nullish-CHIgUVhi.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-fWHHAQt9.js";import"./circle-alert-CfNQ3Vlu.js";import"./map-pin-B0r5dLQM.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BZUuILpY.js";import"./square-check-big-CDgrQbfI.js";import"./file-text-DINmkRZl.js";import"./users-DLZP89St.js";import"./folder-open-B03CPFE8.js";import"./index-DPtKDKxs.js";const D={class:"text-xl font-semibold"},E={class:"py-6 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"grid md:grid-cols-3 gap-6"},W={class:"md:col-span-2 space-y-6"},A={class:"space-y-4"},T={class:"grid grid-cols-2 gap-4"},q={key:0,class:"mt-6 flex gap-2"},F={class:"font-medium"},G={class:"text-sm text-gray-600"},Po=P({__name:"Show",props:{obligacion:{},contrato:{},canComplete:{type:Boolean}},setup(C){const m=C,$=o=>o?N(x(o),"dd MMM yyyy",{locale:O}):"Sin fecha",S=o=>({cumplida:"success",vencida:"destructive",en_progreso:"default"})[o]||"secondary",j=()=>{const o=prompt("Porcentaje de avance (0-100):",String(m.obligacion.porcentaje_cumplimiento));o&&d.put(route("miembro.mis-obligaciones.actualizar-progreso",m.obligacion.id),{porcentaje_cumplimiento:parseInt(o)},{onSuccess:()=>y.success("Progreso actualizado")})},k=()=>{confirm("¿Marcar como cumplida?")&&d.post(route("miembro.mis-obligaciones.completar",m.obligacion.id),{},{onSuccess:()=>y.success("Obligación completada")})};return(o,i)=>(c(),V(w,{title:o.obligacion.titulo},{header:t(()=>[s("h2",D,r(o.obligacion.titulo),1)]),default:t(()=>[s("div",E,[s("div",I,[s("div",W,[a(l(u),null,{default:t(()=>[a(l(f),null,{default:t(()=>[a(l(_),null,{default:t(()=>[...i[0]||(i[0]=[e("Información de la Obligación",-1)])]),_:1})]),_:1}),a(l(g),null,{default:t(()=>[s("div",A,[s("div",null,[a(l(n),null,{default:t(()=>[...i[1]||(i[1]=[e("Descripción",-1)])]),_:1}),s("p",null,r(o.obligacion.descripcion||"Sin descripción"),1)]),s("div",T,[s("div",null,[a(l(n),null,{default:t(()=>[...i[2]||(i[2]=[e("Estado",-1)])]),_:1}),a(l(v),{variant:S(o.obligacion.estado)},{default:t(()=>[e(r(o.obligacion.estado_label),1)]),_:1},8,["variant"])]),s("div",null,[a(l(n),null,{default:t(()=>[...i[3]||(i[3]=[e("Prioridad",-1)])]),_:1}),a(l(v),null,{default:t(()=>[e(r(o.obligacion.prioridad_label),1)]),_:1})]),s("div",null,[a(l(n),null,{default:t(()=>[...i[4]||(i[4]=[e("Vencimiento",-1)])]),_:1}),s("p",null,r($(o.obligacion.fecha_vencimiento)),1)]),s("div",null,[a(l(n),null,{default:t(()=>[...i[5]||(i[5]=[e("Progreso",-1)])]),_:1}),a(l(z),{value:o.obligacion.porcentaje_cumplimiento},null,8,["value"])])])]),o.canComplete&&o.obligacion.estado!=="cumplida"?(c(),B("div",q,[a(l(b),{onClick:j},{default:t(()=>[...i[6]||(i[6]=[e("Actualizar Progreso",-1)])]),_:1}),a(l(b),{variant:"success",onClick:k},{default:t(()=>[...i[7]||(i[7]=[e("Marcar como Cumplida",-1)])]),_:1})])):M("",!0)]),_:1})]),_:1})]),s("div",null,[a(l(u),null,{default:t(()=>[a(l(f),null,{default:t(()=>[a(l(_),null,{default:t(()=>[...i[8]||(i[8]=[e("Contrato",-1)])]),_:1})]),_:1}),a(l(g),null,{default:t(()=>{var p;return[s("p",F,r(o.contrato.nombre),1),s("p",G,r((p=o.contrato.proyecto)==null?void 0:p.nombre),1)]}),_:1})]),_:1})])])])]),_:1},8,["title"]))}});export{Po as default};
