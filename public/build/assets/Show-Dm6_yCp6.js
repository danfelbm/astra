import{d as rt,r as $,c as I,D as lt,i as u,e as i,f as s,u as e,p as it,w as a,g as r,b as m,j as c,P as C,h as n,t as d,q as nt,n as z,F as h,k as E,l as M}from"./app-B7JHmzZ3.js";import{_ as dt}from"./UserLayout.vue_vue_type_script_setup_true_lang-DM9Y_09m.js";import{_ as y,a as b,b as x,c as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-xUjjE8IK.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-BcT4z-YO.js";import{_ as F}from"./createLucideIcon-fGeWyvG_.js";import{_ as v}from"./index-rxln-YzF.js";import{_ as ut}from"./Progress.vue_vue_type_script_setup_true_lang-Dj630CNs.js";import{_ as mt,a as ct,b as V,c as j}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BypX571T.js";import{_ as ft,a as pt,b as H,c as D,d as yt,e as P}from"./TableHeader.vue_vue_type_script_setup_true_lang-n0pGeC-L.js";import{_ as R,a as O,b as G}from"./index-BmRuyn_S.js";import{E as gt}from"./EtiquetaDisplay-B22DOk_a.js";import{_ as _t}from"./ContratoCard.vue_vue_type_script_setup_true_lang-CmnoYPkr.js";import{H as vt}from"./HitoCard-hsDuPO1J.js";import{_ as bt}from"./EvidenciaFilters.vue_vue_type_script_setup_true_lang-BDvG_tF2.js";import{_ as xt,a as ht,b as kt,c as wt}from"./AccordionContent.vue_vue_type_script_setup_true_lang-CetpbP0X.js";import{A as J}from"./arrow-left-C14FsogT.js";import{S as K}from"./square-pen-B40rWVwA.js";import{U as $t}from"./users-gG9q0EaO.js";import{F as T}from"./file-text-C_id9aKI.js";import{I as B}from"./image-ELAjC6NJ.js";import{M as Q,B as Ct,C as Et}from"./milestone-Dlobsdw8.js";import{F as Dt}from"./flag-qRllKhJ8.js";import{T as Pt}from"./tag-BljZmyPM.js";import{C as W}from"./circle-alert-C_k_uumx.js";import{C as X}from"./calendar-CwCHh7g1.js";import{C as Vt}from"./clock-DQhl_-hl.js";import{U as jt}from"./user-DJF4-usS.js";import{E as qt}from"./external-link-CNccGiTj.js";import{D as St}from"./download-BEGX5OK2.js";import{C as zt}from"./circle-check-big-BX-XUIuW.js";import{C as Ft}from"./circle-play-D2PLnV72.js";import{T as It}from"./target-2T0QWYoE.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-ySvG0ZHb.js";import"./index-BQ475Ea3.js";import"./floating-ui.vue-BEmTabXm.js";import"./x-FK84Jhx-.js";import"./Input.vue_vue_type_script_setup_true_lang-B6w5yMA0.js";import"./index-CBze1Ugy.js";import"./shield-Dtwt_JCC.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CNoi2SIi.js";import"./chevron-right-CaXva2pS.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-ViHLnL4d.js";import"./VisuallyHidden-C5pU9xhK.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-lnv0J55m.js";import"./check-BGitBu-W.js";import"./nullish-CHIgUVhi.js";import"./Label.vue_vue_type_script_setup_true_lang-fFAFaom6.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CpNLwog-.js";import"./index-B0ovTKfR.js";import"./map-pin-DCQWz_w1.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CLZMVAKW.js";import"./square-check-big-BONr3KdB.js";import"./folder-open-B8-1f72n.js";import"./index-UQLhyimN.js";import"./RovingFocusItem-CbzwKcdf.js";import"./utils-KjZ3AL9C.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-C2UmwDZn.js";import"./layers-J3HKtC4C.js";import"./zap-CLq3Gn4y.js";import"./trending-up-BK9d2miV.js";import"./award-DDdEW-d7.js";import"./hash-DUvHA4t_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dollar-sign-DJASA89p.js";import"./eye-Ge36MGmw.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-Cr8AGgNC.js";import"./ellipsis-OHXbKAfA.js";import"./pen-CgBnyWGj.js";import"./plus-EszbJR6u.js";import"./copy-XIwOIK76.js";import"./trash-2-CqlVh8ns.js";import"./calendar-days-B1vAlsrF.js";import"./es-BDPlFIsO.js";import"./useArrowNavigation-B5rxJs06.js";const Nt={class:"flex h-full flex-1 flex-col rounded-xl p-4"},Tt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Bt={class:"flex items-center gap-4"},Ut={class:"text-2xl font-bold text-gray-900 dark:text-white"},At={key:0,class:"text-gray-600 dark:text-gray-400 mt-1"},Lt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Mt={class:"lg:col-span-2 space-y-6"},Ht={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},Rt={class:"flex items-center gap-3"},Ot={class:"flex items-center gap-3"},Gt={key:0,class:"flex items-center gap-3"},Jt={class:"space-y-2"},Kt={class:"flex justify-between text-sm"},Qt={class:"font-medium"},Wt={key:1,class:"p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800"},Xt={class:"flex items-center gap-2"},Yt={class:"text-sm font-medium text-orange-900 dark:text-orange-100"},Zt={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},te={class:"flex items-start gap-3"},ee={class:"font-medium"},se={key:0,class:"flex items-start gap-3"},ae={class:"font-medium"},oe={key:0,class:"mt-4 pt-4 border-t flex items-center gap-3"},re={class:"font-medium ml-2"},le={class:"space-y-3"},ie={class:"text-sm text-gray-600 dark:text-gray-400"},ne={class:"font-medium text-right"},de={class:"space-y-6"},ue={key:0,class:"flex items-center gap-3"},me={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},ce={class:"font-medium"},fe={class:"text-xs text-gray-500"},pe={key:1,class:"text-gray-500"},ye={key:0},ge={class:"font-medium"},_e={class:"text-xs text-gray-500"},ve={class:"text-sm"},be={class:"space-y-4"},xe={class:"pb-4 border-b"},he={key:0,class:"flex items-center gap-3"},ke={class:"font-medium"},we={class:"text-sm text-gray-500"},$e={key:1,class:"text-gray-500"},Ce={key:0},Ee={class:"space-y-2"},De={class:"flex-1"},Pe={class:"text-sm font-medium"},Ve={class:"text-xs text-gray-500"},je={key:1},qe={class:"space-y-4"},Se={class:"text-center"},ze={key:1},Fe={class:"flex items-center justify-between w-full pr-4"},Ie={class:"flex items-center gap-3"},Ne={class:"text-left"},Te={class:"font-semibold"},Be={class:"text-sm text-gray-500"},Ue={class:"flex items-center gap-3"},Ae={class:"text-sm text-gray-600"},Le=["href"],Me={class:"text-center"},He={class:"text-center"},Re={class:"space-y-6"},Oe={class:"text-center"},ca=rt({__name:"Show",props:{proyecto:{},totales:{},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(Y){const q=Y,U=$("general"),f=$({contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null});$(!1),$(!1),$(!1),$(!1);const Z=o=>({planificacion:It,en_progreso:Ft,pausado:Et,completado:zt,cancelado:Ct})[o]||W,tt=o=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[o]||"bg-gray-100 text-gray-800",et=o=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[o]||"bg-gray-100 text-gray-800",k=o=>new Date(o).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),st=o=>{if(!o)return null;const t=Math.ceil((new Date(o).getTime()-new Date().getTime())/(1e3*60*60*24));return t<0?{texto:`Vencido hace ${Math.abs(t)} días`,urgente:!0}:t===0?{texto:"Vence hoy",urgente:!0}:t===1?{texto:"Vence mañana",urgente:!0}:t<=7?{texto:`${t} días restantes`,urgente:!0}:{texto:`${t} días restantes`,urgente:!1}},w=q.proyecto.fecha_fin?st(q.proyecto.fecha_fin):null,S=I(()=>{const o=[];return q.proyecto.contratos&&q.proyecto.contratos.forEach(t=>{t.obligaciones&&t.obligaciones.forEach(_=>{_.evidencias&&_.evidencias.forEach(l=>{o.push({...l,contrato_id:t.id,contrato_numero:t.numero_contrato,contrato_nombre:t.nombre,obligacion_titulo:_.titulo,_contrato:t})})})}),o}),at=I(()=>{let o=S.value;return f.value.contrato_id&&(o=o.filter(t=>t.contrato_id===f.value.contrato_id)),f.value.tipo&&(o=o.filter(t=>t.tipo_evidencia===f.value.tipo)),f.value.estado&&(o=o.filter(t=>t.estado===f.value.estado)),f.value.usuario_id&&(o=o.filter(t=>{var _;return((_=t.usuario)==null?void 0:_.id)===f.value.usuario_id})),(f.value.fecha_inicio||f.value.fecha_fin)&&(o=o.filter(t=>{const _=new Date(t.created_at);if(f.value.fecha_inicio){const l=new Date(f.value.fecha_inicio);if(_<l)return!1}if(f.value.fecha_fin){const l=new Date(f.value.fecha_fin);if(l.setHours(23,59,59,999),_>l)return!1}return!0})),o}),A=I(()=>{const o={};return at.value.forEach(t=>{o[t.contrato_id]||(o[t.contrato_id]={contrato:t._contrato,evidencias:[]}),o[t.contrato_id].evidencias.push(t)}),Object.values(o)}),L=o=>o.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),ot=o=>{if(!o.valor)return"-";switch(o.campo_personalizado.tipo){case"checkbox":return o.valor==="1"||o.valor===!0?"Sí":"No";case"date":return k(o.valor);default:return o.valor}};return(o,t)=>{const _=lt("Info");return i(),u(h,null,[s(e(it),{title:`Mi Proyecto: ${o.proyecto.nombre}`},null,8,["title"]),s(dt,null,{default:a(()=>[r("div",Nt,[r("div",Tt,[r("div",Bt,[s(e(C),{href:"/miembro/mis-proyectos"},{default:a(()=>[s(e(F),{variant:"ghost",size:"sm"},{default:a(()=>[s(e(J),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=n(" Volver ",-1))]),_:1})]),_:1}),r("div",null,[r("h1",Ut,d(o.proyecto.nombre),1),o.proyecto.descripcion?(i(),u("p",At,d(o.proyecto.descripcion),1)):c("",!0)])]),o.canEdit?(i(),m(e(C),{key:0,href:`/miembro/mis-proyectos/${o.proyecto.id}/edit`},{default:a(()=>[s(e(F),null,{default:a(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=n(" Editar Proyecto ",-1))]),_:1})]),_:1},8,["href"])):c("",!0)]),s(e(mt),{modelValue:U.value,"onUpdate:modelValue":t[3]||(t[3]=l=>U.value=l),class:"w-full"},{default:a(()=>[s(e(ct),{class:"grid w-full grid-cols-5"},{default:a(()=>[s(e(V),{value:"general"},{default:a(()=>[s(_,{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=n(" General ",-1))]),_:1}),s(e(V),{value:"usuarios"},{default:a(()=>{var l;return[s(e($t),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=n(" Usuarios ",-1)),(l=o.totales)!=null&&l.usuarios?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(d(o.totales.usuarios),1)]),_:1})):c("",!0)]}),_:1}),s(e(V),{value:"contratos"},{default:a(()=>{var l;return[s(e(T),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=n(" Contratos ",-1)),(l=o.totales)!=null&&l.contratos?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(d(o.totales.contratos),1)]),_:1})):c("",!0)]}),_:1}),s(e(V),{value:"evidencias"},{default:a(()=>{var l;return[s(e(B),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=n(" Evidencias ",-1)),(l=o.totales)!=null&&l.evidencias?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(d(o.totales.evidencias),1)]),_:1})):c("",!0)]}),_:1}),s(e(V),{value:"hitos"},{default:a(()=>{var l;return[s(e(Q),{class:"mr-2 h-4 w-4"}),t[10]||(t[10]=n(" Hitos y Entregables ",-1)),(l=o.totales)!=null&&l.hitos?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(d(o.totales.hitos),1)]),_:1})):c("",!0)]}),_:1})]),_:1}),s(e(j),{value:"general",class:"space-y-4 mt-6"},{default:a(()=>[r("div",Lt,[r("div",Mt,[s(e(y),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[11]||(t[11]=[n("Estado del Proyecto",-1)])]),_:1})]),_:1}),s(e(g),{class:"space-y-4"},{default:a(()=>[r("div",Ht,[r("div",Rt,[(i(),m(nt(Z(o.proyecto.estado)),{class:"h-5 w-5 text-gray-500"})),t[12]||(t[12]=r("span",{class:"font-medium"},"Estado:",-1)),s(e(v),{class:z(tt(o.proyecto.estado))},{default:a(()=>[n(d(o.proyecto.estado_label),1)]),_:1},8,["class"])]),r("div",Ot,[s(e(Dt),{class:"h-5 w-5 text-gray-500"}),t[13]||(t[13]=r("span",{class:"font-medium"},"Prioridad:",-1)),s(e(v),{class:z(et(o.proyecto.prioridad))},{default:a(()=>[n(d(o.proyecto.prioridad_label),1)]),_:1},8,["class"])])]),o.proyecto.etiquetas&&o.proyecto.etiquetas.length>0?(i(),u("div",Gt,[s(e(Pt),{class:"h-5 w-5 text-gray-500"}),t[14]||(t[14]=r("span",{class:"font-medium"},"Etiquetas:",-1)),s(gt,{etiquetas:o.proyecto.etiquetas,"max-visible":5,size:"sm"},null,8,["etiquetas"])])):c("",!0),r("div",Jt,[r("div",Kt,[t[15]||(t[15]=r("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso del proyecto",-1)),r("span",Qt,d(o.proyecto.porcentaje_completado)+"%",1)]),s(e(ut),{value:o.proyecto.porcentaje_completado,class:"h-3"},null,8,["value"]),t[16]||(t[16]=r("p",{class:"text-xs text-gray-500"}," Calculado automáticamente según las fechas ",-1))]),e(w)&&e(w).urgente?(i(),u("div",Wt,[r("div",Xt,[s(e(W),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"}),r("span",Yt,d(e(w).texto),1)])])):c("",!0)]),_:1})]),_:1}),s(e(y),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[17]||(t[17]=[n("Cronograma",-1)])]),_:1})]),_:1}),s(e(g),null,{default:a(()=>[r("div",Zt,[r("div",te,[s(e(X),{class:"h-5 w-5 text-gray-500 mt-0.5"}),r("div",null,[t[18]||(t[18]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de inicio",-1)),r("p",ee,d(k(o.proyecto.fecha_inicio)),1)])]),o.proyecto.fecha_fin?(i(),u("div",se,[s(e(X),{class:"h-5 w-5 text-gray-500 mt-0.5"}),r("div",null,[t[19]||(t[19]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de fin",-1)),r("p",ae,d(k(o.proyecto.fecha_fin)),1),e(w)?(i(),u("p",{key:0,class:z(["text-xs mt-1",e(w).urgente?"text-orange-600":"text-gray-500"])},d(e(w).texto),3)):c("",!0)])])):c("",!0)]),o.proyecto.duracion_dias?(i(),u("div",oe,[s(e(Vt),{class:"h-5 w-5 text-gray-500"}),r("div",null,[t[20]||(t[20]=r("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Duración estimada:",-1)),r("span",re,d(o.proyecto.duracion_dias)+" días",1)])])):c("",!0)]),_:1})]),_:1}),o.proyecto.campos_personalizados&&o.proyecto.campos_personalizados.length>0?(i(),m(e(y),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[21]||(t[21]=[n("Información Adicional",-1)])]),_:1})]),_:1}),s(e(g),null,{default:a(()=>[r("div",le,[(i(!0),u(h,null,E(o.proyecto.campos_personalizados,l=>(i(),u("div",{key:l.id,class:"flex justify-between py-2 border-b last:border-b-0"},[r("span",ie,d(l.campo_personalizado.nombre),1),r("span",ne,d(ot(l)),1)]))),128))])]),_:1})]),_:1})):c("",!0)]),r("div",de,[s(e(y),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[22]||(t[22]=[n("Información del Proyecto",-1)])]),_:1})]),_:1}),s(e(g),{class:"space-y-4"},{default:a(()=>[r("div",null,[t[23]||(t[23]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Responsable",-1)),o.proyecto.responsable?(i(),u("div",ue,[r("div",me,[s(e(jt),{class:"h-5 w-5 text-gray-500"})]),r("div",null,[r("p",ce,d(o.proyecto.responsable.name),1),r("p",fe,d(o.proyecto.responsable.email),1)])])):(i(),u("p",pe,"Sin asignar"))]),o.proyecto.creador?(i(),u("div",ye,[t[24]||(t[24]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Creado por",-1)),r("p",ge,d(o.proyecto.creador.name),1),r("p",_e,d(k(o.proyecto.created_at)),1)])):c("",!0),r("div",null,[t[25]||(t[25]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Última actualización",-1)),r("p",ve,d(k(o.proyecto.updated_at)),1)])]),_:1})]),_:1}),s(e(y),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[26]||(t[26]=[n("Acciones",-1)])]),_:1})]),_:1}),s(e(g),{class:"space-y-2"},{default:a(()=>[s(e(C),{href:"/miembro/mis-proyectos",class:"block"},{default:a(()=>[s(e(F),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[s(e(J),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=n(" Volver al listado ",-1))]),_:1})]),_:1}),o.canEdit?(i(),m(e(C),{key:0,href:`/miembro/mis-proyectos/${o.proyecto.id}/edit`,class:"block"},{default:a(()=>[s(e(F),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[28]||(t[28]=n(" Editar proyecto ",-1))]),_:1})]),_:1},8,["href"])):c("",!0)]),_:1})]),_:1})])])]),_:1}),s(e(j),{value:"usuarios",class:"space-y-4 mt-6"},{default:a(()=>[s(e(y),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[29]||(t[29]=[n("Usuarios del Proyecto",-1)])]),_:1}),s(e(N),null,{default:a(()=>[...t[30]||(t[30]=[n(" Personas asignadas y colaborando en este proyecto ",-1)])]),_:1})]),_:1}),s(e(g),null,{default:a(()=>[r("div",be,[r("div",xe,[t[32]||(t[32]=r("h4",{class:"text-sm font-medium mb-3"},"Responsable del Proyecto",-1)),o.proyecto.responsable?(i(),u("div",he,[s(e(R),{class:"h-10 w-10"},{default:a(()=>[s(e(O),{src:o.proyecto.responsable.avatar},null,8,["src"]),s(e(G),null,{default:a(()=>[n(d(L(o.proyecto.responsable.name)),1)]),_:1})]),_:1}),r("div",null,[r("p",ke,d(o.proyecto.responsable.name),1),r("p",we,d(o.proyecto.responsable.email),1)]),s(e(v),{class:"ml-auto"},{default:a(()=>[...t[31]||(t[31]=[n("Responsable",-1)])]),_:1})])):(i(),u("p",$e,"Sin responsable asignado"))]),o.proyecto.participantes&&o.proyecto.participantes.length>0?(i(),u("div",Ce,[t[33]||(t[33]=r("h4",{class:"text-sm font-medium mb-3"},"Participantes",-1)),r("div",Ee,[(i(!0),u(h,null,E(o.proyecto.participantes,l=>{var p;return i(),u("div",{key:l.id,class:"flex items-center gap-3 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800"},[s(e(R),{class:"h-8 w-8"},{default:a(()=>[s(e(O),{src:l.avatar},null,8,["src"]),s(e(G),null,{default:a(()=>[n(d(L(l.name)),1)]),_:2},1024)]),_:2},1024),r("div",De,[r("p",Pe,d(l.name),1),r("p",Ve,d(l.email),1)]),(p=l.pivot)!=null&&p.rol?(i(),m(e(v),{key:0,variant:"outline",class:"text-xs"},{default:a(()=>[n(d(l.pivot.rol),1)]),_:2},1024)):c("",!0)])}),128))])])):(i(),u("div",je,[...t[34]||(t[34]=[r("p",{class:"text-gray-500 text-center py-4"},"No hay participantes adicionales",-1)])]))])]),_:1})]),_:1})]),_:1}),s(e(j),{value:"contratos",class:"space-y-4 mt-6"},{default:a(()=>[o.proyecto.contratos&&o.proyecto.contratos.length>0?(i(),m(e(y),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[35]||(t[35]=[n("Contratos del Proyecto",-1)])]),_:1}),s(e(N),null,{default:a(()=>[...t[36]||(t[36]=[n(" Lista de contratos asociados a este proyecto ",-1)])]),_:1})]),_:1}),s(e(g),null,{default:a(()=>[r("div",qe,[(i(!0),u(h,null,E(o.proyecto.contratos,l=>(i(),m(_t,{key:l.id,contrato:l,"proyecto-id":o.proyecto.id,"can-edit":!1,"show-actions":!0},null,8,["contrato","proyecto-id"]))),128))])]),_:1})]),_:1})):(i(),m(e(y),{key:1},{default:a(()=>[s(e(g),{class:"py-8"},{default:a(()=>[r("div",Se,[s(e(T),{class:"mx-auto h-12 w-12 text-gray-400"}),t[37]||(t[37]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay contratos asociados",-1))])]),_:1})]),_:1}))]),_:1}),s(e(j),{value:"evidencias",class:"space-y-4 mt-6"},{default:a(()=>[S.value.length>0?(i(),m(bt,{key:0,modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=l=>f.value=l),contratos:o.proyecto.contratos||[],evidencias:S.value},null,8,["modelValue","contratos","evidencias"])):c("",!0),A.value.length>0?(i(),u("div",ze,[s(e(xt),{type:"multiple",class:"space-y-4",collapsible:""},{default:a(()=>[(i(!0),u(h,null,E(A.value,l=>(i(),m(e(ht),{key:l.contrato.id,value:`contrato-${l.contrato.id}`,class:"border rounded-lg bg-card"},{default:a(()=>[s(e(kt),{class:"px-4 py-3 hover:no-underline hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg"},{default:a(()=>[r("div",Fe,[r("div",Ie,[s(e(T),{class:"h-5 w-5 text-gray-500"}),r("div",Ne,[r("div",Te,d(l.contrato.nombre),1),r("div",Be,d(l.contrato.numero_contrato||"Sin número"),1)])]),r("div",Ue,[s(e(v),{variant:"secondary"},{default:a(()=>[n(d(l.evidencias.length)+" evidencia(s) ",1)]),_:2},1024),s(e(C),{href:`/miembro/mis-contratos/${l.contrato.id}`,onClick:t[1]||(t[1]=M(()=>{},["stop"])),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},{default:a(()=>[t[38]||(t[38]=n(" Ver contrato ",-1)),s(e(qt),{class:"h-3 w-3"})]),_:2},1032,["href"])])])]),_:2},1024),s(e(wt),{class:"px-4 pb-4"},{default:a(()=>[s(e(ft),null,{default:a(()=>[s(e(pt),null,{default:a(()=>[s(e(H),null,{default:a(()=>[s(e(D),null,{default:a(()=>[...t[39]||(t[39]=[n("Tipo",-1)])]),_:1}),s(e(D),null,{default:a(()=>[...t[40]||(t[40]=[n("Obligación",-1)])]),_:1}),s(e(D),null,{default:a(()=>[...t[41]||(t[41]=[n("Descripción",-1)])]),_:1}),s(e(D),null,{default:a(()=>[...t[42]||(t[42]=[n("Estado",-1)])]),_:1}),s(e(D),null,{default:a(()=>[...t[43]||(t[43]=[n("Fecha",-1)])]),_:1}),s(e(D),{class:"text-right"},{default:a(()=>[...t[44]||(t[44]=[n("Acciones",-1)])]),_:1})]),_:1})]),_:1}),s(e(yt),null,{default:a(()=>[(i(!0),u(h,null,E(l.evidencias,p=>(i(),m(e(H),{key:p.id,class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800"},{default:a(()=>[s(e(C),{href:`/miembro/mis-contratos/${p.contrato_id}/evidencias/${p.id}`,class:"contents"},{default:a(()=>[s(e(P),null,{default:a(()=>[s(e(v),{variant:"outline"},{default:a(()=>[n(d(p.tipo_evidencia),1)]),_:2},1024)]),_:2},1024),s(e(P),null,{default:a(()=>[n(d(p.obligacion_titulo),1)]),_:2},1024),s(e(P),null,{default:a(()=>[r("span",Ae,d(p.descripcion||"-"),1)]),_:2},1024),s(e(P),null,{default:a(()=>[s(e(v),{class:z({"bg-yellow-100 text-yellow-800":p.estado==="pendiente","bg-green-100 text-green-800":p.estado==="aprobada","bg-red-100 text-red-800":p.estado==="rechazada"})},{default:a(()=>[n(d(p.estado),1)]),_:2},1032,["class"])]),_:2},1024),s(e(P),null,{default:a(()=>[n(d(k(p.created_at)),1)]),_:2},1024),s(e(P),{class:"text-right"},{default:a(()=>[p.archivo_url?(i(),u("a",{key:0,href:p.archivo_url,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800",onClick:t[2]||(t[2]=M(()=>{},["stop"]))},[s(e(St),{class:"h-4 w-4"})],8,Le)):c("",!0)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])):S.value.length===0?(i(),m(e(y),{key:2},{default:a(()=>[s(e(g),{class:"py-8"},{default:a(()=>[r("div",Me,[s(e(B),{class:"mx-auto h-12 w-12 text-gray-400"}),t[45]||(t[45]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias cargadas",-1)),t[46]||(t[46]=r("p",{class:"text-xs text-gray-500 mt-1"},"Las evidencias se cargan desde los contratos",-1))])]),_:1})]),_:1})):(i(),m(e(y),{key:3},{default:a(()=>[s(e(g),{class:"py-8"},{default:a(()=>[r("div",He,[s(e(B),{class:"mx-auto h-12 w-12 text-gray-400"}),t[47]||(t[47]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias que coincidan con los filtros",-1)),t[48]||(t[48]=r("p",{class:"text-xs text-gray-500 mt-1"},"Intenta ajustar los criterios de búsqueda",-1))])]),_:1})]),_:1}))]),_:1}),s(e(j),{value:"hitos",class:"space-y-4 mt-6"},{default:a(()=>[o.proyecto.hitos&&o.proyecto.hitos.length>0?(i(),m(e(y),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[49]||(t[49]=[n("Hitos y Entregables",-1)])]),_:1}),s(e(N),null,{default:a(()=>[...t[50]||(t[50]=[n(" Seguimiento de los hitos y entregables del proyecto ",-1)])]),_:1})]),_:1}),s(e(g),null,{default:a(()=>[r("div",Re,[(i(!0),u(h,null,E(o.proyecto.hitos,l=>(i(),m(vt,{key:l.id,hito:l,"show-entregables":!0,"can-edit":!1},null,8,["hito"]))),128))])]),_:1})]),_:1})):(i(),m(e(y),{key:1},{default:a(()=>[s(e(g),{class:"py-8"},{default:a(()=>[r("div",Oe,[s(e(Q),{class:"mx-auto h-12 w-12 text-gray-400"}),t[51]||(t[51]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay hitos definidos",-1))])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64)}}});export{ca as default};
