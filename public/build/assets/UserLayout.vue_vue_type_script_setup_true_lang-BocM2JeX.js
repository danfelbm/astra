import{L as G,_ as Q,a as J,k as K,e as X,f as Y,c as Z,g as ee,h as se,i as te,j as ae}from"./useFlashMessages-D8oQ7xAJ.js";import{a as re,_ as oe}from"./AppLogo.vue_vue_type_script_setup_true_lang-DBCC99-F.js";import{_ as ne,a as ie,b as le}from"./index-Dy_wxwuH.js";import{c as q,a as N,b as ce,_ as T}from"./createLucideIcon-DI6U3gwA.js";import{b as F,c as L,d as U,_ as ue,a as de,g as me}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BAQIV-m0.js";import{d as w,i as x,n as C,f as e,U as M,m as a,c as h,b as u,Q as z,w as s,a9 as V,aa as A,e as t,M as D,g as p,j as g,h as y,F as j,k as S,v as B,t as k,x as P}from"./app-B7PnGMAV.js";import{B as fe,o as pe,a as O,y as _e,S as E,l as he,p as xe,r as be,s as ge}from"./index-zcIEMK_p.js";import{u as ve}from"./usePermissions-B2p5DbEy.js";import{S as ye}from"./square-check-big-DzRmvxH3.js";import{U as we}from"./user-Dmzg3JAl.js";import{F as I}from"./file-text-CmH6cCEi.js";import{U as ke}from"./users-pLklPB45.js";import{F as H}from"./folder-open-BhmZXeXX.js";import{M as $e}from"./milestone-D8teIjDA.js";import{C as W}from"./SelectValue.vue_vue_type_script_setup_true_lang-CIqxaMm-.js";import{M as Me}from"./map-pin-B9Y2wyZT.js";import{_ as Ce}from"./index-pWXyAkin.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=q("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=q("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),je=w({__name:"SheetHeader",props:{class:{}},setup(m){const n=m;return(r,i)=>(a(),x("div",{class:C(e(N)("flex flex-col gap-y-2 text-center sm:text-left",n.class))},[M(r.$slots,"default")],2))}}),Ne=w({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(m){const n=m,r=h(()=>{const{class:i,...f}=n;return f});return(i,f)=>(a(),u(e(fe),z({class:e(N)("text-lg font-semibold text-foreground",n.class)},r.value),{default:s(()=>[M(i.$slots,"default")]),_:3},16,["class"]))}}),Se=w({__name:"SheetTrigger",props:{asChild:{type:Boolean},as:{}},setup(m){const n=m;return(r,i)=>(a(),u(e(pe),V(A(n)),{default:s(()=>[M(r.$slots,"default")]),_:3},16))}}),ze={class:"absolute left-0 top-full flex justify-center"},Te=w({__name:"NavigationMenuViewport",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(m){const n=m,r=h(()=>{const{class:f,...c}=n;return c}),i=O(r);return(f,c)=>(a(),x("div",ze,[t(e(_e),z(e(i),{class:e(N)("origin-top-center relative mt-1.5 h-[--radix-navigation-menu-viewport-height] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[--radix-navigation-menu-viewport-width]",n.class)}),null,16,["class"])]))}}),Ie=w({__name:"NavigationMenu",props:{modelValue:{},defaultValue:{},dir:{},orientation:{},delayDuration:{},skipDelayDuration:{},disableClickTrigger:{type:Boolean},disableHoverTrigger:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(m,{emit:n}){const r=m,i=n,f=h(()=>{const{class:_,...$}=r;return $}),c=E(f,i);return(_,$)=>(a(),u(e(he),z(e(c),{class:e(N)("relative z-10 flex max-w-max flex-1 items-center justify-center",r.class)}),{default:s(()=>[M(_.$slots,"default"),t(Te)]),_:3},16,["class"]))}}),Ve=w({__name:"NavigationMenuItem",props:{value:{},asChild:{type:Boolean},as:{}},setup(m){const n=m;return(r,i)=>(a(),u(e(xe),V(A(n)),{default:s(()=>[M(r.$slots,"default")]),_:3},16))}}),Ae=w({__name:"NavigationMenuLink",props:{active:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(m,{emit:n}){const f=E(m,n);return(c,_)=>(a(),u(e(be),V(A(e(f))),{default:s(()=>[M(c.$slots,"default")]),_:3},16))}}),De=w({__name:"NavigationMenuList",props:{asChild:{type:Boolean},as:{},class:{}},setup(m){const n=m,r=h(()=>{const{class:f,...c}=n;return c}),i=O(r);return(f,c)=>(a(),u(e(ge),z(e(i),{class:e(N)("group flex flex-1 list-none items-center justify-center gap-x-1",n.class)}),{default:s(()=>[M(f.$slots,"default")]),_:3},16,["class"]))}}),R=ce("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Fe={class:"border-b border-border"},Le={class:"mx-auto flex h-16 items-center px-4 md:max-w-7xl"},Ue={class:"lg:hidden"},He={class:"-mx-3 space-y-1 py-6"},We={class:"flex items-center gap-x-3"},Re={class:"hidden h-full lg:flex lg:flex-1"},qe={class:"ml-auto"},Oe={key:0,class:"flex w-full border-b border-border"},Ee={class:"mx-auto flex h-12 w-full items-center justify-start px-2 sm:px-4 text-neutral-500 md:max-w-7xl"},Ge=w({__name:"AppHeader",props:{breadcrumbs:{default:()=>[]}},setup(m){const n=m,r=D(),i=h(()=>r.props.auth),{hasPermission:f,hasAnyPermission:c}=ve(),_=d=>r.url===d,$=[{title:"Dashboard",href:"/miembro/dashboard",icon:G},{title:"Votaciones",href:"/miembro/votaciones",icon:ye,permission:"votaciones.view_public"},{title:"Candidaturas",href:"/miembro/candidaturas",icon:we,permission:["candidaturas.view_own","candidaturas.create_own"]},{title:"Postulaciones",href:"/miembro/postulaciones",icon:I,permission:"postulaciones.view_own"},{title:"Asambleas",href:"/miembro/asambleas",icon:ke,permission:"asambleas.view_public"},{title:"Proyectos",href:"/miembro/mis-proyectos",icon:H,permission:"proyectos.view_own",children:[{title:"Mis Proyectos",href:"/miembro/mis-proyectos",icon:H},{title:"Mis Hitos",href:"/miembro/mis-hitos",icon:$e,permission:"hitos.view_own"}]},{title:"Mis Contratos",href:"/miembro/mis-contratos",icon:I,permission:"contratos.view_own"},{title:"Formularios",href:"/miembro/formularios",icon:I,permission:"formularios.view_public"}],l=h(()=>$.filter(d=>d.permission?Array.isArray(d.permission)?c(d.permission):f(d.permission):!0));return(d,v)=>(a(),x("div",null,[p("div",Fe,[p("div",Le,[p("div",Ue,[t(e(Q),null,{default:s(()=>[t(e(Se),{"as-child":!0},{default:s(()=>[t(e(T),{variant:"ghost",size:"icon",class:"mr-2 h-9 w-9"},{default:s(()=>[t(e(Pe),{class:"h-5 w-5"})]),_:1})]),_:1}),t(e(J),{side:"left",class:"w-[300px] p-6"},{default:s(()=>[t(e(Ne),{class:"sr-only"},{default:s(()=>[...v[0]||(v[0]=[y("Navigation Menu",-1)])]),_:1}),t(e(je),{class:"flex justify-start text-left"},{default:s(()=>[t(re,{class:"size-6 fill-current text-black dark:text-white"})]),_:1}),p("nav",He,[(a(!0),x(j,null,S(l.value,o=>(a(),x(j,{key:o.title},[o.children&&o.children.length>0?(a(),u(e(ue),{key:0,class:"space-y-1"},{default:s(()=>[t(e(Z),{class:C(["flex items-center justify-between w-full gap-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent",e(r).url.startsWith("/miembro/mis-proyectos")||e(r).url.startsWith("/miembro/mis-hitos")?"bg-accent text-accent-foreground font-semibold":"text-muted-foreground hover:text-accent-foreground"])},{default:s(()=>[p("span",We,[o.icon?(a(),u(P(o.icon),{key:0,class:"h-5 w-5"})):g("",!0),y(" "+k(o.title),1)]),t(e(W),{class:"h-4 w-4"})]),_:2},1032,["class"]),t(e(de),{class:"pl-8 space-y-1"},{default:s(()=>[(a(!0),x(j,null,S(o.children,b=>(a(),u(e(B),{key:b.href,href:b.href,class:C(["flex items-center gap-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent",_(b.href)?"bg-accent text-accent-foreground font-semibold":"text-muted-foreground hover:text-accent-foreground"])},{default:s(()=>[b.icon?(a(),u(P(b.icon),{key:0,class:"h-4 w-4"})):g("",!0),y(" "+k(b.title),1)]),_:2},1032,["href","class"]))),128))]),_:2},1024)]),_:2},1024)):(a(),u(e(B),{key:1,href:o.href,class:C(["flex items-center gap-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent",_(o.href)?"bg-accent text-accent-foreground font-semibold":"text-muted-foreground hover:text-accent-foreground"])},{default:s(()=>[o.icon?(a(),u(P(o.icon),{key:0,class:"h-5 w-5"})):g("",!0),y(" "+k(o.title),1)]),_:2},1032,["href","class"]))],64))),128))])]),_:1})]),_:1})]),t(e(B),{href:d.route("user.dashboard"),class:"flex items-center gap-x-2"},{default:s(()=>[t(oe,{class:"hidden h-6 xl:block"})]),_:1},8,["href"]),p("div",Re,[t(e(Ie),{class:"ml-10"},{default:s(()=>[t(e(De),{class:"space-x-1"},{default:s(()=>[(a(!0),x(j,null,S(l.value,o=>(a(),u(e(Ve),{key:o.href},{default:s(()=>[o.children&&o.children.length>0?(a(),u(e(F),{key:0},{default:s(()=>[t(e(L),{"as-child":!0},{default:s(()=>[t(e(T),{variant:"ghost",class:C([e(R)(),"flex items-center gap-2 px-3 py-2",e(r).url.startsWith("/miembro/mis-proyectos")||e(r).url.startsWith("/miembro/mis-hitos")?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},{default:s(()=>[o.icon?(a(),u(P(o.icon),{key:0,class:"h-4 w-4"})):g("",!0),y(" "+k(o.title)+" ",1),t(e(W),{class:"h-3 w-3 ml-1"})]),_:2},1032,["class"])]),_:2},1024),t(e(U),{align:"start"},{default:s(()=>[(a(!0),x(j,null,S(o.children,b=>(a(),u(e(me),{key:b.href,"as-child":!0},{default:s(()=>[t(e(B),{href:b.href,class:C(["flex items-center gap-2 w-full",{"font-semibold":_(b.href)}])},{default:s(()=>[b.icon?(a(),u(P(b.icon),{key:0,class:"h-4 w-4"})):g("",!0),y(" "+k(b.title),1)]),_:2},1032,["href","class"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):(a(),u(e(Ae),{key:1,"as-child":!0},{default:s(()=>[t(e(B),{href:o.href,class:C([e(R)(),"flex items-center gap-2 px-3 py-2",_(o.href)?"bg-accent text-accent-foreground":"hover:bg-accent/50"])},{default:s(()=>[o.icon?(a(),u(P(o.icon),{key:0,class:"h-4 w-4"})):g("",!0),y(" "+k(o.title),1)]),_:2},1032,["href","class"])]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),p("div",qe,[t(e(F),null,{default:s(()=>[t(e(L),{"as-child":!0},{default:s(()=>[t(e(T),{variant:"ghost",size:"icon",class:"relative h-10 w-10 rounded-full focus-within:ring-2 focus-within:ring-primary"},{default:s(()=>[t(e(ne),{class:"h-8 w-8"},{default:s(()=>[i.value.user.avatar_url?(a(),u(e(ie),{key:0,src:i.value.user.avatar_url,alt:i.value.user.name},null,8,["src","alt"])):g("",!0),t(e(le),{class:"bg-neutral-200 font-semibold text-black dark:bg-neutral-700 dark:text-white"},{default:s(()=>{var o;return[y(k(e(K)((o=i.value.user)==null?void 0:o.name)),1)]}),_:1})]),_:1})]),_:1})]),_:1}),t(e(U),{align:"end",class:"w-56"},{default:s(()=>[t(X,{user:i.value.user},null,8,["user"])]),_:1})]),_:1})])])]),n.breadcrumbs.length>=1?(a(),x("div",Oe,[p("div",Ee,[t(e(Y),{items:n.breadcrumbs,class:"flex-1 min-w-0"},null,8,["items"])])])):g("",!0)]))}}),Qe={class:"border-b border-border bg-muted/20 dark:bg-muted/10"},Je={class:"mx-auto flex h-10 items-center justify-between gap-2 px-2 sm:px-4 md:max-w-7xl"},Ke={class:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground min-w-0 flex-1"},Xe={key:0,class:"hidden md:inline truncate"},Ye={key:1,class:"md:hidden truncate"},Ze={key:2,class:"text-muted-foreground/50 truncate"},es={class:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-muted-foreground flex-shrink-0"},ss=w({__name:"UserTopbar",setup(m){const n=D(),r=h(()=>{var l;return(l=n.props.auth)==null?void 0:l.user});h(()=>{var l;return(l=r.value)==null?void 0:l.territorio});const i=h(()=>{var l;return(l=r.value)==null?void 0:l.departamento}),f=h(()=>{var l;return(l=r.value)==null?void 0:l.municipio}),c=h(()=>{var l;return(l=r.value)==null?void 0:l.localidad}),_=h(()=>{var d,v,o;const l=[];return(d=i.value)!=null&&d.nombre&&l.push(i.value.nombre),(v=f.value)!=null&&v.nombre&&l.push(f.value.nombre),(o=c.value)!=null&&o.nombre&&l.push(c.value.nombre),l.join(", ")||"Ubicaci贸n no definida"}),$=h(()=>{var l,d,v;return((l=i.value)==null?void 0:l.nombre)||((d=f.value)==null?void 0:d.nombre)||((v=c.value)==null?void 0:v.nombre)});return(l,d)=>{var v,o;return a(),x("div",Qe,[p("div",Je,[p("div",Ke,[t(e(Me),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground/70 flex-shrink-0"}),$.value?(a(),x("span",Xe,k(_.value),1)):g("",!0),$.value?(a(),x("span",Ye,k(((v=f.value)==null?void 0:v.nombre)||((o=i.value)==null?void 0:o.nombre)||"Sin ubicaci贸n"),1)):g("",!0),$.value?g("",!0):(a(),x("span",Ze," Sin ubicaci贸n ")),t(e(B),{href:"/settings/update-data",class:"ml-1 text-xs text-primary hover:text-primary/80 hover:underline transition-colors flex-shrink-0 hidden sm:inline"},{default:s(()=>[...d[0]||(d[0]=[y(" (actualizar) ",-1)])]),_:1})]),p("div",es,[t(e(Be),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground/70"}),d[1]||(d[1]=p("span",{class:"hidden lg:inline"}," pedir ayuda ",-1)),d[2]||(d[2]=p("a",{href:"mailto:soporte@colombiahumana.co",class:"font-medium text-foreground hover:text-primary transition-colors underline underline-offset-4 decoration-1 hover:decoration-primary truncate max-w-[120px] sm:max-w-none"},[p("span",{class:"hidden sm:inline"},"soporte@colombiahumana.co"),p("span",{class:"sm:hidden"},"soporte")],-1))])])])}}}),ts={class:"container mx-auto px-2 py-4 sm:px-4 sm:py-6"},as={key:0,class:"mb-4 rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-950"},rs={class:"flex items-center"},os={class:"text-sm text-blue-800 dark:text-blue-200"},ks=w({__name:"UserLayout",props:{breadcrumbs:{default:()=>[]}},setup(m){const n=D(),r=h(()=>{var c;return(c=n.props.auth)==null?void 0:c.user});ee();const i=h(()=>r.value?!r.value.name||!r.value.documento_identidad||!r.value.territorio_id||!r.value.departamento_id||!r.value.municipio_id||!r.value.telefono:!1),f=h(()=>{var c;return((c=n.props.auth)==null?void 0:c.hasAdministrativeRole)||!1});return(c,_)=>(a(),u(ae,{variant:"header"},{default:s(()=>[t(ss),t(Ge,{breadcrumbs:m.breadcrumbs},null,8,["breadcrumbs"]),t(se,{variant:"header"},{default:s(()=>[p("div",ts,[f.value?(a(),x("div",as,[p("div",rs,[_[2]||(_[2]=p("svg",{class:"mr-2 h-4 w-4 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p("p",os,[_[1]||(_[1]=y(" Tienes acceso administrativo. ",-1)),t(e(B),{href:c.route("admin.dashboard"),class:"font-medium underline hover:no-underline"},{default:s(()=>[..._[0]||(_[0]=[y(" Ir al panel de administraci贸n ",-1)])]),_:1},8,["href"])])])])):g("",!0),M(c.$slots,"default")])]),_:3}),i.value?(a(),u(te,{key:0,open:i.value},null,8,["open"])):g("",!0),t(e(Ce),{duration:6e3,"rich-colors":"","close-button":""})]),_:3}))}});export{ks as _};
