import{d as W,c as B,i as a,e as s,g as n,b as g,j as c,f as o,u as t,w as d,h as v,t as u,W as De,n as F,F as U,k as j,l as H,r as Ee,m as Ce,T as Te}from"./app-B7JHmzZ3.js";import{a as N,b as R,c as P,_ as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-xUjjE8IK.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-BcT4z-YO.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-CxiXySuR.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-B6w5yMA0.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-fFAFaom6.js";import{_ as Be,a as Se,b as je,c as Ae,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-lnv0J55m.js";import{_ as Ne}from"./Textarea.vue_vue_type_script_setup_true_lang-zaOr10O0.js";import{_ as Re}from"./index-rxln-YzF.js";import{_ as ze}from"./createLucideIcon-fGeWyvG_.js";import{C as Q}from"./circle-alert-C_k_uumx.js";import{P as Ie}from"./plus-EszbJR6u.js";import{F as Le}from"./file-text-C_id9aKI.js";import{U as K}from"./user-DJF4-usS.js";import{a as I,_ as O}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-CL5QU9AO.js";import{U as Fe}from"./users-gG9q0EaO.js";import{_ as we,a as Ue,b as qe}from"./index-BmRuyn_S.js";import{_ as Ye}from"./FileUploadField.vue_vue_type_script_setup_true_lang-TS9RFmXL.js";import{u as Me,_ as We,a as Ge,b as He}from"./useConditionalFields-CylYDDci.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ke={class:"space-y-3"},Oe={class:"space-y-1.5"},Qe={key:0,class:"text-red-500 ml-1"},Xe={key:0,class:"text-sm text-muted-foreground"},Ze={class:"flex items-center space-x-2"},es={key:1,class:"space-y-3"},ss={class:"flex items-center space-x-2"},ts={class:"flex items-center justify-between"},as={class:"flex items-center space-x-2"},os={class:"space-y-2 text-sm"},rs={class:"flex justify-between"},ls={class:"font-medium"},ds={class:"flex justify-between"},is={class:"font-medium"},ns={key:2,class:"text-sm text-red-600"},us=W({__name:"PerfilCandidaturaField",props:{modelValue:{},candidaturasAprobadas:{},label:{default:"Perfil de Candidatura"},description:{default:"Selecciona tu perfil de candidatura aprobado para vincular a esta postulación"},required:{type:Boolean,default:!1},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(E,{emit:T}){const y=E,$=T,q=B({get:()=>y.modelValue,set:b=>$("update:modelValue",b)}),x=B(()=>y.candidaturasAprobadas.length>0),C=B(()=>q.value?y.candidaturasAprobadas.find(b=>b.id===q.value):null),A=b=>{const m=b==="null"?null:parseInt(b);q.value=m};return(b,m)=>{var f;return s(),a("div",Ke,[n("div",Oe,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(b.label)+" ",1),b.required?(s(),a("span",Qe,"*")):c("",!0)]),_:1}),b.description?(s(),a("p",Xe,u(b.description),1)):c("",!0)]),x.value?(s(),a("div",es,[o(t(Be),{"model-value":((f=q.value)==null?void 0:f.toString())||"null","onUpdate:modelValue":A,disabled:b.disabled},{default:d(()=>[o(t(Se),{class:F(["w-full",b.error?"border-red-300":""])},{default:d(()=>[o(t(je),{placeholder:"Selecciona tu perfil de candidatura"})]),_:1},8,["class"]),o(t(Ae),null,{default:d(()=>[o(t(J),{value:"null"},{default:d(()=>[...m[4]||(m[4]=[n("div",{class:"flex items-center space-x-2"},[n("span",{class:"text-muted-foreground"},"No vincular perfil")],-1)])]),_:1}),(s(!0),a(U,null,j(b.candidaturasAprobadas,r=>(s(),g(t(J),{key:r.id,value:r.id.toString()},{default:d(()=>[n("div",ss,[o(t(K),{class:"h-4 w-4"}),n("span",null,u(r.resumen),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),C.value?(s(),g(t(S),{key:0,class:"border-green-200 bg-green-50"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[n("div",ts,[n("div",as,[o(t(Le),{class:"h-5 w-5 text-green-600"}),o(t(R),{class:"text-base text-green-800"},{default:d(()=>[...m[5]||(m[5]=[v(" Perfil seleccionado ",-1)])]),_:1})]),o(t(Re),{variant:"secondary",class:"bg-green-100 text-green-800"},{default:d(()=>[...m[6]||(m[6]=[v(" Aprobado ",-1)])]),_:1})]),o(t(z),{class:"text-green-700"},{default:d(()=>[...m[7]||(m[7]=[v(" Se vinculará tu perfil de candidatura a esta postulación, preservando una copia de todos tus datos actuales. ",-1)])]),_:1})]),_:1}),o(t(P),{class:"pt-0"},{default:d(()=>[n("div",os,[n("div",rs,[m[8]||(m[8]=n("span",{class:"text-muted-foreground"},"Versión:",-1)),n("span",ls,"v"+u(C.value.version),1)]),n("div",ds,[m[9]||(m[9]=n("span",{class:"text-muted-foreground"},"Fecha aprobación:",-1)),n("span",is,u(C.value.fecha_aprobacion),1)])])]),_:1})]),_:1})):c("",!0)])):(s(),g(t(S),{key:0,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[n("div",Ze,[o(t(Q),{class:"h-5 w-5 text-amber-600"}),o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...m[1]||(m[1]=[v(" No tienes un perfil de candidatura aprobado ",-1)])]),_:1})]),o(t(z),{class:"text-amber-700"},{default:d(()=>[...m[2]||(m[2]=[v(" Para vincular tu perfil a esta postulación, primero necesitas crear y obtener la aprobación de tu candidatura. ",-1)])]),_:1})]),_:1}),o(t(P),{class:"pt-0"},{default:d(()=>[o(t(ze),{variant:"outline",size:"sm",class:"border-amber-300 text-amber-800 hover:bg-amber-100",onClick:m[0]||(m[0]=r=>t(De).get("/miembro/candidaturas"))},{default:d(()=>[o(t(Ie),{class:"mr-2 h-4 w-4"}),m[3]||(m[3]=v(" Crear Perfil de Candidatura ",-1))]),_:1})]),_:1})]),_:1})),b.error?(s(),a("p",ns,u(b.error),1)):c("",!0)])}}}),ms={class:"space-y-3"},cs={class:"space-y-1.5"},ps={key:0,class:"text-red-500 ml-1"},_s={key:0,class:"text-sm text-muted-foreground"},fs={class:"flex items-center space-x-2"},bs={key:1,class:"space-y-3"},vs={class:"space-y-3"},xs={key:0,class:"flex items-start space-x-3 pb-3 border-b"},ys={class:"flex items-start justify-between"},hs={class:"font-medium"},gs={key:0,class:"text-xs text-muted-foreground mt-0.5"},$s={key:1,class:"text-xs text-muted-foreground"},ks={class:"flex items-center space-x-2"},Vs={class:"space-y-3"},Cs={class:"flex items-start justify-between"},ws={class:"font-medium"},Us={key:0,class:"text-xs text-muted-foreground mt-0.5"},qs={key:1,class:"text-xs text-muted-foreground"},Bs={key:2,class:"text-sm text-red-600"},Ss=W({__name:"CandidatosVotacionField",props:{modelValue:{},candidatosElegibles:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos disponibles"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(E,{emit:T}){const y=E,$=T,q=B(()=>y.candidatosElegibles.length>0),x=m=>{$("update:modelValue",m==="null"?null:m)},C=m=>y.multiple?Array.isArray(y.modelValue)&&y.modelValue.includes(m):y.modelValue===m,A=(m,f)=>{if(!y.multiple){$("update:modelValue",f?m:null);return}const r=Array.isArray(y.modelValue)?y.modelValue:[];let p;f?p=[...r,m]:p=r.filter(i=>i!==m),$("update:modelValue",p)},b=m=>{const f=[];return m.localidad&&f.push(m.localidad),m.municipio&&f.push(m.municipio),m.departamento&&f.push(m.departamento),m.territorio&&f.push(m.territorio),f.length>0?f.join(", "):""};return(m,f)=>(s(),a("div",ms,[n("div",cs,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(m.label)+" ",1),m.required?(s(),a("span",ps,"*")):c("",!0)]),_:1}),m.description?(s(),a("p",_s,u(m.description),1)):c("",!0)]),q.value?(s(),a("div",bs,[m.multiple?(s(),g(t(S),{key:1,class:"border"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[n("div",ks,[o(t(Fe),{class:"h-4 w-4 text-muted-foreground"}),o(t(R),{class:"text-sm"},{default:d(()=>[...f[3]||(f[3]=[v(" Candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-xs"},{default:d(()=>[...f[4]||(f[4]=[v(" Puedes seleccionar múltiples candidatos ",-1)])]),_:1})]),_:1}),o(t(P),null,{default:d(()=>[n("div",Vs,[(s(!0),a(U,null,j(m.candidatosElegibles,r=>(s(),a("div",{key:r.id,class:"flex items-start space-x-3"},[o(t(M),{id:`candidato_check_${r.id}`,checked:C(r.name),"onUpdate:checked":p=>A(r.name,p),disabled:m.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(t(h),{for:`candidato_check_${r.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[n("div",Cs,[n("div",null,[n("p",ws,u(r.name),1),r.cargo?(s(),a("p",Us,u(r.cargo),1)):c("",!0),b(r)?(s(),a("p",qs,u(b(r)),1)):c("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):(s(),g(t(O),{key:0,"model-value":m.modelValue||"null","onUpdate:modelValue":x,disabled:m.disabled,class:"space-y-2"},{default:d(()=>[o(t(S),{class:"border"},{default:d(()=>[o(t(P),{class:"pt-6"},{default:d(()=>[n("div",vs,[m.mostrarVotoBlanco?(s(),a("div",xs,[o(t(I),{value:"null",id:"candidato_none"}),o(t(h),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:d(()=>[...f[2]||(f[2]=[n("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):c("",!0),(s(!0),a(U,null,j(m.candidatosElegibles,r=>(s(),a("div",{key:r.id,class:"flex items-start space-x-3 py-2"},[o(t(I),{value:r.name,id:`candidato_${r.id}`},null,8,["value","id"]),o(t(h),{for:`candidato_${r.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[n("div",ys,[n("div",null,[n("p",hs,u(r.name),1),r.cargo?(s(),a("p",gs,u(r.cargo),1)):c("",!0),b(r)?(s(),a("p",$s,u(b(r)),1)):c("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"]))])):(s(),g(t(S),{key:0,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[n("div",fs,[o(t(Q),{class:"h-5 w-5 text-amber-600"}),o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...f[0]||(f[0]=[v(" No hay candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-amber-700"},{default:d(()=>[...f[1]||(f[1]=[v(" No se encontraron candidatos que cumplan con los criterios configurados para esta votación. ",-1)])]),_:1})]),_:1})]),_:1})),m.error?(s(),a("p",Bs,u(m.error),1)):c("",!0)]))}}),js={class:"space-y-3"},As={class:"space-y-1.5"},Fs={key:0,class:"text-red-500 ml-1"},Ps={key:0,class:"text-sm text-muted-foreground"},Ds={key:1,class:"text-xs text-blue-600 font-medium"},Es={class:"flex items-center space-x-2"},Ts={key:1,class:"space-y-3"},Ns={class:"space-y-3"},Rs={class:"flex items-start justify-between"},zs={class:"space-y-1"},Is={class:"flex items-center gap-2"},Ls={class:"font-medium"},Ys={key:0,class:"text-xs text-muted-foreground ml-6"},Ms={key:1,class:"text-xs text-muted-foreground ml-6"},Ws={key:2,class:"text-xs text-blue-600 ml-6"},Gs={key:0,class:"flex items-start space-x-3 pt-3 border-t"},Hs={class:"flex items-center space-x-2"},Js={class:"space-y-3"},Ks={class:"flex items-start justify-between"},Os={class:"space-y-1"},Qs={class:"flex items-center gap-2"},Xs={class:"font-medium"},Zs={key:0,class:"text-xs text-muted-foreground ml-6"},et={key:1,class:"text-xs text-muted-foreground ml-6"},st={key:2,class:"text-xs text-blue-600 ml-6"},tt={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},at={class:"flex flex-col sm:flex-row sm:gap-4 sm:items-start"},ot={class:"flex justify-center sm:justify-start mb-3 sm:mb-0"},rt={class:"flex-1 min-w-0"},lt={class:"mb-2 sm:mb-3 text-center sm:text-left"},dt={class:"font-semibold text-sm sm:text-base leading-tight line-clamp-2"},it={key:0,class:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1"},nt={class:"space-y-1 sm:space-y-1.5 text-xs sm:text-sm"},ut={key:0,class:"text-muted-foreground"},mt={class:"sm:hidden"},ct={class:"hidden sm:block text-xs"},pt={key:1,class:"text-muted-foreground"},_t={class:"text-xs line-clamp-2 sm:line-clamp-none"},ft={key:2,class:"text-blue-600 text-xs mt-1 sm:mt-2 line-clamp-2"},bt={class:"flex justify-end mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},vt={class:"text-center"},xt={class:"mt-3 sm:mt-4"},yt={key:3,class:"space-y-4"},ht={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},gt={class:"flex flex-col sm:flex-row sm:gap-4 sm:items-start"},$t={class:"flex justify-center sm:justify-start mb-3 sm:mb-0"},kt={class:"flex-1 min-w-0"},Vt={class:"mb-2 sm:mb-3 text-center sm:text-left"},Ct={class:"font-semibold text-sm sm:text-base leading-tight line-clamp-2"},wt={key:0,class:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1"},Ut={class:"space-y-1 sm:space-y-1.5 text-xs sm:text-sm"},qt={key:0,class:"text-muted-foreground"},Bt={class:"sm:hidden"},St={class:"hidden sm:block text-xs"},jt={key:1,class:"text-muted-foreground"},At={class:"text-xs line-clamp-2 sm:line-clamp-none"},Ft={key:2,class:"text-blue-600 text-xs mt-1 sm:mt-2 line-clamp-2"},Pt={class:"flex justify-end mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},Dt={key:2,class:"text-sm text-red-600"},Et=W({__name:"ConvocatoriaVotacionField",props:{modelValue:{},candidatos:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos aprobados de la convocatoria"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1},convocatoriaNombre:{},vistaPreferida:{default:"lista"}},emits:["update:modelValue"],setup(E,{emit:T}){const y=E,$=T,q=B(()=>y.candidatos.length>0),x=r=>{$("update:modelValue",r==="null"?null:r)},C=r=>y.multiple?Array.isArray(y.modelValue)&&y.modelValue.includes(r):y.modelValue===r,A=(r,p)=>{if(!y.multiple){$("update:modelValue",p?r:null);return}const i=Array.isArray(y.modelValue)?y.modelValue:[];let V;p?V=[...i,r]:V=i.filter(G=>G!==r),$("update:modelValue",V)},b=r=>{const p=[];return r.localidad&&p.push(r.localidad),r.municipio&&p.push(r.municipio),r.departamento&&p.push(r.departamento),r.territorio&&p.push(r.territorio),p.length>0?p.join(", "):""},m=r=>{var V;if(!((V=r.candidatura_snapshot)!=null&&V.formulario_data))return"";const p=r.candidatura_snapshot.formulario_data,i=[];return p.profesion&&i.push(p.profesion),p.experiencia&&i.push(`${p.experiencia} años de experiencia`),i.join(" - ")},f=r=>r.split(" ").map(p=>p[0]).join("").toUpperCase().substring(0,2);return(r,p)=>(s(),a("div",js,[n("div",As,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(r.label)+" ",1),r.required?(s(),a("span",Fs,"*")):c("",!0)]),_:1}),r.description?(s(),a("p",Ps,u(r.description),1)):c("",!0),r.convocatoriaNombre?(s(),a("p",Ds," Convocatoria: "+u(r.convocatoriaNombre),1)):c("",!0)]),q.value?(s(),a("div",Ts,[!r.multiple&&r.vistaPreferida==="lista"?(s(),g(t(O),{key:0,"model-value":r.modelValue,"onUpdate:modelValue":x,disabled:r.disabled,class:"space-y-2"},{default:d(()=>[o(t(S),{class:"border"},{default:d(()=>[o(t(P),{class:"pt-6"},{default:d(()=>[n("div",Ns,[(s(!0),a(U,null,j(r.candidatos,i=>(s(),a("div",{key:i.id,class:"flex items-start space-x-3 py-2"},[o(t(I),{value:i.name,id:`candidato_${i.id}`},null,8,["value","id"]),o(t(h),{for:`candidato_${i.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[n("div",Rs,[n("div",zs,[n("div",Is,[o(t(K),{class:"h-4 w-4 text-muted-foreground"}),n("p",Ls,u(i.name),1)]),i.cargo?(s(),a("p",Ys," Cargo: "+u(i.cargo),1)):c("",!0),b(i)?(s(),a("p",Ms," Ubicación: "+u(b(i)),1)):c("",!0),m(i)?(s(),a("p",Ws,u(m(i)),1)):c("",!0)])])]),_:2},1032,["for"])]))),128)),r.mostrarVotoBlanco?(s(),a("div",Gs,[o(t(I),{value:"null",id:"candidato_none"}),o(t(h),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:d(()=>[...p[6]||(p[6]=[n("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):c("",!0)])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"])):r.multiple&&r.vistaPreferida==="lista"?(s(),g(t(S),{key:1,class:"border"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[n("div",Hs,[o(t(Fe),{class:"h-4 w-4 text-muted-foreground"}),o(t(R),{class:"text-sm"},{default:d(()=>[...p[7]||(p[7]=[v(" Candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-xs"},{default:d(()=>[...p[8]||(p[8]=[v(" Puedes seleccionar múltiples candidatos de la convocatoria ",-1)])]),_:1})]),_:1}),o(t(P),null,{default:d(()=>[n("div",Js,[(s(!0),a(U,null,j(r.candidatos,i=>(s(),a("div",{key:i.id,class:"flex items-start space-x-3"},[o(t(M),{id:`candidato_check_${i.id}`,checked:C(i.name),"onUpdate:checked":V=>A(i.name,V),disabled:r.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(t(h),{for:`candidato_check_${i.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[n("div",Ks,[n("div",Os,[n("div",Qs,[o(t(K),{class:"h-4 w-4 text-muted-foreground"}),n("p",Xs,u(i.name),1)]),i.cargo?(s(),a("p",Zs," Cargo: "+u(i.cargo),1)):c("",!0),b(i)?(s(),a("p",et," Ubicación: "+u(b(i)),1)):c("",!0),m(i)?(s(),a("p",st,u(m(i)),1)):c("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):c("",!0),!r.multiple&&r.vistaPreferida==="cards"?(s(),g(t(O),{key:2,"model-value":r.modelValue,"onUpdate:modelValue":x,disabled:r.disabled,class:"space-y-4"},{default:d(()=>[n("div",tt,[(s(!0),a(U,null,j(r.candidatos,i=>(s(),g(t(S),{key:i.id,class:F(["cursor-pointer transition-all hover:shadow-md",r.modelValue===i.name?"ring-2 ring-primary":""]),onClick:V=>x(i.name)},{default:d(()=>[o(t(P),{class:"p-3 sm:p-6"},{default:d(()=>[n("div",at,[n("div",ot,[o(t(we),{class:"h-14 w-14 sm:h-20 sm:w-20"},{default:d(()=>[i.avatar_url?(s(),g(t(Ue),{key:0,src:i.avatar_url,alt:i.name},null,8,["src","alt"])):c("",!0),o(t(qe),{class:"bg-primary/10 text-primary font-semibold text-lg sm:text-2xl"},{default:d(()=>[v(u(f(i.name)),1)]),_:2},1024)]),_:2},1024)]),n("div",rt,[n("div",lt,[n("p",dt,u(i.name),1),i.email?(s(),a("p",it,u(i.email),1)):c("",!0)]),n("div",nt,[i.cargo?(s(),a("p",ut,[p[9]||(p[9]=n("span",{class:"font-medium hidden sm:inline"},"Cargo:",-1)),n("span",mt,u(i.cargo),1),n("span",ct,u(i.cargo),1)])):c("",!0),b(i)?(s(),a("p",pt,[p[10]||(p[10]=n("span",{class:"font-medium hidden sm:inline"},"Ubicación:",-1)),n("span",_t,u(b(i)),1)])):c("",!0),m(i)?(s(),a("p",ft,u(m(i)),1)):c("",!0)])])]),n("div",bt,[o(t(I),{value:i.name,checked:r.modelValue===i.name,onClick:p[0]||(p[0]=H(()=>{},["stop"]))},null,8,["value","checked"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),r.mostrarVotoBlanco?(s(),g(t(S),{key:0,class:F(["cursor-pointer transition-all hover:shadow-md",r.modelValue===null?"ring-2 ring-primary":""]),onClick:p[2]||(p[2]=i=>x("null"))},{default:d(()=>[o(t(P),{class:"flex items-center justify-center h-full min-h-[150px] sm:min-h-[240px] p-3 sm:p-6"},{default:d(()=>[n("div",vt,[p[11]||(p[11]=n("span",{class:"text-muted-foreground text-sm sm:text-lg"},"Voto en blanco",-1)),n("div",xt,[o(t(I),{value:"null",checked:r.modelValue===null,onClick:p[1]||(p[1]=H(()=>{},["stop"]))},null,8,["checked"])])])]),_:1})]),_:1},8,["class"])):c("",!0)])]),_:1},8,["model-value","disabled"])):r.multiple&&r.vistaPreferida==="cards"?(s(),a("div",yt,[n("div",ht,[(s(!0),a(U,null,j(r.candidatos,i=>(s(),g(t(S),{key:i.id,class:F(["cursor-pointer transition-all hover:shadow-md",C(i.name)?"ring-2 ring-primary":""]),onClick:V=>A(i.name,!C(i.name))},{default:d(()=>[o(t(P),{class:"p-3 sm:p-6"},{default:d(()=>[n("div",gt,[n("div",$t,[o(t(we),{class:"h-14 w-14 sm:h-20 sm:w-20"},{default:d(()=>[i.avatar_url?(s(),g(t(Ue),{key:0,src:i.avatar_url,alt:i.name},null,8,["src","alt"])):c("",!0),o(t(qe),{class:"bg-primary/10 text-primary font-semibold text-lg sm:text-2xl"},{default:d(()=>[v(u(f(i.name)),1)]),_:2},1024)]),_:2},1024)]),n("div",kt,[n("div",Vt,[n("p",Ct,u(i.name),1),i.email?(s(),a("p",wt,u(i.email),1)):c("",!0)]),n("div",Ut,[i.cargo?(s(),a("p",qt,[p[12]||(p[12]=n("span",{class:"font-medium hidden sm:inline"},"Cargo:",-1)),n("span",Bt,u(i.cargo),1),n("span",St,u(i.cargo),1)])):c("",!0),b(i)?(s(),a("p",jt,[p[13]||(p[13]=n("span",{class:"font-medium hidden sm:inline"},"Ubicación:",-1)),n("span",At,u(b(i)),1)])):c("",!0),m(i)?(s(),a("p",Ft,u(m(i)),1)):c("",!0)])])]),n("div",Pt,[o(t(M),{checked:C(i.name),"onUpdate:checked":V=>A(i.name,V),onClick:p[3]||(p[3]=H(()=>{},["stop"])),disabled:r.disabled},null,8,["checked","onUpdate:checked","disabled"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])])):c("",!0)])):(s(),g(t(S),{key:0,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[n("div",Es,[o(t(Q),{class:"h-5 w-5 text-amber-600"}),o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...p[4]||(p[4]=[v(" No hay candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-amber-700"},{default:d(()=>[...p[5]||(p[5]=[v(" No se encontraron candidatos con postulaciones aprobadas para esta convocatoria. ",-1)])]),_:1})]),_:1})]),_:1})),r.error?(s(),a("p",Dt,u(r.error),1)):c("",!0)]))}}),Tt={class:"space-y-6"},Nt={key:0},Rt={class:"text-lg font-semibold"},zt={key:0,class:"text-sm text-muted-foreground"},It={class:"space-y-4"},Lt={key:0},Yt={key:1},Mt={key:2},Wt={key:0,class:"text-red-500 ml-1"},Gt={key:0,class:"text-sm text-muted-foreground mb-2"},Ht={key:1,class:"text-sm text-red-600 mt-1"},Jt={key:3},Kt={key:0,class:"text-red-500 ml-1"},Ot={key:0,class:"text-sm text-muted-foreground mb-2"},Qt={key:1,class:"text-sm text-red-600 mt-1"},Xt={key:4},Zt={key:0,class:"text-red-500 ml-1"},ea={key:0,class:"text-sm text-muted-foreground mb-2"},sa={key:1,class:"text-sm text-red-600 mt-1"},ta={key:5},aa={key:0,class:"text-red-500 ml-1"},oa={key:0,class:"text-sm text-muted-foreground mb-2"},ra={key:1,class:"text-sm text-red-600 mt-1"},la={key:6},da={key:0,class:"text-red-500 ml-1"},ia={key:0,class:"text-sm text-muted-foreground mb-2"},na={key:1,class:"text-sm text-red-600 mt-1"},ua={key:7},ma={key:0,class:"text-red-500 ml-1"},ca={key:0,class:"text-sm text-muted-foreground mb-2"},pa={key:1,class:"text-sm text-red-600 mt-1"},_a={key:8},fa={key:0,class:"text-red-500 ml-1"},ba={key:0,class:"text-sm text-muted-foreground mb-2"},va={class:"space-y-2"},xa=["id","name","value","checked","onChange","disabled"],ya={key:1,class:"text-sm text-red-600 mt-1"},ha={key:9},ga={key:0,class:"text-red-500 ml-1"},$a={key:0,class:"text-sm text-muted-foreground mb-2"},ka={class:"space-y-2"},Va={key:1,class:"text-sm text-red-600 mt-1"},Ca={key:10},wa={key:11},Ua={key:12},qa={key:13},Ba={class:"list-disc list-inside space-y-1 text-sm text-amber-800"},Sa=W({__name:"DynamicFormRenderer",props:{fields:{},modelValue:{},candidaturasAprobadas:{default:()=>[]},candidaturaSeleccionada:{},candidatosElegibles:{default:()=>({})},errors:{default:()=>({})},disabled:{type:Boolean,default:!1},title:{default:"Formulario de Postulación"},description:{default:"Completa los siguientes campos para enviar tu postulación"},context:{default:"postulacion"},files:{}},emits:["update:modelValue","update:candidaturaSeleccionada","filesSelected"],setup(E,{expose:T,emit:y}){const $=E,q=y,x=B({get:()=>$.modelValue||{},set:l=>q("update:modelValue",l)}),C=B({get:()=>$.candidaturaSeleccionada,set:l=>q("update:candidaturaSeleccionada",l)});B(()=>$.fields.some(l=>l.type==="perfil_candidatura"));const A=Ee($.fields);Ce(()=>$.fields,l=>{A.value=l},{deep:!0});const{visibleFields:b,clearHiddenFieldValues:m}=Me(A,x);Ce(b,()=>{m()});const f=(l,k)=>{const w={...x.value||{}};w[l]=k,x.value=w},r=(l,k,e)=>{const w=x.value[l]||[];let D;e?D=[...w,k]:D=w.filter(L=>L!==k),f(l,D)},p=B(()=>b.value.filter(l=>l.required).map(l=>l.id)),i=B(()=>p.value.filter(l=>{const k=b.value.find(w=>w.id===l);if((k==null?void 0:k.type)==="perfil_candidatura")return!$.candidaturaSeleccionada;const e=x.value[l];return!e||Array.isArray(e)&&e.length===0})),V=B(()=>{const l=$.fields.find(k=>k.type==="perfil_candidatura");return(l==null?void 0:l.required)||!1}),G=B(()=>i.value.length===0);return T({formularioCompleto:G,camposIncompletos:i,perfilCandidaturaRequerido:V}),(l,k)=>(s(),a("div",Tt,[l.title||l.description?(s(),a("div",Nt,[n("h3",Rt,u(l.title),1),l.description?(s(),a("p",zt,u(l.description),1)):c("",!0)])):c("",!0),n("div",It,[o(Te,{name:"fade-field"},{default:d(()=>[(s(!0),a(U,null,j(t(b),e=>{var w,D,L,X,Z,ee,se,te,ae,oe,re,le,de,ie,ne,ue,me,ce,pe,_e,fe,be,ve,xe,ye,he,ge,$e,ke,Ve;return s(),a(U,{key:e.id},[e.type==="convocatoria"&&(l.context==="votacion"||l.context==="formulario")?(s(),a("div",Lt,[o(Et,{modelValue:x.value[e.id],"onUpdate:modelValue":_=>x.value[e.id]=_,candidatos:((w=l.candidatosElegibles[e.id])==null?void 0:w.candidatos)||[],"convocatoria-nombre":(L=(D=l.candidatosElegibles[e.id])==null?void 0:D.convocatoria)==null?void 0:L.nombre,label:e.title,description:e.description,required:e.required,multiple:((X=e.convocatoriaConfig)==null?void 0:X.multiple)||!1,"mostrar-voto-blanco":((Z=e.convocatoriaConfig)==null?void 0:Z.mostrarVotoBlanco)??!0,"vista-preferida":((ee=e.convocatoriaConfig)==null?void 0:ee.vistaPreferida)||"lista",error:l.errors[e.id],disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos","convocatoria-nombre","label","description","required","multiple","mostrar-voto-blanco","vista-preferida","error","disabled"])])):e.type==="perfil_candidatura"?(s(),a("div",Yt,[l.context==="postulacion"?(s(),g(us,{key:0,modelValue:C.value,"onUpdate:modelValue":k[0]||(k[0]=_=>C.value=_),"candidaturas-aprobadas":l.candidaturasAprobadas,label:e.title,description:e.description,required:e.required,error:l.errors.candidatura_id,disabled:l.disabled},null,8,["modelValue","candidaturas-aprobadas","label","description","required","error","disabled"])):l.context==="votacion"||l.context==="formulario"?(s(),g(Ss,{key:1,modelValue:x.value[e.id],"onUpdate:modelValue":_=>x.value[e.id]=_,"candidatos-elegibles":l.candidatosElegibles[e.id]||[],label:e.title,description:e.description,required:e.required,multiple:((se=e.perfilCandidaturaConfig)==null?void 0:se.multiple)||!1,"mostrar-voto-blanco":((te=e.perfilCandidaturaConfig)==null?void 0:te.mostrarVotoBlanco)??!0,error:l.errors[e.id],disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos-elegibles","label","description","required","multiple","mostrar-voto-blanco","error","disabled"])):c("",!0)])):e.type==="text"?(s(),a("div",Mt,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",Wt,"*")):c("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",Gt,u(e.description),1)):c("",!0),o(t(Y),{id:e.id,"model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Ingresa ${e.title.toLowerCase()}`,disabled:l.disabled,class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",Ht,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="textarea"?(s(),a("div",Jt,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",Kt,"*")):c("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",Ot,u(e.description),1)):c("",!0),o(t(Ne),{id:e.id,"model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Describe ${e.title.toLowerCase()}`,disabled:l.disabled,rows:"4",class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",Qt,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="number"?(s(),a("div",Xt,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",Zt,"*")):c("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",ea,u(e.description),1)):c("",!0),o(t(Y),{id:e.id,type:"number","model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:l.disabled,min:(ae=e.numberConfig)==null?void 0:ae.min,max:(oe=e.numberConfig)==null?void 0:oe.max,step:((re=e.numberConfig)==null?void 0:re.step)||1,placeholder:e.placeholder||"",class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","min","max","step","placeholder","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",sa,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="email"?(s(),a("div",ta,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",aa,"*")):c("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",oa,u(e.description),1)):c("",!0),o(t(Y),{id:e.id,type:"email","model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:"ejemplo@correo.com",disabled:l.disabled,class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",ra,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="date"?(s(),a("div",la,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",da,"*")):c("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",ia,u(e.description),1)):c("",!0),o(t(Y),{id:e.id,type:"date","model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:l.disabled,class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",na,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="select"?(s(),a("div",ua,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",ma,"*")):c("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",ca,u(e.description),1)):c("",!0),o(t(Be),{"model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:l.disabled},{default:d(()=>[o(t(Se),{class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},{default:d(()=>[o(t(je),{placeholder:`Selecciona ${e.title.toLowerCase()}`},null,8,["placeholder"])]),_:2},1032,["class"]),o(t(Ae),null,{default:d(()=>[(s(!0),a(U,null,j(e.options,_=>(s(),g(t(J),{key:_,value:_},{default:d(()=>[v(u(_),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["model-value","onUpdate:modelValue","disabled"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",pa,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="radio"?(s(),a("div",_a,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",fa,"*")):c("",!0)]),_:2},1024),e.description?(s(),a("p",ba,u(e.description),1)):c("",!0),n("div",va,[(s(!0),a(U,null,j(e.options,_=>(s(),a("div",{key:_,class:"flex items-center space-x-2"},[n("input",{id:`${e.id}-${_}`,type:"radio",name:e.id,value:_,checked:x.value[e.id]===_,onChange:()=>f(e.id,_),disabled:l.disabled,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,40,xa),o(t(h),{for:`${e.id}-${_}`,class:"text-sm"},{default:d(()=>[v(u(_),1)]),_:2},1032,["for"])]))),128))]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",ya,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="checkbox"?(s(),a("div",ha,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",ga,"*")):c("",!0)]),_:2},1024),e.description?(s(),a("p",$a,u(e.description),1)):c("",!0),n("div",ka,[(s(!0),a(U,null,j(e.options,_=>(s(),a("div",{key:_,class:"flex items-center space-x-2"},[o(t(M),{id:`${e.id}-${_}`,checked:(x.value[e.id]||[]).includes(_),"onUpdate:checked":Pe=>r(e.id,_,Pe),disabled:l.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(t(h),{for:`${e.id}-${_}`,class:"text-sm"},{default:d(()=>[v(u(_),1)]),_:2},1032,["for"])]))),128))]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",Va,u(l.errors[`formulario_data.${e.id}`]),1)):c("",!0)])):e.type==="file"?(s(),a("div",Ca,[o(Ye,{"model-value":x.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),onFilesSelected:_=>q("filesSelected",e.id,_),label:e.title,description:e.description,required:e.required,multiple:((le=e.fileConfig)==null?void 0:le.multiple)||!1,"max-files":((de=e.fileConfig)==null?void 0:de.maxFiles)||5,"max-file-size":((ie=e.fileConfig)==null?void 0:ie.maxFileSize)||10,accept:((ne=e.fileConfig)==null?void 0:ne.accept)||".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",error:l.errors[`formulario_data.${e.id}`],disabled:l.disabled},null,8,["model-value","onUpdate:modelValue","onFilesSelected","label","description","required","multiple","max-files","max-file-size","accept","error","disabled"])])):e.type==="datepicker"?(s(),a("div",wa,[o(We,{"model-value":x.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:l.disabled,error:l.errors[`formulario_data.${e.id}`],"min-date":(ue=e.datepickerConfig)==null?void 0:ue.minDate,"max-date":(me=e.datepickerConfig)==null?void 0:me.maxDate,format:((ce=e.datepickerConfig)==null?void 0:ce.format)||"DD/MM/YYYY","allow-past-dates":((pe=e.datepickerConfig)==null?void 0:pe.allowPastDates)??!0,"allow-future-dates":((_e=e.datepickerConfig)==null?void 0:_e.allowFutureDates)??!0},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-date","max-date","format","allow-past-dates","allow-future-dates"])])):e.type==="disclaimer"?(s(),a("div",Ua,[o(Ge,{"model-value":x.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:l.disabled,error:l.errors[`formulario_data.${e.id}`],"disclaimer-text":((fe=e.disclaimerConfig)==null?void 0:fe.disclaimerText)||"","modal-title":((be=e.disclaimerConfig)==null?void 0:be.modalTitle)||"Términos y Condiciones","accept-button-text":((ve=e.disclaimerConfig)==null?void 0:ve.acceptButtonText)||"Acepto","decline-button-text":((xe=e.disclaimerConfig)==null?void 0:xe.declineButtonText)||"No acepto"},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","disclaimer-text","modal-title","accept-button-text","decline-button-text"])])):e.type==="repeater"?(s(),a("div",qa,[o(He,{"model-value":x.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:l.disabled,error:l.errors[`formulario_data.${e.id}`],"min-items":((ye=e.repeaterConfig)==null?void 0:ye.minItems)||0,"max-items":((he=e.repeaterConfig)==null?void 0:he.maxItems)||10,"item-name":((ge=e.repeaterConfig)==null?void 0:ge.itemName)||"Elemento","add-button-text":(($e=e.repeaterConfig)==null?void 0:$e.addButtonText)||"Agregar elemento","remove-button-text":((ke=e.repeaterConfig)==null?void 0:ke.removeButtonText)||"Eliminar",fields:((Ve=e.repeaterConfig)==null?void 0:Ve.fields)||[]},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-items","max-items","item-name","add-button-text","remove-button-text","fields"])])):c("",!0)],64)}),128))]),_:1})]),l.context==="postulacion"&&i.value.length>0?(s(),g(t(S),{key:1,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(N),{class:"pb-3"},{default:d(()=>[o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...k[1]||(k[1]=[v(" Campos requeridos pendientes ",-1)])]),_:1}),o(t(z),{class:"text-amber-700"},{default:d(()=>[...k[2]||(k[2]=[v(" Completa los siguientes campos obligatorios antes de enviar tu postulación. ",-1)])]),_:1})]),_:1}),o(t(P),{class:"pt-0"},{default:d(()=>[n("ul",Ba,[(s(!0),a(U,null,j(i.value,e=>{var w;return s(),a("li",{key:e},u((w=l.fields.find(D=>D.id===e))==null?void 0:w.title),1)}),128))])]),_:1})]),_:1})):c("",!0)]))}}),Qa=Je(Sa,[["__scopeId","data-v-9e518b25"]]);export{Qa as D};
