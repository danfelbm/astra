import{d as Y,C as Z,r as R,c as h,b as w,e as n,w as a,g as s,f as t,u as e,P as ee,h as i,l as oe,i as u,j as f,F as E,k as S,t as p,W as T}from"./app-CNcf-zdV.js";import{_ as te}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DTy3l80b.js";import{_ as V,a as y,b as g,c as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-DhL5ChM3.js";import{_ as x}from"./CardDescription.vue_vue_type_script_setup_true_lang-C68I3fFy.js";import{_ as I}from"./createLucideIcon-DgLLtpTc.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-CXr4ucc6.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BFduy937.js";import{_ as q}from"./Textarea.vue_vue_type_script_setup_true_lang-BLahoW9V.js";import{_ as k,a as P,b as z,c as F,d as c}from"./SelectValue.vue_vue_type_script_setup_true_lang-Bt0xndJV.js";import{_ as ae,a as le}from"./index-BXNWrcHO.js";import{_ as re,a as ie,b as A,c as D}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-PuWmj34h.js";import{u as se}from"./useToast-CrUC3BSK.js";import{_ as M}from"./CampoPersonalizadoInput.vue_vue_type_script_setup_true_lang-Cn-pdbFi.js";import{_ as ne,a as de}from"./ParticipantesManager.vue_vue_type_script_setup_true_lang-uzZKp6do.js";import{A as ue}from"./arrow-left-qPIiRNis.js";import{C as me}from"./circle-alert-BWYDLxj9.js";import{U as fe}from"./upload-BXITFokJ.js";import{S as pe}from"./save-Bvcpe2E0.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-D8koaehi.js";import"./index-C53AKuaZ.js";import"./floating-ui.vue-g3wBdaGy.js";import"./x-arLKReWz.js";import"./index-DoUjDw3v.js";import"./shield-Ds2U7D9u.js";import"./user-DzTPpMzP.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BBJrNP3L.js";import"./chevron-right-CoIj8tGl.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CS3Y7RjP.js";import"./VisuallyHidden-BMJ7uEAj.js";import"./index-BfcJxwg-.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-D-RM_gVc.js";import"./index-UZehIf0x.js";import"./map-pin-CODmF8A6.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-CPZLV3U1.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-CQwxGvmo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-Co9lmALi.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Bowse19S.js";import"./target-Bzh15SE9.js";import"./users-BCniY5Uo.js";import"./vote-DWrrItDX.js";import"./folder-open-Bl1zn-Xz.js";import"./send-Cs3Svvwv.js";import"./file-text-VjUXoo3d.js";import"./briefcase-BxQurTMk.js";import"./calendar-DAAYlVnm.js";import"./megaphone-DSquqsX_.js";import"./user-check-t0y4Vuir.js";import"./mail-CzyXkW1x.js";import"./message-square-vVP8zyj_.js";import"./external-link-DknYr06I.js";import"./panel-left-C37rxO5h.js";import"./index-s_YMJFqv.js";import"./check-N9bkD0I5.js";import"./index-DraxJDKZ.js";import"./nullish-CHIgUVhi.js";import"./RovingFocusItem-KgjJr8lb.js";import"./utils-D1nKU7ku.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BDqsklM1.js";import"./RadioGroupItem.vue_vue_type_script_setup_true_lang-Cu2pXtyO.js";import"./VisuallyHiddenInput-DQv9Xmp3.js";import"./circle-DT2yxC1F.js";import"./index-wZxNlukw.js";import"./search-DXa90Ror.js";import"./useKbd-kRIii9yh.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CxYPgAQ2.js";import"./plus-B0xw1qKM.js";import"./square-pen-Def0jsxb.js";import"./trash-2-BaR4XxZx.js";const _e={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ce={class:"flex items-center justify-between"},ve={class:"flex items-center gap-4"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={key:0,class:"text-red-500 text-sm mt-1"},ye={key:0,class:"text-red-500 text-sm mt-1"},ge={key:0,class:"text-red-500 text-sm mt-1"},Ce={key:0,class:"space-y-4 pt-4 border-t"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ue={key:0,class:"text-red-500 text-sm mt-1"},$e={key:0,class:"text-red-500 text-sm mt-1"},Ee={key:0,class:"text-red-500 text-sm mt-1"},Se={key:0,class:"text-red-500 text-sm mt-1"},ke={key:0},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ze={key:0,class:"text-red-500 text-sm mt-1"},Fe={key:0,class:"text-red-500 text-sm mt-1"},Ae={key:0,class:"space-y-4 pt-4 border-t"},De={class:"space-y-6"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"flex items-center gap-4"},Ie={key:0,class:"text-sm text-gray-600"},je={key:0,class:"text-red-500 text-sm mt-1"},Me={key:0,class:"text-red-500 text-sm mt-1"},Le={key:0,class:"space-y-4 pt-4 border-t"},Oe={class:"flex justify-end gap-4"},tt=Y({__name:"Create",props:{proyecto:{},proyectos:{},camposPersonalizados:{},usuarios:{default:()=>[]}},setup(G){var B;const N=G,U=se(),W=[{title:"Admin",href:"/admin/dashboard"},{title:"Contratos",href:"/admin/contratos"},{title:"Crear Contrato",href:"/admin/contratos/create"}],l=Z({proyecto_id:((B=N.proyecto)==null?void 0:B.id)||"",nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",estado:"borrador",tipo:"servicio",monto_total:"",moneda:"USD",responsable_id:"none",contraparte_user_id:null,contraparte_nombre:"",contraparte_identificacion:"",contraparte_email:"",contraparte_telefono:"",participantes:[],archivo_pdf:null,observaciones:"",campos_personalizados:{}}),j=R(""),L=R("informacion"),X=[{value:"USD",label:"USD - Dólar Estadounidense"},{value:"EUR",label:"EUR - Euro"},{value:"MXN",label:"MXN - Peso Mexicano"},{value:"COP",label:"COP - Peso Colombiano"},{value:"ARS",label:"ARS - Peso Argentino"},{value:"CLP",label:"CLP - Peso Chileno"},{value:"PEN",label:"PEN - Sol Peruano"}],$=h(()=>{const d={informacion:[],financiero:[],otros:[]};return N.camposPersonalizados.forEach(o=>{o.slug.includes("financ")||o.slug.includes("monto")||o.slug.includes("precio")?d.financiero.push(o):o.slug.includes("info")||o.slug.includes("descrip")?d.informacion.push(o):d.otros.push(o)}),d}),O=d=>{const o=d.target;o.files&&o.files[0]&&(l.archivo_pdf=o.files[0],j.value=o.files[0].name)},H=()=>{const d=[];return l.proyecto_id||d.push("Debe seleccionar un proyecto"),l.nombre.trim()||d.push("El nombre del contrato es obligatorio"),l.fecha_inicio||d.push("La fecha de inicio es obligatoria"),l.fecha_fin&&l.fecha_fin<l.fecha_inicio&&d.push("La fecha de fin debe ser posterior a la fecha de inicio"),N.camposPersonalizados.forEach(o=>{o.es_requerido&&!l.campos_personalizados[o.id]&&d.push(`El campo "${o.nombre}" es obligatorio`)}),d},J=()=>{const d=H();if(d.length>0){d.forEach(r=>U.error(r));return}const o=new FormData;Object.keys(l.data()).forEach(r=>{r==="campos_personalizados"?Object.keys(l.campos_personalizados).forEach(m=>{const v=l.campos_personalizados[m];v!=null&&v!==""&&o.append(`campos_personalizados[${m}]`,v)}):r==="participantes"?l.participantes.forEach((m,v)=>{o.append(`participantes[${v}][user_id]`,m.user_id.toString()),o.append(`participantes[${v}][rol]`,m.rol),m.notas&&o.append(`participantes[${v}][notas]`,m.notas)}):r==="archivo_pdf"&&l.archivo_pdf?o.append("archivo_pdf",l.archivo_pdf):r==="responsable_id"&&l[r]==="none"||l[r]!==null&&l[r]!==""&&o.append(r,l[r])}),T.post(route("admin.contratos.store"),o,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{U.success("Contrato creado exitosamente")},onError:r=>{typeof r=="object"&&r!==null?Object.values(r).forEach(m=>{Array.isArray(m)?m.forEach(v=>U.error(String(v))):typeof m=="string"?U.error(m):U.error("Error al crear el contrato")}):U.error("Error al crear el contrato")}})},K=()=>{confirm("¿Está seguro de cancelar? Los cambios no guardados se perderán.")&&T.get(route("admin.contratos.index"))},Q=d=>{d&&(l.contraparte_nombre="",l.contraparte_identificacion="",l.contraparte_email="",l.contraparte_telefono="")};return(d,o)=>(n(),w(te,{breadcrumbs:W},{default:a(()=>[s("div",_e,[s("div",ce,[s("div",ve,[t(e(ee),{href:d.route("admin.contratos.index")},{default:a(()=>[t(e(I),{variant:"ghost",size:"sm"},{default:a(()=>[t(e(ue),{class:"h-4 w-4 mr-2"}),o[19]||(o[19]=i(" Volver ",-1))]),_:1})]),_:1},8,["href"]),o[20]||(o[20]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Crear Contrato"),s("p",{class:"text-gray-600 mt-1"},"Complete la información para crear un nuevo contrato")],-1))])]),s("form",{onSubmit:oe(J,["prevent"]),class:"space-y-6"},[t(e(re),{modelValue:L.value,"onUpdate:modelValue":o[18]||(o[18]=r=>L.value=r)},{default:a(()=>[t(e(ie),{class:"grid w-full grid-cols-5"},{default:a(()=>[t(e(A),{value:"informacion"},{default:a(()=>[...o[21]||(o[21]=[i("Información General",-1)])]),_:1}),t(e(A),{value:"fechas"},{default:a(()=>[...o[22]||(o[22]=[i("Fechas y Estado",-1)])]),_:1}),t(e(A),{value:"financiero"},{default:a(()=>[...o[23]||(o[23]=[i("Información Financiera",-1)])]),_:1}),t(e(A),{value:"contraparte"},{default:a(()=>[...o[24]||(o[24]=[i("Contraparte",-1)])]),_:1}),t(e(A),{value:"adicional"},{default:a(()=>[...o[25]||(o[25]=[i("Información Adicional",-1)])]),_:1})]),_:1}),t(e(D),{value:"informacion"},{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[26]||(o[26]=[i("Información General",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[27]||(o[27]=[i("Datos principales del contrato",-1)])]),_:1})]),_:1}),t(e(C),{class:"space-y-4"},{default:a(()=>[s("div",be,[s("div",null,[t(e(_),{for:"proyecto_id"},{default:a(()=>[...o[28]||(o[28]=[i("Proyecto *",-1)])]),_:1}),t(e(k),{modelValue:e(l).proyecto_id,"onUpdate:modelValue":o[0]||(o[0]=r=>e(l).proyecto_id=r),disabled:!!N.proyecto},{default:a(()=>[t(e(P),null,{default:a(()=>[t(e(z),{placeholder:"Seleccione un proyecto"})]),_:1}),t(e(F),null,{default:a(()=>[(n(!0),u(E,null,S(d.proyectos,r=>(n(),w(e(c),{key:r.id,value:r.id.toString()},{default:a(()=>[i(p(r.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e(l).errors.proyecto_id?(n(),u("div",Ve,p(e(l).errors.proyecto_id),1)):f("",!0)]),s("div",null,[t(e(_),{for:"nombre"},{default:a(()=>[...o[29]||(o[29]=[i("Nombre del Contrato *",-1)])]),_:1}),t(e(b),{id:"nombre",modelValue:e(l).nombre,"onUpdate:modelValue":o[1]||(o[1]=r=>e(l).nombre=r),placeholder:"Ej: Contrato de servicios de consultoría"},null,8,["modelValue"]),e(l).errors.nombre?(n(),u("div",ye,p(e(l).errors.nombre),1)):f("",!0)])]),s("div",null,[t(e(_),{for:"descripcion"},{default:a(()=>[...o[30]||(o[30]=[i("Descripción",-1)])]),_:1}),t(e(q),{id:"descripcion",modelValue:e(l).descripcion,"onUpdate:modelValue":o[2]||(o[2]=r=>e(l).descripcion=r),placeholder:"Descripción detallada del contrato...",rows:"4"},null,8,["modelValue"]),e(l).errors.descripcion?(n(),u("div",ge,p(e(l).errors.descripcion),1)):f("",!0)]),$.value.informacion.length>0?(n(),u("div",Ce,[o[31]||(o[31]=s("h3",{class:"font-medium"},"Información Complementaria",-1)),(n(!0),u(E,null,S($.value.informacion,r=>(n(),u("div",{key:r.id},[t(M,{campo:r,modelValue:e(l).campos_personalizados[r.id],"onUpdate:modelValue":m=>e(l).campos_personalizados[r.id]=m},null,8,["campo","modelValue","onUpdate:modelValue"])]))),128))])):f("",!0)]),_:1})]),_:1})]),_:1}),t(e(D),{value:"fechas"},{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[32]||(o[32]=[i("Fechas y Estado",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[33]||(o[33]=[i("Configure las fechas y el estado del contrato",-1)])]),_:1})]),_:1}),t(e(C),{class:"space-y-4"},{default:a(()=>[s("div",xe,[s("div",null,[t(e(_),{for:"fecha_inicio"},{default:a(()=>[...o[34]||(o[34]=[i("Fecha de Inicio *",-1)])]),_:1}),t(e(b),{id:"fecha_inicio",type:"date",modelValue:e(l).fecha_inicio,"onUpdate:modelValue":o[3]||(o[3]=r=>e(l).fecha_inicio=r)},null,8,["modelValue"]),e(l).errors.fecha_inicio?(n(),u("div",Ue,p(e(l).errors.fecha_inicio),1)):f("",!0)]),s("div",null,[t(e(_),{for:"fecha_fin"},{default:a(()=>[...o[35]||(o[35]=[i("Fecha de Fin",-1)])]),_:1}),t(e(b),{id:"fecha_fin",type:"date",modelValue:e(l).fecha_fin,"onUpdate:modelValue":o[4]||(o[4]=r=>e(l).fecha_fin=r)},null,8,["modelValue"]),e(l).errors.fecha_fin?(n(),u("div",$e,p(e(l).errors.fecha_fin),1)):f("",!0)]),s("div",null,[t(e(_),{for:"estado"},{default:a(()=>[...o[36]||(o[36]=[i("Estado",-1)])]),_:1}),t(e(k),{modelValue:e(l).estado,"onUpdate:modelValue":o[5]||(o[5]=r=>e(l).estado=r)},{default:a(()=>[t(e(P),null,{default:a(()=>[t(e(z))]),_:1}),t(e(F),null,{default:a(()=>[t(e(c),{value:"borrador"},{default:a(()=>[...o[37]||(o[37]=[i("Borrador",-1)])]),_:1}),t(e(c),{value:"activo"},{default:a(()=>[...o[38]||(o[38]=[i("Activo",-1)])]),_:1}),t(e(c),{value:"finalizado"},{default:a(()=>[...o[39]||(o[39]=[i("Finalizado",-1)])]),_:1}),t(e(c),{value:"cancelado"},{default:a(()=>[...o[40]||(o[40]=[i("Cancelado",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l).errors.estado?(n(),u("div",Ee,p(e(l).errors.estado),1)):f("",!0)]),s("div",null,[t(e(_),{for:"tipo"},{default:a(()=>[...o[41]||(o[41]=[i("Tipo de Contrato *",-1)])]),_:1}),t(e(k),{modelValue:e(l).tipo,"onUpdate:modelValue":o[6]||(o[6]=r=>e(l).tipo=r)},{default:a(()=>[t(e(P),null,{default:a(()=>[t(e(z))]),_:1}),t(e(F),null,{default:a(()=>[t(e(c),{value:"servicio"},{default:a(()=>[...o[42]||(o[42]=[i("Servicio",-1)])]),_:1}),t(e(c),{value:"obra"},{default:a(()=>[...o[43]||(o[43]=[i("Obra",-1)])]),_:1}),t(e(c),{value:"suministro"},{default:a(()=>[...o[44]||(o[44]=[i("Suministro",-1)])]),_:1}),t(e(c),{value:"consultoria"},{default:a(()=>[...o[45]||(o[45]=[i("Consultoría",-1)])]),_:1}),t(e(c),{value:"otro"},{default:a(()=>[...o[46]||(o[46]=[i("Otro",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l).errors.tipo?(n(),u("div",Se,p(e(l).errors.tipo),1)):f("",!0)])]),d.usuarios?(n(),u("div",ke,[t(e(_),{for:"responsable_id"},{default:a(()=>[...o[47]||(o[47]=[i("Responsable",-1)])]),_:1}),t(e(k),{modelValue:e(l).responsable_id,"onUpdate:modelValue":o[7]||(o[7]=r=>e(l).responsable_id=r)},{default:a(()=>[t(e(P),null,{default:a(()=>[t(e(z),{placeholder:"Seleccione un responsable"})]),_:1}),t(e(F),null,{default:a(()=>[t(e(c),{value:"none"},{default:a(()=>[...o[48]||(o[48]=[i("Sin responsable",-1)])]),_:1}),(n(!0),u(E,null,S(d.usuarios,r=>(n(),w(e(c),{key:r.id,value:r.id.toString()},{default:a(()=>[i(p(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])):f("",!0)]),_:1})]),_:1})]),_:1}),t(e(D),{value:"financiero"},{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[49]||(o[49]=[i("Información Financiera",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[50]||(o[50]=[i("Montos y detalles financieros del contrato",-1)])]),_:1})]),_:1}),t(e(C),{class:"space-y-4"},{default:a(()=>[s("div",Pe,[s("div",null,[t(e(_),{for:"monto_total"},{default:a(()=>[...o[51]||(o[51]=[i("Monto Total",-1)])]),_:1}),t(e(b),{id:"monto_total",type:"number",step:"0.01",modelValue:e(l).monto_total,"onUpdate:modelValue":o[8]||(o[8]=r=>e(l).monto_total=r),placeholder:"0.00"},null,8,["modelValue"]),e(l).errors.monto_total?(n(),u("div",ze,p(e(l).errors.monto_total),1)):f("",!0)]),s("div",null,[t(e(_),{for:"moneda"},{default:a(()=>[...o[52]||(o[52]=[i("Moneda",-1)])]),_:1}),t(e(k),{modelValue:e(l).moneda,"onUpdate:modelValue":o[9]||(o[9]=r=>e(l).moneda=r)},{default:a(()=>[t(e(P),null,{default:a(()=>[t(e(z))]),_:1}),t(e(F),null,{default:a(()=>[(n(),u(E,null,S(X,r=>t(e(c),{key:r.value,value:r.value},{default:a(()=>[i(p(r.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.moneda?(n(),u("div",Fe,p(e(l).errors.moneda),1)):f("",!0)])]),$.value.financiero.length>0?(n(),u("div",Ae,[o[53]||(o[53]=s("h3",{class:"font-medium"},"Campos Financieros Personalizados",-1)),(n(!0),u(E,null,S($.value.financiero,r=>(n(),u("div",{key:r.id},[t(M,{campo:r,modelValue:e(l).campos_personalizados[r.id],"onUpdate:modelValue":m=>e(l).campos_personalizados[r.id]=m},null,8,["campo","modelValue","onUpdate:modelValue"])]))),128))])):f("",!0)]),_:1})]),_:1})]),_:1}),t(e(D),{value:"contraparte"},{default:a(()=>[s("div",De,[t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[54]||(o[54]=[i("Contraparte - Usuario del Sistema",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[55]||(o[55]=[i(" Seleccione un usuario del sistema como contraparte del contrato ",-1)])]),_:1})]),_:1}),t(e(C),null,{default:a(()=>[t(ne,{modelValue:e(l).contraparte_user_id,"onUpdate:modelValue":o[10]||(o[10]=r=>e(l).contraparte_user_id=r),users:d.usuarios,label:"Usuario Contraparte",placeholder:"Seleccionar usuario del sistema...",description:"Si la contraparte es un usuario registrado en el sistema, selecciónelo aquí",onChange:Q},null,8,["modelValue","users"])]),_:1})]),_:1}),t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[56]||(o[56]=[i("Contraparte - Información Externa",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[57]||(o[57]=[i(" Complete estos campos si la contraparte no es un usuario del sistema ",-1)])]),_:1})]),_:1}),t(e(C),{class:"space-y-4"},{default:a(()=>[e(l).contraparte_user_id?(n(),w(e(ae),{key:0,class:"mb-4"},{default:a(()=>[t(e(me),{class:"h-4 w-4"}),t(e(le),null,{default:a(()=>[...o[58]||(o[58]=[i(" Los campos de contraparte externa están deshabilitados porque ya se seleccionó un usuario del sistema. ",-1)])]),_:1})]),_:1})):f("",!0),s("div",Ne,[s("div",null,[t(e(_),{for:"contraparte_nombre"},{default:a(()=>[...o[59]||(o[59]=[i("Nombre de la Contraparte",-1)])]),_:1}),t(e(b),{id:"contraparte_nombre",modelValue:e(l).contraparte_nombre,"onUpdate:modelValue":o[11]||(o[11]=r=>e(l).contraparte_nombre=r),placeholder:"Nombre de la empresa o persona",disabled:!!e(l).contraparte_user_id},null,8,["modelValue","disabled"])]),s("div",null,[t(e(_),{for:"contraparte_identificacion"},{default:a(()=>[...o[60]||(o[60]=[i("Identificación/RUC",-1)])]),_:1}),t(e(b),{id:"contraparte_identificacion",modelValue:e(l).contraparte_identificacion,"onUpdate:modelValue":o[12]||(o[12]=r=>e(l).contraparte_identificacion=r),placeholder:"Número de identificación",disabled:!!e(l).contraparte_user_id},null,8,["modelValue","disabled"])]),s("div",null,[t(e(_),{for:"contraparte_email"},{default:a(()=>[...o[61]||(o[61]=[i("Email de Contacto",-1)])]),_:1}),t(e(b),{id:"contraparte_email",type:"email",modelValue:e(l).contraparte_email,"onUpdate:modelValue":o[13]||(o[13]=r=>e(l).contraparte_email=r),placeholder:"email@ejemplo.com",disabled:!!e(l).contraparte_user_id},null,8,["modelValue","disabled"])]),s("div",null,[t(e(_),{for:"contraparte_telefono"},{default:a(()=>[...o[62]||(o[62]=[i("Teléfono de Contacto",-1)])]),_:1}),t(e(b),{id:"contraparte_telefono",modelValue:e(l).contraparte_telefono,"onUpdate:modelValue":o[14]||(o[14]=r=>e(l).contraparte_telefono=r),placeholder:"+1234567890",disabled:!!e(l).contraparte_user_id},null,8,["modelValue","disabled"])])])]),_:1})]),_:1}),t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[63]||(o[63]=[i("Participantes del Contrato",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[64]||(o[64]=[i(" Agregue usuarios del sistema que participarán en este contrato con diferentes roles ",-1)])]),_:1})]),_:1}),t(e(C),null,{default:a(()=>[t(de,{modelValue:e(l).participantes,"onUpdate:modelValue":o[15]||(o[15]=r=>e(l).participantes=r),users:d.usuarios,"entity-type":"contrato",title:"",disabled:!1},null,8,["modelValue","users"])]),_:1})]),_:1})])]),_:1}),t(e(D),{value:"adicional"},{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(g),null,{default:a(()=>[...o[65]||(o[65]=[i("Información Adicional",-1)])]),_:1}),t(e(x),null,{default:a(()=>[...o[66]||(o[66]=[i("Archivos y observaciones",-1)])]),_:1})]),_:1}),t(e(C),{class:"space-y-4"},{default:a(()=>[s("div",null,[t(e(_),{for:"archivo_pdf"},{default:a(()=>[...o[67]||(o[67]=[i("Archivo del Contrato (PDF)",-1)])]),_:1}),s("div",we,[t(e(b),{id:"archivo_pdf",type:"file",accept:".pdf",onChange:O,class:"hidden"}),t(e(I),{type:"button",variant:"outline",onClick:o[16]||(o[16]=r=>d.$refs.fileInput.click())},{default:a(()=>[t(e(fe),{class:"h-4 w-4 mr-2"}),o[68]||(o[68]=i(" Seleccionar PDF ",-1))]),_:1}),j.value?(n(),u("span",Ie,p(j.value),1)):f("",!0)]),o[69]||(o[69]=s("p",{class:"text-xs text-gray-500 mt-1"},"Máximo 10MB",-1)),e(l).errors.archivo_pdf?(n(),u("div",je,p(e(l).errors.archivo_pdf),1)):f("",!0)]),s("div",null,[t(e(_),{for:"observaciones"},{default:a(()=>[...o[70]||(o[70]=[i("Observaciones",-1)])]),_:1}),t(e(q),{id:"observaciones",modelValue:e(l).observaciones,"onUpdate:modelValue":o[17]||(o[17]=r=>e(l).observaciones=r),placeholder:"Notas u observaciones adicionales...",rows:"4"},null,8,["modelValue"]),e(l).errors.observaciones?(n(),u("div",Me,p(e(l).errors.observaciones),1)):f("",!0)]),$.value.otros.length>0?(n(),u("div",Le,[o[71]||(o[71]=s("h3",{class:"font-medium"},"Campos Personalizados",-1)),(n(!0),u(E,null,S($.value.otros,r=>(n(),u("div",{key:r.id},[t(M,{campo:r,modelValue:e(l).campos_personalizados[r.id],"onUpdate:modelValue":m=>e(l).campos_personalizados[r.id]=m},null,8,["campo","modelValue","onUpdate:modelValue"])]))),128))])):f("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",Oe,[t(e(I),{type:"button",variant:"outline",onClick:K,disabled:e(l).processing},{default:a(()=>[...o[72]||(o[72]=[i(" Cancelar ",-1)])]),_:1},8,["disabled"]),t(e(I),{type:"submit",disabled:e(l).processing},{default:a(()=>[t(e(pe),{class:"h-4 w-4 mr-2"}),i(" "+p(e(l).processing?"Guardando...":"Guardar Contrato"),1)]),_:1},8,["disabled"])])],32)]),s("input",{ref:"fileInput",type:"file",accept:".pdf",onChange:O,class:"hidden"},null,544)]),_:1}))}});export{tt as default};
