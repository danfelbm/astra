import{_ as T}from"./index-DES6noyB.js";import{c as j,_ as w}from"./createLucideIcon-CLq2BVfu.js";import{a as A,b as B,c as N,_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-DgM8RJG1.js";import{_ as S}from"./CardDescription.vue_vue_type_script_setup_true_lang-dXO2Wfns.js";import{_ as G,a as Q,b as k,c as f,d as R,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-DqcXwC8g.js";import{a as H,_ as J}from"./index-Gu6L08O4.js";import{_ as K}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CsAdLZXP.js";import{_}from"./Skeleton.vue_vue_type_script_setup_true_lang-BKgnEww5.js";import{_ as O,C as W}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-CZJl51LU.js";import{d as X,k as g,c as Y,p as Z,a as u,o as d,b as e,f as o,u as t,m as aa,e as s,g as l,j as b,i as C,t as c,F as ta,r as ea,P as sa,q as oa}from"./app-B9oe9ImA.js";import{u as la}from"./useGeographicFilters-Bgq-TL55.js";import{A as ia}from"./arrow-left-3pOiautM.js";import{I as na}from"./info-Cmnd_Snn.js";import{S as ra}from"./search-BozK0RHG.js";import{C as z}from"./circle-check-big-DS47EFPr.js";import{U as da}from"./users-kYWDkDNW.js";import{B as ca}from"./briefcase-r86ghe6h.js";import{M as pa}from"./map-pin-BrcH0nii.js";import{C as ua}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CYBR5bwA.js";import"./index-CfM7hPFq.js";import"./Input.vue_vue_type_script_setup_true_lang-DWzoeGnJ.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Bon-09Vn.js";import"./VisuallyHidden-BYD5CROF.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BiY3JUK5.js";import"./check-CZfszT4n.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-ChRrzg2Z.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CNYlBis3.js";import"./es-DfN3vIXC.js";import"./calendar-DkYzcNSx.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-BOb2BYfC.js";import"./loader-circle-BK1AIr5y.js";import"./trash-2-CsN4K1Nk.js";import"./plus-j7N0m32K.js";import"./history-BqVmEOwb.js";import"./save-C5x1W0Cy.js";import"./circle-alert-BjH3iak5.js";import"./index-DN9fbs94.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=j("AwardIcon",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=j("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),fa={class:"min-h-screen bg-gray-50"},_a={class:"bg-white shadow-sm border-b"},ga={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},va={class:"flex items-start justify-between"},xa={class:"flex flex-col gap-4"},ha={class:"flex items-center gap-3"},ya={href:"/"},wa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ka={class:"flex items-center justify-between"},ba={key:0,class:"space-y-4"},Ca={key:1,class:"overflow-x-auto"},$a={class:"flex items-center gap-2"},Fa={class:"max-w-[200px]"},Pa={class:"font-medium truncate"},Ma={key:0,class:"flex items-center gap-1"},Aa={class:"text-sm"},Ba={key:1,class:"text-gray-400 text-sm"},Na={key:0,class:"flex items-center gap-1"},La={class:"text-sm"},Sa={key:1,class:"text-gray-400 text-sm"},za={class:"flex items-center gap-1"},Ia={class:"text-sm truncate max-w-[200px]"},ja={class:"flex flex-col items-center gap-2 text-muted-foreground"},qa={key:2,class:"mt-6 flex items-center justify-between"},Ua={class:"text-sm text-muted-foreground"},Va={class:"flex gap-2"},Da={class:"flex items-center gap-2"},Ea={class:"text-sm"},Ta={class:"mt-6 text-center text-sm text-gray-500"},Ga={class:"mt-1"},Pt=X({__name:"PostulacionesAceptadas",props:{filterFieldsConfig:{}},setup(q){const U=q,y=g([]),n=g({current_page:1,last_page:1,per_page:50,total:0,from:0,to:0}),v=g(!1),$=g({}),F=g(U.filterFieldsConfig||[]),P=la({prefix:"users.",endpoints:{territorios:`${window.location.origin}/api/public/geographic/territorios`,departamentos:`${window.location.origin}/api/public/geographic/departamentos`,municipios:`${window.location.origin}/api/public/geographic/municipios`,localidades:`${window.location.origin}/api/public/geographic/localidades`}}),V=Y(()=>({fields:[...F.value||[],...P.generateFilterFields()],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre, cédula o convocatoria...",quickSearchFields:["users.name","users.documento_identidad","convocatorias.nombre"],maxNestingLevel:1,allowSaveFilters:!1})),D=i=>{const a=[];return i.localidad&&a.push(i.localidad),i.municipio&&a.push(i.municipio),i.departamento&&a.push(i.departamento),i.territorio&&a.push(i.territorio),a.length>0?a.join(", "):"No especificada"},x=async(i={},a=1)=>{var r;v.value=!0;try{const h={...i,page:a},p=await oa.get("/public-api/postulaciones-aceptadas",{params:h});y.value=p.data.postulaciones.data,n.value={current_page:p.data.postulaciones.current_page,last_page:p.data.postulaciones.last_page,per_page:p.data.postulaciones.per_page,total:p.data.postulaciones.total,from:p.data.postulaciones.from,to:p.data.postulaciones.to},p.data.filterFieldsConfig&&(F.value=p.data.filterFieldsConfig)}catch(h){console.error("Error cargando postulaciones:",h),((r=h.response)==null?void 0:r.status)===404&&(window.location.href="/")}finally{v.value=!1}},E=i=>{$.value=i,x(i,1)},M=i=>{x($.value,i)};return Z(async()=>{await P.initialize(),x()}),(i,a)=>(d(),u("div",null,[e(t(aa),{title:"Postulaciones Aceptadas"}),o("div",fa,[o("div",_a,[o("div",ga,[o("div",va,[o("div",xa,[o("div",ha,[e(t(I),{class:"h-8 w-8 text-green-600"}),a[2]||(a[2]=o("h1",{class:"text-2xl font-bold text-gray-900"}," Postulaciones Aceptadas ",-1))]),a[3]||(a[3]=o("p",{class:"text-gray-600"}," Consulta pública de postulaciones aprobadas a convocatorias ",-1))]),o("a",ya,[e(t(w),{variant:"outline",size:"sm"},{default:s(()=>[e(t(ia),{class:"h-4 w-4 mr-2"}),a[4]||(a[4]=l(" Volver al inicio "))]),_:1})])])])]),o("div",wa,[e(t(J),{class:"mb-6"},{default:s(()=>[e(t(na),{class:"h-4 w-4"}),e(t(K),null,{default:s(()=>a[5]||(a[5]=[l("Información Pública")])),_:1}),e(t(H),null,{default:s(()=>a[6]||(a[6]=[l(" Esta página muestra únicamente las postulaciones que han sido aceptadas. La información mostrada es de carácter público y cumple con las políticas de privacidad. ")])),_:1})]),_:1}),e(t(L),{class:"mb-6"},{default:s(()=>[e(t(A),null,{default:s(()=>[e(t(B),null,{default:s(()=>[e(t(ra),{class:"inline-block mr-2 h-5 w-5"}),a[7]||(a[7]=l(" Filtros de Búsqueda "))]),_:1}),e(t(S),null,{default:s(()=>a[8]||(a[8]=[l(" Utiliza los filtros para encontrar postulaciones específicas ")])),_:1})]),_:1}),e(t(N),null,{default:s(()=>[e(O,{config:V.value,onApply:E,onClear:x},null,8,["config"])]),_:1})]),_:1}),e(t(L),null,{default:s(()=>[e(t(A),null,{default:s(()=>[o("div",ka,[o("div",null,[e(t(B),null,{default:s(()=>[e(t(z),{class:"inline-block mr-2 h-5 w-5 text-green-600"}),a[9]||(a[9]=l(" Listado de Postulaciones Aceptadas "))]),_:1}),v.value?C("",!0):(d(),b(t(S),{key:0},{default:s(()=>[l(c(n.value.total)+" "+c(n.value.total===1?"postulación encontrada":"postulaciones encontradas"),1)]),_:1}))]),e(t(T),{variant:"outline",class:"bg-green-50 text-green-700 border-green-300"},{default:s(()=>[e(t(z),{class:"h-3 w-3 mr-1"}),a[10]||(a[10]=l(" Todas Aceptadas "))]),_:1})])]),_:1}),e(t(N),null,{default:s(()=>[v.value?(d(),u("div",ba,[e(t(_),{class:"h-12 w-full"}),e(t(_),{class:"h-12 w-full"}),e(t(_),{class:"h-12 w-full"}),e(t(_),{class:"h-12 w-full"}),e(t(_),{class:"h-12 w-full"})])):(d(),u("div",Ca,[e(t(G),null,{default:s(()=>[e(t(Q),null,{default:s(()=>[e(t(k),null,{default:s(()=>[e(t(f),null,{default:s(()=>a[11]||(a[11]=[l("Postulante")])),_:1}),e(t(f),null,{default:s(()=>a[12]||(a[12]=[l("Convocatoria")])),_:1}),e(t(f),null,{default:s(()=>a[13]||(a[13]=[l("Cargo")])),_:1}),e(t(f),null,{default:s(()=>a[14]||(a[14]=[l("Periodo")])),_:1}),e(t(f),null,{default:s(()=>a[15]||(a[15]=[l("Ubicación")])),_:1})]),_:1})]),_:1}),e(t(R),null,{default:s(()=>[(d(!0),u(ta,null,ea(y.value,r=>(d(),b(t(k),{key:r.id},{default:s(()=>[e(t(m),{class:"font-medium"},{default:s(()=>[o("div",$a,[e(t(da),{class:"h-4 w-4 text-gray-400"}),l(" "+c(r.postulante.nombre),1)])]),_:2},1024),e(t(m),null,{default:s(()=>[o("div",Fa,[o("p",Pa,c(r.convocatoria.nombre),1)])]),_:2},1024),e(t(m),null,{default:s(()=>[r.convocatoria.cargo?(d(),u("div",Ma,[e(t(ca),{class:"h-4 w-4 text-gray-400"}),o("span",Aa,c(r.convocatoria.cargo),1)])):(d(),u("span",Ba,"No especificado"))]),_:2},1024),e(t(m),null,{default:s(()=>[r.convocatoria.periodo?(d(),u("div",Na,[e(t(ma),{class:"h-4 w-4 text-gray-400"}),o("span",La,c(r.convocatoria.periodo),1)])):(d(),u("span",Sa,"No especificado"))]),_:2},1024),e(t(m),null,{default:s(()=>[o("div",za,[e(t(pa),{class:"h-4 w-4 text-gray-400 flex-shrink-0"}),o("span",Ia,c(D(r.ubicacion)),1)])]),_:2},1024)]),_:2},1024))),128)),y.value.length===0?(d(),b(t(k),{key:0},{default:s(()=>[e(t(m),{colspan:5,class:"text-center py-8"},{default:s(()=>[o("div",ja,[e(t(I),{class:"h-8 w-8"}),a[16]||(a[16]=o("p",null,"No se encontraron postulaciones con los filtros aplicados",-1))])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})])),n.value.last_page>1?(d(),u("div",qa,[o("p",Ua," Mostrando "+c(n.value.from||0)+" a "+c(n.value.to||0)+" de "+c(n.value.total)+" postulaciones ",1),o("div",Va,[e(t(w),{variant:"outline",size:"sm",disabled:n.value.current_page===1,onClick:a[0]||(a[0]=r=>M(n.value.current_page-1))},{default:s(()=>[e(t(W),{class:"h-4 w-4"}),a[17]||(a[17]=l(" Anterior "))]),_:1},8,["disabled"]),o("div",Da,[o("span",Ea," Página "+c(n.value.current_page)+" de "+c(n.value.last_page),1)]),e(t(w),{variant:"outline",size:"sm",disabled:n.value.current_page===n.value.last_page,onClick:a[1]||(a[1]=r=>M(n.value.current_page+1))},{default:s(()=>[a[18]||(a[18]=l(" Siguiente ")),e(t(ua),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):C("",!0)]),_:1})]),_:1}),o("div",Ta,[a[22]||(a[22]=o("p",null,"La información mostrada es de carácter público y cumple con las políticas de privacidad.",-1)),o("p",Ga,[a[20]||(a[20]=l(" Para más información sobre el proceso de postulación, ")),e(t(sa),{href:"/login",class:"text-blue-600 hover:underline"},{default:s(()=>a[19]||(a[19]=[l("inicie sesión")])),_:1}),a[21]||(a[21]=l(". "))])])])])]))}});export{Pt as default};
