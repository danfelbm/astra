import{_ as $}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DVhxtwsQ.js";import{d as E,i as n,e as a,f as o,u as e,p as j,w as i,g as s,j as m,b as d,P as _,h as c,t as p,F as g,k as y,n as x,W as b}from"./app-BFCRP-hu.js";import{_ as f}from"./createLucideIcon-B48W5HGR.js";import{_ as P,a as M,b as N,c as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-C6Pf_Uif.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-C5iYxevR.js";import{_ as h}from"./index-C4A356_A.js";import{P as v}from"./plus-DUQ5nN3r.js";import{F as L}from"./file-text-BNtX5jn7.js";import{E as V}from"./eye-s1iMQI4x.js";import{S as A}from"./square-pen-DEMoq68S.js";import{D as H}from"./download-CHCWIUuH.js";import{T as S}from"./trash-2-8yxMJPAD.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-IDczqvjz.js";import"./index-BV8EXJV5.js";import"./floating-ui.vue-r1jh_cyr.js";import"./x-CO2t7227.js";import"./Input.vue_vue_type_script_setup_true_lang-BArk2Dro.js";import"./index-D4t36AHs.js";import"./index-7Cc0L9l5.js";import"./shield-CJLgSpbM.js";import"./user-B1UdYhgU.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Bk1MyGsx.js";import"./chevron-right-jEjsThLi.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-it7-95jd.js";import"./VisuallyHidden-DtgZKa-V.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-D4BkPhEO.js";import"./check-50anzA7W.js";import"./nullish-CHIgUVhi.js";import"./Label.vue_vue_type_script_setup_true_lang-BSsD_nCa.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-dTZ0TTmN.js";import"./index-D4Jmcyj5.js";import"./circle-alert-Crqw8R8y.js";import"./map-pin-96AKVoID.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-Bn4JBZsL.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-Dy-9tXTd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-B5X7TeC-.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C1tM4KQo.js";import"./tag-BD_pJCyF.js";import"./users-D4nlGR3z.js";import"./target-BG-rBVrT.js";import"./vote-CRb2uBrD.js";import"./folder-open-CdHVd2oB.js";import"./send-B06MTMiq.js";import"./briefcase-DvfVQ7DM.js";import"./calendar-_r6_tYhJ.js";import"./megaphone-Dd-rvhjG.js";import"./user-check-CmuxQ_fm.js";import"./clipboard-list-BbsP5NSE.js";import"./mail-C7hV_ozf.js";import"./message-square-2Ae9CC_o.js";import"./external-link-DVqz8Mr1.js";import"./panel-left-BSTwYg9i.js";import"./index-BZv-jeFa.js";const R={class:"p-6"},G={class:"mb-6 flex items-center justify-between"},W={key:0,class:"text-center py-12"},q={class:"mt-1 text-sm text-gray-500"},I={key:0,class:"mt-6"},J={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},K={class:"flex items-start justify-between"},O={class:"flex-1"},Q={class:"space-y-2 text-sm"},U={class:"flex items-center justify-between"},X={class:"flex items-center justify-between"},Y={class:"font-medium"},Z={key:0,class:"flex items-center justify-between"},ee={class:"flex items-center justify-between"},te={class:"text-xs bg-gray-100 px-1 py-0.5 rounded"},se={class:"mt-4 flex gap-2"},oe={key:2,class:"mt-6"},re={class:"flex items-center justify-center gap-1"},ae=["innerHTML"],it=E({__name:"Index",props:{formularios:{},categorias:{},filters:{},filterFieldsConfig:{},canCreate:{type:Boolean},canEdit:{type:Boolean},canDelete:{type:Boolean},canExport:{type:Boolean},canViewResponses:{type:Boolean},canManagePermissions:{type:Boolean}},setup(w){const u=w,k=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"/admin/dashboard"},{title:"Formularios",href:"#"}],C=l=>{confirm("¿Estás seguro de eliminar este formulario?")&&b.delete(route("admin.formularios.destroy",l))},B=l=>({gray:"bg-gray-100 text-gray-800",slate:"bg-slate-100 text-slate-800",red:"bg-red-100 text-red-800",blue:"bg-blue-100 text-blue-800",orange:"bg-orange-100 text-orange-800",yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800"})[l]||"bg-gray-100 text-gray-800",F=l=>({publico:"Público",autenticado:"Autenticado",con_permiso:"Con Permiso"})[l]||l;return(l,r)=>(a(),n(g,null,[o(e(j),{title:"Gestión de Formularios"}),o($,{breadcrumbs:k},{default:i(()=>[s("div",R,[s("div",G,[r[1]||(r[1]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Gestión de Formularios"),s("p",{class:"text-muted-foreground"}," Administra los formularios dinámicos del sistema ")],-1)),u.canCreate?(a(),d(e(_),{key:0,href:l.route("admin.formularios.create")},{default:i(()=>[o(e(f),null,{default:i(()=>[o(e(v),{class:"mr-2 h-4 w-4"}),r[0]||(r[0]=c(" Nuevo Formulario ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),l.formularios.data.length===0?(a(),n("div",W,[o(e(L),{class:"mx-auto h-12 w-12 text-gray-400"}),r[3]||(r[3]=s("h3",{class:"mt-2 text-lg font-medium text-gray-900"},"No hay formularios",-1)),s("p",q,p(u.canCreate?"Comienza creando un nuevo formulario.":"No tienes permisos para crear formularios."),1),u.canCreate?(a(),n("div",I,[o(e(_),{href:l.route("admin.formularios.create")},{default:i(()=>[o(e(f),null,{default:i(()=>[o(e(v),{class:"mr-2 h-4 w-4"}),r[2]||(r[2]=c(" Crear primer formulario ",-1))]),_:1})]),_:1},8,["href"])])):m("",!0)])):(a(),n("div",J,[(a(!0),n(g,null,y(l.formularios.data,t=>(a(),d(e(P),{key:t.id},{default:i(()=>[o(e(M),null,{default:i(()=>[s("div",K,[s("div",O,[o(e(N),{class:"text-lg"},{default:i(()=>[c(p(t.titulo),1)]),_:2},1024),t.descripcion?(a(),d(e(D),{key:0,class:"mt-1"},{default:i(()=>[c(p(t.descripcion),1)]),_:2},1024)):m("",!0)]),o(e(h),{class:x(B(t.estado_temporal_color))},{default:i(()=>[c(p(t.estado_temporal_label),1)]),_:2},1032,["class"])])]),_:2},1024),o(e(z),null,{default:i(()=>[s("div",Q,[s("div",U,[r[4]||(r[4]=s("span",{class:"text-muted-foreground"},"Tipo de acceso:",-1)),o(e(h),{variant:"outline"},{default:i(()=>[c(p(F(t.tipo_acceso)),1)]),_:2},1024)]),s("div",X,[r[5]||(r[5]=s("span",{class:"text-muted-foreground"},"Respuestas:",-1)),s("span",Y,p(t.estadisticas.total_respuestas),1)]),t.categoria?(a(),n("div",Z,[r[6]||(r[6]=s("span",{class:"text-muted-foreground"},"Categoría:",-1)),s("span",null,p(t.categoria.nombre),1)])):m("",!0),s("div",ee,[r[7]||(r[7]=s("span",{class:"text-muted-foreground"},"Slug:",-1)),s("code",te,p(t.slug),1)])]),s("div",se,[u.canViewResponses?(a(),d(e(_),{key:0,href:l.route("admin.formularios.show",t.id)},{default:i(()=>[o(e(f),{variant:"outline",size:"sm"},{default:i(()=>[o(e(V),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])):m("",!0),u.canEdit?(a(),d(e(_),{key:1,href:l.route("admin.formularios.edit",t.id)},{default:i(()=>[o(e(f),{variant:"outline",size:"sm"},{default:i(()=>[o(e(A),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])):m("",!0),u.canExport&&t.estadisticas.total_respuestas>0?(a(),d(e(f),{key:2,variant:"outline",size:"sm",onClick:T=>e(b).visit(l.route("admin.formularios.exportar",t.id))},{default:i(()=>[o(e(H),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):m("",!0),u.canDelete&&t.estadisticas.total_respuestas===0?(a(),d(e(f),{key:3,variant:"outline",size:"sm",onClick:T=>C(t.id)},{default:i(()=>[o(e(S),{class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])):m("",!0)])]),_:2},1024)]),_:2},1024))),128))])),l.formularios.links&&l.formularios.links.length>3?(a(),n("div",oe,[s("nav",re,[(a(!0),n(g,null,y(l.formularios.links,t=>(a(),n(g,{key:t.label},[t.url?(a(),d(e(_),{key:0,href:t.url,class:x(["px-3 py-2 text-sm rounded-md",t.active?"bg-primary text-primary-foreground":"bg-white hover:bg-gray-50 border"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(a(),n("span",{key:1,class:"px-3 py-2 text-sm text-gray-400",innerHTML:t.label},null,8,ae))],64))),128))])])):m("",!0)])]),_:1})],64))}});export{it as default};
