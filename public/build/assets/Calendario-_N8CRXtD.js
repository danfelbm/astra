import{d as B,r as D,c as w,b as k,w as i,g as l,e as d,f as m,h as f,t as p,i as g,m as u,F as _,k as h,n as M,j as O,v as J,s as j}from"./app-y4isNqXm.js";import{_ as E}from"./UserLayout.vue_vue_type_script_setup_true_lang-Cfpn9Jeb.js";import{_ as L,a as R,b as T,c as Y}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dadbzwfh.js";import{_ as C}from"./createLucideIcon-mCVR8rL0.js";import"./useFlashMessages-FTGjIqdP.js";import"./index-C2MoGcR6.js";import"./floating-ui.vue-xdvz-kq7.js";import"./x-D_E1k7_n.js";import"./Input.vue_vue_type_script_setup_true_lang-BKHyNrqK.js";import"./index-CcU3hycU.js";import"./index-B9qYd8OT.js";import"./shield-DWoLTuqf.js";import"./user-C_FJcT-g.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-6vX9ZX1T.js";import"./chevron-right-bINHmwj6.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-C8Rk8AiP.js";import"./VisuallyHidden-DJswMYCp.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BUdvrEJT.js";import"./check-6I8478aV.js";import"./Label.vue_vue_type_script_setup_true_lang-CC4rd9kP.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CNb--sGY.js";import"./index-C9YznISG.js";import"./circle-alert-Ddoyjw3_.js";import"./map-pin-DcjZ8yWx.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-i_DNMnhz.js";import"./ellipsis-BV_mrgMK.js";import"./usePermissions-DQa6mrFZ.js";import"./square-check-big-DeHrRGxm.js";import"./file-text-D6v7F4kd.js";import"./users-TaqwL9Hf.js";import"./folder-open-CR778kJc.js";import"./milestone-ClW14rOo.js";import"./index-XQn911Vk.js";const q={class:"py-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"flex justify-between items-center"},H={class:"flex gap-2"},I={class:"grid grid-cols-7 gap-1"},K={class:"text-xs text-gray-600"},P={key:0,class:"mt-1 space-y-1"},$e=B({__name:"Calendario",props:{obligaciones:{},mes:{},año:{}},setup(v){const x=v,t=D(x.mes),r=D(x.año),S=w(()=>["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.value-1]),$=w(()=>{const e=[],s=new Date(r.value,t.value-1,1),n=new Date(r.value,t.value,0).getDate(),V=s.getDay();for(let a=V-1;a>=0;a--){const c=new Date(r.value,t.value-1,-a);e.push({numero:c.getDate(),fecha:b(c),esMesActual:!1})}for(let a=1;a<=n;a++){const c=new Date(r.value,t.value-1,a);e.push({numero:a,fecha:b(c),esMesActual:!0})}const z=42-e.length;for(let a=1;a<=z;a++){const c=new Date(r.value,t.value,a);e.push({numero:a,fecha:b(c),esMesActual:!1})}return e}),b=e=>{const s=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${s}-${o}-${n}`},A=()=>{t.value===1?(t.value=12,r.value--):t.value--,y()},F=()=>{t.value===12?(t.value=1,r.value++):t.value++,y()},y=()=>{j.get(route("miembro.mis-obligaciones.calendario"),{mes:t.value,año:r.value},{preserveState:!0})},N=e=>({pendiente:"bg-gray-100 text-gray-700 hover:bg-gray-200",en_progreso:"bg-blue-100 text-blue-700 hover:bg-blue-200",cumplida:"bg-green-100 text-green-700 hover:bg-green-200",vencida:"bg-red-100 text-red-700 hover:bg-red-200",cancelada:"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"})[e]||"bg-gray-100";return(e,s)=>(u(),k(E,{title:"Calendario de Obligaciones"},{header:i(()=>[...s[0]||(s[0]=[l("h2",{class:"text-xl font-semibold"},"Calendario de Mis Obligaciones",-1)])]),default:i(()=>[l("div",q,[d(m(L),null,{default:i(()=>[d(m(R),null,{default:i(()=>[l("div",G,[d(m(T),null,{default:i(()=>[f(p(S.value)+" "+p(r.value),1)]),_:1}),l("div",H,[d(m(C),{size:"sm",variant:"outline",onClick:A},{default:i(()=>[...s[1]||(s[1]=[f("Anterior",-1)])]),_:1}),d(m(C),{size:"sm",variant:"outline",onClick:F},{default:i(()=>[...s[2]||(s[2]=[f("Siguiente",-1)])]),_:1})])])]),_:1}),d(m(Y),null,{default:i(()=>[l("div",I,[(u(),g(_,null,h(["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],o=>l("div",{key:o,class:"text-center text-sm font-medium p-2"},p(o),1)),64)),(u(!0),g(_,null,h($.value,o=>(u(),g("div",{key:o.fecha,class:M(["min-h-[80px] border rounded p-1",{"bg-gray-50":!o.esMesActual}])},[l("div",K,p(o.numero),1),v.obligaciones[o.fecha]?(u(),g("div",P,[(u(!0),g(_,null,h(v.obligaciones[o.fecha],n=>(u(),k(m(J),{key:n.id,href:e.route("miembro.mis-obligaciones.show",n.id),class:M(["block text-xs p-1 rounded truncate",N(n.estado)])},{default:i(()=>[f(p(n.titulo),1)]),_:2},1032,["href","class"]))),128))])):O("",!0)],2))),128))])]),_:1})]),_:1})])]),_:1}))}});export{$e as default};
