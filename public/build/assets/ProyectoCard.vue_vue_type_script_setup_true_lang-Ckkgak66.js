import{a as k,b as _,c as p,_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-AUjIYp68.js";import{_ as v}from"./CardDescription.vue_vue_type_script_setup_true_lang-C5vEL4V-.js";import{_ as $}from"./CardFooter.vue_vue_type_script_setup_true_lang-Bx_bEIOX.js";import{_ as u}from"./index-CLy9LD5R.js";import{_ as C}from"./createLucideIcon-B8281_2z.js";import{_ as D}from"./Progress.vue_vue_type_script_setup_true_lang-CJQhb8O8.js";import{d as V,b as m,w as o,e as a,j as i,f as t,g as s,h as d,t as l,n as y,i as g,v as j,m as n}from"./app-DlmWAWLM.js";import{E as q}from"./EtiquetaDisplay-DCM8V5d2.js";import{C as B}from"./calendar-Dp255hQ3.js";import{F as E}from"./flag-CJy1X6Ib.js";import{U as T}from"./user-BjlKIRQo.js";import{C as A}from"./clock-BYrF0XxV.js";import{T as N}from"./tag-CRQPaZEq.js";import{A as U}from"./arrow-right-_WuXItMn.js";const P={class:"flex justify-between items-start"},S={class:"flex-1"},z={class:"flex gap-2"},M={key:0,class:"space-y-2"},R={class:"flex justify-between text-sm"},F={class:"font-medium"},L={class:"grid grid-cols-2 gap-3 text-sm"},G={class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},H={class:"flex items-center gap-2"},I={key:0,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},J={class:"truncate"},K={key:1,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},O={class:"text-xs"},Q={key:1,class:"pt-3 border-t"},W={class:"flex items-center gap-2"},X={key:2,class:"pt-2 border-t"},Y={class:"text-xs text-gray-500"},ue=V({__name:"ProyectoCard",props:{proyecto:{},showActions:{type:Boolean,default:!0},linkUrl:{}},setup(e){const f=c=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[c]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",x=c=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[c]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",b=c=>new Date(c).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),h=c=>{if(!c)return null;const r=Math.ceil((new Date(c).getTime()-new Date().getTime())/(1e3*60*60*24));return r<0?`Vencido hace ${Math.abs(r)} días`:r===0?"Vence hoy":r===1?"Vence mañana":`${r} días restantes`};return(c,r)=>(n(),m(t(w),{class:"hover:shadow-lg transition-shadow duration-300"},{default:o(()=>[a(t(k),null,{default:o(()=>[s("div",P,[s("div",S,[a(t(_),{class:"text-lg"},{default:o(()=>[d(l(e.proyecto.nombre),1)]),_:1}),e.proyecto.descripcion?(n(),m(t(v),{key:0,class:"mt-1 line-clamp-2"},{default:o(()=>[d(l(e.proyecto.descripcion),1)]),_:1})):i("",!0)]),s("div",z,[a(t(u),{class:y([f(e.proyecto.estado),"text-xs"])},{default:o(()=>[d(l(e.proyecto.estado_label),1)]),_:1},8,["class"])])])]),_:1}),a(t(p),{class:"space-y-4"},{default:o(()=>[e.proyecto.estado!=="cancelado"?(n(),g("div",M,[s("div",R,[r[0]||(r[0]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso",-1)),s("span",F,l(e.proyecto.porcentaje_completado)+"%",1)]),a(t(D),{value:e.proyecto.porcentaje_completado,class:"h-2"},null,8,["value"])])):i("",!0),s("div",L,[s("div",G,[a(t(B),{class:"h-4 w-4"}),s("span",null,l(b(e.proyecto.fecha_inicio)),1)]),s("div",H,[a(t(E),{class:"h-4 w-4 text-gray-600 dark:text-gray-400"}),a(t(u),{class:y([x(e.proyecto.prioridad),"text-xs"])},{default:o(()=>[d(l(e.proyecto.prioridad_label),1)]),_:1},8,["class"])]),e.proyecto.responsable?(n(),g("div",I,[a(t(T),{class:"h-4 w-4"}),s("span",J,l(e.proyecto.responsable.name),1)])):i("",!0),e.proyecto.fecha_fin?(n(),g("div",K,[a(t(A),{class:"h-4 w-4"}),s("span",O,l(h(e.proyecto.fecha_fin)),1)])):i("",!0)]),e.proyecto.etiquetas&&e.proyecto.etiquetas.length>0?(n(),g("div",Q,[s("div",W,[a(t(N),{class:"h-3 w-3 text-gray-500"}),a(q,{etiquetas:e.proyecto.etiquetas,"max-visible":3,size:"sm"},null,8,["etiquetas"])])])):i("",!0),e.proyecto.duracion_dias?(n(),g("div",X,[s("p",Y," Duración total: "+l(e.proyecto.duracion_dias)+" días ",1)])):i("",!0)]),_:1}),e.showActions?(n(),m(t($),{key:0,class:"pt-0"},{default:o(()=>[a(t(j),{href:e.linkUrl||`/admin/proyectos/${e.proyecto.id}`,class:"w-full"},{default:o(()=>[a(t(C),{variant:"outline",class:"w-full group"},{default:o(()=>[r[1]||(r[1]=d(" Ver detalles ",-1)),a(t(U),{class:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]),_:1})]),_:1},8,["href"])]),_:1})):i("",!0)]),_:1}))}});export{ue as _};
