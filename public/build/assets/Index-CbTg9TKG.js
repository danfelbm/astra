import{_ as y,C as F}from"./index-6rlg_lTC.js";import{_ as h}from"./createLucideIcon-jblcJKbg.js";import{_ as L,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-DwzFO-J2.js";import{S as j,U as C,_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-C4JjVDr0.js";import{d as $,a as n,i as f,o as a,f as e,F as _,r as N,j as q,u as r,W as P,k as V,w as z,b as o,m as D,e as d,P as w,g as p,t as l,n as E}from"./app-Ca5gvilz.js";import{_ as H}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-CZxzsAZj.js";import{C as S}from"./clock-DqSuBhd8.js";import{E as M}from"./eye-Cd1q_K45.js";import"./Label.vue_vue_type_script_setup_true_lang-C4jKW9hw.js";import"./index-BrmA7W4i.js";import"./check-DUNF8xsF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-DjwJ8BsC.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BvtVaHiO.js";import"./VisuallyHidden-DV5SD1Ob.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DonexCvc.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BoA2BdOW.js";import"./index-X-iABOyp.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-CZKArkVc.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-CyGr7nZB.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BdkdKCUc.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-DOZlQ051.js";import"./loader-circle-DIuxKA2F.js";import"./trash-2-ChxLh5Fx.js";import"./plus-DApWanOn.js";import"./search-C825xI63.js";import"./history-DeZWjQej.js";import"./save-C27MbUp2.js";const O={key:0,class:"mt-6 flex justify-center"},R={class:"flex items-center gap-2"},U=["innerHTML"],W=$({__name:"Pagination",props:{links:{}},setup(v){const c=i=>({"pagination.previous":"&laquo; Anterior","pagination.next":"Siguiente &raquo;","&laquo; Previous":"&laquo; Anterior","Next &raquo;":"Siguiente &raquo;",Previous:"Anterior",Next:"Siguiente","...":"..."})[i]||i,g=i=>{i&&P.get(i)};return(i,x)=>i.links&&i.links.length>3?(a(),n("div",O,[e("div",R,[(a(!0),n(_,null,N(i.links,u=>(a(),n(_,{key:u.label},[u.url?(a(),q(r(h),{key:0,variant:u.active?"default":"outline",size:"sm",onClick:b=>g(u.url),innerHTML:c(u.label)},null,8,["variant","onClick","innerHTML"])):(a(),n("span",{key:1,class:"px-3 py-1 text-sm text-muted-foreground cursor-not-allowed",innerHTML:c(u.label)},null,8,U))],64))),128))])])):f("",!0)}}),G={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},I={class:"flex items-center justify-between"},J={key:0,class:"text-center py-8"},Q={key:1,class:"space-y-4"},K={class:"flex items-start justify-between"},X={class:"flex-1"},Y={class:"flex items-center gap-2 mb-2"},Z={class:"text-lg font-semibold"},ee={class:"text-muted-foreground mb-3"},te={class:"grid gap-2 md:grid-cols-2 lg:grid-cols-4 text-sm"},se={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},re={key:0},ae={class:"text-muted-foreground"},ie={key:1},ne={key:0,class:"flex items-center gap-2"},le={class:"flex items-center gap-2"},de={key:0,class:"mt-3 p-2 bg-blue-50 dark:bg-blue-950/20 rounded border-l-4 border-blue-200 dark:border-blue-800"},ue={class:"text-sm text-blue-800 dark:text-blue-200"},me={class:"flex items-center gap-2 ml-4"},Me=$({__name:"Index",props:{candidaturas:{},filters:{},filterFieldsConfig:{}},setup(v){const c=v,g=[{title:"Admin",href:"/admin/dashboard"},{title:"Candidaturas",href:"#"}],i=V({estado:c.filters.estado||"null",search:c.filters.search||""});z(i,m=>{const t=Object.entries(m).reduce((s,[A,k])=>(s[A]=k==="null"?"":k,s),{});P.get("/admin/candidaturas",t,{preserveState:!0,replace:!0})},{deep:!0});const x={fields:c.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o email...",quickSearchFields:["user.name","user.email"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:u}=window,b=m=>new Date(m).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(m,t)=>(a(),n(_,null,[o(r(D),{title:"Candidaturas"}),o(B,{breadcrumbs:g},{default:d(()=>[e("div",G,[e("div",I,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Candidaturas"),e("p",{class:"text-muted-foreground"}," Revisa y gestiona los perfiles de candidatura de los usuarios ")],-1)),o(r(w),{href:"/admin/candidaturas/configuracion"},{default:d(()=>[o(r(h),null,{default:d(()=>[o(r(j),{class:"mr-2 h-4 w-4"}),t[0]||(t[0]=p(" Configuración "))]),_:1})]),_:1})]),o(H,{config:x,route:r(u)("admin.candidaturas.index"),"initial-filters":{quickSearch:i.value.search,rootGroup:i.value.advanced_filters?JSON.parse(i.value.advanced_filters):void 0}},null,8,["route","initial-filters"]),o(r(L),null,{default:d(()=>[o(r(T),{class:"pt-6"},{default:d(()=>[m.candidaturas.data.length===0?(a(),n("div",J,[o(r(C),{class:"mx-auto h-12 w-12 text-muted-foreground"}),t[2]||(t[2]=e("h3",{class:"mt-4 text-lg font-medium"},"No hay candidaturas",-1)),t[3]||(t[3]=e("p",{class:"text-muted-foreground"},"No se encontraron candidaturas con los filtros aplicados.",-1))])):(a(),n("div",Q,[(a(!0),n(_,null,N(m.candidaturas.data,s=>(a(),n("div",{key:s.id,class:"border rounded-lg p-4 hover:bg-muted/50 transition-colors"},[e("div",K,[e("div",X,[e("div",Y,[e("h3",Z,l(s.usuario.name),1),o(r(y),{class:E(s.estado_color)},{default:d(()=>[p(l(s.estado_label),1)]),_:2},1032,["class"]),s.esta_pendiente?(a(),q(r(y),{key:0,variant:"outline",class:"bg-blue-50 text-blue-700"},{default:d(()=>t[4]||(t[4]=[p(" Pendiente Revisión ")])),_:1})):f("",!0)]),e("p",ee,l(s.usuario.email),1),e("div",te,[e("div",se,[o(r(S),{class:"h-4 w-4 text-muted-foreground"}),t[5]||(t[5]=e("span",{class:"font-medium"},"Versión:",-1)),e("span",null,l(s.version),1)]),e("div",oe,[o(r(F),{class:"h-4 w-4 text-muted-foreground"}),t[6]||(t[6]=e("span",{class:"font-medium"},"Datos:",-1)),s.total_campos>0?(a(),n("span",re,[p(l(s.campos_llenados)+" / "+l(s.total_campos)+" ",1),e("span",ae,"("+l(s.porcentaje_completado)+"%)",1)])):(a(),n("span",ie,"Sin configuración"))]),s.aprobado_por?(a(),n("div",ne,[o(r(C),{class:"h-4 w-4 text-muted-foreground"}),t[7]||(t[7]=e("span",{class:"font-medium"},"Aprobado por:",-1)),e("span",null,l(s.aprobado_por.name),1)])):f("",!0),e("div",le,[o(r(S),{class:"h-4 w-4 text-muted-foreground"}),t[8]||(t[8]=e("span",{class:"font-medium"},"Actualizado:",-1)),e("span",null,l(b(s.updated_at)),1)])]),s.comentarios_admin?(a(),n("div",de,[e("p",ue,[t[9]||(t[9]=e("span",{class:"font-medium"},"Comentarios de la comisión:",-1)),p(" "+l(s.comentarios_admin),1)])])):f("",!0)]),e("div",me,[o(r(w),{href:`/admin/candidaturas/${s.id}`},{default:d(()=>[o(r(h),{variant:"outline",size:"sm"},{default:d(()=>[o(r(M),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])])])]))),128))])),o(W,{links:m.candidaturas.links},null,8,["links"])]),_:1})]),_:1})])]),_:1})],64))}});export{Me as default};
