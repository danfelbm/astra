import{d as W,c as S,i as a,e as s,g as i,b as g,j as p,f as o,u as t,w as d,h as v,t as u,W as De,n as F,F as U,k as j,l as H,r as Ne,m as Ce,T as Ee}from"./app-BMyT8npG.js";import{a as T,b as R,c as P,_ as B}from"./CardTitle.vue_vue_type_script_setup_true_lang--o-W0VD2.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-gbXepL8P.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-CXeJvqS0.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-B-ZayioL.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-CB_veUhw.js";import{_ as Se,a as Be,b as je,c as Ae,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-DvImVwo1.js";import{_ as Te}from"./Textarea.vue_vue_type_script_setup_true_lang-1vl64RXQ.js";import{_ as Re}from"./index-CBG0Dxc6.js";import{_ as ze}from"./createLucideIcon-KBqbhxXl.js";import{C as Q}from"./circle-alert-VjwGmEyY.js";import{P as Le}from"./plus-CHpeS1sR.js";import{U as K}from"./user-B0uyQIKj.js";import{F as Ye}from"./file-text-BVkT7trW.js";import{a as L,_ as O}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-Ds30fID4.js";import{U as Fe}from"./users-C3Sf9FM4.js";import{_ as we,a as Ue,b as qe}from"./index-DTvzeguX.js";import{u as Ie,_ as Me,a as We,b as Ge,c as He}from"./useConditionalFields-Bq3O_rtv.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ke={class:"space-y-3"},Oe={class:"space-y-1.5"},Qe={key:0,class:"text-red-500 ml-1"},Xe={key:0,class:"text-sm text-muted-foreground"},Ze={class:"flex items-center space-x-2"},es={key:1,class:"space-y-3"},ss={class:"flex items-center space-x-2"},ts={class:"flex items-center justify-between"},as={class:"flex items-center space-x-2"},os={class:"space-y-2 text-sm"},rs={class:"flex justify-between"},ls={class:"font-medium"},ds={class:"flex justify-between"},is={class:"font-medium"},ns={key:2,class:"text-sm text-red-600"},us=W({__name:"PerfilCandidaturaField",props:{modelValue:{},candidaturasAprobadas:{},label:{default:"Perfil de Candidatura"},description:{default:"Selecciona tu perfil de candidatura aprobado para vincular a esta postulación"},required:{type:Boolean,default:!1},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:E}){const y=N,$=E,q=S({get:()=>y.modelValue,set:b=>$("update:modelValue",b)}),x=S(()=>y.candidaturasAprobadas.length>0),C=S(()=>q.value?y.candidaturasAprobadas.find(b=>b.id===q.value):null),A=b=>{const c=b==="null"?null:parseInt(b);q.value=c};return(b,c)=>{var f;return s(),a("div",Ke,[i("div",Oe,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(b.label)+" ",1),b.required?(s(),a("span",Qe,"*")):p("",!0)]),_:1}),b.description?(s(),a("p",Xe,u(b.description),1)):p("",!0)]),x.value?(s(),a("div",es,[o(t(Se),{"model-value":((f=q.value)==null?void 0:f.toString())||"null","onUpdate:modelValue":A,disabled:b.disabled},{default:d(()=>[o(t(Be),{class:F(["w-full",b.error?"border-red-300":""])},{default:d(()=>[o(t(je),{placeholder:"Selecciona tu perfil de candidatura"})]),_:1},8,["class"]),o(t(Ae),null,{default:d(()=>[o(t(J),{value:"null"},{default:d(()=>[...c[4]||(c[4]=[i("div",{class:"flex items-center space-x-2"},[i("span",{class:"text-muted-foreground"},"No vincular perfil")],-1)])]),_:1}),(s(!0),a(U,null,j(b.candidaturasAprobadas,m=>(s(),g(t(J),{key:m.id,value:m.id.toString()},{default:d(()=>[i("div",ss,[o(t(K),{class:"h-4 w-4"}),i("span",null,u(m.resumen),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),C.value?(s(),g(t(B),{key:0,class:"border-green-200 bg-green-50"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[i("div",ts,[i("div",as,[o(t(Ye),{class:"h-5 w-5 text-green-600"}),o(t(R),{class:"text-base text-green-800"},{default:d(()=>[...c[5]||(c[5]=[v(" Perfil seleccionado ",-1)])]),_:1})]),o(t(Re),{variant:"secondary",class:"bg-green-100 text-green-800"},{default:d(()=>[...c[6]||(c[6]=[v(" Aprobado ",-1)])]),_:1})]),o(t(z),{class:"text-green-700"},{default:d(()=>[...c[7]||(c[7]=[v(" Se vinculará tu perfil de candidatura a esta postulación, preservando una copia de todos tus datos actuales. ",-1)])]),_:1})]),_:1}),o(t(P),{class:"pt-0"},{default:d(()=>[i("div",os,[i("div",rs,[c[8]||(c[8]=i("span",{class:"text-muted-foreground"},"Versión:",-1)),i("span",ls,"v"+u(C.value.version),1)]),i("div",ds,[c[9]||(c[9]=i("span",{class:"text-muted-foreground"},"Fecha aprobación:",-1)),i("span",is,u(C.value.fecha_aprobacion),1)])])]),_:1})]),_:1})):p("",!0)])):(s(),g(t(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[i("div",Ze,[o(t(Q),{class:"h-5 w-5 text-amber-600"}),o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...c[1]||(c[1]=[v(" No tienes un perfil de candidatura aprobado ",-1)])]),_:1})]),o(t(z),{class:"text-amber-700"},{default:d(()=>[...c[2]||(c[2]=[v(" Para vincular tu perfil a esta postulación, primero necesitas crear y obtener la aprobación de tu candidatura. ",-1)])]),_:1})]),_:1}),o(t(P),{class:"pt-0"},{default:d(()=>[o(t(ze),{variant:"outline",size:"sm",class:"border-amber-300 text-amber-800 hover:bg-amber-100",onClick:c[0]||(c[0]=m=>t(De).get("/miembro/candidaturas"))},{default:d(()=>[o(t(Le),{class:"mr-2 h-4 w-4"}),c[3]||(c[3]=v(" Crear Perfil de Candidatura ",-1))]),_:1})]),_:1})]),_:1})),b.error?(s(),a("p",ns,u(b.error),1)):p("",!0)])}}}),ms={class:"space-y-3"},cs={class:"space-y-1.5"},ps={key:0,class:"text-red-500 ml-1"},_s={key:0,class:"text-sm text-muted-foreground"},fs={class:"flex items-center space-x-2"},bs={key:1,class:"space-y-3"},vs={class:"space-y-3"},xs={key:0,class:"flex items-start space-x-3 pb-3 border-b"},ys={class:"flex items-start justify-between"},hs={class:"font-medium"},gs={key:0,class:"text-xs text-muted-foreground mt-0.5"},$s={key:1,class:"text-xs text-muted-foreground"},ks={class:"flex items-center space-x-2"},Vs={class:"space-y-3"},Cs={class:"flex items-start justify-between"},ws={class:"font-medium"},Us={key:0,class:"text-xs text-muted-foreground mt-0.5"},qs={key:1,class:"text-xs text-muted-foreground"},Ss={key:2,class:"text-sm text-red-600"},Bs=W({__name:"CandidatosVotacionField",props:{modelValue:{},candidatosElegibles:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos disponibles"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:E}){const y=N,$=E,q=S(()=>y.candidatosElegibles.length>0),x=c=>{const f=c==="null"?null:parseInt(c);$("update:modelValue",f)},C=c=>y.multiple?Array.isArray(y.modelValue)&&y.modelValue.includes(c):y.modelValue===c,A=(c,f)=>{if(!y.multiple){$("update:modelValue",f?c:null);return}const m=Array.isArray(y.modelValue)?y.modelValue:[];let n;f?n=[...m,c]:n=m.filter(r=>r!==c),$("update:modelValue",n)},b=c=>{const f=[];return c.localidad&&f.push(c.localidad),c.municipio&&f.push(c.municipio),c.departamento&&f.push(c.departamento),c.territorio&&f.push(c.territorio),f.length>0?f.join(", "):""};return(c,f)=>{var m;return s(),a("div",ms,[i("div",cs,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(c.label)+" ",1),c.required?(s(),a("span",ps,"*")):p("",!0)]),_:1}),c.description?(s(),a("p",_s,u(c.description),1)):p("",!0)]),q.value?(s(),a("div",bs,[c.multiple?(s(),g(t(B),{key:1,class:"border"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[i("div",ks,[o(t(Fe),{class:"h-4 w-4 text-muted-foreground"}),o(t(R),{class:"text-sm"},{default:d(()=>[...f[3]||(f[3]=[v(" Candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-xs"},{default:d(()=>[...f[4]||(f[4]=[v(" Puedes seleccionar múltiples candidatos ",-1)])]),_:1})]),_:1}),o(t(P),null,{default:d(()=>[i("div",Vs,[(s(!0),a(U,null,j(c.candidatosElegibles,n=>(s(),a("div",{key:n.id,class:"flex items-start space-x-3"},[o(t(M),{id:`candidato_check_${n.id}`,checked:C(n.id),"onUpdate:checked":r=>A(n.id,r),disabled:c.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(t(h),{for:`candidato_check_${n.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[i("div",Cs,[i("div",null,[i("p",ws,u(n.name),1),n.cargo?(s(),a("p",Us,u(n.cargo),1)):p("",!0),b(n)?(s(),a("p",qs,u(b(n)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):(s(),g(t(O),{key:0,"model-value":((m=c.modelValue)==null?void 0:m.toString())||"null","onUpdate:modelValue":x,disabled:c.disabled,class:"space-y-2"},{default:d(()=>[o(t(B),{class:"border"},{default:d(()=>[o(t(P),{class:"pt-6"},{default:d(()=>[i("div",vs,[c.mostrarVotoBlanco?(s(),a("div",xs,[o(t(L),{value:"null",id:"candidato_none"}),o(t(h),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:d(()=>[...f[2]||(f[2]=[i("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):p("",!0),(s(!0),a(U,null,j(c.candidatosElegibles,n=>(s(),a("div",{key:n.id,class:"flex items-start space-x-3 py-2"},[o(t(L),{value:n.id.toString(),id:`candidato_${n.id}`},null,8,["value","id"]),o(t(h),{for:`candidato_${n.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[i("div",ys,[i("div",null,[i("p",hs,u(n.name),1),n.cargo?(s(),a("p",gs,u(n.cargo),1)):p("",!0),b(n)?(s(),a("p",$s,u(b(n)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"]))])):(s(),g(t(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[i("div",fs,[o(t(Q),{class:"h-5 w-5 text-amber-600"}),o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...f[0]||(f[0]=[v(" No hay candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-amber-700"},{default:d(()=>[...f[1]||(f[1]=[v(" No se encontraron candidatos que cumplan con los criterios configurados para esta votación. ",-1)])]),_:1})]),_:1})]),_:1})),c.error?(s(),a("p",Ss,u(c.error),1)):p("",!0)])}}}),js={class:"space-y-3"},As={class:"space-y-1.5"},Fs={key:0,class:"text-red-500 ml-1"},Ps={key:0,class:"text-sm text-muted-foreground"},Ds={key:1,class:"text-xs text-blue-600 font-medium"},Ns={class:"flex items-center space-x-2"},Es={key:1,class:"space-y-3"},Ts={class:"space-y-3"},Rs={class:"flex items-start justify-between"},zs={class:"space-y-1"},Ls={class:"flex items-center gap-2"},Ys={class:"font-medium"},Is={key:0,class:"text-xs text-muted-foreground ml-6"},Ms={key:1,class:"text-xs text-muted-foreground ml-6"},Ws={key:2,class:"text-xs text-blue-600 ml-6"},Gs={key:0,class:"flex items-start space-x-3 pt-3 border-t"},Hs={class:"flex items-center space-x-2"},Js={class:"space-y-3"},Ks={class:"flex items-start justify-between"},Os={class:"space-y-1"},Qs={class:"flex items-center gap-2"},Xs={class:"font-medium"},Zs={key:0,class:"text-xs text-muted-foreground ml-6"},et={key:1,class:"text-xs text-muted-foreground ml-6"},st={key:2,class:"text-xs text-blue-600 ml-6"},tt={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},at={class:"flex flex-col sm:flex-row sm:gap-4 sm:items-start"},ot={class:"flex justify-center sm:justify-start mb-3 sm:mb-0"},rt={class:"flex-1 min-w-0"},lt={class:"mb-2 sm:mb-3 text-center sm:text-left"},dt={class:"font-semibold text-sm sm:text-base leading-tight line-clamp-2"},it={key:0,class:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1"},nt={class:"space-y-1 sm:space-y-1.5 text-xs sm:text-sm"},ut={key:0,class:"text-muted-foreground"},mt={class:"sm:hidden"},ct={class:"hidden sm:block text-xs"},pt={key:1,class:"text-muted-foreground"},_t={class:"text-xs line-clamp-2 sm:line-clamp-none"},ft={key:2,class:"text-blue-600 text-xs mt-1 sm:mt-2 line-clamp-2"},bt={class:"flex justify-end mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},vt={class:"text-center"},xt={class:"mt-3 sm:mt-4"},yt={key:3,class:"space-y-4"},ht={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},gt={class:"flex flex-col sm:flex-row sm:gap-4 sm:items-start"},$t={class:"flex justify-center sm:justify-start mb-3 sm:mb-0"},kt={class:"flex-1 min-w-0"},Vt={class:"mb-2 sm:mb-3 text-center sm:text-left"},Ct={class:"font-semibold text-sm sm:text-base leading-tight line-clamp-2"},wt={key:0,class:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1"},Ut={class:"space-y-1 sm:space-y-1.5 text-xs sm:text-sm"},qt={key:0,class:"text-muted-foreground"},St={class:"sm:hidden"},Bt={class:"hidden sm:block text-xs"},jt={key:1,class:"text-muted-foreground"},At={class:"text-xs line-clamp-2 sm:line-clamp-none"},Ft={key:2,class:"text-blue-600 text-xs mt-1 sm:mt-2 line-clamp-2"},Pt={class:"flex justify-end mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},Dt={key:2,class:"text-sm text-red-600"},Nt=W({__name:"ConvocatoriaVotacionField",props:{modelValue:{},candidatos:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos aprobados de la convocatoria"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1},convocatoriaNombre:{},vistaPreferida:{default:"lista"}},emits:["update:modelValue"],setup(N,{emit:E}){const y=N,$=E,q=S(()=>y.candidatos.length>0),x=m=>{$("update:modelValue",m==="null"?null:m)},C=m=>y.multiple?Array.isArray(y.modelValue)&&y.modelValue.includes(m):y.modelValue===m,A=(m,n)=>{if(!y.multiple){$("update:modelValue",n?m:null);return}const r=Array.isArray(y.modelValue)?y.modelValue:[];let V;n?V=[...r,m]:V=r.filter(G=>G!==m),$("update:modelValue",V)},b=m=>{const n=[];return m.localidad&&n.push(m.localidad),m.municipio&&n.push(m.municipio),m.departamento&&n.push(m.departamento),m.territorio&&n.push(m.territorio),n.length>0?n.join(", "):""},c=m=>{var V;if(!((V=m.candidatura_snapshot)!=null&&V.formulario_data))return"";const n=m.candidatura_snapshot.formulario_data,r=[];return n.profesion&&r.push(n.profesion),n.experiencia&&r.push(`${n.experiencia} años de experiencia`),r.join(" - ")},f=m=>m.split(" ").map(n=>n[0]).join("").toUpperCase().substring(0,2);return(m,n)=>(s(),a("div",js,[i("div",As,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(m.label)+" ",1),m.required?(s(),a("span",Fs,"*")):p("",!0)]),_:1}),m.description?(s(),a("p",Ps,u(m.description),1)):p("",!0),m.convocatoriaNombre?(s(),a("p",Ds," Convocatoria: "+u(m.convocatoriaNombre),1)):p("",!0)]),q.value?(s(),a("div",Es,[!m.multiple&&m.vistaPreferida==="lista"?(s(),g(t(O),{key:0,"model-value":m.modelValue,"onUpdate:modelValue":x,disabled:m.disabled,class:"space-y-2"},{default:d(()=>[o(t(B),{class:"border"},{default:d(()=>[o(t(P),{class:"pt-6"},{default:d(()=>[i("div",Ts,[(s(!0),a(U,null,j(m.candidatos,r=>(s(),a("div",{key:r.id,class:"flex items-start space-x-3 py-2"},[o(t(L),{value:r.name,id:`candidato_${r.id}`},null,8,["value","id"]),o(t(h),{for:`candidato_${r.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[i("div",Rs,[i("div",zs,[i("div",Ls,[o(t(K),{class:"h-4 w-4 text-muted-foreground"}),i("p",Ys,u(r.name),1)]),r.cargo?(s(),a("p",Is," Cargo: "+u(r.cargo),1)):p("",!0),b(r)?(s(),a("p",Ms," Ubicación: "+u(b(r)),1)):p("",!0),c(r)?(s(),a("p",Ws,u(c(r)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128)),m.mostrarVotoBlanco?(s(),a("div",Gs,[o(t(L),{value:"null",id:"candidato_none"}),o(t(h),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:d(()=>[...n[6]||(n[6]=[i("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):p("",!0)])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"])):m.multiple&&m.vistaPreferida==="lista"?(s(),g(t(B),{key:1,class:"border"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[i("div",Hs,[o(t(Fe),{class:"h-4 w-4 text-muted-foreground"}),o(t(R),{class:"text-sm"},{default:d(()=>[...n[7]||(n[7]=[v(" Candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-xs"},{default:d(()=>[...n[8]||(n[8]=[v(" Puedes seleccionar múltiples candidatos de la convocatoria ",-1)])]),_:1})]),_:1}),o(t(P),null,{default:d(()=>[i("div",Js,[(s(!0),a(U,null,j(m.candidatos,r=>(s(),a("div",{key:r.id,class:"flex items-start space-x-3"},[o(t(M),{id:`candidato_check_${r.id}`,checked:C(r.name),"onUpdate:checked":V=>A(r.name,V),disabled:m.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(t(h),{for:`candidato_check_${r.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:d(()=>[i("div",Ks,[i("div",Os,[i("div",Qs,[o(t(K),{class:"h-4 w-4 text-muted-foreground"}),i("p",Xs,u(r.name),1)]),r.cargo?(s(),a("p",Zs," Cargo: "+u(r.cargo),1)):p("",!0),b(r)?(s(),a("p",et," Ubicación: "+u(b(r)),1)):p("",!0),c(r)?(s(),a("p",st,u(c(r)),1)):p("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):p("",!0),!m.multiple&&m.vistaPreferida==="cards"?(s(),g(t(O),{key:2,"model-value":m.modelValue,"onUpdate:modelValue":x,disabled:m.disabled,class:"space-y-4"},{default:d(()=>[i("div",tt,[(s(!0),a(U,null,j(m.candidatos,r=>(s(),g(t(B),{key:r.id,class:F(["cursor-pointer transition-all hover:shadow-md",m.modelValue===r.name?"ring-2 ring-primary":""]),onClick:V=>x(r.name)},{default:d(()=>[o(t(P),{class:"p-3 sm:p-6"},{default:d(()=>[i("div",at,[i("div",ot,[o(t(we),{class:"h-14 w-14 sm:h-20 sm:w-20"},{default:d(()=>[r.avatar_url?(s(),g(t(Ue),{key:0,src:r.avatar_url,alt:r.name},null,8,["src","alt"])):p("",!0),o(t(qe),{class:"bg-primary/10 text-primary font-semibold text-lg sm:text-2xl"},{default:d(()=>[v(u(f(r.name)),1)]),_:2},1024)]),_:2},1024)]),i("div",rt,[i("div",lt,[i("p",dt,u(r.name),1),r.email?(s(),a("p",it,u(r.email),1)):p("",!0)]),i("div",nt,[r.cargo?(s(),a("p",ut,[n[9]||(n[9]=i("span",{class:"font-medium hidden sm:inline"},"Cargo:",-1)),i("span",mt,u(r.cargo),1),i("span",ct,u(r.cargo),1)])):p("",!0),b(r)?(s(),a("p",pt,[n[10]||(n[10]=i("span",{class:"font-medium hidden sm:inline"},"Ubicación:",-1)),i("span",_t,u(b(r)),1)])):p("",!0),c(r)?(s(),a("p",ft,u(c(r)),1)):p("",!0)])])]),i("div",bt,[o(t(L),{value:r.name,checked:m.modelValue===r.name,onClick:n[0]||(n[0]=H(()=>{},["stop"]))},null,8,["value","checked"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),m.mostrarVotoBlanco?(s(),g(t(B),{key:0,class:F(["cursor-pointer transition-all hover:shadow-md",m.modelValue===null?"ring-2 ring-primary":""]),onClick:n[2]||(n[2]=r=>x("null"))},{default:d(()=>[o(t(P),{class:"flex items-center justify-center h-full min-h-[150px] sm:min-h-[240px] p-3 sm:p-6"},{default:d(()=>[i("div",vt,[n[11]||(n[11]=i("span",{class:"text-muted-foreground text-sm sm:text-lg"},"Voto en blanco",-1)),i("div",xt,[o(t(L),{value:"null",checked:m.modelValue===null,onClick:n[1]||(n[1]=H(()=>{},["stop"]))},null,8,["checked"])])])]),_:1})]),_:1},8,["class"])):p("",!0)])]),_:1},8,["model-value","disabled"])):m.multiple&&m.vistaPreferida==="cards"?(s(),a("div",yt,[i("div",ht,[(s(!0),a(U,null,j(m.candidatos,r=>(s(),g(t(B),{key:r.id,class:F(["cursor-pointer transition-all hover:shadow-md",C(r.name)?"ring-2 ring-primary":""]),onClick:V=>A(r.name,!C(r.name))},{default:d(()=>[o(t(P),{class:"p-3 sm:p-6"},{default:d(()=>[i("div",gt,[i("div",$t,[o(t(we),{class:"h-14 w-14 sm:h-20 sm:w-20"},{default:d(()=>[r.avatar_url?(s(),g(t(Ue),{key:0,src:r.avatar_url,alt:r.name},null,8,["src","alt"])):p("",!0),o(t(qe),{class:"bg-primary/10 text-primary font-semibold text-lg sm:text-2xl"},{default:d(()=>[v(u(f(r.name)),1)]),_:2},1024)]),_:2},1024)]),i("div",kt,[i("div",Vt,[i("p",Ct,u(r.name),1),r.email?(s(),a("p",wt,u(r.email),1)):p("",!0)]),i("div",Ut,[r.cargo?(s(),a("p",qt,[n[12]||(n[12]=i("span",{class:"font-medium hidden sm:inline"},"Cargo:",-1)),i("span",St,u(r.cargo),1),i("span",Bt,u(r.cargo),1)])):p("",!0),b(r)?(s(),a("p",jt,[n[13]||(n[13]=i("span",{class:"font-medium hidden sm:inline"},"Ubicación:",-1)),i("span",At,u(b(r)),1)])):p("",!0),c(r)?(s(),a("p",Ft,u(c(r)),1)):p("",!0)])])]),i("div",Pt,[o(t(M),{checked:C(r.name),"onUpdate:checked":V=>A(r.name,V),onClick:n[3]||(n[3]=H(()=>{},["stop"])),disabled:m.disabled},null,8,["checked","onUpdate:checked","disabled"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])])):p("",!0)])):(s(),g(t(B),{key:0,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[i("div",Ns,[o(t(Q),{class:"h-5 w-5 text-amber-600"}),o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...n[4]||(n[4]=[v(" No hay candidatos disponibles ",-1)])]),_:1})]),o(t(z),{class:"text-amber-700"},{default:d(()=>[...n[5]||(n[5]=[v(" No se encontraron candidatos con postulaciones aprobadas para esta convocatoria. ",-1)])]),_:1})]),_:1})]),_:1})),m.error?(s(),a("p",Dt,u(m.error),1)):p("",!0)]))}}),Et={class:"space-y-6"},Tt={key:0},Rt={class:"text-lg font-semibold"},zt={key:0,class:"text-sm text-muted-foreground"},Lt={class:"space-y-4"},Yt={key:0},It={key:1},Mt={key:2},Wt={key:0,class:"text-red-500 ml-1"},Gt={key:0,class:"text-sm text-muted-foreground mb-2"},Ht={key:1,class:"text-sm text-red-600 mt-1"},Jt={key:3},Kt={key:0,class:"text-red-500 ml-1"},Ot={key:0,class:"text-sm text-muted-foreground mb-2"},Qt={key:1,class:"text-sm text-red-600 mt-1"},Xt={key:4},Zt={key:0,class:"text-red-500 ml-1"},ea={key:0,class:"text-sm text-muted-foreground mb-2"},sa={key:1,class:"text-sm text-red-600 mt-1"},ta={key:5},aa={key:0,class:"text-red-500 ml-1"},oa={key:0,class:"text-sm text-muted-foreground mb-2"},ra={key:1,class:"text-sm text-red-600 mt-1"},la={key:6},da={key:0,class:"text-red-500 ml-1"},ia={key:0,class:"text-sm text-muted-foreground mb-2"},na={key:1,class:"text-sm text-red-600 mt-1"},ua={key:7},ma={key:0,class:"text-red-500 ml-1"},ca={key:0,class:"text-sm text-muted-foreground mb-2"},pa={key:1,class:"text-sm text-red-600 mt-1"},_a={key:8},fa={key:0,class:"text-red-500 ml-1"},ba={key:0,class:"text-sm text-muted-foreground mb-2"},va={class:"space-y-2"},xa=["id","name","value","checked","onChange","disabled"],ya={key:1,class:"text-sm text-red-600 mt-1"},ha={key:9},ga={key:0,class:"text-red-500 ml-1"},$a={key:0,class:"text-sm text-muted-foreground mb-2"},ka={class:"space-y-2"},Va={key:1,class:"text-sm text-red-600 mt-1"},Ca={key:10},wa={key:11},Ua={key:12},qa={key:13},Sa={class:"list-disc list-inside space-y-1 text-sm text-amber-800"},Ba=W({__name:"DynamicFormRenderer",props:{fields:{},modelValue:{},candidaturasAprobadas:{default:()=>[]},candidaturaSeleccionada:{},candidatosElegibles:{default:()=>({})},errors:{default:()=>({})},disabled:{type:Boolean,default:!1},title:{default:"Formulario de Postulación"},description:{default:"Completa los siguientes campos para enviar tu postulación"},context:{default:"postulacion"},files:{}},emits:["update:modelValue","update:candidaturaSeleccionada","filesSelected"],setup(N,{expose:E,emit:y}){const $=N,q=y,x=S({get:()=>$.modelValue||{},set:l=>q("update:modelValue",l)}),C=S({get:()=>$.candidaturaSeleccionada,set:l=>q("update:candidaturaSeleccionada",l)});S(()=>$.fields.some(l=>l.type==="perfil_candidatura"));const A=Ne($.fields);Ce(()=>$.fields,l=>{A.value=l},{deep:!0});const{visibleFields:b,clearHiddenFieldValues:c}=Ie(A,x);Ce(b,()=>{c()});const f=(l,k)=>{const w={...x.value||{}};w[l]=k,x.value=w},m=(l,k,e)=>{const w=x.value[l]||[];let D;e?D=[...w,k]:D=w.filter(Y=>Y!==k),f(l,D)},n=S(()=>b.value.filter(l=>l.required).map(l=>l.id)),r=S(()=>n.value.filter(l=>{const k=b.value.find(w=>w.id===l);if((k==null?void 0:k.type)==="perfil_candidatura")return!$.candidaturaSeleccionada;const e=x.value[l];return!e||Array.isArray(e)&&e.length===0})),V=S(()=>{const l=$.fields.find(k=>k.type==="perfil_candidatura");return(l==null?void 0:l.required)||!1}),G=S(()=>r.value.length===0);return E({formularioCompleto:G,camposIncompletos:r,perfilCandidaturaRequerido:V}),(l,k)=>(s(),a("div",Et,[l.title||l.description?(s(),a("div",Tt,[i("h3",Rt,u(l.title),1),l.description?(s(),a("p",zt,u(l.description),1)):p("",!0)])):p("",!0),i("div",Lt,[o(Ee,{name:"fade-field"},{default:d(()=>[(s(!0),a(U,null,j(t(b),e=>{var w,D,Y,X,Z,ee,se,te,ae,oe,re,le,de,ie,ne,ue,me,ce,pe,_e,fe,be,ve,xe,ye,he,ge,$e,ke,Ve;return s(),a(U,{key:e.id},[e.type==="convocatoria"&&l.context==="votacion"?(s(),a("div",Yt,[o(Nt,{modelValue:x.value[e.id],"onUpdate:modelValue":_=>x.value[e.id]=_,candidatos:((w=l.candidatosElegibles[e.id])==null?void 0:w.candidatos)||[],"convocatoria-nombre":(Y=(D=l.candidatosElegibles[e.id])==null?void 0:D.convocatoria)==null?void 0:Y.nombre,label:e.title,description:e.description,required:e.required,multiple:((X=e.convocatoriaConfig)==null?void 0:X.multiple)||!1,"mostrar-voto-blanco":((Z=e.convocatoriaConfig)==null?void 0:Z.mostrarVotoBlanco)??!0,"vista-preferida":((ee=e.convocatoriaConfig)==null?void 0:ee.vistaPreferida)||"lista",error:l.errors[e.id],disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos","convocatoria-nombre","label","description","required","multiple","mostrar-voto-blanco","vista-preferida","error","disabled"])])):e.type==="perfil_candidatura"?(s(),a("div",It,[l.context==="postulacion"?(s(),g(us,{key:0,modelValue:C.value,"onUpdate:modelValue":k[0]||(k[0]=_=>C.value=_),"candidaturas-aprobadas":l.candidaturasAprobadas,label:e.title,description:e.description,required:e.required,error:l.errors.candidatura_id,disabled:l.disabled},null,8,["modelValue","candidaturas-aprobadas","label","description","required","error","disabled"])):l.context==="votacion"?(s(),g(Bs,{key:1,modelValue:x.value[e.id],"onUpdate:modelValue":_=>x.value[e.id]=_,"candidatos-elegibles":l.candidatosElegibles[e.id]||[],label:e.title,description:e.description,required:e.required,multiple:((se=e.perfilCandidaturaConfig)==null?void 0:se.multiple)||!1,"mostrar-voto-blanco":((te=e.perfilCandidaturaConfig)==null?void 0:te.mostrarVotoBlanco)??!0,error:l.errors[e.id],disabled:l.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos-elegibles","label","description","required","multiple","mostrar-voto-blanco","error","disabled"])):p("",!0)])):e.type==="text"?(s(),a("div",Mt,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",Wt,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",Gt,u(e.description),1)):p("",!0),o(t(I),{id:e.id,"model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Ingresa ${e.title.toLowerCase()}`,disabled:l.disabled,class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",Ht,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="textarea"?(s(),a("div",Jt,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",Kt,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",Ot,u(e.description),1)):p("",!0),o(t(Te),{id:e.id,"model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:`Describe ${e.title.toLowerCase()}`,disabled:l.disabled,rows:"4",class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",Qt,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="number"?(s(),a("div",Xt,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",Zt,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",ea,u(e.description),1)):p("",!0),o(t(I),{id:e.id,type:"number","model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:l.disabled,min:(ae=e.numberConfig)==null?void 0:ae.min,max:(oe=e.numberConfig)==null?void 0:oe.max,step:((re=e.numberConfig)==null?void 0:re.step)||1,placeholder:e.placeholder||"",class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","min","max","step","placeholder","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",sa,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="email"?(s(),a("div",ta,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",aa,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",oa,u(e.description),1)):p("",!0),o(t(I),{id:e.id,type:"email","model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),placeholder:"ejemplo@correo.com",disabled:l.disabled,class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",ra,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="date"?(s(),a("div",la,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",da,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",ia,u(e.description),1)):p("",!0),o(t(I),{id:e.id,type:"date","model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:l.disabled,class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",na,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="select"?(s(),a("div",ua,[o(t(h),{for:e.id,class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",ma,"*")):p("",!0)]),_:2},1032,["for"]),e.description?(s(),a("p",ca,u(e.description),1)):p("",!0),o(t(Se),{"model-value":x.value[e.id]||"","onUpdate:modelValue":_=>f(e.id,_),disabled:l.disabled},{default:d(()=>[o(t(Be),{class:F([l.errors[`formulario_data.${e.id}`]?"border-red-300":""])},{default:d(()=>[o(t(je),{placeholder:`Selecciona ${e.title.toLowerCase()}`},null,8,["placeholder"])]),_:2},1032,["class"]),o(t(Ae),null,{default:d(()=>[(s(!0),a(U,null,j(e.options,_=>(s(),g(t(J),{key:_,value:_},{default:d(()=>[v(u(_),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["model-value","onUpdate:modelValue","disabled"]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",pa,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="radio"?(s(),a("div",_a,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",fa,"*")):p("",!0)]),_:2},1024),e.description?(s(),a("p",ba,u(e.description),1)):p("",!0),i("div",va,[(s(!0),a(U,null,j(e.options,_=>(s(),a("div",{key:_,class:"flex items-center space-x-2"},[i("input",{id:`${e.id}-${_}`,type:"radio",name:e.id,value:_,checked:x.value[e.id]===_,onChange:()=>f(e.id,_),disabled:l.disabled,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,40,xa),o(t(h),{for:`${e.id}-${_}`,class:"text-sm"},{default:d(()=>[v(u(_),1)]),_:2},1032,["for"])]))),128))]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",ya,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="checkbox"?(s(),a("div",ha,[o(t(h),{class:"text-sm font-medium"},{default:d(()=>[v(u(e.title)+" ",1),e.required?(s(),a("span",ga,"*")):p("",!0)]),_:2},1024),e.description?(s(),a("p",$a,u(e.description),1)):p("",!0),i("div",ka,[(s(!0),a(U,null,j(e.options,_=>(s(),a("div",{key:_,class:"flex items-center space-x-2"},[o(t(M),{id:`${e.id}-${_}`,checked:(x.value[e.id]||[]).includes(_),"onUpdate:checked":Pe=>m(e.id,_,Pe),disabled:l.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(t(h),{for:`${e.id}-${_}`,class:"text-sm"},{default:d(()=>[v(u(_),1)]),_:2},1032,["for"])]))),128))]),l.errors[`formulario_data.${e.id}`]?(s(),a("p",Va,u(l.errors[`formulario_data.${e.id}`]),1)):p("",!0)])):e.type==="file"?(s(),a("div",Ca,[o(Me,{"model-value":x.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),onFilesSelected:_=>q("filesSelected",e.id,_),label:e.title,description:e.description,required:e.required,multiple:((le=e.fileConfig)==null?void 0:le.multiple)||!1,"max-files":((de=e.fileConfig)==null?void 0:de.maxFiles)||5,"max-file-size":((ie=e.fileConfig)==null?void 0:ie.maxFileSize)||10,accept:((ne=e.fileConfig)==null?void 0:ne.accept)||".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",error:l.errors[`formulario_data.${e.id}`],disabled:l.disabled},null,8,["model-value","onUpdate:modelValue","onFilesSelected","label","description","required","multiple","max-files","max-file-size","accept","error","disabled"])])):e.type==="datepicker"?(s(),a("div",wa,[o(We,{"model-value":x.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:l.disabled,error:l.errors[`formulario_data.${e.id}`],"min-date":(ue=e.datepickerConfig)==null?void 0:ue.minDate,"max-date":(me=e.datepickerConfig)==null?void 0:me.maxDate,format:((ce=e.datepickerConfig)==null?void 0:ce.format)||"DD/MM/YYYY","allow-past-dates":((pe=e.datepickerConfig)==null?void 0:pe.allowPastDates)??!0,"allow-future-dates":((_e=e.datepickerConfig)==null?void 0:_e.allowFutureDates)??!0},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-date","max-date","format","allow-past-dates","allow-future-dates"])])):e.type==="disclaimer"?(s(),a("div",Ua,[o(Ge,{"model-value":x.value[e.id]||null,"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:l.disabled,error:l.errors[`formulario_data.${e.id}`],"disclaimer-text":((fe=e.disclaimerConfig)==null?void 0:fe.disclaimerText)||"","modal-title":((be=e.disclaimerConfig)==null?void 0:be.modalTitle)||"Términos y Condiciones","accept-button-text":((ve=e.disclaimerConfig)==null?void 0:ve.acceptButtonText)||"Acepto","decline-button-text":((xe=e.disclaimerConfig)==null?void 0:xe.declineButtonText)||"No acepto"},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","disclaimer-text","modal-title","accept-button-text","decline-button-text"])])):e.type==="repeater"?(s(),a("div",qa,[o(He,{"model-value":x.value[e.id]||[],"onUpdate:modelValue":_=>f(e.id,_),label:e.title,description:e.description,required:e.required,disabled:l.disabled,error:l.errors[`formulario_data.${e.id}`],"min-items":((ye=e.repeaterConfig)==null?void 0:ye.minItems)||0,"max-items":((he=e.repeaterConfig)==null?void 0:he.maxItems)||10,"item-name":((ge=e.repeaterConfig)==null?void 0:ge.itemName)||"Elemento","add-button-text":(($e=e.repeaterConfig)==null?void 0:$e.addButtonText)||"Agregar elemento","remove-button-text":((ke=e.repeaterConfig)==null?void 0:ke.removeButtonText)||"Eliminar",fields:((Ve=e.repeaterConfig)==null?void 0:Ve.fields)||[]},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-items","max-items","item-name","add-button-text","remove-button-text","fields"])])):p("",!0)],64)}),128))]),_:1})]),l.context==="postulacion"&&r.value.length>0?(s(),g(t(B),{key:1,class:"border-amber-200 bg-amber-50"},{default:d(()=>[o(t(T),{class:"pb-3"},{default:d(()=>[o(t(R),{class:"text-base text-amber-800"},{default:d(()=>[...k[1]||(k[1]=[v(" Campos requeridos pendientes ",-1)])]),_:1}),o(t(z),{class:"text-amber-700"},{default:d(()=>[...k[2]||(k[2]=[v(" Completa los siguientes campos obligatorios antes de enviar tu postulación. ",-1)])]),_:1})]),_:1}),o(t(P),{class:"pt-0"},{default:d(()=>[i("ul",Sa,[(s(!0),a(U,null,j(r.value,e=>{var w;return s(),a("li",{key:e},u((w=l.fields.find(D=>D.id===e))==null?void 0:w.title),1)}),128))])]),_:1})]),_:1})):p("",!0)]))}}),Oa=Je(Ba,[["__scopeId","data-v-5b6649df"]]);export{Oa as D};
