import{_ as P}from"./GuestLayout.vue_vue_type_script_setup_true_lang-CV81slkf.js";import{d as M,r as h,p as k,i as n,e as s,f as e,q as B,w as l,g as o,j as T,h as x,t as u,m as i,F as y,k as $,b as C,v as N,s as E}from"./app-DOAvpdpy.js";import{_ as p,c as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-CHzHcBJD.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-DpiZrk6F.js";import{_ as H,a as q,b as D,c as z,d as v}from"./SelectValue.vue_vue_type_script_setup_true_lang-BXZrnX9E.js";import{_ as b}from"./createLucideIcon-B8d5bW74.js";import{_ as U}from"./ProyectoCard.vue_vue_type_script_setup_true_lang-61q5D5XY.js";import{S as A}from"./search-BiD4ugt-.js";import{F as I}from"./filter-D0DhnpYH.js";import{F}from"./folder-open-1fOQ0rtw.js";import"./index-B0zyg-lg.js";import"./index-D4UxCdcO.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-vM-5-Mr4.js";import"./index-ceuENFtx.js";import"./VisuallyHidden-BSG4PTdC.js";import"./check-qkM_pq-n.js";import"./floating-ui.vue-DHJPTVzt.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-DawgNgFL.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-DLMVhKd1.js";import"./index-BEwAULqp.js";import"./Progress.vue_vue_type_script_setup_true_lang-DUc7kvfq.js";import"./EtiquetaDisplay-sQvoljdE.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DThnflUi.js";import"./chevron-right-CCRsFGH5.js";import"./layers-CtJu3dny.js";import"./zap-hFTdQ5DG.js";import"./tag-DfZyNgGs.js";import"./trending-up-C3sl1lhq.js";import"./award-g-FmOXso.js";import"./target-6lEdwcHB.js";import"./flag-DeUPG4ge.js";import"./hash-COC8f5cz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./calendar-CD2D2UbU.js";import"./user-BCblXEQx.js";import"./clock-_CclVdPa.js";import"./arrow-right-BoEywJSY.js";const O={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8"},G={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"flex flex-col sm:flex-row gap-4"},K={class:"relative flex-1"},Q={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"},R={class:"flex items-center justify-between"},W={class:"text-2xl font-bold"},X={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-yellow-600"},Z={class:"flex items-center justify-between"},tt={class:"text-2xl font-bold text-green-600"},et={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},st={key:1},ot={class:"flex flex-col items-center justify-center text-center"},lt={key:2,class:"flex justify-center gap-2 mt-8"},at={key:3,class:"text-center text-sm text-gray-500 mt-4"},It=M({__name:"Index",props:{proyectos:{},filters:{}},setup(d){const g=d,m=h(g.filters.search||""),c=h(g.filters.estado||""),_=()=>{E.get("/proyectos-publicos",{search:m.value,estado:c.value},{preserveState:!0,preserveScroll:!0,replace:!0})};let w;k(m,()=>{clearTimeout(w),w=setTimeout(()=>{_()},500)}),k(c,()=>{_()});const V=r=>({en_progreso:"En Progreso",completado:"Completado"})[r]||r,j=r=>({baja:"Baja",media:"Media",alta:"Alta",critica:"Crítica"})[r]||r,L=g.proyectos.data.map(r=>({...r,estado_label:V(r.estado),prioridad_label:j(r.prioridad),porcentaje_completado:r.estado==="completado"?100:50,duracion_dias:r.fecha_fin?Math.ceil((new Date(r.fecha_fin).getTime()-new Date(r.fecha_inicio).getTime())/(1e3*60*60*24)):null}));return(r,t)=>(i(),n(y,null,[s(e(B),{title:"Proyectos Públicos"}),s(P,null,{default:l(()=>[o("div",O,[o("div",G,[t[14]||(t[14]=o("div",{class:"text-center mb-8"},[o("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Proyectos en Curso "),o("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Conoce los proyectos que estamos desarrollando ")],-1)),s(e(p),{class:"mb-8"},{default:l(()=>[s(e(f),{class:"p-6"},{default:l(()=>[o("div",J,[o("div",K,[s(e(A),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s(e(S),{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=a=>m.value=a),type:"text",placeholder:"Buscar proyectos...",class:"pl-10"},null,8,["modelValue"])]),s(e(H),{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a)},{default:l(()=>[s(e(q),{class:"w-full sm:w-[180px]"},{default:l(()=>[s(e(D),{placeholder:"Todos los estados"})]),_:1}),s(e(z),null,{default:l(()=>[s(e(v),{value:"all"},{default:l(()=>[...t[3]||(t[3]=[x("Todos",-1)])]),_:1}),s(e(v),{value:"en_progreso"},{default:l(()=>[...t[4]||(t[4]=[x("En Progreso",-1)])]),_:1}),s(e(v),{value:"completado"},{default:l(()=>[...t[5]||(t[5]=[x("Completados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(e(b),{variant:"outline",onClick:t[2]||(t[2]=a=>{m.value="",c.value="",_()})},{default:l(()=>[s(e(I),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=x(" Limpiar ",-1))]),_:1})])]),_:1})]),_:1}),o("div",Q,[s(e(p),null,{default:l(()=>[s(e(f),{class:"p-6"},{default:l(()=>[o("div",R,[o("div",null,[t[7]||(t[7]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total de Proyectos",-1)),o("p",W,u(d.proyectos.total),1)]),s(e(F),{class:"h-8 w-8 text-blue-500"})])]),_:1})]),_:1}),s(e(p),null,{default:l(()=>[s(e(f),{class:"p-6"},{default:l(()=>[o("div",X,[o("div",null,[t[8]||(t[8]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"En Progreso",-1)),o("p",Y,u(d.proyectos.data.filter(a=>a.estado==="en_progreso").length),1)]),t[9]||(t[9]=o("div",{class:"h-8 w-8 rounded-full bg-yellow-100 dark:bg-yellow-900"},null,-1))])]),_:1})]),_:1}),s(e(p),null,{default:l(()=>[s(e(f),{class:"p-6"},{default:l(()=>[o("div",Z,[o("div",null,[t[10]||(t[10]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Completados",-1)),o("p",tt,u(d.proyectos.data.filter(a=>a.estado==="completado").length),1)]),t[11]||(t[11]=o("div",{class:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900"},null,-1))])]),_:1})]),_:1})]),d.proyectos.data.length>0?(i(),n("div",et,[(i(!0),n(y,null,$(e(L),a=>(i(),n("div",{key:a.id},[s(U,{proyecto:a,"show-actions":!1},null,8,["proyecto"])]))),128))])):(i(),n("div",st,[s(e(p),null,{default:l(()=>[s(e(f),{class:"py-16"},{default:l(()=>[o("div",ot,[s(e(F),{class:"h-16 w-16 text-gray-400 mb-4"}),t[12]||(t[12]=o("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No hay proyectos públicos disponibles ",-1)),t[13]||(t[13]=o("p",{class:"text-gray-500 max-w-md"}," No se encontraron proyectos que coincidan con los filtros seleccionados. ",-1))])]),_:1})]),_:1})])),d.proyectos.last_page>1?(i(),n("div",lt,[(i(!0),n(y,null,$(d.proyectos.links,a=>(i(),n(y,{key:a.label},[a.url?(i(),C(e(N),{key:0,href:a.url,"preserve-state":"","preserve-scroll":""},{default:l(()=>[s(e(b),{variant:a.active?"default":"outline",size:"sm",innerHTML:a.label},null,8,["variant","innerHTML"])]),_:2},1032,["href"])):(i(),C(e(b),{key:1,variant:"outline",size:"sm",disabled:"",innerHTML:a.label},null,8,["innerHTML"]))],64))),128))])):T("",!0),d.proyectos.total>0?(i(),n("div",at," Mostrando "+u(d.proyectos.data.length)+" de "+u(d.proyectos.total)+" proyectos públicos ",1)):T("",!0)])])]),_:1})],64))}});export{It as default};
