import{d as O,C as I,k as w,c as H,a as m,o as u,b as s,u as o,m as J,e as a,f as t,g as l,i as q,t as f,j as Q,l as X,M as Z,N as K,F as W}from"./app-BP0cvO6t.js";import{c as D,_ as g}from"./createLucideIcon-DN0KVddD.js";import{_ as C,a as S,b as T,c as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-BGgSvmiB.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-_b-KefYx.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-CPKPM3Jk.js";import{_ as Y,a as M}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-DT3YGJQg.js";import{S as k,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-CJoJfjaD.js";import{U as oe}from"./upload-HX8nhEJW.js";import{X as te,U as se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CYHRqWhQ.js";import{T as ae,a as le}from"./toggle-right-Mc4RyJIr.js";import{C as $}from"./index-IRTTYLy9.js";import"./VisuallyHidden-DH9QYEuE.js";import"./RovingFocusItem-CpVMNNgz.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Wxm4vTXl.js";import"./check-Dw2nD4w7.js";import"./utils-E708sMGx.js";import"./VisuallyHiddenInput-pVmpfWF4.js";import"./index-DPFtgRKd.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C31h_kso.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-EbtR41RQ.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-ByXQmMBA.js";import"./index-Bes9iSbW.js";import"./calendar-DFQbeeUt.js";import"./map-pin-Sz2po9BI.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=D("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=D("TypeIcon",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),re={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ne={class:"grid gap-4 md:grid-cols-1 max-w-4xl"},de={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border"},ue={class:"space-y-3"},me={class:"space-y-3"},ce={class:"space-y-4"},fe={class:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4"},pe={key:0,class:"text-center"},ge={class:"mt-2 text-sm text-muted-foreground"},xe={key:1,class:"relative"},be=["src"],_e={class:"space-y-4"},ve={class:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors"},ye={class:"flex-1"},we={class:"flex items-center gap-2"},ke={class:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors"},qe={class:"flex-1"},Ce={class:"border-t pt-4"},he={class:"bg-muted/50 rounded-lg p-4"},je={class:"flex items-center gap-3"},Le={class:"flex aspect-square size-8 items-center justify-center rounded-md text-sidebar-primary-foreground"},Ve=["src"],Ie={key:1,class:"size-5 fill-current text-white dark:text-black",viewBox:"0 0 24 24"},Se={key:0,class:"grid flex-1 text-left text-sm"},Te={class:"mb-0.5 truncate font-semibold leading-none"},Ee={class:"flex justify-end pt-4 border-t"},Me={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border"},$e={class:"space-y-3"},ze={class:"flex items-center justify-between"},De={class:"space-y-1"},Be={key:0,class:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg"},Ae={class:"space-y-3"},Fe={class:"space-y-3"},Ue={key:0,class:"border-t pt-4"},Ne={class:"bg-muted/50 rounded-lg p-4"},Pe={class:"flex items-start gap-3"},Ge={class:"flex-1"},Re={class:"font-semibold text-lg mb-2"},Oe={class:"text-sm text-muted-foreground whitespace-pre-wrap"},He={class:"flex justify-end pt-4 border-t"},Je={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border border-dashed"},Qe={class:"text-center py-8"},wo=O({__name:"Configuracion",props:{configuracion:{},configuracionCandidaturas:{}},setup(B){const c=B,A=[{title:"Admin",href:"/admin/dashboard"},{title:"Configuración",href:"/admin/configuracion"}],r=I({logo_display:c.configuracion.logo_display,logo_text:c.configuracion.logo_text,logo_file:null,remove_logo:!1}),x=w(!1),b=w(!1),_=w(),v=w(null),y=H(()=>r.remove_logo?null:v.value?v.value:c.configuracion.logo_file?`/storage/${c.configuracion.logo_file}`:null),F=p=>{var j;const n=(j=p.target.files)==null?void 0:j[0];if(n){r.logo_file=n,r.remove_logo=!1;const L=new FileReader;L.onload=R=>{var V;v.value=(V=R.target)==null?void 0:V.result},L.readAsDataURL(n)}},U=()=>{r.logo_file=null,v.value=null,r.remove_logo=!0,_.value&&(_.value.value="")},N=()=>{var p;(p=_.value)==null||p.click()},P=()=>{x.value=!0,r.post(route("admin.configuracion.update"),{forceFormData:!0,onSuccess:()=>{setTimeout(()=>{window.location.reload()},1e3)},onFinish:()=>{x.value=!1}})},i=I({bloqueo_activo:c.configuracionCandidaturas.bloqueo_activo,bloqueo_titulo:c.configuracionCandidaturas.bloqueo_titulo,bloqueo_mensaje:c.configuracionCandidaturas.bloqueo_mensaje}),G=()=>{b.value=!0,i.post(route("admin.configuracion.update.candidaturas"),{onFinish:()=>{b.value=!1}})};return(p,e)=>(u(),m(W,null,[s(o(J),{title:"Configuración"}),s(ee,{breadcrumbs:A},{default:a(()=>[t("div",re,[e[33]||(e[33]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-3xl font-bold"},"Configuración del Sistema"),t("p",{class:"text-muted-foreground"}," Personaliza la apariencia y comportamiento del sistema ")])],-1)),t("div",ne,[t("div",de,[s(o(C),{class:"border-0 shadow-none"},{default:a(()=>[s(o(S),null,{default:a(()=>[s(o(T),{class:"flex items-center gap-2"},{default:a(()=>[s(o(k),{class:"h-5 w-5"}),e[5]||(e[5]=l(" Configuración del Logo "))]),_:1})]),_:1}),s(o(h),{class:"space-y-6"},{default:a(()=>[t("div",ue,[s(o(d),{for:"logo_text",class:"text-base font-medium"},{default:a(()=>e[6]||(e[6]=[l("Texto del Logo")])),_:1}),s(o(E),{id:"logo_text",modelValue:o(r).logo_text,"onUpdate:modelValue":e[0]||(e[0]=n=>o(r).logo_text=n),placeholder:"Ingresa el texto que aparecerá junto al logo",maxlength:"50",class:"max-w-md"},null,8,["modelValue"]),e[7]||(e[7]=t("p",{class:"text-sm text-muted-foreground"}," Este texto aparecerá junto al logo cuando esté habilitado (máximo 50 caracteres) ",-1))]),t("div",me,[s(o(d),{class:"text-base font-medium"},{default:a(()=>e[8]||(e[8]=[l("Logo Personalizado (Opcional)")])),_:1}),t("div",ce,[t("input",{ref_key:"fileInputRef",ref:_,type:"file",accept:"image/*",class:"hidden",onChange:F},null,544),t("div",fe,[y.value?(u(),m("div",xe,[t("img",{src:y.value,alt:"Logo preview",class:"w-16 h-16 object-contain mx-auto rounded"},null,8,be),s(o(g),{variant:"outline",size:"sm",class:"mt-2 mx-auto block",onClick:U},{default:a(()=>[s(o(te),{class:"mr-2 h-4 w-4"}),e[12]||(e[12]=l(" Quitar "))]),_:1})])):(u(),m("div",pe,[s(o(oe),{class:"mx-auto h-8 w-8 text-muted-foreground"}),t("p",ge,[e[10]||(e[10]=l(" Arrastra un archivo aquí o ")),s(o(g),{variant:"link",class:"p-0 h-auto",onClick:N},{default:a(()=>e[9]||(e[9]=[l(" selecciona uno ")])),_:1})]),e[11]||(e[11]=t("p",{class:"text-xs text-muted-foreground mt-1"}," PNG, JPG, SVG hasta 2MB ",-1))]))]),e[13]||(e[13]=t("p",{class:"text-sm text-muted-foreground"}," Si no subes un logo personalizado, se usará el logo por defecto del sistema ",-1))])]),t("div",_e,[s(o(d),{class:"text-base font-medium"},{default:a(()=>e[14]||(e[14]=[l("Visualización en el Sidebar")])),_:1}),s(o(Y),{modelValue:o(r).logo_display,"onUpdate:modelValue":e[1]||(e[1]=n=>o(r).logo_display=n),class:"space-y-3"},{default:a(()=>[t("div",ve,[s(o(M),{value:"logo_text",id:"logo_text"}),t("div",ye,[s(o(d),{for:"logo_text",class:"flex items-center gap-2 font-medium cursor-pointer"},{default:a(()=>[t("div",we,[s(o(z),{class:"h-4 w-4"}),s(o(ie),{class:"h-4 w-4"})]),e[15]||(e[15]=l(" Logo + Texto "))]),_:1}),e[16]||(e[16]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Muestra el logo junto con el texto personalizado ",-1))])]),t("div",ke,[s(o(M),{value:"logo_only",id:"logo_only"}),t("div",qe,[s(o(d),{for:"logo_only",class:"flex items-center gap-2 font-medium cursor-pointer"},{default:a(()=>[s(o(z),{class:"h-4 w-4"}),e[17]||(e[17]=l(" Solo Logo "))]),_:1}),e[18]||(e[18]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Muestra únicamente el logo, sin texto ",-1))])])]),_:1},8,["modelValue"])]),t("div",Ce,[s(o(d),{class:"text-base font-medium mb-3 block"},{default:a(()=>e[19]||(e[19]=[l("Vista Previa")])),_:1}),t("div",he,[t("div",je,[t("div",Le,[y.value?(u(),m("img",{key:0,src:y.value,alt:"Logo",class:"object-contain"},null,8,Ve)):(u(),m("svg",Ie,e[20]||(e[20]=[t("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"},null,-1)])))]),o(r).logo_display==="logo_text"?(u(),m("div",Se,[t("span",Te,f(o(r).logo_text),1)])):q("",!0)])])]),t("div",Ee,[s(o(g),{onClick:P,disabled:x.value||!o(r).isDirty,class:"min-w-32"},{default:a(()=>[s(o(k),{class:"mr-2 h-4 w-4"}),l(" "+f(x.value?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})]),t("div",Me,[s(o(C),{class:"border-0 shadow-none"},{default:a(()=>[s(o(S),null,{default:a(()=>[s(o(T),{class:"flex items-center gap-2"},{default:a(()=>[s(o(se),{class:"h-5 w-5"}),e[21]||(e[21]=l(" Control de Candidaturas "))]),_:1})]),_:1}),s(o(h),{class:"space-y-6"},{default:a(()=>[t("div",$e,[t("div",ze,[t("div",De,[s(o(d),{class:"text-base font-medium"},{default:a(()=>e[22]||(e[22]=[l("Bloqueo de Candidaturas")])),_:1}),e[23]||(e[23]=t("p",{class:"text-sm text-muted-foreground"}," Cuando está activo, los usuarios no podrán crear nuevas candidaturas ni editar las que están en estado borrador ",-1))]),s(o(g),{onClick:e[2]||(e[2]=n=>o(i).bloqueo_activo=!o(i).bloqueo_activo),variant:o(i).bloqueo_activo?"default":"outline",size:"sm",class:"min-w-24"},{default:a(()=>[(u(),Q(X(o(i).bloqueo_activo?o(ae):o(le)),{class:"mr-2 h-4 w-4"})),l(" "+f(o(i).bloqueo_activo?"Activo":"Inactivo"),1)]),_:1},8,["variant"])]),o(i).bloqueo_activo?(u(),m("div",Be,[s(o($),{class:"h-5 w-5 text-yellow-600"}),e[24]||(e[24]=t("span",{class:"text-sm text-yellow-700 dark:text-yellow-400"}," El sistema de candidaturas está bloqueado. Los usuarios verán el mensaje configurado abajo. ",-1))])):q("",!0)]),t("div",Ae,[s(o(d),{for:"bloqueo_titulo",class:"text-base font-medium"},{default:a(()=>e[25]||(e[25]=[l(" Título del Mensaje de Bloqueo ")])),_:1}),s(o(E),{id:"bloqueo_titulo",modelValue:o(i).bloqueo_titulo,"onUpdate:modelValue":e[3]||(e[3]=n=>o(i).bloqueo_titulo=n),placeholder:"Ej: Sistema de Candidaturas Temporalmente Cerrado",maxlength:"255",class:"max-w-full"},null,8,["modelValue"]),e[26]||(e[26]=t("p",{class:"text-sm text-muted-foreground"}," Este título se mostrará cuando los usuarios intenten crear o editar candidaturas ",-1))]),t("div",Fe,[s(o(d),{for:"bloqueo_mensaje",class:"text-base font-medium"},{default:a(()=>e[27]||(e[27]=[l(" Mensaje Detallado ")])),_:1}),Z(t("textarea",{id:"bloqueo_mensaje","onUpdate:modelValue":e[4]||(e[4]=n=>o(i).bloqueo_mensaje=n),placeholder:"Ingresa el mensaje que verán los usuarios...",maxlength:"1000",rows:"4",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[K,o(i).bloqueo_mensaje]]),e[28]||(e[28]=t("p",{class:"text-sm text-muted-foreground"}," Explica por qué el sistema está bloqueado y cuándo estará disponible (máximo 1000 caracteres) ",-1))]),o(i).bloqueo_activo?(u(),m("div",Ue,[s(o(d),{class:"text-base font-medium mb-3 block"},{default:a(()=>e[29]||(e[29]=[l("Vista Previa del Mensaje")])),_:1}),t("div",Ne,[t("div",Pe,[s(o($),{class:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5"}),t("div",Ge,[t("h3",Re,f(o(i).bloqueo_titulo||"Sin título"),1),t("p",Oe,f(o(i).bloqueo_mensaje||"Sin mensaje"),1)])])])])):q("",!0),e[30]||(e[30]=t("div",{class:"bg-blue-50 dark:bg-blue-950/20 rounded-lg p-4"},[t("h4",{class:"font-medium text-sm mb-2 text-blue-800 dark:text-blue-200"}," Excepciones al Bloqueo: "),t("ul",{class:"space-y-1 text-sm text-blue-700 dark:text-blue-300"},[t("li",{class:"flex items-start gap-2"},[t("span",{class:"text-blue-500 mt-0.5"},"•"),t("span",null,"Las candidaturas en estado PENDIENTE, APROBADO o RECHAZADO no se ven afectadas")]),t("li",{class:"flex items-start gap-2"},[t("span",{class:"text-blue-500 mt-0.5"},"•"),t("span",null,'Las candidaturas marcadas con "subsanar = 1" pueden editarse aunque esté el bloqueo activo')]),t("li",{class:"flex items-start gap-2"},[t("span",{class:"text-blue-500 mt-0.5"},"•"),t("span",null,"Los administradores pueden marcar candidaturas individuales para subsanación desde el panel administrativo")])])],-1)),t("div",He,[s(o(g),{onClick:G,disabled:b.value||!o(i).isDirty,class:"min-w-32"},{default:a(()=>[s(o(k),{class:"mr-2 h-4 w-4"}),l(" "+f(b.value?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})]),t("div",Je,[s(o(C),{class:"border-0 shadow-none"},{default:a(()=>[s(o(h),{class:"pt-6"},{default:a(()=>[t("div",Qe,[s(o(k),{class:"mx-auto h-12 w-12 text-muted-foreground/50"}),e[31]||(e[31]=t("h3",{class:"mt-4 text-lg font-medium text-muted-foreground"},"Más opciones próximamente",-1)),e[32]||(e[32]=t("p",{class:"text-sm text-muted-foreground mt-2"}," Esta sección se expandirá con más opciones de configuración en futuras actualizaciones. ",-1))])]),_:1})]),_:1})])])])]),_:1})],64))}});export{wo as default};
