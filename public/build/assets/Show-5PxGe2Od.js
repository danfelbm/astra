import{d as ye,r as X,c as K,i as y,e as t,j as m,f as e,w as s,b as f,g as l,h as r,t as n,F as O,k as J,m as i,n as G,v as H,s as A,x as De,y as je,q as Ve,l as pe}from"./app-CXqeR4-a.js";import{_ as Me}from"./AdminLayout.vue_vue_type_script_setup_true_lang-IcTNYCqS.js";import{_ as P,c as j,a as N,b as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-TyS-yRYh.js";import{_ as ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-Ch2GH_sJ.js";import{_ as D}from"./createLucideIcon-CpLzXnUV.js";import{_ as q}from"./index-CygHK_pP.js";import{_ as he}from"./Progress.vue_vue_type_script_setup_true_lang-QU6OVepI.js";import{_ as Ae,a as Be,b as oe,c as le}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Cl1j4KCW.js";import{a as Se,b as ie,c as M,d as qe,e as V,_ as ze}from"./TableHeader.vue_vue_type_script_setup_true_lang-BVJnOh2_.js";import{_ as be,a as _e,b as we}from"./index-COvOW60f.js";import{t as ee}from"./index-BAyl8pp2.js";import{E as Fe}from"./EtiquetaDisplay-U62BLKoW.js";import{E as Le}from"./EtiquetaSelector-BUrJ-kNb.js";import{_ as ke}from"./Checkbox.vue_vue_type_script_setup_true_lang-BulRBheZ.js";import{_ as Ne,a as Ue,b as Ie,c as Re,d as ce,e as se}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C6eblcqN.js";import{u as Oe}from"./useToast-DbI0v1gq.js";import{F as Y}from"./file-text-DJ4yUYAt.js";import{C as Te}from"./circle-alert-iRJER3rF.js";import{C as re}from"./calendar-BhbA0VfK.js";import{D as Ge}from"./dollar-sign-CRX3PVr6.js";import{E as Xe}from"./ellipsis-DWwD57KO.js";import{E as Je}from"./eye-BsVk40Lb.js";import{S as de}from"./square-pen-DBiqZ18w.js";import{D as He}from"./download-CosT8bnY.js";import{C as Ke}from"./copy-D51XLMde.js";import{T as Pe}from"./trash-2-Dl1NliaY.js";import{_ as Qe,a as We}from"./ScrollArea.vue_vue_type_script_setup_true_lang-DV6pneQK.js";import{C as Ye}from"./chevron-left-Cz05qBRR.js";import{C as Ze}from"./chevron-right-BdTxjXhb.js";import{C as et}from"./circle-x-Ce6mwPlG.js";import{C as me}from"./circle-check-big-lqfwvN3H.js";import{C as tt}from"./circle-COCCZuN8.js";import{_ as st}from"./EvidenciaFilters.vue_vue_type_script_setup_true_lang-A-qtKxOs.js";import{_ as at,a as ot,b as lt,c as it}from"./AccordionContent.vue_vue_type_script_setup_true_lang-C4UTygi7.js";import{L as rt,H as $e}from"./HitoCard-DjTLQxrj.js";import{I as nt}from"./info-hZV7e_6m.js";import{U as dt}from"./users-DofqsMlh.js";import{I as ue}from"./image-DVcAZd0k.js";import{M as Ce,B as ct,C as ut}from"./milestone-D9n1Lzwe.js";import{F as ft}from"./flag-CNrpwL2m.js";import{C as mt}from"./clock-CNvoM-DA.js";import{T as yt}from"./tag-C8VGfrhf.js";import{P as te}from"./plus-DUtB4BJC.js";import{T as fe}from"./target-BfvmtbMU.js";import{U as Ee}from"./user-CrbfBtOr.js";import{E as gt}from"./external-link-D_WcZCRK.js";import{C as vt}from"./circle-play-Bkya65rK.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-p2jd-okk.js";import"./index-BH7gl6Ss.js";import"./floating-ui.vue-DAU4aHHe.js";import"./x-BEuzp8MD.js";import"./Input.vue_vue_type_script_setup_true_lang-CGgKhCND.js";import"./index-YW3zb1ZU.js";import"./shield-FLxsrGPv.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DLXfhP6o.js";import"./VisuallyHidden-BDq1908I.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DUiQEXpy.js";import"./check-0OPOwJmX.js";import"./Label.vue_vue_type_script_setup_true_lang-CMq6Pfuh.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-4LtOKtkS.js";import"./map-pin-CTYkmBKO.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-Bwedse_w.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-CMWjxFa0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-DQYtEDgI.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-lCEEPyK_.js";import"./vote-Cx7z7cCy.js";import"./folder-open-Cz7TU5G7.js";import"./send-CNV79Cc9.js";import"./briefcase-DtUjoyxL.js";import"./megaphone-CEscX79J.js";import"./user-check-D68eI8mt.js";import"./clipboard-list-DpkdxP2e.js";import"./mail-B1IK9ZRj.js";import"./message-square-liFODg4r.js";import"./panel-left-BNWoR6eC.js";import"./index-CTi6IpqL.js";import"./RovingFocusItem-C-er15Ny.js";import"./utils-Dfjd-tqd.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DVlcjevx.js";import"./layers-Ba9bdJK9.js";import"./zap-CID3u65u.js";import"./trending-up-BdCYbKnt.js";import"./award-DiZmWx9-.js";import"./hash-5DlmzauF.js";import"./index-Bdd1vx9C.js";import"./search-Bt_YncZq.js";import"./useKbd-kRIii9yh.js";import"./VisuallyHiddenInput-CBEv58p7.js";import"./useEtiquetaHierarchy-DdMF6Bat.js";import"./list-B38DWjaj.js";import"./tree-pine-r5ZIg8Yl.js";import"./useArrowNavigation-B5rxJs06.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-FLkZAo8V.js";import"./pen-DiQxtX2h.js";import"./calendar-days-jFheAUI1.js";import"./es-BDPlFIsO.js";const xt={borrador:"Borrador",activo:"Activo",finalizado:"Finalizado",cancelado:"Cancelado"},pt={servicio:"Servicio",obra:"Obra",suministro:"Suministro",consultoria:"Consultoría",otro:"Otro"};function ht(o){return xt[o]||o}function bt(o){return pt[o]||o}function _t(o,x="USD"){return o?new Intl.NumberFormat("es-ES",{style:"currency",currency:x,minimumFractionDigits:2,maximumFractionDigits:2}).format(o):"-"}const wt={class:"space-y-4"},kt={key:0,class:"flex items-center justify-center py-12"},$t={class:"flex items-center gap-1"},Ct={key:0,class:"text-xs"},Et={class:"flex items-center gap-1"},Dt={key:0,class:"text-xs"},St={class:"flex items-center gap-1"},qt={key:0,class:"text-xs"},zt={class:"flex items-center gap-2"},Tt={class:"flex items-center gap-1 mt-1"},Ht={key:1,class:"text-gray-400"},Pt={class:"flex items-center gap-1"},jt={key:0,class:"flex items-center gap-1"},Vt={key:1,class:"text-gray-400"},Mt={key:0,class:"text-sm text-gray-600"},At=ye({__name:"ContratosList",props:{contratos:{},loading:{type:Boolean,default:!1},showProyecto:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0},showSelection:{type:Boolean,default:!1},selectedIds:{default:()=>[]}},emits:["select","selectAll","edit","delete","duplicate","changeStatus","download"],setup(o,{expose:x,emit:B}){const w=o,z=B,I=Oe(),S=X(new Set(w.selectedIds)),F=X("fecha_inicio"),L=X("desc"),R=K(()=>w.contratos.length>0&&w.contratos.every(_=>S.value.has(_.id))),Q=K(()=>w.contratos.some(_=>S.value.has(_.id))&&!R.value),W=K(()=>{const _=[...w.contratos];return _.sort((c,h)=>{let E=c[F.value],Z=h[F.value];return E==null?1:Z==null?-1:(typeof E=="string"&&(E=E.toLowerCase(),Z=Z.toLowerCase()),L.value==="asc"?E>Z?1:-1:E<Z?1:-1)}),_}),$=_=>({borrador:"bg-gray-100 text-gray-800",activo:"bg-green-100 text-green-800",finalizado:"bg-blue-100 text-blue-800",cancelado:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",p=_=>({servicio:"bg-purple-100 text-purple-800",obra:"bg-orange-100 text-orange-800",suministro:"bg-indigo-100 text-indigo-800",consultoria:"bg-pink-100 text-pink-800",otro:"bg-gray-100 text-gray-800"})[_]||"bg-gray-100 text-gray-800",k=_=>_?new Date(_).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"-",g=_=>{F.value===_?L.value=L.value==="asc"?"desc":"asc":(F.value=_,L.value="asc")},u=_=>{S.value.has(_)?S.value.delete(_):S.value.add(_)},b=()=>{R.value?S.value.clear():w.contratos.forEach(_=>S.value.add(_.id)),z("selectAll",R.value)},T=(_,c)=>{switch(_){case"view":A.get(route("admin.contratos.show",c.id));break;case"edit":z("edit",c),A.get(route("admin.contratos.edit",c.id));break;case"duplicate":z("duplicate",c);break;case"delete":z("delete",c);break;case"download":c.archivo_pdf?(z("download",c),window.open(c.archivo_pdf,"_blank")):I.error("Este contrato no tiene archivo PDF");break}},ae=(_,c)=>{z("changeStatus",_,c)};return x({selectedContratos:S}),(_,c)=>(i(),y("div",wt,[t(e(P),null,{default:s(()=>[t(e(j),{class:"p-0"},{default:s(()=>[o.loading?(i(),y("div",kt,[...c[3]||(c[3]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)])])):(i(),f(e(ze),{key:1},{default:s(()=>[t(e(Se),null,{default:s(()=>[t(e(ie),null,{default:s(()=>[o.showSelection?(i(),f(e(M),{key:0,class:"w-12"},{default:s(()=>[t(e(ke),{checked:R.value,indeterminate:Q.value,"onUpdate:checked":b},null,8,["checked","indeterminate"])]),_:1})):m("",!0),t(e(M),{class:"cursor-pointer hover:bg-gray-50",onClick:c[0]||(c[0]=h=>g("nombre"))},{default:s(()=>[l("div",$t,[c[4]||(c[4]=r(" Nombre ",-1)),F.value==="nombre"?(i(),y("span",Ct,n(L.value==="asc"?"↑":"↓"),1)):m("",!0)])]),_:1}),o.showProyecto?(i(),f(e(M),{key:1},{default:s(()=>[...c[5]||(c[5]=[r("Proyecto",-1)])]),_:1})):m("",!0),t(e(M),null,{default:s(()=>[...c[6]||(c[6]=[r("Estado",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...c[7]||(c[7]=[r("Tipo",-1)])]),_:1}),t(e(M),{class:"cursor-pointer hover:bg-gray-50",onClick:c[1]||(c[1]=h=>g("fecha_inicio"))},{default:s(()=>[l("div",Et,[c[8]||(c[8]=r(" Fecha Inicio ",-1)),F.value==="fecha_inicio"?(i(),y("span",Dt,n(L.value==="asc"?"↑":"↓"),1)):m("",!0)])]),_:1}),t(e(M),null,{default:s(()=>[...c[9]||(c[9]=[r("Fecha Fin",-1)])]),_:1}),t(e(M),{class:"cursor-pointer hover:bg-gray-50",onClick:c[2]||(c[2]=h=>g("monto_total"))},{default:s(()=>[l("div",St,[c[10]||(c[10]=r(" Monto ",-1)),F.value==="monto_total"?(i(),y("span",qt,n(L.value==="asc"?"↑":"↓"),1)):m("",!0)])]),_:1}),t(e(M),null,{default:s(()=>[...c[11]||(c[11]=[r("Responsable",-1)])]),_:1}),o.showActions?(i(),f(e(M),{key:2,class:"text-right"},{default:s(()=>[...c[12]||(c[12]=[r("Acciones",-1)])]),_:1})):m("",!0)]),_:1})]),_:1}),t(e(qe),null,{default:s(()=>[W.value.length>0?(i(!0),y(O,{key:0},J(W.value,h=>(i(),f(e(ie),{key:h.id,class:G({"bg-gray-50":S.value.has(h.id)})},{default:s(()=>[o.showSelection?(i(),f(e(V),{key:0},{default:s(()=>[t(e(ke),{checked:S.value.has(h.id),"onUpdate:checked":()=>u(h.id)},null,8,["checked","onUpdate:checked"])]),_:2},1024)):m("",!0),t(e(V),{class:"font-medium"},{default:s(()=>[l("div",zt,[t(e(Y),{class:"h-4 w-4 text-gray-400"}),l("div",null,[r(n(h.nombre)+" ",1),l("div",Tt,[h.esta_vencido?(i(),f(e(q),{key:0,variant:"destructive",class:"text-xs"},{default:s(()=>[...c[13]||(c[13]=[r(" Vencido ",-1)])]),_:1})):h.esta_proximo_vencer?(i(),f(e(q),{key:1,variant:"outline",class:"text-xs text-yellow-600 border-yellow-600"},{default:s(()=>[t(e(Te),{class:"h-3 w-3 mr-1"}),r(" "+n(h.dias_restantes)+" días ",1)]),_:2},1024)):m("",!0)])])])]),_:2},1024),o.showProyecto?(i(),f(e(V),{key:1},{default:s(()=>[h.proyecto?(i(),f(e(H),{key:0,href:_.route("admin.proyectos.show",h.proyecto.id),class:"text-blue-600 hover:underline"},{default:s(()=>[r(n(h.proyecto.nombre),1)]),_:2},1032,["href"])):(i(),y("span",Ht,"-"))]),_:2},1024)):m("",!0),t(e(V),null,{default:s(()=>[t(e(q),{class:G($(h.estado))},{default:s(()=>[r(n(e(ht)(h.estado)),1)]),_:2},1032,["class"])]),_:2},1024),t(e(V),null,{default:s(()=>[t(e(q),{class:G(p(h.tipo)),variant:"outline"},{default:s(()=>[r(n(e(bt)(h.tipo)),1)]),_:2},1032,["class"])]),_:2},1024),t(e(V),null,{default:s(()=>[l("div",Pt,[t(e(re),{class:"h-4 w-4 text-gray-400"}),r(" "+n(k(h.fecha_inicio)),1)])]),_:2},1024),t(e(V),null,{default:s(()=>[r(n(k(h.fecha_fin)),1)]),_:2},1024),t(e(V),null,{default:s(()=>[h.monto_total?(i(),y("div",jt,[t(e(Ge),{class:"h-4 w-4 text-gray-400"}),r(" "+n(e(_t)(h.monto_total,h.moneda)),1)])):(i(),y("span",Vt,"-"))]),_:2},1024),t(e(V),null,{default:s(()=>{var E;return[r(n(((E=h.responsable)==null?void 0:E.name)||"-"),1)]}),_:2},1024),o.showActions?(i(),f(e(V),{key:2,class:"text-right"},{default:s(()=>[t(e(Ne),null,{default:s(()=>[t(e(Ue),{asChild:""},{default:s(()=>[t(e(D),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(Xe),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(Ie),{align:"end"},{default:s(()=>[t(e(Re),null,{default:s(()=>[...c[14]||(c[14]=[r("Acciones",-1)])]),_:1}),t(e(ce)),t(e(se),{onClick:E=>T("view",h)},{default:s(()=>[t(e(Je),{class:"h-4 w-4 mr-2"}),c[15]||(c[15]=r(" Ver detalles ",-1))]),_:1},8,["onClick"]),t(e(se),{onClick:E=>T("edit",h)},{default:s(()=>[t(e(de),{class:"h-4 w-4 mr-2"}),c[16]||(c[16]=r(" Editar ",-1))]),_:1},8,["onClick"]),h.archivo_pdf?(i(),f(e(se),{key:0,onClick:E=>T("download",h)},{default:s(()=>[t(e(He),{class:"h-4 w-4 mr-2"}),c[17]||(c[17]=r(" Descargar PDF ",-1))]),_:1},8,["onClick"])):m("",!0),t(e(ce)),h.estado==="borrador"?(i(),f(e(se),{key:1,onClick:E=>ae(h,"activo")},{default:s(()=>[...c[18]||(c[18]=[r(" Activar ",-1)])]),_:1},8,["onClick"])):m("",!0),h.estado==="activo"?(i(),f(e(se),{key:2,onClick:E=>ae(h,"finalizado")},{default:s(()=>[...c[19]||(c[19]=[r(" Finalizar ",-1)])]),_:1},8,["onClick"])):m("",!0),t(e(se),{onClick:E=>T("duplicate",h)},{default:s(()=>[t(e(Ke),{class:"h-4 w-4 mr-2"}),c[20]||(c[20]=r(" Duplicar ",-1))]),_:1},8,["onClick"]),t(e(ce)),t(e(se),{class:"text-red-600",onClick:E=>T("delete",h)},{default:s(()=>[t(e(Pe),{class:"h-4 w-4 mr-2"}),c[21]||(c[21]=r(" Eliminar ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):m("",!0)]),_:2},1032,["class"]))),128)):(i(),f(e(ie),{key:1},{default:s(()=>[t(e(V),{colspan:o.showSelection?10:9,class:"text-center py-8 text-gray-500"},{default:s(()=>[t(e(Y),{class:"h-12 w-12 text-gray-300 mx-auto mb-2"}),c[22]||(c[22]=l("p",null,"No se encontraron contratos",-1))]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1}))]),_:1})]),_:1}),o.showSelection&&S.value.size>0?(i(),y("div",Mt,n(S.value.size)+" contrato(s) seleccionado(s) ",1)):m("",!0)]))}}),Bt={class:"flex justify-between items-start"},Ft={class:"flex items-center gap-2"},Lt={key:0,class:"grid grid-cols-4 gap-4 mb-6"},Nt={class:"text-center"},Ut={class:"text-2xl font-bold text-green-600"},It={class:"text-center"},Rt={class:"text-2xl font-bold text-blue-600"},Ot={class:"text-center"},Gt={class:"text-2xl font-bold text-gray-600"},Xt={class:"text-center"},Jt={class:"text-2xl font-bold text-red-600"},Kt={key:1,class:"space-y-4"},Qt={key:0,class:"flex items-center justify-between mb-4"},Wt={class:"flex items-center gap-2"},Yt={class:"font-medium"},Zt={class:"flex gap-2"},es={class:"space-y-2"},ts={key:0,class:"absolute left-5 top-8 w-0.5 h-full bg-border"},ss={class:"relative z-10 flex-shrink-0"},as={class:"flex-1 min-w-0"},os={class:"flex items-start justify-between gap-4"},ls={class:"font-semibold truncate"},is={class:"flex items-center gap-4 mt-1 text-sm text-muted-foreground"},rs={class:"flex items-center gap-1"},ns={key:0,class:"flex items-center gap-1"},ds={key:0,class:"text-right"},cs={class:"font-semibold"},us={class:"text-xs text-muted-foreground"},fs={key:0,class:"mt-2"},ms={class:"w-full bg-muted rounded-full h-2"},ys={key:2,class:"text-center py-8"},gs=ye({__name:"ContratoTimeline",props:{contratos:{},titulo:{},descripcion:{},mostrarMonto:{type:Boolean},compacto:{type:Boolean}},setup(o){const x=o,B=X(new Date),w=X(!1),z=K(()=>({activos:x.contratos.filter(u=>u.estado==="activo").length,finalizados:x.contratos.filter(u=>u.estado==="finalizado").length,borradores:x.contratos.filter(u=>u.estado==="borrador").length,cancelados:x.contratos.filter(u=>u.estado==="cancelado").length})),I=K(()=>[...x.contratos].sort((g,u)=>new Date(g.fecha_inicio).getTime()-new Date(u.fecha_inicio).getTime())),S=K(()=>{if(x.contratos.length===0)return null;const g=x.contratos.flatMap(T=>[new Date(T.fecha_inicio),T.fecha_fin?new Date(T.fecha_fin):new Date(T.fecha_inicio)]),u=new Date(Math.min(...g.map(T=>T.getTime()))),b=new Date(Math.max(...g.map(T=>T.getTime())));return{min:u,max:b}});K(()=>{if(!S.value)return[];const g=[],u=new Date(S.value.min);for(u.setDate(1);u<=S.value.max;)g.push(new Date(u)),u.setMonth(u.getMonth()+1);return g});const F=g=>({borrador:{color:"secondary",icon:Y,label:"Borrador"},activo:{color:"success",icon:me,label:"Activo"},finalizado:{color:"default",icon:me,label:"Finalizado"},cancelado:{color:"destructive",icon:et,label:"Cancelado"}})[g]||{color:"default",icon:tt,label:g},L=g=>g.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),R=g=>new Date(g).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),Q=g=>g.estado!=="activo"||!g.fecha_fin?!1:new Date(g.fecha_fin)<new Date,W=g=>{if(g.estado!=="activo"||!g.fecha_fin)return!1;const u=Math.ceil((new Date(g.fecha_fin).getTime()-new Date().getTime())/(1e3*60*60*24));return u>0&&u<=30},$=()=>{const g=new Date(B.value);g.setMonth(g.getMonth()-1),B.value=g},p=()=>{const g=new Date(B.value);g.setMonth(g.getMonth()+1),B.value=g},k=()=>{B.value=new Date};return(g,u)=>(i(),f(e(P),null,{default:s(()=>[t(e(N),null,{default:s(()=>[l("div",Bt,[l("div",null,[t(e(U),null,{default:s(()=>[r(n(o.titulo||"Timeline de Contratos"),1)]),_:1}),o.descripcion?(i(),f(e(ne),{key:0},{default:s(()=>[r(n(o.descripcion),1)]),_:1})):m("",!0)]),l("div",Ft,[t(e(q),{variant:"outline"},{default:s(()=>[r(n(o.contratos.length)+" contratos ",1)]),_:1}),o.compacto?m("",!0):(i(),f(e(D),{key:0,onClick:u[0]||(u[0]=b=>w.value=!w.value),size:"sm",variant:"outline"},{default:s(()=>[r(n(w.value?"Vista compacta":"Vista expandida"),1)]),_:1}))])])]),_:1}),t(e(j),null,{default:s(()=>[o.compacto?m("",!0):(i(),y("div",Lt,[l("div",Nt,[l("div",Ut,n(z.value.activos),1),u[1]||(u[1]=l("div",{class:"text-xs text-muted-foreground"},"Activos",-1))]),l("div",It,[l("div",Rt,n(z.value.finalizados),1),u[2]||(u[2]=l("div",{class:"text-xs text-muted-foreground"},"Finalizados",-1))]),l("div",Ot,[l("div",Gt,n(z.value.borradores),1),u[3]||(u[3]=l("div",{class:"text-xs text-muted-foreground"},"Borradores",-1))]),l("div",Xt,[l("div",Jt,n(z.value.cancelados),1),u[4]||(u[4]=l("div",{class:"text-xs text-muted-foreground"},"Cancelados",-1))])])),o.contratos.length>0?(i(),y("div",Kt,[o.compacto?m("",!0):(i(),y("div",Qt,[t(e(D),{onClick:$,size:"sm",variant:"outline"},{default:s(()=>[t(e(Ye),{class:"w-4 h-4"})]),_:1}),l("div",Wt,[t(e(re),{class:"w-4 h-4 text-muted-foreground"}),l("span",Yt,n(L(B.value)),1)]),l("div",Zt,[t(e(D),{onClick:k,size:"sm",variant:"outline"},{default:s(()=>[...u[5]||(u[5]=[r(" Hoy ",-1)])]),_:1}),t(e(D),{onClick:p,size:"sm",variant:"outline"},{default:s(()=>[t(e(Ze),{class:"w-4 h-4"})]),_:1})])])),t(e(Qe),{class:"w-full whitespace-nowrap"},{default:s(()=>[l("div",es,[(i(!0),y(O,null,J(I.value,(b,T)=>(i(),y("div",{key:b.id,class:"relative flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors"},[T<I.value.length-1?(i(),y("div",ts)):m("",!0),l("div",ss,[l("div",{class:G(["w-10 h-10 rounded-full flex items-center justify-center",{"bg-green-100":b.estado==="activo","bg-blue-100":b.estado==="finalizado","bg-gray-100":b.estado==="borrador","bg-red-100":b.estado==="cancelado"}])},[(i(),f(De(F(b.estado).icon),{class:G(["w-5 h-5",{"text-green-600":b.estado==="activo","text-blue-600":b.estado==="finalizado","text-gray-600":b.estado==="borrador","text-red-600":b.estado==="cancelado"}])},null,8,["class"]))],2)]),l("div",as,[l("div",os,[l("div",null,[l("h4",ls,n(b.nombre),1),l("div",is,[l("span",rs,[t(e(re),{class:"w-3 h-3"}),r(" "+n(R(b.fecha_inicio)),1)]),b.fecha_fin?(i(),y("span",ns," → "+n(R(b.fecha_fin)),1)):m("",!0),Q(b)?(i(),f(e(q),{key:1,variant:"destructive",class:"text-xs"},{default:s(()=>[...u[6]||(u[6]=[r(" Vencido ",-1)])]),_:1})):W(b)?(i(),f(e(q),{key:2,variant:"secondary",class:"text-xs"},{default:s(()=>[...u[7]||(u[7]=[r(" Próximo a vencer ",-1)])]),_:1})):m("",!0)])]),o.mostrarMonto&&b.monto_total?(i(),y("div",ds,[l("div",cs," $"+n(b.monto_total.toLocaleString()),1),l("div",us,n(b.moneda||"USD"),1)])):m("",!0)]),b.fecha_fin&&!o.compacto?(i(),y("div",fs,[l("div",ms,[l("div",{class:G(["h-2 rounded-full transition-all",{"bg-green-500":b.estado==="activo"&&!Q(b),"bg-red-500":Q(b),"bg-orange-500":W(b),"bg-blue-500":b.estado==="finalizado","bg-gray-400":b.estado==="cancelado"}]),style:je({width:`${Math.min(100,Math.max(0,(new Date().getTime()-new Date(b.fecha_inicio).getTime())/(new Date(b.fecha_fin).getTime()-new Date(b.fecha_inicio).getTime())*100))}%`})},null,6)])])):m("",!0)])]))),128))]),t(e(We),{orientation:"horizontal"})]),_:1})])):(i(),y("div",ys,[t(e(Y),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),u[8]||(u[8]=l("p",{class:"text-muted-foreground"},"No hay contratos para mostrar",-1))]))]),_:1})]),_:1}))}});function vs(){const o=X(!1),x=X(null);async function B($,p){return o.value=!0,x.value=null,new Promise((k,g)=>{A.post(`/admin/proyectos/${$}/etiquetas`,{etiqueta_id:p},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.value=!1,k(!0)},onError:u=>{o.value=!1,x.value=Object.values(u).join(", "),g(u)}})})}async function w($,p){return o.value=!0,x.value=null,new Promise((k,g)=>{A.delete(`/admin/proyectos/${$}/etiquetas/${p}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.value=!1,k(!0)},onError:u=>{o.value=!1,x.value="Error al quitar la etiqueta",g(u)}})})}async function z($,p){return o.value=!0,x.value=null,new Promise((k,g)=>{A.put(`/admin/proyectos/${$}/etiquetas/sync`,{etiquetas:p},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.value=!1,k(!0)},onError:u=>{o.value=!1,x.value="Error al sincronizar etiquetas",g(u)}})})}async function I($){o.value=!0,x.value=null;try{const p=await fetch(`/admin/proyectos/${$}/etiquetas/suggest`);if(!p.ok)throw new Error("Error al obtener sugerencias");const k=await p.json();return o.value=!1,k.etiquetas||[]}catch(p){return o.value=!1,x.value="Error al obtener sugerencias de etiquetas",console.error(p),[]}}async function S($){var p;o.value=!0,x.value=null;try{const k=await fetch("/admin/etiquetas",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"))||""},body:JSON.stringify($)});if(!k.ok){const u=await k.json();throw new Error(u.message||"Error al crear etiqueta")}const g=await k.json();return o.value=!1,g.data}catch(k){return o.value=!1,x.value=k.message||"Error al crear etiqueta",console.error(k),null}}async function F($){if($.length<2)return[];try{const p=await fetch(`/admin/etiquetas/search?q=${encodeURIComponent($)}`);if(!p.ok)throw new Error("Error al buscar etiquetas");return(await p.json()).data||[]}catch(p){return console.error("Error buscando etiquetas:",p),[]}}function L($){const p=new Map;return $.forEach(k=>{var u;const g=((u=k.categoria)==null?void 0:u.nombre)||"Sin categoría";p.has(g)||p.set(g,[]),p.get(g).push(k)}),p}function R($){var p;return $.color||((p=$.categoria)==null?void 0:p.color)||"gray"}function Q($,p=10){return $<p}async function W($,p){return o.value=!0,x.value=null,new Promise((k,g)=>{A.post(`/admin/proyectos/${$}/etiquetas/reorder`,{etiquetas:p},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.value=!1,k(!0)},onError:u=>{o.value=!1,x.value="Error al reordenar etiquetas",g(u)}})})}return{isLoading:o,error:x,addEtiquetaToProyecto:B,removeEtiquetaFromProyecto:w,syncEtiquetasProyecto:z,getSugerenciasEtiquetas:I,reorderEtiquetas:W,createEtiqueta:S,searchEtiquetas:F,groupEtiquetasByCategoria:L,getEtiquetaColor:R,canAddMoreEtiquetas:Q}}const xs={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ps={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},hs={class:"text-2xl font-bold text-gray-900 dark:text-white"},bs={key:0,class:"mt-2 text-gray-600 dark:text-gray-400"},_s={class:"flex gap-2"},ws={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ks={class:"lg:col-span-2 space-y-4"},$s={class:"flex items-center justify-between"},Cs={class:"flex items-center gap-3"},Es={class:"flex items-center gap-3"},Ds={class:"space-y-2"},Ss={class:"flex justify-between text-sm"},qs={class:"font-medium"},zs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2"},Ts={class:"flex items-start gap-3"},Hs={class:"font-medium"},Ps={class:"text-xs text-gray-500"},js={key:0,class:"flex items-start gap-3"},Vs={class:"font-medium"},Ms={class:"text-xs text-gray-500"},As={key:0,class:"flex items-center gap-3 pt-2"},Bs={class:"font-medium ml-2"},Fs={key:0},Ls={key:1,class:"text-sm text-muted-foreground"},Ns={key:1,class:"space-y-4"},Us={class:"flex gap-2"},Is={class:"space-y-3"},Rs={class:"text-sm text-gray-600 dark:text-gray-400"},Os={class:"font-medium"},Gs={key:0,class:"space-y-4"},Xs={class:"mt-4"},Js={class:"text-sm text-muted-foreground mb-3"},Ks={class:"grid gap-2"},Qs={class:"flex items-start justify-between"},Ws={class:"font-medium"},Ys={class:"flex items-center gap-2 mt-1"},Zs={class:"text-xs text-muted-foreground"},ea={key:0,class:"text-right"},ta={class:"font-semibold"},sa={class:"text-xs text-muted-foreground"},aa={key:1,class:"text-center py-6"},oa={class:"flex items-center gap-2"},la={key:0,class:"mb-6"},ia={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},ra={class:"text-center"},na={class:"text-2xl font-bold"},da={class:"text-center"},ca={class:"text-2xl font-bold text-blue-500"},ua={class:"text-center"},fa={class:"text-2xl font-bold text-green-500"},ma={class:"text-center"},ya={class:"space-y-2"},ga={class:"flex justify-between items-center text-sm"},va={class:"font-medium"},xa={key:1,class:"space-y-4"},pa={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},ha={key:2,class:"text-center py-6"},ba={class:"space-y-3"},_a={class:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},wa={class:"flex-1"},ka={class:"text-sm"},$a={class:"font-medium"},Ca={class:"text-xs text-gray-500 mt-1"},Ea={class:"space-y-4"},Da={key:0,class:"flex items-center gap-3"},Sa={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},qa={class:"font-medium"},za={class:"text-sm text-gray-500"},Ta={key:1,class:"text-gray-500"},Ha={class:"font-mono"},Pa={class:"font-medium"},ja={class:"text-sm"},Va={class:"text-sm"},Ma={class:"space-y-4"},Aa={class:"pb-4 border-b"},Ba={key:0,class:"flex items-center gap-3"},Fa={class:"font-medium"},La={class:"text-sm text-gray-500"},Na={key:1,class:"text-gray-500"},Ua={key:0},Ia={class:"space-y-2"},Ra={class:"flex-1"},Oa={class:"text-sm font-medium"},Ga={class:"text-xs text-gray-500"},Xa={key:1},Ja={key:0,class:"flex justify-end"},Ka={class:"space-y-4"},Qa={class:"text-center"},Wa={key:1},Ya={class:"flex items-center justify-between w-full pr-4"},Za={class:"flex items-center gap-3"},eo={class:"text-left"},to={class:"font-semibold"},so={class:"text-sm text-gray-500"},ao={class:"flex items-center gap-3"},oo={class:"text-sm text-gray-600"},lo={class:"text-sm"},io=["href"],ro={class:"text-center"},no={class:"text-center"},co={key:0,class:"flex justify-end"},uo={class:"space-y-6"},fo={class:"text-center"},si=ye({__name:"Show",props:{proyecto:{},categorias:{},totales:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageTags:{type:Boolean},canViewContracts:{type:Boolean},canCreateContracts:{type:Boolean},canViewHitos:{type:Boolean},canCreateHitos:{type:Boolean},canEditHitos:{type:Boolean},canDeleteHitos:{type:Boolean},canManageEntregables:{type:Boolean},estadisticasHitos:{}},setup(o){const x=o,B=X("general"),w=X({contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null}),z=X(!1),I=X([]),{syncEtiquetasProyecto:S,isLoading:F}=vs();x.proyecto.etiquetas&&(I.value=x.proyecto.etiquetas.map(v=>v.id));const L=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:x.proyecto.nombre,href:`/admin/proyectos/${x.proyecto.id}`}],R=()=>{confirm(`¿Estás seguro de eliminar el proyecto "${x.proyecto.nombre}"?`)&&A.delete(`/admin/proyectos/${x.proyecto.id}`,{onSuccess:()=>{ee.success("Proyecto eliminado exitosamente")},onError:()=>{ee.error("Error al eliminar el proyecto")}})},Q=v=>({planificacion:fe,en_progreso:vt,pausado:ut,completado:me,cancelado:ct})[v]||Te,W=v=>({planificacion:"bg-blue-100 text-blue-800",en_progreso:"bg-yellow-100 text-yellow-800",pausado:"bg-orange-100 text-orange-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",$=v=>({baja:"bg-gray-100 text-gray-800",media:"bg-blue-100 text-blue-800",alta:"bg-orange-100 text-orange-800",critica:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",p=v=>new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),k=v=>{const a=Math.floor((new Date(v).getTime()-new Date().getTime())/864e5);return a===0?"Hoy":a===1?"Mañana":a===-1?"Ayer":a>0?`En ${a} días`:`Hace ${Math.abs(a)} días`},g=async()=>{try{await S(x.proyecto.id,I.value),z.value=!1,ee.success("Etiquetas actualizadas exitosamente"),A.reload({only:["proyecto"]})}catch{ee.error("Error al actualizar las etiquetas")}},u=()=>{var v;I.value=((v=x.proyecto.etiquetas)==null?void 0:v.map(a=>a.id))||[],z.value=!1},b=v=>{A.visit(`/admin/proyectos/${x.proyecto.id}/hitos/${v.id}`)},T=v=>{A.visit(`/admin/proyectos/${x.proyecto.id}/hitos/${v.id}/edit`)},ae=v=>{confirm(`¿Estás seguro de eliminar el hito "${v.nombre}"? Se eliminarán también todos sus entregables.`)&&A.delete(`/admin/proyectos/${x.proyecto.id}/hitos/${v.id}`,{onSuccess:()=>{ee.success("Hito eliminado exitosamente"),A.reload({only:["proyecto"]})},onError:()=>{ee.error("Error al eliminar el hito")}})},_=v=>{A.post(`/admin/proyectos/${x.proyecto.id}/hitos/${v.id}/duplicar`,{},{onSuccess:()=>{ee.success("Hito duplicado exitosamente"),A.reload({only:["proyecto"]})},onError:()=>{ee.error("Error al duplicar el hito")}})},c=v=>{A.visit(`/admin/proyectos/${x.proyecto.id}/hitos/${v.id}/entregables/create`)},h=v=>{A.visit(`/admin/proyectos/${x.proyecto.id}/hitos/${v.id}/entregables`)},E=K(()=>{const v=[];return x.proyecto.contratos&&x.proyecto.contratos.forEach(a=>{a.obligaciones&&a.obligaciones.forEach(d=>{d.evidencias&&d.evidencias.forEach(C=>{v.push({...C,contrato_id:a.id,contrato_numero:a.numero_contrato,contrato_nombre:a.nombre,obligacion_titulo:d.titulo,_contrato:a})})})}),v}),Z=K(()=>{let v=E.value;return w.value.contrato_id&&(v=v.filter(a=>a.contrato_id===w.value.contrato_id)),w.value.tipo&&(v=v.filter(a=>a.tipo_evidencia===w.value.tipo)),w.value.estado&&(v=v.filter(a=>a.estado===w.value.estado)),w.value.usuario_id&&(v=v.filter(a=>{var d;return((d=a.usuario)==null?void 0:d.id)===w.value.usuario_id})),(w.value.fecha_inicio||w.value.fecha_fin)&&(v=v.filter(a=>{const d=new Date(a.created_at);if(w.value.fecha_inicio){const C=new Date(w.value.fecha_inicio);if(d<C)return!1}if(w.value.fecha_fin){const C=new Date(w.value.fecha_fin);if(C.setHours(23,59,59,999),d>C)return!1}return!0})),v}),ge=K(()=>{const v={};return Z.value.forEach(a=>{v[a.contrato_id]||(v[a.contrato_id]={contrato:a._contrato,evidencias:[]}),v[a.contrato_id].evidencias.push(a)}),Object.values(v)}),ve=v=>v.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(v,a)=>(i(),y(O,null,[t(e(Ve),{title:`Proyecto: ${o.proyecto.nombre}`},null,8,["title"]),t(Me,{breadcrumbs:L},{default:s(()=>[l("div",xs,[l("div",ps,[l("div",null,[l("h1",hs,n(o.proyecto.nombre),1),o.proyecto.descripcion?(i(),y("p",bs,n(o.proyecto.descripcion),1)):m("",!0)]),l("div",_s,[o.canEdit?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/edit`},{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(de),{class:"mr-2 h-4 w-4"}),a[6]||(a[6]=r(" Editar ",-1))]),_:1})]),_:1},8,["href"])):m("",!0),o.canDelete?(i(),f(e(D),{key:1,variant:"destructive",onClick:R},{default:s(()=>[t(e(Pe),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=r(" Eliminar ",-1))]),_:1})):m("",!0)])]),t(e(Ae),{modelValue:B.value,"onUpdate:modelValue":a[5]||(a[5]=d=>B.value=d),class:"w-full"},{default:s(()=>[t(e(Be),{class:"grid w-full grid-cols-5"},{default:s(()=>[t(e(oe),{value:"general"},{default:s(()=>[t(e(nt),{class:"mr-2 h-4 w-4"}),a[8]||(a[8]=r(" General ",-1))]),_:1}),t(e(oe),{value:"usuarios"},{default:s(()=>{var d;return[t(e(dt),{class:"mr-2 h-4 w-4"}),a[9]||(a[9]=r(" Usuarios ",-1)),(d=o.totales)!=null&&d.usuarios?(i(),f(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[r(n(o.totales.usuarios),1)]),_:1})):m("",!0)]}),_:1}),t(e(oe),{value:"contratos"},{default:s(()=>{var d;return[t(e(Y),{class:"mr-2 h-4 w-4"}),a[10]||(a[10]=r(" Contratos ",-1)),(d=o.totales)!=null&&d.contratos?(i(),f(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[r(n(o.totales.contratos),1)]),_:1})):m("",!0)]}),_:1}),t(e(oe),{value:"evidencias"},{default:s(()=>{var d;return[t(e(ue),{class:"mr-2 h-4 w-4"}),a[11]||(a[11]=r(" Evidencias ",-1)),(d=o.totales)!=null&&d.evidencias?(i(),f(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[r(n(o.totales.evidencias),1)]),_:1})):m("",!0)]}),_:1}),t(e(oe),{value:"hitos"},{default:s(()=>{var d;return[t(e(Ce),{class:"mr-2 h-4 w-4"}),a[12]||(a[12]=r(" Hitos y Entregables ",-1)),(d=o.totales)!=null&&d.hitos?(i(),f(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[r(n(o.totales.hitos),1)]),_:1})):m("",!0)]}),_:1})]),_:1}),t(e(le),{value:"general",class:"space-y-4 mt-6"},{default:s(()=>[l("div",ws,[l("div",ks,[t(e(P),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[13]||(a[13]=[r("Estado del Proyecto",-1)])]),_:1})]),_:1}),t(e(j),{class:"space-y-4"},{default:s(()=>[l("div",$s,[l("div",Cs,[(i(),f(De(Q(o.proyecto.estado)),{class:"h-5 w-5 text-gray-500"})),a[14]||(a[14]=l("span",{class:"font-medium"},"Estado:",-1)),t(e(q),{class:G(W(o.proyecto.estado))},{default:s(()=>[r(n(o.proyecto.estado_label),1)]),_:1},8,["class"])]),l("div",Es,[t(e(ft),{class:"h-5 w-5 text-gray-500"}),a[15]||(a[15]=l("span",{class:"font-medium"},"Prioridad:",-1)),t(e(q),{class:G($(o.proyecto.prioridad))},{default:s(()=>[r(n(o.proyecto.prioridad_label),1)]),_:1},8,["class"])])]),l("div",Ds,[l("div",Ss,[a[16]||(a[16]=l("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso",-1)),l("span",qs,n(o.proyecto.porcentaje_completado)+"%",1)]),t(e(he),{value:o.proyecto.porcentaje_completado,class:"h-2"},null,8,["value"])]),l("div",zs,[l("div",Ts,[t(e(re),{class:"h-5 w-5 text-gray-500 mt-0.5"}),l("div",null,[a[17]||(a[17]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fecha de inicio",-1)),l("p",Hs,n(p(o.proyecto.fecha_inicio)),1),l("p",Ps,n(k(o.proyecto.fecha_inicio)),1)])]),o.proyecto.fecha_fin?(i(),y("div",js,[t(e(re),{class:"h-5 w-5 text-gray-500 mt-0.5"}),l("div",null,[a[18]||(a[18]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fecha de fin",-1)),l("p",Vs,n(p(o.proyecto.fecha_fin)),1),l("p",Ms,n(k(o.proyecto.fecha_fin)),1)])])):m("",!0)]),o.proyecto.duracion_dias?(i(),y("div",As,[t(e(mt),{class:"h-5 w-5 text-gray-500"}),l("div",null,[a[19]||(a[19]=l("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Duración total:",-1)),l("span",Bs,n(o.proyecto.duracion_dias)+" días",1)])])):m("",!0)]),_:1})]),_:1}),t(e(P),null,{default:s(()=>[t(e(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(U),{class:"flex items-center gap-2"},{default:s(()=>[t(e(yt),{class:"h-5 w-5"}),a[20]||(a[20]=r(" Etiquetas ",-1))]),_:1}),o.canManageTags&&!z.value?(i(),f(e(D),{key:0,variant:"ghost",size:"sm",onClick:a[0]||(a[0]=d=>z.value=!0)},{default:s(()=>[t(e(de),{class:"h-4 w-4"})]),_:1})):m("",!0)]),_:1}),t(e(j),null,{default:s(()=>[z.value?(i(),y("div",Ns,[o.categorias?(i(),f(Le,{key:0,modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=d=>I.value=d),categorias:o.categorias,"max-etiquetas":10,placeholder:"Seleccionar etiquetas...",description:"Selecciona hasta 10 etiquetas para este proyecto"},null,8,["modelValue","categorias"])):m("",!0),l("div",Us,[t(e(D),{size:"sm",onClick:g,disabled:e(F)},{default:s(()=>[...a[21]||(a[21]=[r(" Guardar ",-1)])]),_:1},8,["disabled"]),t(e(D),{size:"sm",variant:"outline",onClick:u,disabled:e(F)},{default:s(()=>[...a[22]||(a[22]=[r(" Cancelar ",-1)])]),_:1},8,["disabled"])])])):(i(),y("div",Fs,[o.proyecto.etiquetas&&o.proyecto.etiquetas.length>0?(i(),f(Fe,{key:0,etiquetas:o.proyecto.etiquetas,"show-categoria":!0,interactive:!0,size:"md"},null,8,["etiquetas"])):(i(),y("p",Ls," No hay etiquetas asignadas "))]))]),_:1})]),_:1}),o.proyecto.campos_personalizados&&o.proyecto.campos_personalizados.length>0?(i(),f(e(P),{key:0},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[23]||(a[23]=[r("Campos Personalizados",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[l("div",Is,[(i(!0),y(O,null,J(o.proyecto.campos_personalizados,d=>(i(),y("div",{key:d.id,class:"flex justify-between py-2 border-b last:border-b-0"},[l("span",Rs,n(d.nombre),1),l("span",Os,n(d.valor_formateado||d.valor||"-"),1)]))),128))])]),_:1})]),_:1})):m("",!0),o.canViewContracts?(i(),f(e(P),{key:1},{default:s(()=>[t(e(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(U),{class:"flex items-center gap-2"},{default:s(()=>[t(e(Y),{class:"h-5 w-5"}),a[24]||(a[24]=r(" Contratos ",-1))]),_:1}),o.canCreateContracts?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/contratos/create`},{default:s(()=>[t(e(D),{size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),a[25]||(a[25]=r(" Nuevo Contrato ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),_:1}),t(e(j),null,{default:s(()=>[o.proyecto.contratos&&o.proyecto.contratos.length>0?(i(),y("div",Gs,[t(gs,{contratos:o.proyecto.contratos,"mostrar-monto":!0,compacto:!0},null,8,["contratos"]),l("div",Xs,[l("p",Js,n(o.proyecto.contratos.length)+" contrato(s) asociado(s) ",1),l("div",Ks,[(i(!0),y(O,null,J(o.proyecto.contratos.slice(0,3),d=>(i(),f(e(H),{key:d.id,href:`/admin/contratos/${d.id}`,class:"block p-3 rounded-lg border hover:bg-muted/50 transition-colors"},{default:s(()=>[l("div",Qs,[l("div",null,[l("p",Ws,n(d.nombre),1),l("div",Ys,[t(e(q),{variant:d.estado==="activo"?"default":d.estado==="finalizado"?"secondary":d.estado==="cancelado"?"destructive":"outline"},{default:s(()=>[r(n(d.estado),1)]),_:2},1032,["variant"]),l("span",Zs,n(new Date(d.fecha_inicio).toLocaleDateString()),1)])]),d.monto_total?(i(),y("div",ea,[l("p",ta,"$"+n(d.monto_total.toLocaleString()),1),l("p",sa,n(d.moneda||"USD"),1)])):m("",!0)])]),_:2},1032,["href"]))),128))]),o.proyecto.contratos.length>3?(i(),f(e(H),{key:0,href:`/admin/contratos?proyecto_id=${o.proyecto.id}`,class:"block text-center mt-3 text-sm text-primary hover:underline"},{default:s(()=>[r(" Ver todos los contratos ("+n(o.proyecto.contratos.length)+") ",1)]),_:1},8,["href"])):m("",!0)])])):(i(),y("div",aa,[t(e(Y),{class:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),a[27]||(a[27]=l("p",{class:"text-muted-foreground mb-3"},"No hay contratos asociados",-1)),o.canCreateContracts?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/contratos/create`},{default:s(()=>[t(e(D),{variant:"outline",size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),a[26]||(a[26]=r(" Crear Primer Contrato ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]))]),_:1})]),_:1})):m("",!0),o.canViewHitos?(i(),f(e(P),{key:2},{default:s(()=>[t(e(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(U),{class:"flex items-center gap-2"},{default:s(()=>[t(e(fe),{class:"h-5 w-5"}),a[28]||(a[28]=r(" Hitos y Entregables ",-1))]),_:1}),l("div",oa,[o.proyecto.hitos&&o.proyecto.hitos.length>0?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/hitos`},{default:s(()=>[t(e(D),{variant:"outline",size:"sm"},{default:s(()=>[t(e(rt),{class:"h-4 w-4 mr-2"}),a[29]||(a[29]=r(" Ver Todos ",-1))]),_:1})]),_:1},8,["href"])):m("",!0),o.canCreateHitos?(i(),f(e(H),{key:1,href:`/admin/proyectos/${o.proyecto.id}/hitos/create`},{default:s(()=>[t(e(D),{size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),a[30]||(a[30]=r(" Nuevo Hito ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)])]),_:1}),t(e(j),null,{default:s(()=>[o.estadisticasHitos&&o.estadisticasHitos.total>0?(i(),y("div",la,[l("div",ia,[l("div",ra,[l("p",na,n(o.estadisticasHitos.total),1),a[31]||(a[31]=l("p",{class:"text-xs text-muted-foreground"},"Total Hitos",-1))]),l("div",da,[l("p",ca,n(o.estadisticasHitos.en_progreso),1),a[32]||(a[32]=l("p",{class:"text-xs text-muted-foreground"},"En Progreso",-1))]),l("div",ua,[l("p",fa,n(o.estadisticasHitos.completados),1),a[33]||(a[33]=l("p",{class:"text-xs text-muted-foreground"},"Completados",-1))]),l("div",ma,[l("p",{class:G(["text-2xl font-bold",{"text-red-500":o.estadisticasHitos.vencidos>0}])},n(o.estadisticasHitos.vencidos),3),a[34]||(a[34]=l("p",{class:"text-xs text-muted-foreground"},"Vencidos",-1))])]),l("div",ya,[l("div",ga,[a[35]||(a[35]=l("span",{class:"text-muted-foreground"},"Progreso General",-1)),l("span",va,n(o.estadisticasHitos.progreso_general)+"%",1)]),t(e(he),{value:o.estadisticasHitos.progreso_general,class:"h-2"},null,8,["value"])])])):m("",!0),o.proyecto.hitos&&o.proyecto.hitos.length>0?(i(),y("div",xa,[l("div",pa,[(i(!0),y(O,null,J(o.proyecto.hitos.slice(0,6),d=>(i(),f($e,{key:d.id,hito:d,canEdit:o.canEditHitos,canDelete:o.canDeleteHitos,canManageDeliverables:o.canManageEntregables,showActions:!0,onView:b,onEdit:T,onDelete:ae,onDuplicate:_,onAddEntregable:c,onViewEntregables:h},null,8,["hito","canEdit","canDelete","canManageDeliverables"]))),128))]),o.proyecto.hitos.length>6?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/hitos`,class:"block text-center mt-4 text-sm text-primary hover:underline"},{default:s(()=>[r(" Ver todos los hitos ("+n(o.proyecto.hitos.length)+") ",1)]),_:1},8,["href"])):m("",!0)])):(i(),y("div",ha,[t(e(fe),{class:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),a[37]||(a[37]=l("p",{class:"text-muted-foreground mb-3"},"No hay hitos definidos para este proyecto",-1)),o.canCreateHitos?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/hitos/create`},{default:s(()=>[t(e(D),{variant:"outline",size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),a[36]||(a[36]=r(" Crear Primer Hito ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]))]),_:1})]),_:1})):m("",!0),o.proyecto.activities&&o.proyecto.activities.length>0?(i(),f(e(P),{key:3},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[38]||(a[38]=[r("Actividad Reciente",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[l("div",ba,[(i(!0),y(O,null,J(o.proyecto.activities,d=>{var C;return i(),y("div",{key:d.id,class:"flex items-start gap-3 pb-3 border-b last:border-b-0"},[l("div",_a,[t(e(Ee),{class:"h-4 w-4 text-gray-500"})]),l("div",wa,[l("p",ka,[l("span",$a,n(((C=d.causer)==null?void 0:C.name)||"Sistema"),1),r(" "+n(d.description),1)]),l("p",Ca,n(k(d.created_at)),1)])])}),128))])]),_:1})]),_:1})):m("",!0)]),l("div",Ea,[t(e(P),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[39]||(a[39]=[r("Responsable",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[o.proyecto.responsable?(i(),y("div",Da,[l("div",Sa,[t(e(Ee),{class:"h-5 w-5 text-gray-500"})]),l("div",null,[l("p",qa,n(o.proyecto.responsable.name),1),l("p",za,n(o.proyecto.responsable.email),1)])])):(i(),y("p",Ta,"Sin asignar"))]),_:1})]),_:1}),t(e(P),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[40]||(a[40]=[r("Información del Sistema",-1)])]),_:1})]),_:1}),t(e(j),{class:"space-y-3"},{default:s(()=>{var d;return[l("div",null,[a[41]||(a[41]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"ID del Proyecto",-1)),l("p",Ha,"#"+n(o.proyecto.id),1)]),l("div",null,[a[42]||(a[42]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Estado",-1)),t(e(q),{class:G(o.proyecto.activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")},{default:s(()=>[r(n(o.proyecto.activo?"Activo":"Inactivo"),1)]),_:1},8,["class"])]),l("div",null,[a[43]||(a[43]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Creado por",-1)),l("p",Pa,n(((d=o.proyecto.creador)==null?void 0:d.name)||"Sistema"),1)]),l("div",null,[a[44]||(a[44]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fecha de creación",-1)),l("p",ja,n(p(o.proyecto.created_at)),1)]),l("div",null,[a[45]||(a[45]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Última actualización",-1)),l("p",Va,n(p(o.proyecto.updated_at)),1)])]}),_:1})]),_:1}),t(e(P),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[46]||(a[46]=[r("Acciones Rápidas",-1)])]),_:1})]),_:1}),t(e(j),{class:"space-y-2"},{default:s(()=>[t(e(H),{href:"/admin/proyectos"},{default:s(()=>[t(e(D),{variant:"outline",class:"w-full justify-start"},{default:s(()=>[...a[47]||(a[47]=[r(" Volver al listado ",-1)])]),_:1})]),_:1}),o.canEdit?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/edit`},{default:s(()=>[t(e(D),{variant:"outline",class:"w-full justify-start"},{default:s(()=>[t(e(de),{class:"mr-2 h-4 w-4"}),a[48]||(a[48]=r(" Editar proyecto ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),_:1})]),_:1})])])]),_:1}),t(e(le),{value:"usuarios",class:"space-y-4 mt-6"},{default:s(()=>[t(e(P),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[49]||(a[49]=[r("Usuarios del Proyecto",-1)])]),_:1}),t(e(ne),null,{default:s(()=>[...a[50]||(a[50]=[r(" Personas asignadas y colaborando en este proyecto ",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[l("div",Ma,[l("div",Aa,[a[52]||(a[52]=l("h4",{class:"text-sm font-medium mb-3"},"Responsable del Proyecto",-1)),o.proyecto.responsable?(i(),y("div",Ba,[t(e(be),{class:"h-10 w-10"},{default:s(()=>[t(e(_e),{src:o.proyecto.responsable.avatar},null,8,["src"]),t(e(we),null,{default:s(()=>[r(n(ve(o.proyecto.responsable.name)),1)]),_:1})]),_:1}),l("div",null,[l("p",Fa,n(o.proyecto.responsable.name),1),l("p",La,n(o.proyecto.responsable.email),1)]),t(e(q),{class:"ml-auto"},{default:s(()=>[...a[51]||(a[51]=[r("Responsable",-1)])]),_:1})])):(i(),y("p",Na,"Sin responsable asignado"))]),o.proyecto.participantes&&o.proyecto.participantes.length>0?(i(),y("div",Ua,[a[53]||(a[53]=l("h4",{class:"text-sm font-medium mb-3"},"Participantes",-1)),l("div",Ia,[(i(!0),y(O,null,J(o.proyecto.participantes,d=>{var C;return i(),y("div",{key:d.id,class:"flex items-center gap-3 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800"},[t(e(be),{class:"h-8 w-8"},{default:s(()=>[t(e(_e),{src:d.avatar},null,8,["src"]),t(e(we),null,{default:s(()=>[r(n(ve(d.name)),1)]),_:2},1024)]),_:2},1024),l("div",Ra,[l("p",Oa,n(d.name),1),l("p",Ga,n(d.email),1)]),(C=d.pivot)!=null&&C.rol?(i(),f(e(q),{key:0,variant:"outline",class:"text-xs"},{default:s(()=>[r(n(d.pivot.rol),1)]),_:2},1024)):m("",!0)])}),128))])])):(i(),y("div",Xa,[...a[54]||(a[54]=[l("p",{class:"text-gray-500 text-center py-4"},"No hay participantes adicionales",-1)])]))])]),_:1})]),_:1})]),_:1}),t(e(le),{value:"contratos",class:"space-y-4 mt-6"},{default:s(()=>[o.canCreateContracts?(i(),y("div",Ja,[t(e(H),{href:`/admin/contratos/create?proyecto_id=${o.proyecto.id}`},{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),a[55]||(a[55]=r(" Nuevo Contrato ",-1))]),_:1})]),_:1},8,["href"])])):m("",!0),o.proyecto.contratos&&o.proyecto.contratos.length>0?(i(),f(e(P),{key:1},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[56]||(a[56]=[r("Contratos del Proyecto",-1)])]),_:1}),t(e(ne),null,{default:s(()=>[...a[57]||(a[57]=[r(" Lista de contratos asociados a este proyecto ",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[l("div",Ka,[t(At,{contratos:o.proyecto.contratos,"proyecto-id":o.proyecto.id,"can-edit":o.canEdit,"can-delete":o.canDelete},null,8,["contratos","proyecto-id","can-edit","can-delete"])])]),_:1})]),_:1})):(i(),f(e(P),{key:2},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[l("div",Qa,[t(e(Y),{class:"mx-auto h-12 w-12 text-gray-400"}),a[59]||(a[59]=l("p",{class:"mt-2 text-sm text-gray-600"},"No hay contratos asociados",-1)),o.canCreateContracts?(i(),f(e(H),{key:0,href:`/admin/contratos/create?proyecto_id=${o.proyecto.id}`,class:"mt-4 inline-block"},{default:s(()=>[t(e(D),{variant:"outline"},{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),a[58]||(a[58]=r(" Crear primer contrato ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)])]),_:1})]),_:1}))]),_:1}),t(e(le),{value:"evidencias",class:"space-y-4 mt-6"},{default:s(()=>[E.value.length>0?(i(),f(st,{key:0,modelValue:w.value,"onUpdate:modelValue":a[2]||(a[2]=d=>w.value=d),contratos:o.proyecto.contratos||[],evidencias:E.value},null,8,["modelValue","contratos","evidencias"])):m("",!0),ge.value.length>0?(i(),y("div",Wa,[t(e(at),{type:"multiple",class:"space-y-4",collapsible:""},{default:s(()=>[(i(!0),y(O,null,J(ge.value,d=>(i(),f(e(ot),{key:d.contrato.id,value:`contrato-${d.contrato.id}`,class:"border rounded-lg bg-card"},{default:s(()=>[t(e(lt),{class:"px-4 py-3 hover:no-underline hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg"},{default:s(()=>[l("div",Ya,[l("div",Za,[t(e(Y),{class:"h-5 w-5 text-gray-500"}),l("div",eo,[l("div",to,n(d.contrato.nombre),1),l("div",so,n(d.contrato.numero_contrato||"Sin número"),1)])]),l("div",ao,[t(e(q),{variant:"secondary"},{default:s(()=>[r(n(d.evidencias.length)+" evidencia(s) ",1)]),_:2},1024),t(e(H),{href:`/admin/contratos/${d.contrato.id}`,onClick:a[3]||(a[3]=pe(()=>{},["stop"])),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},{default:s(()=>[a[60]||(a[60]=r(" Ver contrato ",-1)),t(e(gt),{class:"h-3 w-3"})]),_:1},8,["href"])])])]),_:2},1024),t(e(it),{class:"px-4 pb-4"},{default:s(()=>[t(e(ze),null,{default:s(()=>[t(e(Se),null,{default:s(()=>[t(e(ie),null,{default:s(()=>[t(e(M),null,{default:s(()=>[...a[61]||(a[61]=[r("Tipo",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...a[62]||(a[62]=[r("Obligación",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...a[63]||(a[63]=[r("Descripción",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...a[64]||(a[64]=[r("Usuario",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...a[65]||(a[65]=[r("Estado",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...a[66]||(a[66]=[r("Fecha",-1)])]),_:1}),t(e(M),{class:"text-right"},{default:s(()=>[...a[67]||(a[67]=[r("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(qe),null,{default:s(()=>[(i(!0),y(O,null,J(d.evidencias,C=>(i(),f(e(ie),{key:C.id,class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800"},{default:s(()=>[t(e(H),{href:`/admin/contratos/${C.contrato_id}/evidencias/${C.id}`,class:"contents"},{default:s(()=>[t(e(V),null,{default:s(()=>[t(e(q),{variant:"outline"},{default:s(()=>[r(n(C.tipo_evidencia),1)]),_:2},1024)]),_:2},1024),t(e(V),null,{default:s(()=>[r(n(C.obligacion_titulo),1)]),_:2},1024),t(e(V),null,{default:s(()=>[l("span",oo,n(C.descripcion||"-"),1)]),_:2},1024),t(e(V),null,{default:s(()=>{var xe;return[l("span",lo,n(((xe=C.usuario)==null?void 0:xe.name)||"-"),1)]}),_:2},1024),t(e(V),null,{default:s(()=>[t(e(q),{class:G({"bg-yellow-100 text-yellow-800":C.estado==="pendiente","bg-green-100 text-green-800":C.estado==="aprobada","bg-red-100 text-red-800":C.estado==="rechazada"})},{default:s(()=>[r(n(C.estado),1)]),_:2},1032,["class"])]),_:2},1024),t(e(V),null,{default:s(()=>[r(n(p(C.created_at)),1)]),_:2},1024),t(e(V),{class:"text-right"},{default:s(()=>[C.archivo_url?(i(),y("a",{key:0,href:C.archivo_url,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800",onClick:a[4]||(a[4]=pe(()=>{},["stop"]))},[t(e(He),{class:"h-4 w-4"})],8,io)):m("",!0)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])):E.value.length===0?(i(),f(e(P),{key:2},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[l("div",ro,[t(e(ue),{class:"mx-auto h-12 w-12 text-gray-400"}),a[68]||(a[68]=l("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias cargadas",-1)),a[69]||(a[69]=l("p",{class:"text-xs text-gray-500 mt-1"},"Las evidencias se cargan desde los contratos",-1))])]),_:1})]),_:1})):(i(),f(e(P),{key:3},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[l("div",no,[t(e(ue),{class:"mx-auto h-12 w-12 text-gray-400"}),a[70]||(a[70]=l("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias que coincidan con los filtros",-1)),a[71]||(a[71]=l("p",{class:"text-xs text-gray-500 mt-1"},"Intenta ajustar los criterios de búsqueda",-1))])]),_:1})]),_:1}))]),_:1}),t(e(le),{value:"hitos",class:"space-y-4 mt-6"},{default:s(()=>[o.canCreateHitos?(i(),y("div",co,[t(e(H),{href:`/admin/proyectos/${o.proyecto.id}/hitos/create`},{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),a[72]||(a[72]=r(" Nuevo Hito ",-1))]),_:1})]),_:1},8,["href"])])):m("",!0),o.proyecto.hitos&&o.proyecto.hitos.length>0?(i(),f(e(P),{key:1},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...a[73]||(a[73]=[r("Hitos y Entregables",-1)])]),_:1}),t(e(ne),null,{default:s(()=>[...a[74]||(a[74]=[r(" Seguimiento de los hitos y entregables del proyecto ",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[l("div",uo,[(i(!0),y(O,null,J(o.proyecto.hitos,d=>(i(),f($e,{key:d.id,hito:d,"proyecto-id":o.proyecto.id,"can-edit":o.canEditHitos,"can-delete":o.canDeleteHitos,"can-manage-entregables":o.canManageEntregables,"show-entregables":!0,onView:b,onEdit:T,onDelete:ae,onDuplicate:_,onAddEntregable:c,onViewEntregables:h},null,8,["hito","proyecto-id","can-edit","can-delete","can-manage-entregables"]))),128))])]),_:1})]),_:1})):(i(),f(e(P),{key:2},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[l("div",fo,[t(e(Ce),{class:"mx-auto h-12 w-12 text-gray-400"}),a[76]||(a[76]=l("p",{class:"mt-2 text-sm text-gray-600"},"No hay hitos definidos",-1)),o.canCreateHitos?(i(),f(e(H),{key:0,href:`/admin/proyectos/${o.proyecto.id}/hitos/create`,class:"mt-4 inline-block"},{default:s(()=>[t(e(D),{variant:"outline"},{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),a[75]||(a[75]=r(" Crear primer hito ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{si as default};
