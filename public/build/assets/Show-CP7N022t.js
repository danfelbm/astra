import{_ as Z}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D9tk40Ze.js";import{r as C,s as b,d as ee,p as te,c as L,i as E,e as o,f as a,q as ae,w as r,g as v,j as h,t as w,m as u,b as g,v as z,h as m,F as R,k as oe}from"./app-DOAvpdpy.js";import{_ as D,a as N,b as F,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-CHzHcBJD.js";import{_ as re}from"./CardDescription.vue_vue_type_script_setup_true_lang-DawgNgFL.js";import{_ as k}from"./createLucideIcon-B8d5bW74.js";import{_ as I}from"./index-BEwAULqp.js";import{_ as ie,a as se,b as T,c as H}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-C-wmbar_.js";import{t as S}from"./index-D4UxCdcO.js";import{E as ne}from"./EtiquetaDisplay-sQvoljdE.js";import{E as le}from"./EtiquetaSelector-Dxa1E6x3.js";import{_ as ce}from"./ContratosList.vue_vue_type_script_setup_true_lang-BnMv3WLp.js";import{_ as ue,a as de,b as me}from"./ProyectoInfoCard.vue_vue_type_script_setup_true_lang-ChzOBeTD.js";import{_ as fe,a as pe}from"./ActivityLog.vue_vue_type_script_setup_true_lang-HXIkAcBc.js";import{_ as ye}from"./HitosDashboard.vue_vue_type_script_setup_true_lang-B_3aqQbZ.js";import{_ as ve}from"./CamposPersonalizadosDisplay.vue_vue_type_script_setup_true_lang-B-0DmA44.js";import{S as O}from"./square-pen-BlJ2VD3E.js";import{T as ge}from"./trash-2-U0flC5IV.js";import{I as he}from"./info-DHikWRdj.js";import{M as be}from"./milestone-CSq6NUof.js";import{I as Ee}from"./image-CZFfOF6T.js";import{F as G}from"./file-text-D373kHVE.js";import{A as we}from"./activity-DCh-sCLX.js";import{U as qe}from"./user-BCblXEQx.js";import{P as J}from"./plus-CaIcTwOd.js";import"./useFlashMessages-DpAT9twl.js";import"./index-CmGaHOMg.js";import"./floating-ui.vue-DHJPTVzt.js";import"./x-BDylcitt.js";import"./Input.vue_vue_type_script_setup_true_lang-DpiZrk6F.js";import"./index-ceuENFtx.js";import"./index-ByelLgwr.js";import"./shield-CPsGM_xd.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CVJnMnVh.js";import"./chevron-right-CCRsFGH5.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Cep9uJW9.js";import"./VisuallyHidden-BSG4PTdC.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BXZrnX9E.js";import"./check-qkM_pq-n.js";import"./Label.vue_vue_type_script_setup_true_lang-D3G2L01q.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-Cxybq1SB.js";import"./circle-alert-C9j6pIWM.js";import"./map-pin-Bo0BxocW.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-ehaQzMDU.js";import"./chevrons-up-down-sU9lYEz6.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-vM-5-Mr4.js";import"./tag-DfZyNgGs.js";import"./users-lrz85sQ8.js";import"./target-6lEdwcHB.js";import"./vote-d-PWMwPO.js";import"./folder-open-1fOQ0rtw.js";import"./send-VqVT7m78.js";import"./briefcase-uiBroSEx.js";import"./calendar-CD2D2UbU.js";import"./megaphone-CVBqqCSC.js";import"./user-check-CAi1ivNh.js";import"./clipboard-list-De5Ng5v1.js";import"./mail-CNihFBrW.js";import"./message-square-JJ7kxV2X.js";import"./external-link-fEEnYwkp.js";import"./panel-left-DMAuoSSS.js";import"./index-B0zyg-lg.js";import"./RovingFocusItem-ByOgZ4yC.js";import"./utils-B8lOMbxq.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DThnflUi.js";import"./layers-CtJu3dny.js";import"./zap-hFTdQ5DG.js";import"./trending-up-C3sl1lhq.js";import"./award-g-FmOXso.js";import"./flag-DeUPG4ge.js";import"./hash-COC8f5cz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BkvbipgT.js";import"./search-BiD4ugt-.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-C-z1Ih5O.js";import"./contratos-BiUTbrRP.js";import"./useToast-CSNNStAV.js";import"./dollar-sign-DQrbEPW0.js";import"./ellipsis-B0rqSLX1.js";import"./eye-DPdWlF5i.js";import"./list-3sKdXja_.js";import"./download-SKf2EK9a.js";import"./copy-B-KgybaZ.js";import"./AccordionContent.vue_vue_type_script_setup_true_lang-BErPGiXz.js";import"./useArrowNavigation-B5rxJs06.js";import"./EvidenciaAccionesEstado.vue_vue_type_script_setup_true_lang-Bz3P36lj.js";import"./Switch.vue_vue_type_script_setup_true_lang-71QEUPTl.js";import"./VisuallyHiddenInput-ZIuX-4z0.js";import"./ComentarioContextoInput.vue_vue_type_script_setup_true_lang-BsFE5JFL.js";import"./RichTextEditor-BS_71c2M.js";import"./italic-CCAMh8fV.js";import"./FileUploadField.vue_vue_type_script_setup_true_lang-DUYEWGxD.js";import"./useFileUpload-Dhflcu_G.js";import"./upload-KZqVpSl6.js";import"./file-D4t4Yig_.js";import"./paperclip-Dxvb9AKd.js";import"./clock-_CclVdPa.js";import"./circle-x-BwZ4OB4t.js";import"./circle-check-big-Bp-GPbzd.js";import"./Progress.vue_vue_type_script_setup_true_lang-DUc7kvfq.js";import"./circle-play-DdRt_0kl.js";import"./filter-D0DhnpYH.js";import"./es-BDPlFIsO.js";import"./parseISO-DFjB8F03.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-C60H2ZU2.js";import"./Separator.vue_vue_type_script_setup_true_lang-DlxX-RUz.js";import"./EntregablesList.vue_vue_type_script_setup_true_lang-CeCdGuPX.js";import"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CZdoME-F.js";import"./StatusChangeModal.vue_vue_type_script_setup_true_lang-CZ2X4Z-Q.js";import"./loader-circle-CaHzj4tA.js";function $e(){const e=C(!1),n=C(null);async function B(c,s){return e.value=!0,n.value=null,new Promise((d,p)=>{b.post(`/admin/proyectos/${c}/etiquetas`,{etiqueta_id:s},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{e.value=!1,d(!0)},onError:y=>{e.value=!1,n.value=Object.values(y).join(", "),p(y)}})})}async function U(c,s){return e.value=!0,n.value=null,new Promise((d,p)=>{b.delete(`/admin/proyectos/${c}/etiquetas/${s}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{e.value=!1,d(!0)},onError:y=>{e.value=!1,n.value="Error al quitar la etiqueta",p(y)}})})}async function P(c,s){return e.value=!0,n.value=null,new Promise((d,p)=>{b.put(`/admin/proyectos/${c}/etiquetas/sync`,{etiquetas:s},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{e.value=!1,d(!0)},onError:y=>{e.value=!1,n.value="Error al sincronizar etiquetas",p(y)}})})}async function A(c){e.value=!0,n.value=null;try{const s=await fetch(`/admin/proyectos/${c}/etiquetas/suggest`);if(!s.ok)throw new Error("Error al obtener sugerencias");const d=await s.json();return e.value=!1,d.etiquetas||[]}catch(s){return e.value=!1,n.value="Error al obtener sugerencias de etiquetas",console.error(s),[]}}async function f(c){var s;e.value=!0,n.value=null;try{const d=await fetch("/admin/etiquetas",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""},body:JSON.stringify(c)});if(!d.ok){const y=await d.json();throw new Error(y.message||"Error al crear etiqueta")}const p=await d.json();return e.value=!1,p.data}catch(d){return e.value=!1,n.value=d.message||"Error al crear etiqueta",console.error(d),null}}async function q(c){if(c.length<2)return[];try{const s=await fetch(`/admin/etiquetas/search?q=${encodeURIComponent(c)}`);if(!s.ok)throw new Error("Error al buscar etiquetas");return(await s.json()).data||[]}catch(s){return console.error("Error buscando etiquetas:",s),[]}}function $(c){const s=new Map;return c.forEach(d=>{var y;const p=((y=d.categoria)==null?void 0:y.nombre)||"Sin categoría";s.has(p)||s.set(p,[]),s.get(p).push(d)}),s}function M(c){var s;return c.color||((s=c.categoria)==null?void 0:s.color)||"gray"}function j(c,s=10){return c<s}async function _(c,s){return e.value=!0,n.value=null,new Promise((d,p)=>{b.post(`/admin/proyectos/${c}/etiquetas/reorder`,{etiquetas:s},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{e.value=!1,d(!0)},onError:y=>{e.value=!1,n.value="Error al reordenar etiquetas",p(y)}})})}return{isLoading:e,error:n,addEtiquetaToProyecto:B,removeEtiquetaFromProyecto:U,syncEtiquetasProyecto:P,getSugerenciasEtiquetas:A,reorderEtiquetas:_,createEtiqueta:f,searchEtiquetas:q,groupEtiquetasByCategoria:$,getEtiquetaColor:M,canAddMoreEtiquetas:j}}const xe={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ke={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Se={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ce={key:0,class:"mt-2 text-gray-600 dark:text-gray-400"},Pe={class:"flex gap-2"},Te={key:0},He={key:1,class:"text-sm text-muted-foreground"},je={key:1,class:"space-y-4"},De={class:"flex gap-2"},Ve={class:"space-y-3"},Be={class:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},Ae={class:"flex-1"},Me={class:"text-sm"},_e={class:"font-medium"},ze={class:"text-xs text-gray-500 mt-1"},Ne={key:0,class:"flex justify-end"},Fe={class:"space-y-4"},Ie={class:"text-center"},La=ee({__name:"Show",props:{proyecto:{},categorias:{},activities:{},usuariosActividades:{},authPermissions:{},totales:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageTags:{type:Boolean},canViewContracts:{type:Boolean},canCreateContracts:{type:Boolean},canViewHitos:{type:Boolean},canCreateHitos:{type:Boolean},canEditHitos:{type:Boolean},canDeleteHitos:{type:Boolean},canManageEntregables:{type:Boolean},estadisticasHitos:{}},setup(e){const n=e,B=["general","contratos","hitos","evidencias","actividad"],P=C((()=>{const t=new URLSearchParams(window.location.search).get("tab");return t&&B.includes(t)?t:"general"})());te(P,i=>{const t=`/admin/proyectos/${n.proyecto.id}?tab=${i}`;b.get(t,{},{preserveState:!0,preserveScroll:!0,replace:!0,only:[]})});const A=L(()=>{var i,t;return((i=n.authPermissions)==null?void 0:i.includes("evidencias.aprobar"))||((t=n.authPermissions)==null?void 0:t.includes("evidencias.rechazar"))||!1}),f=C({usuario_id:null,tipo_entidad:null,tipo_accion:null,fecha_inicio:null,fecha_fin:null}),q=C(!1),$=C([]),{syncEtiquetasProyecto:M,isLoading:j}=$e();n.proyecto.etiquetas&&($.value=n.proyecto.etiquetas.map(i=>i.id));const _=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:n.proyecto.nombre,href:`/admin/proyectos/${n.proyecto.id}`}],c=()=>{confirm(`¿Estás seguro de eliminar el proyecto "${n.proyecto.nombre}"?`)&&b.delete(`/admin/proyectos/${n.proyecto.id}`,{onSuccess:()=>{S.success("Proyecto eliminado exitosamente")},onError:()=>{S.error("Error al eliminar el proyecto")}})},s=i=>new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),d=i=>{const t=Math.floor((new Date(i).getTime()-new Date().getTime())/864e5);return t===0?"Hoy":t===1?"Mañana":t===-1?"Ayer":t>0?`En ${t} días`:`Hace ${Math.abs(t)} días`},p=async()=>{try{await M(n.proyecto.id,$.value),q.value=!1,S.success("Etiquetas actualizadas exitosamente"),b.reload({only:["proyecto"]})}catch{S.error("Error al actualizar las etiquetas")}},y=()=>{var i;$.value=((i=n.proyecto.etiquetas)==null?void 0:i.map(t=>t.id))||[],q.value=!1},K=i=>{b.visit(`/admin/proyectos/${n.proyecto.id}/hitos/${i.id}`)},X=i=>{b.visit(`/admin/proyectos/${n.proyecto.id}/hitos/${i.id}/edit`)},Q=i=>{confirm(`¿Estás seguro de eliminar el hito "${i.nombre}"? Se eliminarán también todos sus entregables.`)&&b.delete(`/admin/proyectos/${n.proyecto.id}/hitos/${i.id}`,{onSuccess:()=>{S.success("Hito eliminado exitosamente"),b.reload({only:["proyecto"]})},onError:()=>{S.error("Error al eliminar el hito")}})},W=i=>{b.visit(`/admin/proyectos/${n.proyecto.id}/hitos/${i.id}/entregables/create`)},Y=L(()=>{let i=n.activities||[];return f.value.usuario_id&&(i=i.filter(t=>{var l;return((l=t.causer)==null?void 0:l.id)===f.value.usuario_id})),f.value.tipo_entidad&&(i=i.filter(t=>t.subject_type===f.value.tipo_entidad)),f.value.tipo_accion&&(i=i.filter(t=>t.event===f.value.tipo_accion)),(f.value.fecha_inicio||f.value.fecha_fin)&&(i=i.filter(t=>{const l=new Date(t.created_at);if(f.value.fecha_inicio){const x=new Date(f.value.fecha_inicio);if(l<x)return!1}if(f.value.fecha_fin){const x=new Date(f.value.fecha_fin);if(x.setHours(23,59,59,999),l>x)return!1}return!0})),i});return(i,t)=>(u(),E(R,null,[o(a(ae),{title:`Proyecto: ${e.proyecto.nombre}`},null,8,["title"]),o(Z,{breadcrumbs:_},{default:r(()=>[v("div",xe,[v("div",ke,[v("div",null,[v("h1",Se,w(e.proyecto.nombre),1),e.proyecto.descripcion?(u(),E("p",Ce,w(e.proyecto.descripcion),1)):h("",!0)]),v("div",Pe,[e.canEdit?(u(),g(a(z),{key:0,href:`/admin/proyectos/${e.proyecto.id}/edit`},{default:r(()=>[o(a(k),null,{default:r(()=>[o(a(O),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=m(" Editar ",-1))]),_:1})]),_:1},8,["href"])):h("",!0),e.canDelete?(u(),g(a(k),{key:1,variant:"destructive",onClick:c},{default:r(()=>[o(a(ge),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=m(" Eliminar ",-1))]),_:1})):h("",!0)])]),o(a(ie),{modelValue:P.value,"onUpdate:modelValue":t[3]||(t[3]=l=>P.value=l),class:"w-full"},{default:r(()=>[o(a(se),{class:"grid w-full grid-cols-5"},{default:r(()=>[o(a(T),{value:"general"},{default:r(()=>[o(a(he),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=m(" General ",-1))]),_:1}),o(a(T),{value:"hitos"},{default:r(()=>{var l;return[o(a(be),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=m(" Hitos y Entregables ",-1)),(l=e.totales)!=null&&l.hitos?(u(),g(a(I),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:r(()=>[m(w(e.totales.hitos),1)]),_:1})):h("",!0)]}),_:1}),o(a(T),{value:"evidencias"},{default:r(()=>{var l;return[o(a(Ee),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=m(" Evidencias ",-1)),(l=e.totales)!=null&&l.evidencias?(u(),g(a(I),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:r(()=>[m(w(e.totales.evidencias),1)]),_:1})):h("",!0)]}),_:1}),o(a(T),{value:"contratos"},{default:r(()=>{var l;return[o(a(G),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=m(" Contratos ",-1)),(l=e.totales)!=null&&l.contratos?(u(),g(a(I),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:r(()=>[m(w(e.totales.contratos),1)]),_:1})):h("",!0)]}),_:1}),o(a(T),{value:"actividad"},{default:r(()=>[o(a(we),{class:"mr-2 h-4 w-4"}),t[10]||(t[10]=m(" Actividad ",-1))]),_:1})]),_:1}),o(a(H),{value:"general",class:"space-y-4 mt-6"},{default:r(()=>[o(ue,{"proyecto-id":e.proyecto.id,activo:e.proyecto.activo,responsable:e.proyecto.responsable,creador:e.proyecto.creador,"created-at":e.proyecto.created_at,"updated-at":e.proyecto.updated_at,"show-id":!0,"show-activo":!0},null,8,["proyecto-id","activo","responsable","creador","created-at","updated-at"]),o(de,{estado:e.proyecto.estado,"estado-label":e.proyecto.estado_label,prioridad:e.proyecto.prioridad,"prioridad-label":e.proyecto.prioridad_label,"porcentaje-completado":e.proyecto.porcentaje_completado,"fecha-inicio":e.proyecto.fecha_inicio,"fecha-fin":e.proyecto.fecha_fin,"duracion-dias":e.proyecto.duracion_dias},null,8,["estado","estado-label","prioridad","prioridad-label","porcentaje-completado","fecha-inicio","fecha-fin","duracion-dias"]),o(a(D),null,{default:r(()=>[o(a(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[o(a(F),null,{default:r(()=>[...t[11]||(t[11]=[m(" Etiquetas ",-1)])]),_:1}),e.canManageTags&&!q.value?(u(),g(a(k),{key:0,variant:"ghost",size:"sm",onClick:t[0]||(t[0]=l=>q.value=!0)},{default:r(()=>[o(a(O),{class:"mr-1 h-4 w-4"}),t[12]||(t[12]=m(" Editar ",-1))]),_:1})):h("",!0)]),_:1}),o(a(V),null,{default:r(()=>[q.value?(u(),E("div",je,[e.categorias?(u(),g(le,{key:0,modelValue:$.value,"onUpdate:modelValue":t[1]||(t[1]=l=>$.value=l),categorias:e.categorias,"max-etiquetas":10,placeholder:"Seleccionar etiquetas...",description:"Selecciona hasta 10 etiquetas para este proyecto"},null,8,["modelValue","categorias"])):h("",!0),v("div",De,[o(a(k),{size:"sm",onClick:p,disabled:a(j)},{default:r(()=>[...t[13]||(t[13]=[m(" Guardar ",-1)])]),_:1},8,["disabled"]),o(a(k),{size:"sm",variant:"outline",onClick:y,disabled:a(j)},{default:r(()=>[...t[14]||(t[14]=[m(" Cancelar ",-1)])]),_:1},8,["disabled"])])])):(u(),E("div",Te,[e.proyecto.etiquetas&&e.proyecto.etiquetas.length>0?(u(),g(ne,{key:0,etiquetas:e.proyecto.etiquetas,"show-categoria":!0,interactive:!0,size:"md"},null,8,["etiquetas"])):(u(),E("p",He," No hay etiquetas asignadas "))]))]),_:1})]),_:1}),e.proyecto.campos_personalizados&&e.proyecto.campos_personalizados.length>0?(u(),g(ve,{key:0,valores:e.proyecto.campos_personalizados},null,8,["valores"])):h("",!0),e.proyecto.activities&&e.proyecto.activities.length>0?(u(),g(a(D),{key:1},{default:r(()=>[o(a(N),null,{default:r(()=>[o(a(F),null,{default:r(()=>[...t[15]||(t[15]=[m("Actividad Reciente",-1)])]),_:1})]),_:1}),o(a(V),null,{default:r(()=>[v("div",Ve,[(u(!0),E(R,null,oe(e.proyecto.activities,l=>{var x;return u(),E("div",{key:l.id,class:"flex items-start gap-3 pb-3 border-b last:border-b-0"},[v("div",Be,[o(a(qe),{class:"h-4 w-4 text-gray-500"})]),v("div",Ae,[v("p",Me,[v("span",_e,w(((x=l.causer)==null?void 0:x.name)||"Sistema"),1),m(" "+w(l.description),1)]),v("p",ze,w(d(l.created_at)),1)])])}),128))])]),_:1})]),_:1})):h("",!0)]),_:1}),o(a(H),{value:"contratos",class:"space-y-4 mt-6"},{default:r(()=>[e.canCreateContracts?(u(),E("div",Ne,[o(a(z),{href:`/admin/contratos/create?proyecto_id=${e.proyecto.id}`},{default:r(()=>[o(a(k),null,{default:r(()=>[o(a(J),{class:"mr-2 h-4 w-4"}),t[16]||(t[16]=m(" Nuevo Contrato ",-1))]),_:1})]),_:1},8,["href"])])):h("",!0),e.proyecto.contratos&&e.proyecto.contratos.length>0?(u(),g(a(D),{key:1},{default:r(()=>[o(a(N),null,{default:r(()=>[o(a(F),null,{default:r(()=>[...t[17]||(t[17]=[m("Contratos del Proyecto",-1)])]),_:1}),o(a(re),null,{default:r(()=>[...t[18]||(t[18]=[m(" Lista de contratos asociados a este proyecto ",-1)])]),_:1})]),_:1}),o(a(V),null,{default:r(()=>[v("div",Fe,[o(ce,{contratos:e.proyecto.contratos,"show-proyecto":!1,"show-actions":!0,"actions-style":"buttons"},null,8,["contratos"])])]),_:1})]),_:1})):(u(),g(a(D),{key:2},{default:r(()=>[o(a(V),{class:"py-8"},{default:r(()=>[v("div",Ie,[o(a(G),{class:"mx-auto h-12 w-12 text-gray-400"}),t[20]||(t[20]=v("p",{class:"mt-2 text-sm text-gray-600"},"No hay contratos asociados",-1)),e.canCreateContracts?(u(),g(a(z),{key:0,href:`/admin/contratos/create?proyecto_id=${e.proyecto.id}`,class:"mt-4 inline-block"},{default:r(()=>[o(a(k),{variant:"outline"},{default:r(()=>[o(a(J),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=m(" Crear primer contrato ",-1))]),_:1})]),_:1},8,["href"])):h("",!0)])]),_:1})]),_:1}))]),_:1}),o(a(H),{value:"hitos",class:"space-y-4 mt-6"},{default:r(()=>[e.canViewHitos?(u(),g(ye,{key:0,hitos:e.proyecto.hitos||[],"proyecto-id":e.proyecto.id,"can-edit":e.canEditHitos,"can-delete":e.canDeleteHitos,"can-manage-deliverables":e.canManageEntregables,"can-complete":e.canManageEntregables,"base-url":"/admin/proyectos",onViewHito:K,onEditHito:X,onDeleteHito:Q,onAddEntregable:W},null,8,["hitos","proyecto-id","can-edit","can-delete","can-manage-deliverables","can-complete"])):h("",!0)]),_:1}),o(a(H),{value:"evidencias",class:"space-y-4 mt-6"},{default:r(()=>[o(me,{contratos:e.proyecto.contratos||[],"proyecto-id":e.proyecto.id,modo:"admin","puede-gestionar-estado":A.value,"format-date":s},null,8,["contratos","proyecto-id","puede-gestionar-estado"])]),_:1}),o(a(H),{value:"actividad",class:"space-y-4 mt-6"},{default:r(()=>[e.activities&&e.activities.length>0?(u(),g(fe,{key:0,modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=l=>f.value=l),usuarios:e.usuariosActividades,"context-level":"proyecto"},null,8,["modelValue","usuarios"])):h("",!0),o(pe,{activities:Y.value,title:"Historial de Actividad",description:"Registro completo de cambios y eventos del proyecto, hitos y entregables","empty-message":"No hay actividad registrada"},null,8,["activities"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{La as default};
