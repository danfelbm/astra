import{d as rt,r as C,c as T,I as it,i as c,e as s,f as e,q as nt,w as a,g as o,b as f,j as y,v as E,h as d,t as u,m as i,x as dt,n as I,F as k,k as D,l as R}from"./app-BnBj6w6W.js";import{_ as ut}from"./UserLayout.vue_vue_type_script_setup_true_lang-DLaizL2W.js";import{_ as x,a as b,b as h,c as _}from"./CardTitle.vue_vue_type_script_setup_true_lang-ZE6PiXEF.js";import{_ as B}from"./CardDescription.vue_vue_type_script_setup_true_lang-DMmzv0zY.js";import{_ as S}from"./createLucideIcon-Ca37io5W.js";import{_ as v}from"./index-Ch0LJE4a.js";import{_ as ct}from"./Progress.vue_vue_type_script_setup_true_lang-CKrBAOat.js";import{_ as mt,a as ft,b as z,c as F}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DKJj3WrH.js";import{_ as yt,a as gt,b as O,c as P,d as pt,e as V}from"./TableHeader.vue_vue_type_script_setup_true_lang--9CW8MJ0.js";import{_ as G,a as J,b as K}from"./index-BYYySvvq.js";import{E as xt}from"./EtiquetaDisplay-CK98TiZy.js";import{_ as _t}from"./ContratoCard.vue_vue_type_script_setup_true_lang-CTLMY5MW.js";import{H as vt}from"./HitoCard-C1avLQX5.js";import{_ as bt,a as ht,b as kt,c as wt,d as $t}from"./AccordionContent.vue_vue_type_script_setup_true_lang-B-4GeeM1.js";import{A as Q}from"./arrow-left-nfHHlfnW.js";import{S as W}from"./square-pen-4W6xvKyO.js";import{U as Ct}from"./users-DwcDPdFI.js";import{I as N}from"./image-BMQSubil.js";import{M as X,B as Et,C as Dt}from"./milestone-D_T0i3bn.js";import{F as Pt}from"./flag-DSAMwNyd.js";import{T as Vt}from"./tag-CAF690Aw.js";import{C as Y}from"./circle-alert-BWxvQkKu.js";import{C as Z}from"./calendar-BlRmelAj.js";import{C as jt}from"./clock-CVQu6a9-.js";import{U as qt}from"./user-CdUhcmPZ.js";import{F as It}from"./file-text-D7kLChC_.js";import{E as St}from"./external-link-Dmyi1KYV.js";import{D as zt}from"./download-U0yL44Li.js";import{C as Ft}from"./circle-check-big-ptHL1q4j.js";import{C as Tt}from"./circle-play-D4tZny6s.js";import{T as Bt}from"./target-D52b9Dw9.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-Ds6aVJUn.js";import"./index-9fEAMRo-.js";import"./floating-ui.vue-Bhwr_HBk.js";import"./x-DMFxwPMl.js";import"./Input.vue_vue_type_script_setup_true_lang-CsTb2wKI.js";import"./index-Y1c3h1eN.js";import"./shield-WXCLHrz8.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CUV5OHBN.js";import"./chevron-right-CeL-2VhE.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-3tQ8zh3K.js";import"./VisuallyHidden-C6al9SUD.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DSnwccBS.js";import"./check-BeE8osi0.js";import"./Label.vue_vue_type_script_setup_true_lang-DRSBOUE_.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-C8RjSTJD.js";import"./index-eaWFx3Z0.js";import"./map-pin-BM9ga3Wt.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DpXTjmOT.js";import"./usePermissions-B8a9U6f_.js";import"./square-check-big-CAbxZbW2.js";import"./folder-open-CF-1EJ4k.js";import"./index-l-HduRoZ.js";import"./RovingFocusItem-DaCcEX4c.js";import"./utils-BQSeObkF.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-b1ic8sEc.js";import"./layers-B-7j_ay2.js";import"./zap-D1jqlbaG.js";import"./trending-up-DJtcL41L.js";import"./award-BObZLwB0.js";import"./hash-B5Xc4Hve.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dollar-sign-BDzDfusp.js";import"./eye-DG7p0O4O.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-D_U4ngv8.js";import"./ellipsis-CJX0hCwa.js";import"./pen-ih-4TMEx.js";import"./plus-n5L0hBXo.js";import"./copy-Bb8ANPgx.js";import"./trash-2-B7RptQo5.js";import"./calendar-days-XcX2wNQJ.js";import"./es-BDPlFIsO.js";import"./useArrowNavigation-B5rxJs06.js";const Nt={class:"flex h-full flex-1 flex-col rounded-xl p-4"},Ut={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},At={class:"flex items-center gap-4"},Lt={class:"text-2xl font-bold text-gray-900 dark:text-white"},Mt={key:0,class:"text-gray-600 dark:text-gray-400 mt-1"},Ht={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Rt={class:"lg:col-span-2 space-y-6"},Ot={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},Gt={class:"flex items-center gap-3"},Jt={class:"flex items-center gap-3"},Kt={key:0,class:"flex items-center gap-3"},Qt={class:"space-y-2"},Wt={class:"flex justify-between text-sm"},Xt={class:"font-medium"},Yt={key:1,class:"p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800"},Zt={class:"flex items-center gap-2"},te={class:"text-sm font-medium text-orange-900 dark:text-orange-100"},ee={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},se={class:"flex items-start gap-3"},ae={class:"font-medium"},oe={key:0,class:"flex items-start gap-3"},le={class:"font-medium"},re={key:0,class:"mt-4 pt-4 border-t flex items-center gap-3"},ie={class:"font-medium ml-2"},ne={class:"space-y-3"},de={class:"text-sm text-gray-600 dark:text-gray-400"},ue={class:"font-medium text-right"},ce={class:"space-y-6"},me={key:0,class:"flex items-center gap-3"},fe={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},ye={class:"font-medium"},ge={class:"text-xs text-gray-500"},pe={key:1,class:"text-gray-500"},xe={key:0},_e={class:"font-medium"},ve={class:"text-xs text-gray-500"},be={class:"text-sm"},he={class:"space-y-4"},ke={class:"pb-4 border-b"},we={key:0,class:"flex items-center gap-3"},$e={class:"font-medium"},Ce={class:"text-sm text-gray-500"},Ee={key:1,class:"text-gray-500"},De={key:0},Pe={class:"space-y-2"},Ve={class:"flex-1"},je={class:"text-sm font-medium"},qe={class:"text-xs text-gray-500"},Ie={key:1},Se={class:"space-y-4"},ze={key:1},Fe={class:"flex items-center justify-between w-full pr-4"},Te={class:"flex items-center gap-3"},Be={class:"text-left"},Ne={class:"font-semibold"},Ue={class:"text-sm text-gray-500"},Ae={class:"flex items-center gap-3"},Le={class:"text-sm text-gray-600"},Me=["href"],He={class:"text-center"},Re={class:"text-center"},Oe={class:"space-y-6"},Ge={class:"text-center"},ma=rt({__name:"Show",props:{proyecto:{},totales:{},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(l){const j=l,U=C("general"),g=C({contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null});C(!1),C(!1),C(!1),C(!1);const tt=n=>({planificacion:Bt,en_progreso:Tt,pausado:Dt,completado:Ft,cancelado:Et})[n]||Y,et=n=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[n]||"bg-gray-100 text-gray-800",st=n=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[n]||"bg-gray-100 text-gray-800",w=n=>new Date(n).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),at=n=>{if(!n)return null;const t=Math.ceil((new Date(n).getTime()-new Date().getTime())/(1e3*60*60*24));return t<0?{texto:`Vencido hace ${Math.abs(t)} días`,urgente:!0}:t===0?{texto:"Vence hoy",urgente:!0}:t===1?{texto:"Vence mañana",urgente:!0}:t<=7?{texto:`${t} días restantes`,urgente:!0}:{texto:`${t} días restantes`,urgente:!1}},$=j.proyecto.fecha_fin?at(j.proyecto.fecha_fin):null,q=T(()=>{const n=[];return j.proyecto.contratos&&j.proyecto.contratos.forEach(t=>{t.obligaciones&&t.obligaciones.forEach(p=>{p.evidencias&&p.evidencias.forEach(r=>{n.push({...r,contrato_id:t.id,contrato_numero:t.numero_contrato,contrato_nombre:t.nombre,obligacion_titulo:p.titulo,_contrato:t})})})}),n}),ot=T(()=>{let n=q.value;return g.value.contrato_id&&(n=n.filter(t=>t.contrato_id===g.value.contrato_id)),g.value.tipo&&(n=n.filter(t=>t.tipo_evidencia===g.value.tipo)),g.value.estado&&(n=n.filter(t=>t.estado===g.value.estado)),g.value.usuario_id&&(n=n.filter(t=>{var p;return((p=t.usuario)==null?void 0:p.id)===g.value.usuario_id})),(g.value.fecha_inicio||g.value.fecha_fin)&&(n=n.filter(t=>{const p=new Date(t.created_at);if(g.value.fecha_inicio){const r=new Date(g.value.fecha_inicio);if(p<r)return!1}if(g.value.fecha_fin){const r=new Date(g.value.fecha_fin);if(r.setHours(23,59,59,999),p>r)return!1}return!0})),n}),A=T(()=>{const n={};return ot.value.forEach(t=>{n[t.contrato_id]||(n[t.contrato_id]={contrato:t._contrato,evidencias:[]}),n[t.contrato_id].evidencias.push(t)}),Object.values(n)}),L=n=>n.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),lt=n=>{if(!n.valor)return"-";switch(n.campo_personalizado.tipo){case"checkbox":return n.valor==="1"||n.valor===!0?"Sí":"No";case"date":return w(n.valor);default:return n.valor}};return(n,t)=>{const p=it("Info");return i(),c(k,null,[s(e(nt),{title:`Mi Proyecto: ${l.proyecto.nombre}`},null,8,["title"]),s(ut,null,{default:a(()=>[o("div",Nt,[o("div",Ut,[o("div",At,[s(e(E),{href:"/miembro/mis-proyectos"},{default:a(()=>[s(e(S),{variant:"ghost",size:"sm"},{default:a(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=d(" Volver ",-1))]),_:1})]),_:1}),o("div",null,[o("h1",Lt,u(l.proyecto.nombre),1),l.proyecto.descripcion?(i(),c("p",Mt,u(l.proyecto.descripcion),1)):y("",!0)])]),l.canEdit?(i(),f(e(E),{key:0,href:`/miembro/mis-proyectos/${l.proyecto.id}/edit`},{default:a(()=>[s(e(S),null,{default:a(()=>[s(e(W),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=d(" Editar Proyecto ",-1))]),_:1})]),_:1},8,["href"])):y("",!0)]),s(e(mt),{modelValue:U.value,"onUpdate:modelValue":t[3]||(t[3]=r=>U.value=r),class:"w-full"},{default:a(()=>[s(e(ft),{class:"grid w-full grid-cols-4"},{default:a(()=>[s(e(z),{value:"general"},{default:a(()=>[s(p,{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=d(" General ",-1))]),_:1}),s(e(z),{value:"usuarios"},{default:a(()=>{var r,m;return[s(e(Ct),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=d(" Personas ",-1)),(r=l.totales)!=null&&r.usuarios||(m=l.totales)!=null&&m.contratos?(i(),f(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>{var M,H;return[d(u((((M=l.totales)==null?void 0:M.usuarios)||0)+(((H=l.totales)==null?void 0:H.contratos)||0)),1)]}),_:1})):y("",!0)]}),_:1}),s(e(z),{value:"evidencias"},{default:a(()=>{var r;return[s(e(N),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=d(" Evidencias ",-1)),(r=l.totales)!=null&&r.evidencias?(i(),f(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[d(u(l.totales.evidencias),1)]),_:1})):y("",!0)]}),_:1}),s(e(z),{value:"hitos"},{default:a(()=>{var r;return[s(e(X),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=d(" Hitos y Entregables ",-1)),(r=l.totales)!=null&&r.hitos?(i(),f(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[d(u(l.totales.hitos),1)]),_:1})):y("",!0)]}),_:1})]),_:1}),s(e(F),{value:"general",class:"space-y-4 mt-6"},{default:a(()=>[o("div",Ht,[o("div",Rt,[s(e(x),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[10]||(t[10]=[d("Estado del Proyecto",-1)])]),_:1})]),_:1}),s(e(_),{class:"space-y-4"},{default:a(()=>[o("div",Ot,[o("div",Gt,[(i(),f(dt(tt(l.proyecto.estado)),{class:"h-5 w-5 text-gray-500"})),t[11]||(t[11]=o("span",{class:"font-medium"},"Estado:",-1)),s(e(v),{class:I(et(l.proyecto.estado))},{default:a(()=>[d(u(l.proyecto.estado_label),1)]),_:1},8,["class"])]),o("div",Jt,[s(e(Pt),{class:"h-5 w-5 text-gray-500"}),t[12]||(t[12]=o("span",{class:"font-medium"},"Prioridad:",-1)),s(e(v),{class:I(st(l.proyecto.prioridad))},{default:a(()=>[d(u(l.proyecto.prioridad_label),1)]),_:1},8,["class"])])]),l.proyecto.etiquetas&&l.proyecto.etiquetas.length>0?(i(),c("div",Kt,[s(e(Vt),{class:"h-5 w-5 text-gray-500"}),t[13]||(t[13]=o("span",{class:"font-medium"},"Etiquetas:",-1)),s(xt,{etiquetas:l.proyecto.etiquetas,"max-visible":5,size:"sm"},null,8,["etiquetas"])])):y("",!0),o("div",Qt,[o("div",Wt,[t[14]||(t[14]=o("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso del proyecto",-1)),o("span",Xt,u(l.proyecto.porcentaje_completado)+"%",1)]),s(e(ct),{"model-value":l.proyecto.porcentaje_completado,class:"h-3"},null,8,["model-value"]),t[15]||(t[15]=o("p",{class:"text-xs text-gray-500"}," Calculado según hitos y entregables completados ",-1))]),e($)&&e($).urgente?(i(),c("div",Yt,[o("div",Zt,[s(e(Y),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"}),o("span",te,u(e($).texto),1)])])):y("",!0)]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[16]||(t[16]=[d("Cronograma",-1)])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[o("div",ee,[o("div",se,[s(e(Z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),o("div",null,[t[17]||(t[17]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de inicio",-1)),o("p",ae,u(w(l.proyecto.fecha_inicio)),1)])]),l.proyecto.fecha_fin?(i(),c("div",oe,[s(e(Z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),o("div",null,[t[18]||(t[18]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de fin",-1)),o("p",le,u(w(l.proyecto.fecha_fin)),1),e($)?(i(),c("p",{key:0,class:I(["text-xs mt-1",e($).urgente?"text-orange-600":"text-gray-500"])},u(e($).texto),3)):y("",!0)])])):y("",!0)]),l.proyecto.duracion_dias?(i(),c("div",re,[s(e(jt),{class:"h-5 w-5 text-gray-500"}),o("div",null,[t[19]||(t[19]=o("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Duración estimada:",-1)),o("span",ie,u(l.proyecto.duracion_dias)+" días",1)])])):y("",!0)]),_:1})]),_:1}),l.proyecto.campos_personalizados&&l.proyecto.campos_personalizados.length>0?(i(),f(e(x),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[20]||(t[20]=[d("Información Adicional",-1)])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[o("div",ne,[(i(!0),c(k,null,D(l.proyecto.campos_personalizados,r=>(i(),c("div",{key:r.id,class:"flex justify-between py-2 border-b last:border-b-0"},[o("span",de,u(r.campo_personalizado.nombre),1),o("span",ue,u(lt(r)),1)]))),128))])]),_:1})]),_:1})):y("",!0)]),o("div",ce,[s(e(x),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[21]||(t[21]=[d("Información del Proyecto",-1)])]),_:1})]),_:1}),s(e(_),{class:"space-y-4"},{default:a(()=>[o("div",null,[t[22]||(t[22]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Responsable",-1)),l.proyecto.responsable?(i(),c("div",me,[o("div",fe,[s(e(qt),{class:"h-5 w-5 text-gray-500"})]),o("div",null,[o("p",ye,u(l.proyecto.responsable.name),1),o("p",ge,u(l.proyecto.responsable.email),1)])])):(i(),c("p",pe,"Sin asignar"))]),l.proyecto.creador?(i(),c("div",xe,[t[23]||(t[23]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Creado por",-1)),o("p",_e,u(l.proyecto.creador.name),1),o("p",ve,u(w(l.proyecto.created_at)),1)])):y("",!0),o("div",null,[t[24]||(t[24]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Última actualización",-1)),o("p",be,u(w(l.proyecto.updated_at)),1)])]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[25]||(t[25]=[d("Acciones",-1)])]),_:1})]),_:1}),s(e(_),{class:"space-y-2"},{default:a(()=>[s(e(E),{href:"/miembro/mis-proyectos",class:"block"},{default:a(()=>[s(e(S),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=d(" Volver al listado ",-1))]),_:1})]),_:1}),l.canEdit?(i(),f(e(E),{key:0,href:`/miembro/mis-proyectos/${l.proyecto.id}/edit`,class:"block"},{default:a(()=>[s(e(S),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[s(e(W),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=d(" Editar proyecto ",-1))]),_:1})]),_:1},8,["href"])):y("",!0)]),_:1})]),_:1})])])]),_:1}),s(e(F),{value:"usuarios",class:"space-y-4 mt-6"},{default:a(()=>[s(e(x),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[28]||(t[28]=[d("Usuarios del Proyecto",-1)])]),_:1}),s(e(B),null,{default:a(()=>[...t[29]||(t[29]=[d(" Personas asignadas y colaborando en este proyecto ",-1)])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[o("div",he,[o("div",ke,[t[31]||(t[31]=o("h4",{class:"text-sm font-medium mb-3"},"Responsable del Proyecto",-1)),l.proyecto.responsable?(i(),c("div",we,[s(e(G),{class:"h-10 w-10"},{default:a(()=>[s(e(J),{src:l.proyecto.responsable.avatar},null,8,["src"]),s(e(K),null,{default:a(()=>[d(u(L(l.proyecto.responsable.name)),1)]),_:1})]),_:1}),o("div",null,[o("p",$e,u(l.proyecto.responsable.name),1),o("p",Ce,u(l.proyecto.responsable.email),1)]),s(e(v),{class:"ml-auto"},{default:a(()=>[...t[30]||(t[30]=[d("Responsable",-1)])]),_:1})])):(i(),c("p",Ee,"Sin responsable asignado"))]),l.proyecto.participantes&&l.proyecto.participantes.length>0?(i(),c("div",De,[t[32]||(t[32]=o("h4",{class:"text-sm font-medium mb-3"},"Participantes",-1)),o("div",Pe,[(i(!0),c(k,null,D(l.proyecto.participantes,r=>{var m;return i(),c("div",{key:r.id,class:"flex items-center gap-3 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800"},[s(e(G),{class:"h-8 w-8"},{default:a(()=>[s(e(J),{src:r.avatar},null,8,["src"]),s(e(K),null,{default:a(()=>[d(u(L(r.name)),1)]),_:2},1024)]),_:2},1024),o("div",Ve,[o("p",je,u(r.name),1),o("p",qe,u(r.email),1)]),(m=r.pivot)!=null&&m.rol?(i(),f(e(v),{key:0,variant:"outline",class:"text-xs"},{default:a(()=>[d(u(r.pivot.rol),1)]),_:2},1024)):y("",!0)])}),128))])])):(i(),c("div",Ie,[...t[33]||(t[33]=[o("p",{class:"text-gray-500 text-center py-4"},"No hay participantes adicionales",-1)])]))])]),_:1})]),_:1}),l.proyecto.contratos&&l.proyecto.contratos.length>0?(i(),f(e(x),{key:0,class:"mt-6"},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[34]||(t[34]=[d("Contratos del Proyecto",-1)])]),_:1}),s(e(B),null,{default:a(()=>[...t[35]||(t[35]=[d(" Lista de contratos asociados a este proyecto ",-1)])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[o("div",Se,[(i(!0),c(k,null,D(l.proyecto.contratos,r=>(i(),f(_t,{key:r.id,contrato:r,"show-proyecto":!1,"show-actions":!0,"view-mode":"user"},null,8,["contrato"]))),128))])]),_:1})]),_:1})):y("",!0)]),_:1}),s(e(F),{value:"evidencias",class:"space-y-4 mt-6"},{default:a(()=>[q.value.length>0?(i(),f(bt,{key:0,modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=r=>g.value=r),contratos:l.proyecto.contratos||[],evidencias:q.value},null,8,["modelValue","contratos","evidencias"])):y("",!0),A.value.length>0?(i(),c("div",ze,[s(e(ht),{type:"multiple",class:"space-y-4",collapsible:""},{default:a(()=>[(i(!0),c(k,null,D(A.value,r=>(i(),f(e(kt),{key:r.contrato.id,value:`contrato-${r.contrato.id}`,class:"border rounded-lg bg-card"},{default:a(()=>[s(e(wt),{class:"px-4 py-3 hover:no-underline hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg"},{default:a(()=>[o("div",Fe,[o("div",Te,[s(e(It),{class:"h-5 w-5 text-gray-500"}),o("div",Be,[o("div",Ne,u(r.contrato.nombre),1),o("div",Ue,u(r.contrato.numero_contrato||"Sin número"),1)])]),o("div",Ae,[s(e(v),{variant:"secondary"},{default:a(()=>[d(u(r.evidencias.length)+" evidencia(s) ",1)]),_:2},1024),s(e(E),{href:`/miembro/mis-contratos/${r.contrato.id}`,onClick:t[1]||(t[1]=R(()=>{},["stop"])),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},{default:a(()=>[t[36]||(t[36]=d(" Ver contrato ",-1)),s(e(St),{class:"h-3 w-3"})]),_:1},8,["href"])])])]),_:2},1024),s(e($t),{class:"px-4 pb-4"},{default:a(()=>[s(e(yt),null,{default:a(()=>[s(e(gt),null,{default:a(()=>[s(e(O),null,{default:a(()=>[s(e(P),null,{default:a(()=>[...t[37]||(t[37]=[d("Tipo",-1)])]),_:1}),s(e(P),null,{default:a(()=>[...t[38]||(t[38]=[d("Obligación",-1)])]),_:1}),s(e(P),null,{default:a(()=>[...t[39]||(t[39]=[d("Descripción",-1)])]),_:1}),s(e(P),null,{default:a(()=>[...t[40]||(t[40]=[d("Estado",-1)])]),_:1}),s(e(P),null,{default:a(()=>[...t[41]||(t[41]=[d("Fecha",-1)])]),_:1}),s(e(P),{class:"text-right"},{default:a(()=>[...t[42]||(t[42]=[d("Acciones",-1)])]),_:1})]),_:1})]),_:1}),s(e(pt),null,{default:a(()=>[(i(!0),c(k,null,D(r.evidencias,m=>(i(),f(e(O),{key:m.id,class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800"},{default:a(()=>[s(e(E),{href:`/miembro/mis-contratos/${m.contrato_id}/evidencias/${m.id}`,class:"contents"},{default:a(()=>[s(e(V),null,{default:a(()=>[s(e(v),{variant:"outline"},{default:a(()=>[d(u(m.tipo_evidencia),1)]),_:2},1024)]),_:2},1024),s(e(V),null,{default:a(()=>[d(u(m.obligacion_titulo),1)]),_:2},1024),s(e(V),null,{default:a(()=>[o("span",Le,u(m.descripcion||"-"),1)]),_:2},1024),s(e(V),null,{default:a(()=>[s(e(v),{class:I({"bg-yellow-100 text-yellow-800":m.estado==="pendiente","bg-green-100 text-green-800":m.estado==="aprobada","bg-red-100 text-red-800":m.estado==="rechazada"})},{default:a(()=>[d(u(m.estado),1)]),_:2},1032,["class"])]),_:2},1024),s(e(V),null,{default:a(()=>[d(u(w(m.created_at)),1)]),_:2},1024),s(e(V),{class:"text-right"},{default:a(()=>[m.archivo_url?(i(),c("a",{key:0,href:m.archivo_url,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800",onClick:t[2]||(t[2]=R(()=>{},["stop"]))},[s(e(zt),{class:"h-4 w-4"})],8,Me)):y("",!0)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])):q.value.length===0?(i(),f(e(x),{key:2},{default:a(()=>[s(e(_),{class:"py-8"},{default:a(()=>[o("div",He,[s(e(N),{class:"mx-auto h-12 w-12 text-gray-400"}),t[43]||(t[43]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias cargadas",-1)),t[44]||(t[44]=o("p",{class:"text-xs text-gray-500 mt-1"},"Las evidencias se cargan desde los contratos",-1))])]),_:1})]),_:1})):(i(),f(e(x),{key:3},{default:a(()=>[s(e(_),{class:"py-8"},{default:a(()=>[o("div",Re,[s(e(N),{class:"mx-auto h-12 w-12 text-gray-400"}),t[45]||(t[45]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias que coincidan con los filtros",-1)),t[46]||(t[46]=o("p",{class:"text-xs text-gray-500 mt-1"},"Intenta ajustar los criterios de búsqueda",-1))])]),_:1})]),_:1}))]),_:1}),s(e(F),{value:"hitos",class:"space-y-4 mt-6"},{default:a(()=>[l.proyecto.hitos&&l.proyecto.hitos.length>0?(i(),f(e(x),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[47]||(t[47]=[d("Hitos y Entregables",-1)])]),_:1}),s(e(B),null,{default:a(()=>[...t[48]||(t[48]=[d(" Seguimiento de los hitos y entregables del proyecto ",-1)])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[o("div",Oe,[(i(!0),c(k,null,D(l.proyecto.hitos,r=>(i(),f(vt,{key:r.id,hito:r,"show-entregables":!0,"show-actions":!0},null,8,["hito"]))),128))])]),_:1})]),_:1})):(i(),f(e(x),{key:1},{default:a(()=>[s(e(_),{class:"py-8"},{default:a(()=>[o("div",Ge,[s(e(X),{class:"mx-auto h-12 w-12 text-gray-400"}),t[49]||(t[49]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay hitos definidos",-1))])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64)}}});export{ma as default};
