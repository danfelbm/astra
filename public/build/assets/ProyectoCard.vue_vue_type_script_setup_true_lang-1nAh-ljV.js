import{a as b,b as h,c as k,_ as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-BudF5sLg.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-B32gJRul.js";import{_ as v}from"./CardFooter.vue_vue_type_script_setup_true_lang-BjX_1Kxt.js";import{_ as p}from"./index-BsPs8wxd.js";import{_ as $}from"./createLucideIcon-DanALmEC.js";import{_ as C}from"./Progress.vue_vue_type_script_setup_true_lang-D6-mmuZ1.js";import{d as D,b as g,e as n,w as o,f as a,j as i,u as t,g as s,h as c,t as l,n as m,i as d,P as V}from"./app-CGDcXcXm.js";import{E as j}from"./EtiquetaDisplay-DNAWfFtV.js";import{C as q}from"./calendar-BTZmtWlZ.js";import{F as B}from"./flag-BlDZv6IP.js";import{U as E}from"./user-CyfX3Swe.js";import{C as P}from"./clock-CRCIQO9f.js";import{T}from"./tag-ArrCqU1L.js";import{A}from"./arrow-right-BLdvie7L.js";const N={class:"flex justify-between items-start"},U={class:"flex-1"},S={class:"flex gap-2"},z={key:0,class:"space-y-2"},M={class:"flex justify-between text-sm"},R={class:"font-medium"},F={class:"grid grid-cols-2 gap-3 text-sm"},L={class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},G={class:"flex items-center gap-2"},H={key:0,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},I={class:"truncate"},J={key:1,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},K={class:"text-xs"},O={key:1,class:"pt-3 border-t"},Q={class:"flex items-center gap-2"},W={key:2,class:"pt-2 border-t"},X={class:"text-xs text-gray-500"},me=D({__name:"ProyectoCard",props:{proyecto:{},showActions:{type:Boolean,default:!0},linkUrl:{}},setup(Y){const u=e=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",y=e=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",f=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),_=e=>{if(!e)return null;const r=Math.ceil((new Date(e).getTime()-new Date().getTime())/(1e3*60*60*24));return r<0?`Vencido hace ${Math.abs(r)} días`:r===0?"Vence hoy":r===1?"Vence mañana":`${r} días restantes`};return(e,r)=>(n(),g(t(x),{class:"hover:shadow-lg transition-shadow duration-300"},{default:o(()=>[a(t(b),null,{default:o(()=>[s("div",N,[s("div",U,[a(t(h),{class:"text-lg"},{default:o(()=>[c(l(e.proyecto.nombre),1)]),_:1}),e.proyecto.descripcion?(n(),g(t(w),{key:0,class:"mt-1 line-clamp-2"},{default:o(()=>[c(l(e.proyecto.descripcion),1)]),_:1})):i("",!0)]),s("div",S,[a(t(p),{class:m([u(e.proyecto.estado),"text-xs"])},{default:o(()=>[c(l(e.proyecto.estado_label),1)]),_:1},8,["class"])])])]),_:1}),a(t(k),{class:"space-y-4"},{default:o(()=>[e.proyecto.estado!=="cancelado"?(n(),d("div",z,[s("div",M,[r[0]||(r[0]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso",-1)),s("span",R,l(e.proyecto.porcentaje_completado)+"%",1)]),a(t(C),{value:e.proyecto.porcentaje_completado,class:"h-2"},null,8,["value"])])):i("",!0),s("div",F,[s("div",L,[a(t(q),{class:"h-4 w-4"}),s("span",null,l(f(e.proyecto.fecha_inicio)),1)]),s("div",G,[a(t(B),{class:"h-4 w-4 text-gray-600 dark:text-gray-400"}),a(t(p),{class:m([y(e.proyecto.prioridad),"text-xs"])},{default:o(()=>[c(l(e.proyecto.prioridad_label),1)]),_:1},8,["class"])]),e.proyecto.responsable?(n(),d("div",H,[a(t(E),{class:"h-4 w-4"}),s("span",I,l(e.proyecto.responsable.name),1)])):i("",!0),e.proyecto.fecha_fin?(n(),d("div",J,[a(t(P),{class:"h-4 w-4"}),s("span",K,l(_(e.proyecto.fecha_fin)),1)])):i("",!0)]),e.proyecto.etiquetas&&e.proyecto.etiquetas.length>0?(n(),d("div",O,[s("div",Q,[a(t(T),{class:"h-3 w-3 text-gray-500"}),a(j,{etiquetas:e.proyecto.etiquetas,"max-visible":3,size:"sm"},null,8,["etiquetas"])])])):i("",!0),e.proyecto.duracion_dias?(n(),d("div",W,[s("p",X," Duración total: "+l(e.proyecto.duracion_dias)+" días ",1)])):i("",!0)]),_:1}),e.showActions?(n(),g(t(v),{key:0,class:"pt-0"},{default:o(()=>[a(t(V),{href:e.linkUrl||`/admin/proyectos/${e.proyecto.id}`,class:"w-full"},{default:o(()=>[a(t($),{variant:"outline",class:"w-full group"},{default:o(()=>[r[1]||(r[1]=c(" Ver detalles ",-1)),a(t(A),{class:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]),_:1})]),_:1},8,["href"])]),_:1})):i("",!0)]),_:1}))}});export{me as _};
