import{d as De,c as E,C as Ne,w as D,a as p,o as u,b as o,u as e,m as Fe,e as l,f as t,t as f,g as i,h as Pe,i as c,n as v,F as C,r as $,j as q,W as Re}from"./app--F0R1m13.js";import{c as Me,_ as N}from"./createLucideIcon-d9rYCl5k.js";import{_ as U,a as w,b as S,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bw3t2LdK.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-CXecAUDc.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-C9dJXWlu.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-CdJla_bY.js";import{_ as F}from"./Textarea.vue_vue_type_script_setup_true_lang-CLMPE7iV.js";import{_ as x,a as y,b as V,c as z,d as b}from"./SelectValue.vue_vue_type_script_setup_true_lang-D1UziDLU.js";import{_ as k}from"./Switch.vue_vue_type_script_setup_true_lang-Clgk6erq.js";import{_ as Ve,a as L}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-B391C9ta.js";import{_ as P}from"./DateTimePicker.vue_vue_type_script_setup_true_lang-eMTVtDqc.js";import{_ as ze,a as ke}from"./index-QzRw-_Me.js";import{_ as Ue}from"./AlertTitle.vue_vue_type_script_setup_true_lang-qZIPFdcg.js";import{_ as He}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CiQclDxD.js";import{A as Ze}from"./arrow-left-DVk3mbdX.js";import{V as we}from"./video-D-62eN9Z.js";import{S as Be}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-TGQtvKfG.js";import{U as Se}from"./users-CeKVb2R9.js";import{I as je}from"./info-DM7_Z-5K.js";import{S as Ge}from"./save-BZ_jzXsO.js";import"./index-C-tQkk3D.js";import"./VisuallyHidden-BWSBdOqz.js";import"./PopperContent-CX7S3Dyx.js";import"./floating-ui.vue-_QqXBJR7.js";import"./check-BDim8ObM.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHiddenInput-nxvTUphm.js";import"./RovingFocusItem-BDwSHWNZ.js";import"./utils-DUisCdy_.js";import"./index-oEZ4p90R.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-yLfINtDF.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-DF9d0AJp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CV6TQ2eJ.js";import"./chevrons-up-down-BZVlVbA_.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-pRuyu8YN.js";import"./shield-eT9czArd.js";import"./vote-D5ydqJvL.js";import"./file-text-CmVDnAkM.js";import"./calendar-CDINldyE.js";import"./briefcase-CPSzYlLF.js";import"./megaphone-CgLLO9H5.js";import"./user-check-BdpukRIA.js";import"./external-link-DKbSjOYU.js";import"./panel-left-r0UDB68J.js";import"./index-NgNQE2Z0.js";import"./index-C8PAOQqy.js";import"./index-DZ0AZRsL.js";import"./x-BO05BOmt.js";import"./index-DGysloyq.js";import"./user-Da45vtzZ.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-D-NhlZIF.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CZvKt9Ws.js";import"./circle-alert-Bx3rQFHA.js";import"./map-pin-DcBPuTw6.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Me("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Me("MicIcon",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Ke={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},We={class:"flex items-center justify-between"},Je={class:"text-3xl font-bold"},Qe={class:"text-muted-foreground"},Xe={class:"grid gap-4 md:grid-cols-2"},Ye={class:"space-y-2"},he={key:0,class:"text-sm text-red-500"},ea={class:"space-y-2"},aa={key:0,class:"text-sm text-red-500"},oa={class:"space-y-2"},sa={key:0,class:"text-sm text-red-500"},la={key:0,class:"grid gap-4 md:grid-cols-2"},ta={class:"space-y-2"},ia={key:0,class:"text-sm text-red-500"},ra={class:"space-y-2"},da={key:0,class:"text-sm text-red-500"},na={class:"grid gap-4 md:grid-cols-2"},ma={class:"space-y-2"},ua={key:0,class:"text-sm text-red-500"},pa={class:"space-y-2"},_a={key:0,class:"text-sm text-red-500"},fa={key:1,class:"text-sm text-red-500"},ca={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},ba={class:"space-y-2"},ga={class:"space-y-2"},va={class:"space-y-2"},xa={class:"space-y-2"},ya={class:"space-y-2"},Va={key:0,class:"text-sm text-red-500"},za={class:"grid gap-4 md:grid-cols-2"},ka={class:"space-y-2"},Ua={key:0,class:"text-sm text-red-500"},wa={class:"flex items-center space-x-2 pt-8"},Sa={class:"flex items-center space-x-2"},ja={key:0,class:"space-y-4 pl-6 border-l-2 border-blue-200"},Ma={class:"space-y-3"},Ea={class:"flex items-center space-x-2"},Ca={class:"flex items-center space-x-2"},La={class:"flex items-center space-x-2"},$a={key:0,class:"space-y-4"},qa={class:"grid gap-4 md:grid-cols-2"},Aa={class:"space-y-2"},Ia={key:0,class:"space-y-2"},Da={class:"flex items-center gap-2 p-2 bg-green-50 rounded-md"},Na={class:"text-xs text-muted-foreground"},Fa={class:"space-y-3"},Pa={class:"grid gap-3 md:grid-cols-2"},Ra={class:"flex items-center space-x-2"},Ha={class:"flex items-center space-x-2"},Za={class:"flex items-center space-x-2"},Ba={class:"flex items-center space-x-2"},Ga={class:"space-y-2"},Oa={key:1,class:"space-y-4"},Ta={class:"grid gap-4 md:grid-cols-2"},Ka={class:"space-y-2"},Wa={class:"space-y-2"},Ja={class:"space-y-2"},Qa={class:"space-y-2"},Xa={class:"space-y-4 p-4 border rounded-lg bg-gray-50"},Ya={class:"flex items-center space-x-2"},ha={key:0,class:"space-y-2"},eo={class:"grid gap-4 md:grid-cols-2"},ao={class:"space-y-2"},oo={class:"space-y-2"},so={class:"space-y-2"},lo={key:2,class:"space-y-4"},to={class:"space-y-2"},io={key:1,class:"text-sm text-red-500"},ro={class:"flex items-center space-x-2"},no={key:0,class:"space-y-4"},mo={class:"space-y-2"},uo={class:"flex items-start space-x-2 mb-3"},po={class:"space-y-1"},_o={class:"flex items-start space-x-2"},fo={class:"space-y-1"},co={class:"block bg-gray-100 p-2 rounded text-sm"},bo={class:"list-disc list-inside text-sm space-y-1"},go={key:0},vo={key:1},xo={key:1,class:"text-sm text-red-500"},yo={key:2,class:"text-sm text-red-500"},Vo={class:"flex justify-end gap-4"},ks=De({__name:"Form",props:{asamblea:{},territorios:{},departamentos:{},municipios:{},localidades:{},canManageParticipants:{type:Boolean}},setup(Ee){var H,Z,B,G,O,T,K,W,J,Q,X,Y,h,ee,ae,oe,se,le,te,ie,re,de,ne,me,ue,pe,_e,fe,ce,be,ge,ve,xe,ye;const n=Ee,Ce=[{title:"Admin",href:"/admin/dashboard"},{title:"Asambleas",href:"/admin/asambleas"},{title:n.asamblea?"Editar":"Nueva",href:"#"}],{route:A}=window,Le=E(()=>typeof window<"u"?window.location.origin:""),s=Ne({nombre:((H=n.asamblea)==null?void 0:H.nombre)||"",descripcion:((Z=n.asamblea)==null?void 0:Z.descripcion)||"",tipo:((B=n.asamblea)==null?void 0:B.tipo)||"ordinaria",estado:((G=n.asamblea)==null?void 0:G.estado)||"programada",fecha_inicio:((O=n.asamblea)==null?void 0:O.fecha_inicio)||"",fecha_fin:((T=n.asamblea)==null?void 0:T.fecha_fin)||"",territorio_id:((W=(K=n.asamblea)==null?void 0:K.territorio_id)==null?void 0:W.toString())||null,departamento_id:((Q=(J=n.asamblea)==null?void 0:J.departamento_id)==null?void 0:Q.toString())||null,municipio_id:((Y=(X=n.asamblea)==null?void 0:X.municipio_id)==null?void 0:Y.toString())||null,localidad_id:((ee=(h=n.asamblea)==null?void 0:h.localidad_id)==null?void 0:ee.toString())||null,lugar:((ae=n.asamblea)==null?void 0:ae.lugar)||"",quorum_minimo:((oe=n.asamblea)==null?void 0:oe.quorum_minimo)||null,activo:((se=n.asamblea)==null?void 0:se.activo)??!0,acta_url:((le=n.asamblea)==null?void 0:le.acta_url)||"",zoom_enabled:((te=n.asamblea)==null?void 0:te.zoom_enabled)??!1,zoom_integration_type:((ie=n.asamblea)==null?void 0:ie.zoom_integration_type)||"sdk",zoom_meeting_id:((re=n.asamblea)==null?void 0:re.zoom_meeting_id)||"",zoom_meeting_password:((de=n.asamblea)==null?void 0:de.zoom_meeting_password)||"",zoom_occurrence_ids:((ne=n.asamblea)==null?void 0:ne.zoom_occurrence_ids)||"",zoom_prefix:((me=n.asamblea)==null?void 0:me.zoom_prefix)||"",zoom_registration_open_date:((ue=n.asamblea)==null?void 0:ue.zoom_registration_open_date)||"",zoom_static_message:((pe=n.asamblea)==null?void 0:pe.zoom_static_message)||"",zoom_api_message_enabled:((_e=n.asamblea)==null?void 0:_e.zoom_api_message_enabled)??!1,zoom_api_message:((fe=n.asamblea)==null?void 0:fe.zoom_api_message)||"",zoom_join_url:((ce=n.asamblea)==null?void 0:ce.zoom_join_url)||"",zoom_start_url:((be=n.asamblea)==null?void 0:be.zoom_start_url)||"",zoom_meeting_type:((ge=n.asamblea)==null?void 0:ge.zoom_meeting_type)||"scheduled",zoom_settings:((ve=n.asamblea)==null?void 0:ve.zoom_settings)||{host_video:!0,participant_video:!1,waiting_room:!0,mute_upon_entry:!0,auto_recording:"none"},public_participants_enabled:((xe=n.asamblea)==null?void 0:xe.public_participants_enabled)??!1,public_participants_mode:((ye=n.asamblea)==null?void 0:ye.public_participants_mode)||"list"}),I=E(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const _=new Date(s.fecha_fin),a=new Date(s.fecha_inicio);return _<=a?"La fecha de fin debe ser posterior a la fecha de inicio":""}),$e=E(()=>s.territorio_id?n.departamentos.filter(_=>_.territorio_id===Number(s.territorio_id)):[]),qe=E(()=>s.departamento_id?n.municipios.filter(_=>_.departamento_id===Number(s.departamento_id)):[]),Ae=E(()=>s.municipio_id?n.localidades.filter(_=>_.municipio_id===Number(s.municipio_id)):[]);D(()=>s.territorio_id,(_,a)=>{_!==a&&(s.departamento_id=null,s.municipio_id=null,s.localidad_id=null)}),D(()=>s.departamento_id,(_,a)=>{_!==a&&(s.municipio_id=null,s.localidad_id=null)}),D(()=>s.municipio_id,(_,a)=>{_!==a&&(s.localidad_id=null)});const Ie=()=>{n.asamblea?s.put(A("admin.asambleas.update",n.asamblea.id),{preserveScroll:!0,onError:()=>{}}):s.post(A("admin.asambleas.store"),{preserveScroll:!0,onError:()=>{}})},R=()=>{Re.visit(A("admin.asambleas.index"))};return(_,a)=>(u(),p(C,null,[o(e(Fe),{title:_.asamblea?"Editar Asamblea":"Nueva Asamblea"},null,8,["title"]),o(He,{breadcrumbs:Ce},{default:l(()=>[t("div",Ke,[t("div",We,[t("div",null,[t("h1",Je,f(_.asamblea?"Editar Asamblea":"Nueva Asamblea"),1),t("p",Qe,f(_.asamblea?"Modifica los datos de la asamblea":"Completa los datos para crear una nueva asamblea"),1)]),o(e(N),{variant:"outline",onClick:R},{default:l(()=>[o(e(Ze),{class:"mr-2 h-4 w-4"}),a[34]||(a[34]=i(" Volver ",-1))]),_:1})]),t("form",{onSubmit:Pe(Ie,["prevent"]),class:"space-y-6"},[o(e(U),null,{default:l(()=>[o(e(w),null,{default:l(()=>[o(e(S),null,{default:l(()=>[...a[35]||(a[35]=[i("Información General",-1)])]),_:1}),o(e(M),null,{default:l(()=>[...a[36]||(a[36]=[i(" Datos básicos de la asamblea ",-1)])]),_:1})]),_:1}),o(e(j),{class:"space-y-4"},{default:l(()=>[t("div",Xe,[t("div",Ye,[o(e(d),{for:"nombre"},{default:l(()=>[...a[37]||(a[37]=[i("Nombre *",-1)])]),_:1}),o(e(g),{id:"nombre",modelValue:e(s).nombre,"onUpdate:modelValue":a[0]||(a[0]=r=>e(s).nombre=r),placeholder:"Ej: Asamblea General Ordinaria 2024",class:v({"border-red-500":e(s).errors.nombre})},null,8,["modelValue","class"]),e(s).errors.nombre?(u(),p("span",he,f(e(s).errors.nombre),1)):c("",!0)]),t("div",ea,[o(e(d),{for:"tipo"},{default:l(()=>[...a[38]||(a[38]=[i("Tipo *",-1)])]),_:1}),o(e(x),{modelValue:e(s).tipo,"onUpdate:modelValue":a[1]||(a[1]=r=>e(s).tipo=r)},{default:l(()=>[o(e(y),{class:v({"border-red-500":e(s).errors.tipo})},{default:l(()=>[o(e(V),{placeholder:"Selecciona el tipo"})]),_:1},8,["class"]),o(e(z),null,{default:l(()=>[o(e(b),{value:"ordinaria"},{default:l(()=>[...a[39]||(a[39]=[i("Ordinaria",-1)])]),_:1}),o(e(b),{value:"extraordinaria"},{default:l(()=>[...a[40]||(a[40]=[i("Extraordinaria",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.tipo?(u(),p("span",aa,f(e(s).errors.tipo),1)):c("",!0)])]),t("div",oa,[o(e(d),{for:"descripcion"},{default:l(()=>[...a[41]||(a[41]=[i("Descripción",-1)])]),_:1}),o(e(F),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":a[2]||(a[2]=r=>e(s).descripcion=r),placeholder:"Describe el propósito y agenda de la asamblea...",rows:"3",class:v({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(u(),p("span",sa,f(e(s).errors.descripcion),1)):c("",!0)]),_.asamblea?(u(),p("div",la,[t("div",ta,[o(e(d),{for:"estado"},{default:l(()=>[...a[42]||(a[42]=[i("Estado",-1)])]),_:1}),o(e(x),{modelValue:e(s).estado,"onUpdate:modelValue":a[3]||(a[3]=r=>e(s).estado=r)},{default:l(()=>[o(e(y),{class:v({"border-red-500":e(s).errors.estado})},{default:l(()=>[o(e(V),{placeholder:"Selecciona el estado"})]),_:1},8,["class"]),o(e(z),null,{default:l(()=>[o(e(b),{value:"programada"},{default:l(()=>[...a[43]||(a[43]=[i("Programada",-1)])]),_:1}),o(e(b),{value:"en_curso"},{default:l(()=>[...a[44]||(a[44]=[i("En Curso",-1)])]),_:1}),o(e(b),{value:"finalizada"},{default:l(()=>[...a[45]||(a[45]=[i("Finalizada",-1)])]),_:1}),o(e(b),{value:"cancelada"},{default:l(()=>[...a[46]||(a[46]=[i("Cancelada",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.estado?(u(),p("span",ia,f(e(s).errors.estado),1)):c("",!0)]),t("div",ra,[o(e(d),{for:"acta_url"},{default:l(()=>[...a[47]||(a[47]=[i("URL del Acta",-1)])]),_:1}),o(e(g),{id:"acta_url",modelValue:e(s).acta_url,"onUpdate:modelValue":a[4]||(a[4]=r=>e(s).acta_url=r),placeholder:"https://ejemplo.com/acta.pdf",class:v({"border-red-500":e(s).errors.acta_url})},null,8,["modelValue","class"]),e(s).errors.acta_url?(u(),p("span",da,f(e(s).errors.acta_url),1)):c("",!0)])])):c("",!0)]),_:1})]),_:1}),o(e(U),null,{default:l(()=>[o(e(w),null,{default:l(()=>[o(e(S),null,{default:l(()=>[...a[48]||(a[48]=[i("Fechas y Horarios",-1)])]),_:1}),o(e(M),null,{default:l(()=>[...a[49]||(a[49]=[i(" Define cuándo se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(j),{class:"space-y-4"},{default:l(()=>[t("div",na,[t("div",ma,[o(e(d),{for:"fecha_inicio"},{default:l(()=>[...a[50]||(a[50]=[i("Fecha y Hora de Inicio *",-1)])]),_:1}),o(e(P),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":a[5]||(a[5]=r=>e(s).fecha_inicio=r),placeholder:"Seleccionar fecha y hora de inicio",class:v({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(u(),p("span",ua,f(e(s).errors.fecha_inicio),1)):c("",!0)]),t("div",pa,[o(e(d),{for:"fecha_fin"},{default:l(()=>[...a[51]||(a[51]=[i("Fecha y Hora de Fin *",-1)])]),_:1}),o(e(P),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":a[6]||(a[6]=r=>e(s).fecha_fin=r),placeholder:"Seleccionar fecha y hora de fin",class:v({"border-red-500":e(s).errors.fecha_fin||I.value})},null,8,["modelValue","class"]),I.value?(u(),p("span",_a,f(I.value),1)):e(s).errors.fecha_fin?(u(),p("span",fa,f(e(s).errors.fecha_fin),1)):c("",!0)])])]),_:1})]),_:1}),o(e(U),null,{default:l(()=>[o(e(w),null,{default:l(()=>[o(e(S),null,{default:l(()=>[...a[52]||(a[52]=[i("Ubicación",-1)])]),_:1}),o(e(M),null,{default:l(()=>[...a[53]||(a[53]=[i(" Define dónde se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(j),{class:"space-y-4"},{default:l(()=>[t("div",ca,[t("div",ba,[o(e(d),{for:"territorio"},{default:l(()=>[...a[54]||(a[54]=[i("Territorio",-1)])]),_:1}),o(e(x),{modelValue:e(s).territorio_id,"onUpdate:modelValue":a[7]||(a[7]=r=>e(s).territorio_id=r)},{default:l(()=>[o(e(y),null,{default:l(()=>[o(e(V),{placeholder:"Selecciona territorio (opcional)"})]),_:1}),o(e(z),null,{default:l(()=>[(u(!0),p(C,null,$(_.territorios,r=>(u(),q(e(b),{key:r.id,value:r.id.toString()},{default:l(()=>[i(f(r.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),t("div",ga,[o(e(d),{for:"departamento"},{default:l(()=>[...a[55]||(a[55]=[i("Departamento",-1)])]),_:1}),o(e(x),{modelValue:e(s).departamento_id,"onUpdate:modelValue":a[8]||(a[8]=r=>e(s).departamento_id=r),disabled:!e(s).territorio_id},{default:l(()=>[o(e(y),null,{default:l(()=>[o(e(V),{placeholder:"Selecciona departamento (opcional)"})]),_:1}),o(e(z),null,{default:l(()=>[(u(!0),p(C,null,$($e.value,r=>(u(),q(e(b),{key:r.id,value:r.id.toString()},{default:l(()=>[i(f(r.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",va,[o(e(d),{for:"municipio"},{default:l(()=>[...a[56]||(a[56]=[i("Municipio",-1)])]),_:1}),o(e(x),{modelValue:e(s).municipio_id,"onUpdate:modelValue":a[9]||(a[9]=r=>e(s).municipio_id=r),disabled:!e(s).departamento_id},{default:l(()=>[o(e(y),null,{default:l(()=>[o(e(V),{placeholder:"Selecciona municipio (opcional)"})]),_:1}),o(e(z),null,{default:l(()=>[(u(!0),p(C,null,$(qe.value,r=>(u(),q(e(b),{key:r.id,value:r.id.toString()},{default:l(()=>[i(f(r.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),t("div",xa,[o(e(d),{for:"localidad"},{default:l(()=>[...a[57]||(a[57]=[i("Localidad",-1)])]),_:1}),o(e(x),{modelValue:e(s).localidad_id,"onUpdate:modelValue":a[10]||(a[10]=r=>e(s).localidad_id=r),disabled:!e(s).municipio_id},{default:l(()=>[o(e(y),null,{default:l(()=>[o(e(V),{placeholder:"Selecciona localidad (opcional)"})]),_:1}),o(e(z),null,{default:l(()=>[(u(!0),p(C,null,$(Ae.value,r=>(u(),q(e(b),{key:r.id,value:r.id.toString()},{default:l(()=>[i(f(r.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),t("div",ya,[o(e(d),{for:"lugar"},{default:l(()=>[...a[58]||(a[58]=[i("Dirección o Lugar",-1)])]),_:1}),o(e(g),{id:"lugar",modelValue:e(s).lugar,"onUpdate:modelValue":a[11]||(a[11]=r=>e(s).lugar=r),placeholder:"Ej: Salón Principal, Calle 123 #45-67",class:v({"border-red-500":e(s).errors.lugar})},null,8,["modelValue","class"]),e(s).errors.lugar?(u(),p("span",Va,f(e(s).errors.lugar),1)):c("",!0)])]),_:1})]),_:1}),o(e(U),null,{default:l(()=>[o(e(w),null,{default:l(()=>[o(e(S),null,{default:l(()=>[...a[59]||(a[59]=[i("Configuración",-1)])]),_:1}),o(e(M),null,{default:l(()=>[...a[60]||(a[60]=[i(" Opciones adicionales de la asamblea ",-1)])]),_:1})]),_:1}),o(e(j),{class:"space-y-4"},{default:l(()=>[t("div",za,[t("div",ka,[o(e(d),{for:"quorum_minimo"},{default:l(()=>[...a[61]||(a[61]=[i("Quórum Mínimo",-1)])]),_:1}),o(e(g),{id:"quorum_minimo",modelValue:e(s).quorum_minimo,"onUpdate:modelValue":a[12]||(a[12]=r=>e(s).quorum_minimo=r),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"Ej: 50",class:v({"border-red-500":e(s).errors.quorum_minimo})},null,8,["modelValue","class"]),e(s).errors.quorum_minimo?(u(),p("span",Ua,f(e(s).errors.quorum_minimo),1)):c("",!0),a[62]||(a[62]=t("p",{class:"text-sm text-muted-foreground"}," Número mínimo de asistentes requeridos ",-1))]),t("div",wa,[o(e(k),{id:"activo",modelValue:e(s).activo,"onUpdate:modelValue":a[13]||(a[13]=r=>e(s).activo=r)},null,8,["modelValue"]),o(e(d),{for:"activo",class:"cursor-pointer"},{default:l(()=>[...a[63]||(a[63]=[i(" Asamblea Activa ",-1)])]),_:1})])])]),_:1})]),_:1}),o(e(U),null,{default:l(()=>[o(e(w),null,{default:l(()=>[o(e(S),{class:"flex items-center gap-2"},{default:l(()=>[o(e(we),{class:"h-5 w-5"}),a[64]||(a[64]=i(" Videoconferencia ",-1))]),_:1}),o(e(M),null,{default:l(()=>[...a[65]||(a[65]=[i(" Configuración de videoconferencia con Zoom para la asamblea ",-1)])]),_:1})]),_:1}),o(e(j),{class:"space-y-4"},{default:l(()=>{var r;return[t("div",Sa,[o(e(k),{id:"zoom_enabled",modelValue:e(s).zoom_enabled,"onUpdate:modelValue":a[14]||(a[14]=m=>e(s).zoom_enabled=m)},null,8,["modelValue"]),o(e(d),{for:"zoom_enabled",class:"cursor-pointer"},{default:l(()=>[...a[66]||(a[66]=[i(" Habilitar videoconferencia ",-1)])]),_:1})]),e(s).zoom_enabled?(u(),p("div",ja,[t("div",Ma,[o(e(d),{class:"text-sm font-medium"},{default:l(()=>[...a[67]||(a[67]=[i("Tipo de Integración",-1)])]),_:1}),o(e(Ve),{modelValue:e(s).zoom_integration_type,"onUpdate:modelValue":a[15]||(a[15]=m=>e(s).zoom_integration_type=m),class:"flex gap-6"},{default:l(()=>[t("div",Ea,[o(e(L),{value:"sdk",id:"sdk"}),o(e(d),{for:"sdk",class:"cursor-pointer"},{default:l(()=>[...a[68]||(a[68]=[i(" SDK (Automático) ",-1)])]),_:1})]),t("div",Ca,[o(e(L),{value:"api",id:"api"}),o(e(d),{for:"api",class:"cursor-pointer"},{default:l(()=>[...a[69]||(a[69]=[i(" API (Manual) ",-1)])]),_:1})]),t("div",La,[o(e(L),{value:"message",id:"message"}),o(e(d),{for:"message",class:"cursor-pointer"},{default:l(()=>[...a[70]||(a[70]=[i(" Mensaje estático ",-1)])]),_:1})])]),_:1},8,["modelValue"]),a[71]||(a[71]=t("p",{class:"text-xs text-muted-foreground"}," SDK: Reuniones generadas automáticamente. API: Configuración manual de reunión existente. Mensaje: Mostrar un mensaje personalizado. ",-1))]),e(s).zoom_integration_type==="sdk"?(u(),p("div",$a,[t("div",qa,[t("div",Aa,[o(e(d),{for:"zoom_meeting_type"},{default:l(()=>[...a[72]||(a[72]=[i("Tipo de Reunión",-1)])]),_:1}),o(e(x),{modelValue:e(s).zoom_meeting_type,"onUpdate:modelValue":a[16]||(a[16]=m=>e(s).zoom_meeting_type=m)},{default:l(()=>[o(e(y),null,{default:l(()=>[o(e(V),{placeholder:"Selecciona el tipo"})]),_:1}),o(e(z),null,{default:l(()=>[o(e(b),{value:"scheduled"},{default:l(()=>[...a[73]||(a[73]=[i("Programada",-1)])]),_:1}),o(e(b),{value:"instant"},{default:l(()=>[...a[74]||(a[74]=[i("Instantánea",-1)])]),_:1}),o(e(b),{value:"recurring"},{default:l(()=>[...a[75]||(a[75]=[i("Recurrente",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[76]||(a[76]=t("p",{class:"text-sm text-muted-foreground"},' Se recomienda "Programada" para asambleas ',-1))]),(r=_.asamblea)!=null&&r.zoom_meeting_id?(u(),p("div",Ia,[o(e(d),null,{default:l(()=>[...a[77]||(a[77]=[i("Estado de la Reunión",-1)])]),_:1}),t("div",Da,[o(e(we),{class:"h-4 w-4 text-green-600"}),a[78]||(a[78]=t("span",{class:"text-sm text-green-800"},"Reunión creada",-1))]),t("p",Na," ID: "+f(_.asamblea.zoom_meeting_id),1)])):c("",!0)]),t("div",Fa,[o(e(d),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[o(e(Be),{class:"h-4 w-4"}),a[79]||(a[79]=i(" Configuraciones de la Reunión ",-1))]),_:1}),t("div",Pa,[t("div",Ra,[o(e(k),{id:"host_video",modelValue:e(s).zoom_settings.host_video,"onUpdate:modelValue":a[17]||(a[17]=m=>e(s).zoom_settings.host_video=m)},null,8,["modelValue"]),o(e(d),{for:"host_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:l(()=>[o(e(Oe),{class:"h-3 w-3"}),a[80]||(a[80]=i(" Video del moderador ",-1))]),_:1})]),t("div",Ha,[o(e(k),{id:"participant_video",modelValue:e(s).zoom_settings.participant_video,"onUpdate:modelValue":a[18]||(a[18]=m=>e(s).zoom_settings.participant_video=m)},null,8,["modelValue"]),o(e(d),{for:"participant_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:l(()=>[o(e(Se),{class:"h-3 w-3"}),a[81]||(a[81]=i(" Video de participantes ",-1))]),_:1})]),t("div",Za,[o(e(k),{id:"waiting_room",modelValue:e(s).zoom_settings.waiting_room,"onUpdate:modelValue":a[19]||(a[19]=m=>e(s).zoom_settings.waiting_room=m)},null,8,["modelValue"]),o(e(d),{for:"waiting_room",class:"text-sm cursor-pointer"},{default:l(()=>[...a[82]||(a[82]=[i(" Sala de espera ",-1)])]),_:1})]),t("div",Ba,[o(e(k),{id:"mute_upon_entry",modelValue:e(s).zoom_settings.mute_upon_entry,"onUpdate:modelValue":a[20]||(a[20]=m=>e(s).zoom_settings.mute_upon_entry=m)},null,8,["modelValue"]),o(e(d),{for:"mute_upon_entry",class:"text-sm cursor-pointer flex items-center gap-1"},{default:l(()=>[o(e(Te),{class:"h-3 w-3"}),a[83]||(a[83]=i(" Silenciar al entrar ",-1))]),_:1})])]),t("div",Ga,[o(e(d),{for:"auto_recording",class:"text-sm"},{default:l(()=>[...a[84]||(a[84]=[i("Grabación automática",-1)])]),_:1}),o(e(x),{modelValue:e(s).zoom_settings.auto_recording,"onUpdate:modelValue":a[21]||(a[21]=m=>e(s).zoom_settings.auto_recording=m)},{default:l(()=>[o(e(y),null,{default:l(()=>[o(e(V))]),_:1}),o(e(z),null,{default:l(()=>[o(e(b),{value:"none"},{default:l(()=>[...a[85]||(a[85]=[i("Sin grabación",-1)])]),_:1}),o(e(b),{value:"local"},{default:l(()=>[...a[86]||(a[86]=[i("Grabación local",-1)])]),_:1}),o(e(b),{value:"cloud"},{default:l(()=>[...a[87]||(a[87]=[i("Grabación en la nube",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a[88]||(a[88]=t("div",{class:"bg-blue-50 p-3 rounded-md"},[t("p",{class:"text-sm text-blue-800"},[t("strong",null,"Nota:"),i(" La reunión de Zoom se creará automáticamente cuando guardes la asamblea. Los participantes podrán acceder a la videoconferencia desde la vista de la asamblea. ")])],-1))])):c("",!0),e(s).zoom_integration_type==="api"?(u(),p("div",Oa,[t("div",Ta,[t("div",Ka,[o(e(d),{for:"zoom_meeting_id_api"},{default:l(()=>[...a[89]||(a[89]=[i("Meeting ID",-1)])]),_:1}),o(e(g),{id:"zoom_meeting_id_api",modelValue:e(s).zoom_meeting_id,"onUpdate:modelValue":a[22]||(a[22]=m=>e(s).zoom_meeting_id=m),placeholder:"Ej: 123456789"},null,8,["modelValue"]),a[90]||(a[90]=t("p",{class:"text-xs text-muted-foreground"}," ID de la reunión existente en Zoom ",-1))]),t("div",Wa,[o(e(d),{for:"zoom_occurrence_ids"},{default:l(()=>[...a[91]||(a[91]=[i("Occurrence IDs",-1)])]),_:1}),o(e(g),{id:"zoom_occurrence_ids",modelValue:e(s).zoom_occurrence_ids,"onUpdate:modelValue":a[23]||(a[23]=m=>e(s).zoom_occurrence_ids=m),placeholder:"Ej: 1648194360000,1648280760000"},null,8,["modelValue"]),a[92]||(a[92]=t("p",{class:"text-xs text-muted-foreground"}," IDs de ocurrencias separados por comas (opcional) ",-1))]),t("div",Ja,[o(e(d),{for:"zoom_prefix"},{default:l(()=>[...a[93]||(a[93]=[i("Prefijo",-1)])]),_:1}),o(e(g),{id:"zoom_prefix",modelValue:e(s).zoom_prefix,"onUpdate:modelValue":a[24]||(a[24]=m=>e(s).zoom_prefix=m),placeholder:"Ej: CH",maxlength:"10",class:"w-24"},null,8,["modelValue"]),a[94]||(a[94]=t("p",{class:"text-xs text-muted-foreground"}," Prefijo que se añadirá al nombre en Zoom ",-1))])]),t("div",Qa,[o(e(d),{for:"zoom_registration_open_date"},{default:l(()=>[...a[95]||(a[95]=[i("Apertura de inscripciones",-1)])]),_:1}),o(e(P),{id:"zoom_registration_open_date",modelValue:e(s).zoom_registration_open_date,"onUpdate:modelValue":a[25]||(a[25]=m=>e(s).zoom_registration_open_date=m),placeholder:"Seleccionar fecha y hora"},null,8,["modelValue"]),a[96]||(a[96]=t("p",{class:"text-xs text-muted-foreground"}," Fecha y hora a partir de la cual los usuarios pueden generar su link personal (opcional) ",-1))]),t("div",Xa,[t("div",Ya,[o(e(k),{id:"zoom_api_message_enabled",modelValue:e(s).zoom_api_message_enabled,"onUpdate:modelValue":a[26]||(a[26]=m=>e(s).zoom_api_message_enabled=m)},null,8,["modelValue"]),o(e(d),{for:"zoom_api_message_enabled",class:"cursor-pointer"},{default:l(()=>[...a[97]||(a[97]=[i(" Mostrar mensaje personalizado encima del enlace ",-1)])]),_:1})]),e(s).zoom_api_message_enabled?(u(),p("div",ha,[o(e(d),{for:"zoom_api_message"},{default:l(()=>[...a[98]||(a[98]=[i("Mensaje a mostrar",-1)])]),_:1}),o(e(F),{id:"zoom_api_message",modelValue:e(s).zoom_api_message,"onUpdate:modelValue":a[27]||(a[27]=m=>e(s).zoom_api_message=m),placeholder:"Escriba aquí el mensaje que se mostrará encima del enlace de Zoom...",rows:"4",class:"min-h-[100px]"},null,8,["modelValue"]),a[99]||(a[99]=t("p",{class:"text-xs text-muted-foreground"}," Este mensaje aparecerá destacado encima del botón de generar/acceder al enlace de Zoom. ",-1))])):c("",!0)]),t("div",eo,[t("div",ao,[o(e(d),{for:"zoom_meeting_password_api"},{default:l(()=>[...a[100]||(a[100]=[i("Contraseña de la Reunión",-1)])]),_:1}),o(e(g),{id:"zoom_meeting_password_api",modelValue:e(s).zoom_meeting_password,"onUpdate:modelValue":a[28]||(a[28]=m=>e(s).zoom_meeting_password=m),placeholder:"Contraseña (opcional)"},null,8,["modelValue"])]),t("div",oo,[o(e(d),{for:"zoom_join_url"},{default:l(()=>[...a[101]||(a[101]=[i("Join URL",-1)])]),_:1}),o(e(g),{id:"zoom_join_url",modelValue:e(s).zoom_join_url,"onUpdate:modelValue":a[29]||(a[29]=m=>e(s).zoom_join_url=m),placeholder:"https://zoom.us/j/123456789"},null,8,["modelValue"])])]),t("div",so,[o(e(d),{for:"zoom_start_url"},{default:l(()=>[...a[102]||(a[102]=[i("Start URL",-1)])]),_:1}),o(e(g),{id:"zoom_start_url",modelValue:e(s).zoom_start_url,"onUpdate:modelValue":a[30]||(a[30]=m=>e(s).zoom_start_url=m),placeholder:"https://zoom.us/s/123456789"},null,8,["modelValue"]),a[103]||(a[103]=t("p",{class:"text-xs text-muted-foreground"}," URL para iniciar la reunión (para moderadores) ",-1))]),a[104]||(a[104]=t("div",{class:"bg-orange-50 p-3 rounded-md"},[t("p",{class:"text-sm text-orange-800"},[t("strong",null,"Modo API:"),i(" Los campos se completan manualmente. Los usuarios verán un botón para generar su link personal de acceso a la reunión. ")])],-1))])):c("",!0),e(s).zoom_integration_type==="message"?(u(),p("div",lo,[t("div",to,[o(e(d),{for:"zoom_static_message"},{default:l(()=>[...a[105]||(a[105]=[i("Mensaje a mostrar",-1)])]),_:1}),o(e(F),{id:"zoom_static_message",modelValue:e(s).zoom_static_message,"onUpdate:modelValue":a[31]||(a[31]=m=>e(s).zoom_static_message=m),placeholder:"Escriba aquí el mensaje que se mostrará en lugar de la videoconferencia...",rows:"5",class:"min-h-[120px]"},null,8,["modelValue"]),a[106]||(a[106]=t("p",{class:"text-xs text-muted-foreground"}," Este mensaje se mostrará a los usuarios en el espacio donde normalmente aparecería la videoconferencia. ",-1))]),a[107]||(a[107]=t("div",{class:"bg-blue-50 p-3 rounded-md"},[t("p",{class:"text-sm text-blue-800"},[t("strong",null,"Modo Mensaje:"),i(" En lugar de una videoconferencia, los usuarios verán el mensaje personalizado que configure aquí. ")])],-1))])):c("",!0)])):c("",!0),e(s).errors.zoom_enabled?(u(),p("span",io,f(e(s).errors.zoom_enabled),1)):c("",!0)]}),_:1})]),_:1}),o(e(U),null,{default:l(()=>[o(e(w),null,{default:l(()=>[o(e(S),null,{default:l(()=>[o(e(Se),{class:"inline-block mr-2 h-5 w-5"}),a[108]||(a[108]=i(" Consulta Pública de Participantes ",-1))]),_:1}),o(e(M),null,{default:l(()=>[...a[109]||(a[109]=[i(" Configure el acceso público sin autenticación para consultar participantes de la asamblea ",-1)])]),_:1})]),_:1}),o(e(j),{class:"space-y-6"},{default:l(()=>[t("div",ro,[o(e(k),{id:"public_participants",modelValue:e(s).public_participants_enabled,"onUpdate:modelValue":a[32]||(a[32]=r=>e(s).public_participants_enabled=r)},null,8,["modelValue"]),o(e(d),{for:"public_participants"},{default:l(()=>[...a[110]||(a[110]=[i(" Habilitar consulta pública de participantes (sin autenticación) ",-1)])]),_:1})]),e(s).public_participants_enabled?(u(),p("div",no,[t("div",mo,[o(e(d),null,{default:l(()=>[...a[111]||(a[111]=[i("Modo de visualización pública",-1)])]),_:1}),o(e(Ve),{modelValue:e(s).public_participants_mode,"onUpdate:modelValue":a[33]||(a[33]=r=>e(s).public_participants_mode=r)},{default:l(()=>[t("div",uo,[o(e(L),{value:"list",id:"mode_list"}),t("div",po,[o(e(d),{for:"mode_list",class:"font-medium cursor-pointer"},{default:l(()=>[...a[112]||(a[112]=[i(" Modo Listado ",-1)])]),_:1}),a[113]||(a[113]=t("p",{class:"text-sm text-muted-foreground"}," Muestra tabla completa con filtros avanzados. Los visitantes pueden ver: nombre, departamento, municipio y localidad de todos los participantes. ",-1))])]),t("div",_o,[o(e(L),{value:"search",id:"mode_search"}),t("div",fo,[o(e(d),{for:"mode_search",class:"font-medium cursor-pointer"},{default:l(()=>[...a[114]||(a[114]=[i(" Modo Búsqueda ",-1)])]),_:1}),a[115]||(a[115]=t("p",{class:"text-sm text-muted-foreground"}," Solo muestra un campo de búsqueda. Los visitantes pueden buscar por nombre, cédula o correo, y ver únicamente si la persona es o no participante. ",-1))])])]),_:1},8,["modelValue"])]),o(e(ze),null,{default:l(()=>[o(e(je),{class:"h-4 w-4"}),o(e(Ue),null,{default:l(()=>[...a[116]||(a[116]=[i("URL Pública",-1)])]),_:1}),o(e(ke),null,{default:l(()=>{var r;return[a[117]||(a[117]=t("p",{class:"mb-2"},"Los participantes estarán disponibles públicamente en:",-1)),t("code",co,f(Le.value)+"/asambleas/"+f(((r=_.asamblea)==null?void 0:r.id)||"{id}")+"/participantes-publico ",1),a[118]||(a[118]=t("p",{class:"mt-2 text-xs"}," Esta URL será accesible sin necesidad de autenticación cuando la asamblea esté activa. ",-1))]}),_:1})]),_:1}),o(e(ze),{variant:"outline"},{default:l(()=>[o(e(je),{class:"h-4 w-4"}),o(e(Ue),null,{default:l(()=>[...a[119]||(a[119]=[i("Información de Privacidad",-1)])]),_:1}),o(e(ke),null,{default:l(()=>[t("ul",bo,[e(s).public_participants_mode==="list"?(u(),p("li",go," En modo listado, NO se mostrarán: correo electrónico, teléfono, documento de identidad, ni información de asistencia. ")):(u(),p("li",vo," En modo búsqueda, solo se confirmará si la persona es participante o no. No se revelará ningún dato personal adicional. ")),a[120]||(a[120]=t("li",null,"Los datos expuestos cumplen con las políticas de privacidad.",-1))])]),_:1})]),_:1})])):c("",!0),e(s).errors.public_participants_enabled?(u(),p("span",xo,f(e(s).errors.public_participants_enabled),1)):c("",!0),e(s).errors.public_participants_mode?(u(),p("span",yo,f(e(s).errors.public_participants_mode),1)):c("",!0)]),_:1})]),_:1}),t("div",Vo,[o(e(N),{type:"button",variant:"outline",onClick:R},{default:l(()=>[...a[121]||(a[121]=[i(" Cancelar ",-1)])]),_:1}),o(e(N),{type:"submit",disabled:e(s).processing},{default:l(()=>[o(e(Ge),{class:"mr-2 h-4 w-4"}),i(" "+f(_.asamblea?"Actualizar":"Crear")+" Asamblea ",1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{ks as default};
