import{au as J,d as tt,C as at,r as C,c as H,o as et,O as ot,i as S,e as T,f as n,u as s,p as rt,w as c,g as r,b as X,j as R,t as h,h as x,n as z,K as st,l as nt,a1 as it,L as lt,F as Y,W as G,a as dt}from"./app-C_5cw02Z.js";import{_ as ct}from"./index-CI62N9Wr.js";import{_ as L}from"./createLucideIcon-C1-ueII9.js";import{_ as F,c as N,a as ut,b as mt}from"./CardTitle.vue_vue_type_script_setup_true_lang-DAYOzAlV.js";import{_ as ft,a as pt,b as gt,c as vt,d as ht,e as bt,f as yt,g as xt}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-BDOHsyd6.js";import{_ as wt}from"./UserLayout.vue_vue_type_script_setup_true_lang-Bo0jkhRy.js";import{D as _t}from"./DynamicFormRenderer-DR0LOKCJ.js";import{r as kt,a as Tt}from"./index-DbiJiFj9.js";import{A as Et}from"./arrow-left-DJtdoHjk.js";import{C as I}from"./clock-CdnAZlnY.js";import{T as O}from"./triangle-alert-DdozUbNM.js";import{T as At}from"./timer-F2QotMM7.js";import{C as Ct}from"./circle-alert-42uxDc8m.js";import{V as St}from"./vote-Bvqvzywk.js";import{C as $t}from"./circle-check-big-DRHTTQQU.js";import"./index-CLU4nd9N.js";import"./VisuallyHidden-Cpuq_Xq0.js";import"./Input.vue_vue_type_script_setup_true_lang-C5gUJesf.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BcNrNItn.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DDKkZRCS.js";import"./check-DptbupV_.js";import"./floating-ui.vue-CALjbug4.js";import"./nullish-CHIgUVhi.js";import"./x-DatYouJm.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-BrCjHdDD.js";import"./index-BGaiQCRN.js";import"./index-D5B37hcc.js";import"./shield-Ba4Iz-u6.js";import"./user-DdKvwohc.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-N-mClcNL.js";import"./Label.vue_vue_type_script_setup_true_lang-CYE62A-C.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CoylmcPy.js";import"./index--WSTgxKp.js";import"./map-pin-DuTf_XYk.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BdTLjYoj.js";import"./square-check-big-Ho6uC0j2.js";import"./file-text-lgOJxEf1.js";import"./users-DICVxpIs.js";import"./index-D-782rW0.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-BBLfbRtU.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-Bq3rKK7L.js";import"./Textarea.vue_vue_type_script_setup_true_lang-Co-3n7Dl.js";import"./plus-BM2d_scV.js";import"./RadioGroupItem.vue_vue_type_script_setup_true_lang-CkTaSq7Y.js";import"./RovingFocusItem-Dxsh8ePB.js";import"./utils-Brnn4e8c.js";import"./VisuallyHiddenInput-BFiMIe-Y.js";import"./useConditionalFields-kNBmR2XC.js";import"./upload-FBPo8oAA.js";import"./eye-lwBYEHXE.js";import"./download-BfrM88cj.js";import"./calendar-DLVOya8g.js";import"./grip-vertical-vOkWyyQ8.js";import"./trash-2-DwnF_sXn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var zt=kt();const V=J(zt);Tt();function Vt(p){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",a.appendChild(t),t.styleSheet?t.styleSheet.cssText=p:t.appendChild(document.createTextNode(p))}Array(12).fill(0);let B=1;class Mt{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const t=this.subscribers.indexOf(a);this.subscribers.splice(t,1)}),this.publish=a=>{this.subscribers.forEach(t=>t(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var t;const{message:l,...b}=a,u=typeof(a==null?void 0:a.id)=="number"||((t=a.id)==null?void 0:t.length)>0?a.id:B++,m=this.toasts.find(i=>i.id===u),_=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),m?this.toasts=this.toasts.map(i=>i.id===u?(this.publish({...i,...a,id:u,title:l}),{...i,...a,id:u,dismissible:_,title:l}):i):this.addToast({title:l,...b,dismissible:_,id:u}),u},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:a,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(l=>l({id:t.id,dismiss:!0}))}),a),this.message=(a,t)=>this.create({...t,message:a}),this.error=(a,t)=>this.create({...t,message:a,type:"error"}),this.success=(a,t)=>this.create({...t,type:"success",message:a}),this.info=(a,t)=>this.create({...t,type:"info",message:a}),this.warning=(a,t)=>this.create({...t,type:"warning",message:a}),this.loading=(a,t)=>this.create({...t,type:"loading",message:a}),this.promise=(a,t)=>{if(!t)return;let l;t.loading!==void 0&&(l=this.create({...t,promise:a,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const b=Promise.resolve(a instanceof Function?a():a);let u=l!==void 0,m;const _=b.then(async d=>{if(m=["resolve",d],V.isValidElement(d))u=!1,this.create({id:l,type:"default",message:d});else if(jt(d)&&!d.ok){u=!1;const f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,k=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description,w=typeof f=="object"&&!V.isValidElement(f)?f:{message:f};this.create({id:l,type:"error",description:k,...w})}else if(d instanceof Error){u=!1;const f=typeof t.error=="function"?await t.error(d):t.error,k=typeof t.description=="function"?await t.description(d):t.description,w=typeof f=="object"&&!V.isValidElement(f)?f:{message:f};this.create({id:l,type:"error",description:k,...w})}else if(t.success!==void 0){u=!1;const f=typeof t.success=="function"?await t.success(d):t.success,k=typeof t.description=="function"?await t.description(d):t.description,w=typeof f=="object"&&!V.isValidElement(f)?f:{message:f};this.create({id:l,type:"success",description:k,...w})}}).catch(async d=>{if(m=["reject",d],t.error!==void 0){u=!1;const g=typeof t.error=="function"?await t.error(d):t.error,f=typeof t.description=="function"?await t.description(d):t.description,A=typeof g=="object"&&!V.isValidElement(g)?g:{message:g};this.create({id:l,type:"error",description:f,...A})}}).finally(()=>{u&&(this.dismiss(l),l=void 0),t.finally==null||t.finally.call(t)}),i=()=>new Promise((d,g)=>_.then(()=>m[0]==="reject"?g(m[1]):d(m[1])).catch(g));return typeof l!="string"&&typeof l!="number"?{unwrap:i}:Object.assign(l,{unwrap:i})},this.custom=(a,t)=>{const l=(t==null?void 0:t.id)||B++;return this.create({jsx:a(l),id:l,...t}),l},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const y=new Mt,Dt=(p,a)=>{const t=(a==null?void 0:a.id)||B++;return y.addToast({title:p,...a,id:t}),t},jt=p=>p&&typeof p=="object"&&"ok"in p&&typeof p.ok=="boolean"&&"status"in p&&typeof p.status=="number",Rt=Dt,Yt=()=>y.toasts,Gt=()=>y.getActiveToasts(),D=Object.assign(Rt,{success:y.success,info:y.info,warning:y.warning,error:y.error,custom:y.custom,message:y.message,promise:y.promise,dismiss:y.dismiss,loading:y.loading},{getHistory:Yt,getToasts:Gt});Vt("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ft={class:"flex h-full flex-1 flex-col gap-3 sm:gap-6 rounded-xl p-2 sm:p-4"},Nt={class:"flex items-center justify-between"},It={class:"text-3xl font-bold"},Bt={class:"text-muted-foreground"},Pt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ut={class:"flex items-center gap-2"},qt={class:"flex items-center gap-2 text-sm text-muted-foreground"},Ht={class:"flex items-center gap-2 text-sm"},Xt={class:"mt-4 pt-4 border-t"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Ot={class:"text-muted-foreground"},Qt={class:"mt-1"},Wt={class:"text-muted-foreground"},Kt={class:"mt-1 font-semibold text-primary"},Zt={class:"text-xs text-muted-foreground ml-1"},Jt={class:"flex items-center justify-between"},ta={class:"flex items-center gap-3"},aa={class:"text-right"},ea={class:"mt-4"},oa={class:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},ra={key:0,class:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg"},sa={class:"flex items-center gap-2"},na={key:1,class:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg"},ia={class:"flex items-center gap-2"},la={key:0,class:"fixed bottom-0 left-0 right-0 z-50 px-2 sm:px-4 pb-2 sm:pb-4"},da={class:"mx-auto max-w-7xl"},ca={class:"backdrop-blur-lg bg-white/80 dark:bg-gray-900/80 border border-gray-200/50 dark:border-gray-700/50 rounded-xl sm:rounded-2xl shadow-2xl p-3 sm:p-4"},ua={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4"},ma={class:"hidden sm:flex items-center gap-4 text-sm text-muted-foreground"},fa={class:"flex items-center gap-2"},pa={class:"font-medium"},ga={class:"flex justify-center sm:justify-end"},va={class:"sm:hidden mt-3 text-center"},ha={class:"text-xs text-muted-foreground"},ye=tt({__name:"Votar",props:{votacion:{},candidatosElegibles:{}},setup(p){var U;const a=p,t=[{title:"Dashboard",href:"/miembro/dashboard"},{title:"Mis Votaciones",href:"/miembro/votaciones"},{title:"Votar",href:"#"}],b=at((()=>{const o={};return a.votacion.formulario_config.forEach(e=>{e.type==="checkbox"?o[e.id]=[]:e.type==="convocatoria"?o[e.id]=void 0:o[e.id]=""}),{respuestas:o}})()),u=C(!1),m=C(((U=a.votacion.urna_session)==null?void 0:U.remaining_seconds)||0),_=C(!!a.votacion.urna_session),i=C("normal"),d=C(null),g=C(null),f=()=>{b.post(route("user.votaciones.store",{votacion:a.votacion.id}),{preserveScroll:!0,preserveState:!1,onSuccess:()=>{},onError:o=>{console.error("Errores de validación:",o)}})},k=()=>{G.get(route("user.votaciones.index"))},A=o=>{if(o<=0)return"0:00";const e=Math.floor(o/60),v=o%60;return`${e}:${v.toString().padStart(2,"0")}`},w=()=>{if(!a.votacion.urna_session)return;const o=a.votacion.urna_session.warning_time,e=a.votacion.urna_session.critical_time;m.value<=e?i.value="critical":m.value<=o?i.value="warning":i.value="normal"},Q=()=>{d.value||(d.value=window.setInterval(()=>{m.value>0&&(m.value--,w(),m.value===120?D.warning("⏱️ Quedan 2 minutos para completar tu voto"):m.value===60?D.error("⚠️ Queda 1 minuto para completar tu voto"):m.value===0&&(D.error("❌ Tu sesión de votación ha expirado"),setTimeout(()=>{G.get(route("user.votaciones.index"))},2e3)))},1e3))},W=async()=>{try{const o=await dt.get(route("user.votaciones.check-urna-session",{votacion:a.votacion.id}));o.data.active?(m.value=o.data.remaining_seconds,_.value=!0,w()):(_.value=!1,o.data.expired&&(D.error("Tu sesión de votación ha expirado"),setTimeout(()=>{G.get(route("user.votaciones.index"))},2e3)))}catch(o){console.error("Error verificando sesión de urna:",o)}},K=()=>{g.value||(g.value=window.setInterval(()=>{W()},3e4))},P=o=>({"America/Bogota":"GMT-5","America/Mexico_City":"GMT-6","America/Lima":"GMT-5","America/Argentina/Buenos_Aires":"GMT-3","America/Santiago":"GMT-3","America/Caracas":"GMT-4","America/La_Paz":"GMT-4","America/Guayaquil":"GMT-5","America/Asuncion":"GMT-3","America/Montevideo":"GMT-3","America/Panama":"GMT-5","America/Costa_Rica":"GMT-6","America/Guatemala":"GMT-6","America/Havana":"GMT-5","America/Santo_Domingo":"GMT-4"})[o]||o,j=(o,e=!0)=>{const v=o.includes("local")?o:o===a.votacion.fecha_inicio&&a.votacion.fecha_inicio_local?a.votacion.fecha_inicio_local:o===a.votacion.fecha_fin&&a.votacion.fecha_fin_local?a.votacion.fecha_fin_local:o,E=new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(e&&a.votacion.timezone){const M=P(a.votacion.timezone);return`${E} (${M})`}return E},$=H(()=>{const o=new Date,v=new Date(a.votacion.fecha_fin_local||a.votacion.fecha_fin).getTime()-o.getTime();if(v<=0)return"Expirada";const E=Math.floor(v/(1e3*60*60)),M=Math.floor(v%(1e3*60*60)/(1e3*60));if(E>24){const q=Math.floor(E/24);return`${q} día${q>1?"s":""}`}else return E>0?`${E}h ${M}m`:`${M}m`}),Z=H(()=>a.votacion.formulario_config.every(o=>{const e=b.respuestas[o.id];return o.type==="convocatoria"?e!==void 0:o.required?o.type==="checkbox"?Array.isArray(e)&&e.length>0:e&&e.toString().trim()!=="":!0}));return et(()=>{a.votacion.urna_session&&(w(),Q(),K())}),ot(()=>{d.value&&clearInterval(d.value),g.value&&clearInterval(g.value)}),(o,e)=>(T(),S(Y,null,[n(s(rt),{title:`Votar: ${o.votacion.titulo}`},null,8,["title"]),n(wt,{breadcrumbs:t},{default:c(()=>[r("div",Ft,[r("div",Nt,[r("div",null,[r("h1",It,h(o.votacion.titulo),1),r("p",Bt,h(o.votacion.descripcion),1)]),n(s(L),{variant:"outline",onClick:k},{default:c(()=>[n(s(Et),{class:"mr-2 h-4 w-4"}),e[4]||(e[4]=x(" Volver ",-1))]),_:1})]),n(s(F),null,{default:c(()=>[n(s(N),{class:"pt-6"},{default:c(()=>[r("div",Pt,[r("div",Ut,[n(s(ct),{variant:"outline"},{default:c(()=>[x(h(o.votacion.categoria.nombre),1)]),_:1})]),r("div",qt,[n(s(I),{class:"h-4 w-4"}),x(" Termina: "+h(j(o.votacion.fecha_fin)),1)]),r("div",Ht,[n(s(O),{class:"h-4 w-4 text-orange-600"}),r("span",{class:z($.value==="Expirada"?"text-red-600":"text-orange-600")},h($.value==="Expirada"?"Votación expirada":`Tiempo restante: ${$.value}`),3)])]),r("div",Xt,[r("div",Lt,[r("div",Ot,[e[5]||(e[5]=r("span",{class:"font-medium"},"Periodo de votación:",-1)),r("div",Qt," Inicio: "+h(j(o.votacion.fecha_inicio)),1),r("div",null," Fin: "+h(j(o.votacion.fecha_fin)),1)]),r("div",Wt,[e[6]||(e[6]=r("span",{class:"font-medium"},"Zona horaria:",-1)),r("div",Kt,[x(h(P(o.votacion.timezone))+" ",1),r("span",Zt,"("+h(o.votacion.timezone)+")",1)])])])])]),_:1})]),_:1}),o.votacion.urna_session&&_.value?(T(),X(s(F),{key:0,class:z({"border-orange-500":i.value==="warning","border-red-500 animate-pulse":i.value==="critical"})},{default:c(()=>[n(s(N),{class:"pt-6"},{default:c(()=>[r("div",Jt,[r("div",ta,[n(s(At),{class:z({"h-5 w-5":!0,"text-green-600":i.value==="normal","text-orange-600":i.value==="warning","text-red-600":i.value==="critical"})},null,8,["class"]),e[7]||(e[7]=r("div",null,[r("p",{class:"font-semibold"},"Tiempo de sesión de urna"),r("p",{class:"text-sm text-muted-foreground"}," Tu sesión para votar está activa ")],-1))]),r("div",aa,[r("p",{class:z({"text-3xl font-bold":!0,"text-green-600":i.value==="normal","text-orange-600":i.value==="warning","text-red-600":i.value==="critical"})},h(A(m.value)),3),e[8]||(e[8]=r("p",{class:"text-sm text-muted-foreground"}," minutos restantes ",-1))])]),r("div",ea,[r("div",oa,[r("div",{class:z({"h-full transition-all duration-1000":!0,"bg-green-600":i.value==="normal","bg-orange-600":i.value==="warning","bg-red-600":i.value==="critical"}),style:st(`width: ${m.value/(o.votacion.urna_session.remaining_seconds||300)*100}%`)},null,6)])]),i.value==="warning"?(T(),S("div",ra,[r("div",sa,[n(s(Ct),{class:"h-4 w-4 text-orange-600"}),e[9]||(e[9]=r("p",{class:"text-sm text-orange-800"}," Tu tiempo se está agotando. Por favor, completa tu voto pronto. ",-1))])])):R("",!0),i.value==="critical"?(T(),S("div",na,[r("div",ia,[n(s(O),{class:"h-4 w-4 text-red-600"}),e[10]||(e[10]=r("p",{class:"text-sm text-red-800 font-semibold"}," ¡ATENCIÓN! Tu sesión está a punto de expirar. Envía tu voto ahora. ",-1))])])):R("",!0)]),_:1})]),_:1},8,["class"])):R("",!0),n(s(F),null,{default:c(()=>[n(s(ut),null,{default:c(()=>[n(s(mt),{class:"flex items-center gap-2"},{default:c(()=>[n(s(St),{class:"h-5 w-5"}),e[11]||(e[11]=x(" Formulario de Votación ",-1))]),_:1})]),_:1}),n(s(N),null,{default:c(()=>[r("form",{onSubmit:e[1]||(e[1]=nt(v=>u.value=!0,["prevent"])),class:"space-y-6"},[n(_t,{fields:o.votacion.formulario_config,modelValue:s(b).respuestas,"onUpdate:modelValue":e[0]||(e[0]=v=>s(b).respuestas=v),"candidatos-elegibles":o.candidatosElegibles||{},errors:s(b).errors,disabled:s(b).processing,title:"",description:"",context:"votacion"},null,8,["fields","modelValue","candidatos-elegibles","errors","disabled"]),e[12]||(e[12]=r("div",{class:"h-20"},null,-1))],32)]),_:1})]),_:1}),n(s(ft),{open:u.value,"onUpdate:open":e[2]||(e[2]=v=>u.value=v)},{default:c(()=>[n(s(pt),null,{default:c(()=>[n(s(gt),null,{default:c(()=>[n(s(vt),null,{default:c(()=>[...e[13]||(e[13]=[x("¿Confirmar voto?",-1)])]),_:1}),n(s(ht),null,{default:c(()=>[...e[14]||(e[14]=[x(" Una vez enviado tu voto, no podrás modificarlo. ¿Estás seguro de que quieres proceder? ",-1)])]),_:1})]),_:1}),n(s(bt),null,{default:c(()=>[n(s(yt),null,{default:c(()=>[...e[15]||(e[15]=[x("Cancelar",-1)])]),_:1}),n(s(xt),{onClick:f,class:"bg-primary"},{default:c(()=>[...e[16]||(e[16]=[x(" Confirmar Voto ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),(T(),X(it,{to:"body"},[n(lt,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-y-4 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-4 opacity-0"},{default:c(()=>[(T(),S("div",la,[r("div",da,[r("div",ca,[r("div",ua,[r("div",ma,[r("div",fa,[n(s(I),{class:"h-4 w-4"}),r("span",null,h($.value),1)]),e[17]||(e[17]=r("div",{class:"h-4 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),r("span",pa,h(o.votacion.titulo),1)]),r("div",ga,[n(s(L),{onClick:e[3]||(e[3]=v=>u.value=!0),disabled:!Z.value||s(b).processing,class:"bg-green-600 hover:bg-green-700 text-white border-green-600 hover:border-green-700 disabled:bg-gray-400 disabled:border-gray-400 min-w-[150px] sm:min-w-[180px]"},{default:c(()=>[s(b).processing?(T(),S(Y,{key:0},[n(s(I),{class:"mr-2 h-4 w-4 animate-spin"}),e[18]||(e[18]=x(" Enviando... ",-1))],64)):(T(),S(Y,{key:1},[n(s($t),{class:"mr-2 h-4 w-4"}),e[19]||(e[19]=x(" Enviar Voto ",-1))],64))]),_:1},8,["disabled"])])]),r("div",va,[r("span",ha," Tiempo restante: "+h($.value),1)])])])]))]),_:1})]))]),_:1})],64))}});export{ye as default};
