import{S as T,b as h,a as b,_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_K_7soM.js";import{_}from"./AppLogo.vue_vue_type_script_setup_true_lang-Cm9O2wcI.js";import{_ as j,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-DpvJI9u6.js";import{d as B,k as z,w as D,W as v,a as i,o as a,b as r,u as o,m as E,e as n,f as e,P as k,g as u,i as c,F as p,r as y,j as C,t as d,n as H}from"./app-Df_XpEAt.js";import{_ as M}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-cxBN7Cbp.js";import{C as w}from"./clock-C1PsLs-t.js";import{C as P}from"./circle-alert-DIsU94cK.js";import{E as q}from"./eye-DzS6W6Ng.js";import"./index-CrGlExaQ.js";import"./index-B1pkzvRA.js";import"./Input.vue_vue_type_script_setup_true_lang-DXtBxhay.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-BctLpHuq.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-BppcWH6e.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-_ODQH6IG.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-DQZw1vDI.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-Cy5DjkrE.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BqZRPH_d.js";import"./usePrimitiveElement-CIANssro.js";import"./createContext-BXwDQvZJ.js";import"./Collection-D8NNtd7R.js";import"./useForwardExpose-DiGKx0L3.js";import"./useNonce-DmGZhgD0.js";import"./chevron-up-CHg7eWXV.js";import"./handleAndDispatchCustomEvent-CYpUamdb.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-D498Wec-.js";import"./VisuallyHidden-wBwWBqQZ.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-D1dOFirS.js";import"./trash-2-_2tyqgGh.js";import"./plus-Qgyn9Mes.js";import"./search-B0Cbyoxn.js";import"./history-aENcBbn8.js";import"./save-56wtP7ud.js";const O={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},R={class:"flex items-center justify-between"},W={key:0,class:"text-center py-8"},G={key:1,class:"space-y-4"},I={class:"flex items-start justify-between"},J={class:"flex-1"},Q={class:"flex items-center gap-2 mb-2"},U={class:"text-lg font-semibold"},K={class:"text-muted-foreground mb-3"},X={class:"grid gap-2 md:grid-cols-2 lg:grid-cols-4 text-sm"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},ee={key:0,class:"flex items-center gap-2"},te={class:"flex items-center gap-2"},se={key:0,class:"mt-3 p-2 bg-blue-50 dark:bg-blue-950/20 rounded border-l-4 border-blue-200 dark:border-blue-800"},oe={class:"text-sm text-blue-800 dark:text-blue-200"},re={class:"flex items-center gap-2 ml-4"},ae={key:2,class:"mt-6 flex justify-center"},ie={class:"flex items-center gap-2"},le=["innerHTML"],Oe=B({__name:"Index",props:{candidaturas:{},filters:{},filterFieldsConfig:{}},setup(S){const f=S,F=[{title:"Admin",href:"/admin/dashboard"},{title:"Candidaturas",href:"#"}],m=z({estado:f.filters.estado||"null",search:f.filters.search||""});D(m,l=>{const s=Object.entries(l).reduce((t,[g,x])=>(t[g]=x==="null"?"":x,t),{});v.get("/admin/candidaturas",s,{preserveState:!0,replace:!0})},{deep:!0});const N={fields:f.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o email...",quickSearchFields:["user.name","user.email"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:$}=window,L=l=>new Date(l).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(l,s)=>(a(),i(p,null,[r(o(E),{title:"Candidaturas"}),r(V,{breadcrumbs:F},{default:n(()=>[e("div",O,[e("div",R,[s[1]||(s[1]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Candidaturas"),e("p",{class:"text-muted-foreground"}," Revisa y gestiona los perfiles de candidatura de los usuarios ")],-1)),r(o(k),{href:"/admin/candidaturas/configuracion"},{default:n(()=>[r(o(_),null,{default:n(()=>[r(o(T),{class:"mr-2 h-4 w-4"}),s[0]||(s[0]=u(" Configuración "))]),_:1})]),_:1})]),r(M,{config:N,route:o($)("admin.candidaturas.index"),"initial-filters":{quickSearch:m.value.search,rootGroup:m.value.advanced_filters?JSON.parse(m.value.advanced_filters):void 0}},null,8,["route","initial-filters"]),r(o(j),null,{default:n(()=>[r(o(A),{class:"pt-6"},{default:n(()=>[l.candidaturas.data.length===0?(a(),i("div",W,[r(o(h),{class:"mx-auto h-12 w-12 text-muted-foreground"}),s[2]||(s[2]=e("h3",{class:"mt-4 text-lg font-medium"},"No hay candidaturas",-1)),s[3]||(s[3]=e("p",{class:"text-muted-foreground"},"No se encontraron candidaturas con los filtros aplicados.",-1))])):(a(),i("div",G,[(a(!0),i(p,null,y(l.candidaturas.data,t=>(a(),i("div",{key:t.id,class:"border rounded-lg p-4 hover:bg-muted/50 transition-colors"},[e("div",I,[e("div",J,[e("div",Q,[e("h3",U,d(t.usuario.name),1),r(o(b),{class:H(t.estado_color)},{default:n(()=>[u(d(t.estado_label),1)]),_:2},1032,["class"]),t.esta_pendiente?(a(),C(o(b),{key:0,variant:"outline",class:"bg-blue-50 text-blue-700"},{default:n(()=>s[4]||(s[4]=[u(" Pendiente Revisión ")])),_:1})):c("",!0)]),e("p",K,d(t.usuario.email),1),e("div",X,[e("div",Y,[r(o(w),{class:"h-4 w-4 text-muted-foreground"}),s[5]||(s[5]=e("span",{class:"font-medium"},"Versión:",-1)),e("span",null,d(t.version),1)]),e("div",Z,[r(o(P),{class:"h-4 w-4 text-muted-foreground"}),s[6]||(s[6]=e("span",{class:"font-medium"},"Datos:",-1)),e("span",null,d(t.tiene_datos?"Completos":"Vacío"),1)]),t.aprobado_por?(a(),i("div",ee,[r(o(h),{class:"h-4 w-4 text-muted-foreground"}),s[7]||(s[7]=e("span",{class:"font-medium"},"Aprobado por:",-1)),e("span",null,d(t.aprobado_por.name),1)])):c("",!0),e("div",te,[r(o(w),{class:"h-4 w-4 text-muted-foreground"}),s[8]||(s[8]=e("span",{class:"font-medium"},"Actualizado:",-1)),e("span",null,d(L(t.updated_at)),1)])]),t.comentarios_admin?(a(),i("div",se,[e("p",oe,[s[9]||(s[9]=e("span",{class:"font-medium"},"Comentarios de la comisión:",-1)),u(" "+d(t.comentarios_admin),1)])])):c("",!0)]),e("div",re,[r(o(k),{href:`/admin/candidaturas/${t.id}`},{default:n(()=>[r(o(_),{variant:"outline",size:"sm"},{default:n(()=>[r(o(q),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])])])]))),128))])),l.candidaturas.links&&l.candidaturas.links.length>3?(a(),i("div",ae,[e("div",ie,[(a(!0),i(p,null,y(l.candidaturas.links,t=>(a(),i(p,{key:t.label},[t.url?(a(),C(o(_),{key:0,variant:t.active?"default":"outline",size:"sm",onClick:g=>o(v).get(t.url),innerHTML:t.label},null,8,["variant","onClick","innerHTML"])):(a(),i("span",{key:1,class:"px-3 py-1 text-sm text-muted-foreground",innerHTML:t.label},null,8,le))],64))),128))])])):c("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Oe as default};
