import{d as de,c as v,r as Q,i as c,e as f,f as t,u as e,p as ue,w as a,g as l,t as i,b,j as x,P as N,h as r,n as B,F as j,k as P,l as W}from"./app-D8b1iyhG.js";import{_ as fe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CNKKI51X.js";import{_ as y,a as w,c as h,b as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-CpubZFQk.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-kW7TGVkd.js";import{c as me,_ as X}from"./createLucideIcon-BzCZ4Ux9.js";import{_ as A}from"./index-BFz4Rjr1.js";import{_ as ce}from"./Progress.vue_vue_type_script_setup_true_lang-3lBB9Alf.js";import{_ as T,a as R,b as O}from"./index-yOcDiT7U.js";import{_ as pe,a as _e,b as z,c as L}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-kODy9m7A.js";import{_ as ge,a as ve}from"./index-DPm6YMhX.js";import{_ as be,a as ye,b as Z,c as C,d as he,e as M}from"./TableHeader.vue_vue_type_script_setup_true_lang-Bmp4aWmy.js";import{_ as xe,a as $e,b as we,c as ke}from"./AccordionContent.vue_vue_type_script_setup_true_lang-C6YhLaT8.js";import{_ as Ce}from"./EvidenciaFilters.vue_vue_type_script_setup_true_lang-4ObrRdDf.js";import{n as Me,d as Ee,f as ee,e as te}from"./es-BDPlFIsO.js";import{A as Ve}from"./arrow-left-DAvFF-xx.js";import{S as Ae}from"./square-pen-BlhzgUDR.js";import{F as Fe}from"./flag-lhl3rH4D.js";import{C as je}from"./clock-DfPMpIv_.js";import{F as se}from"./file-text-D-NxJb2x.js";import{U as De}from"./users-bMGn_vPW.js";import{I as Y}from"./image-DeuZQABN.js";import{C as ae}from"./calendar-C2mN7fi8.js";import{C as Ie}from"./circle-alert-BAiY2yAu.js";import{E as Ne}from"./external-link-CoSv1yei.js";import{D as Pe}from"./download-oSgoMRdn.js";import{p as le}from"./parseISO-DFjB8F03.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-DfKxWH3N.js";import"./index-9EknitmW.js";import"./floating-ui.vue-D_44iLrk.js";import"./x-Di3hRZd2.js";import"./Input.vue_vue_type_script_setup_true_lang-DEoN5cyd.js";import"./index-_HrGOJG6.js";import"./shield-CrMFR-sA.js";import"./user-DoEsQuJB.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Clw7uZZX.js";import"./chevron-right-C1p0_YAD.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-D5C9pVNC.js";import"./VisuallyHidden-D42UHKy9.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BW9QKckn.js";import"./check-DAlbwhOo.js";import"./nullish-CHIgUVhi.js";import"./Label.vue_vue_type_script_setup_true_lang-DXnOW2ZY.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CPkoHE-3.js";import"./index-DFpoRNc9.js";import"./map-pin-DH233x2C.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-D6e-kB5n.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-CphnuyJe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-C6uCeRcr.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cl6UTNVG.js";import"./tag-DOh8ybwv.js";import"./target-9B9VxhTw.js";import"./vote-BNngkYIu.js";import"./folder-open-DzYKMiH4.js";import"./send-BGQbBVWn.js";import"./briefcase-CLa5E6pc.js";import"./megaphone-DB_W2_ij.js";import"./user-check-CENHsehh.js";import"./clipboard-list-CkSM2h9J.js";import"./mail-C9q7NsOX.js";import"./message-square-C_xQNDn7.js";import"./panel-left-CtA1CDY4.js";import"./index-BPeLIox3.js";import"./RovingFocusItem-DJ7qzBf4.js";import"./utils-DYqR3Zf-.js";import"./useArrowNavigation-B5rxJs06.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=me("ActivityIcon",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);function ze(_,d,g){const[$,E]=Me(g==null?void 0:g.in,_,d),m=oe($,E),D=Math.abs(Ee($,E));$.setDate($.getDate()-m*D);const H=+(oe($,E)===-m),I=m*(D-H);return I===0?0:I}function oe(_,d){const g=_.getFullYear()-d.getFullYear()||_.getMonth()-d.getMonth()||_.getDate()-d.getDate()||_.getHours()-d.getHours()||_.getMinutes()-d.getMinutes()||_.getSeconds()-d.getSeconds()||_.getMilliseconds()-d.getMilliseconds();return g<0?-1:g>0?1:g}const Le={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},He={class:"flex items-center justify-between"},Ue={class:"text-3xl font-bold"},qe={class:"text-muted-foreground mt-2"},Be={class:"flex gap-2"},Te={class:"grid gap-4 md:grid-cols-4"},Re={class:"flex items-center gap-2"},Oe={class:"font-medium capitalize"},Ye={class:"space-y-2"},Ge={class:"flex justify-between"},Je={class:"text-2xl font-bold"},Ke={key:0,class:"flex items-center gap-2"},Qe={class:"font-medium"},We={key:1,class:"text-muted-foreground"},Xe={key:0},Ze={class:"text-sm"},et={class:"grid gap-4 md:grid-cols-2"},tt={class:"flex items-center gap-2"},st={class:"flex items-center gap-2"},at={key:1},lt={class:"border-t pt-4"},ot={class:"grid gap-2 text-sm"},nt={class:"flex justify-between"},rt={class:"flex justify-between"},it={class:"flex justify-between"},dt={key:0,class:"flex items-center gap-3"},ut={class:"font-medium"},ft={class:"text-sm text-muted-foreground"},mt={key:1,class:"text-muted-foreground"},ct={key:0,class:"space-y-3"},pt={class:"flex items-center gap-3"},_t={class:"font-medium"},gt={class:"text-sm text-muted-foreground"},vt={key:1,class:"text-muted-foreground"},bt={key:1},yt={class:"flex items-center justify-between w-full pr-4"},ht={class:"flex items-center gap-3"},xt={class:"text-left"},$t={class:"font-semibold"},wt={class:"text-sm text-gray-500"},kt={class:"flex items-center gap-3"},Ct={class:"text-sm text-gray-600"},Mt={class:"text-sm"},Et=["href"],Vt={class:"text-center"},At={class:"text-center"},Ft={key:0,class:"space-y-4"},jt={class:"flex-1"},Dt={class:"text-sm"},It={class:"font-medium"},Nt={class:"text-xs text-muted-foreground mt-1"},Pt={key:1,class:"text-muted-foreground"},Js=de({__name:"Show",props:{proyecto:{},hito:{},entregable:{},usuariosAsignados:{},actividades:{},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(_){const d=_,g=v(()=>d.usuariosAsignados||[]),$=v(()=>d.actividades||[]),E=Q("detalles"),m=Q({contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null}),D=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:d.proyecto.nombre,href:`/admin/proyectos/${d.proyecto.id}`},{title:"Hitos",href:`/admin/proyectos/${d.proyecto.id}/hitos`},{title:d.hito.nombre,href:`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}`},{title:"Entregables",href:`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables`},{title:d.entregable.nombre}],H=v(()=>({pendiente:"secondary",en_progreso:"default",completado:"outline",cancelado:"destructive"})[d.entregable.estado]||"default"),I=v(()=>({pendiente:"Pendiente",en_progreso:"En Progreso",completado:"Completado",cancelado:"Cancelado"})[d.entregable.estado]||d.entregable.estado),ne=v(()=>({baja:"text-blue-500",media:"text-yellow-500",alta:"text-red-500"})[d.entregable.prioridad]||""),p=v(()=>d.entregable.fecha_fin?ze(new Date(d.entregable.fecha_fin),new Date):null);v(()=>{if(d.entregable.estado==="completado")return"Completado";if(d.entregable.estado==="cancelado")return"Cancelado";if(p.value!==null){if(p.value<0)return"Vencido";if(p.value===0)return"Vence hoy";if(p.value<=3)return"Por vencer"}return"En curso"});const U=o=>o?ee(le(o),"d 'de' MMMM 'de' yyyy",{locale:te}):"No definida",q=o=>ee(le(o),"d MMM yyyy 'a las' HH:mm",{locale:te}),k=v(()=>d.entregable.evidencias||[]),re=v(()=>{const o=new Map;return k.value.forEach(s=>{var n;if((n=s.obligacion)!=null&&n.contrato){const u=s.obligacion.contrato;o.has(u.id)||o.set(u.id,{id:u.id,nombre:u.nombre})}}),Array.from(o.values())}),ie=v(()=>{let o=k.value;return m.value.contrato_id&&(o=o.filter(s=>{var n;return((n=s.obligacion)==null?void 0:n.contrato_id)===m.value.contrato_id})),m.value.tipo&&(o=o.filter(s=>s.tipo_evidencia===m.value.tipo)),m.value.estado&&(o=o.filter(s=>s.estado===m.value.estado)),m.value.usuario_id&&(o=o.filter(s=>{var n;return((n=s.usuario)==null?void 0:n.id)===m.value.usuario_id})),(m.value.fecha_inicio||m.value.fecha_fin)&&(o=o.filter(s=>{const n=new Date(s.created_at);if(m.value.fecha_inicio){const u=new Date(m.value.fecha_inicio);if(n<u)return!1}if(m.value.fecha_fin){const u=new Date(m.value.fecha_fin);if(u.setHours(23,59,59,999),n>u)return!1}return!0})),o}),G=v(()=>{const o={};return ie.value.forEach(s=>{var n;if((n=s.obligacion)!=null&&n.contrato){const u=s.obligacion.contrato.id;o[u]||(o[u]={contrato:s.obligacion.contrato,evidencias:[]}),o[u].evidencias.push({...s,obligacion_titulo:s.obligacion.titulo})}}),Object.values(o)});return(o,s)=>(f(),c(j,null,[t(e(ue),{title:`Entregable - ${o.entregable.nombre}`},null,8,["title"]),t(fe,{breadcrumbs:D},{default:a(()=>[l("div",Le,[l("div",He,[l("div",null,[l("h1",Ue,i(o.entregable.nombre),1),l("p",qe,' Entregable del hito "'+i(o.hito.nombre)+'" ',1)]),l("div",Be,[t(e(N),{href:`/admin/proyectos/${o.proyecto.id}/hitos/${o.hito.id}/entregables`},{default:a(()=>[t(e(X),{variant:"outline",size:"sm"},{default:a(()=>[t(e(Ve),{class:"h-4 w-4 mr-2"}),s[4]||(s[4]=r(" Volver ",-1))]),_:1})]),_:1},8,["href"]),o.canEdit?(f(),b(e(N),{key:0,href:`/admin/proyectos/${o.proyecto.id}/hitos/${o.hito.id}/entregables/${o.entregable.id}/edit`},{default:a(()=>[t(e(X),{variant:"outline",size:"sm"},{default:a(()=>[t(e(Ae),{class:"h-4 w-4 mr-2"}),s[5]||(s[5]=r(" Editar ",-1))]),_:1})]),_:1},8,["href"])):x("",!0)])]),l("div",Te,[t(e(y),null,{default:a(()=>[t(e(w),{class:"pb-2"},{default:a(()=>[t(e(V),null,{default:a(()=>[...s[6]||(s[6]=[r("Estado",-1)])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[t(e(A),{variant:H.value,class:"text-sm"},{default:a(()=>[r(i(I.value),1)]),_:1},8,["variant"])]),_:1})]),_:1}),t(e(y),null,{default:a(()=>[t(e(w),{class:"pb-2"},{default:a(()=>[t(e(V),null,{default:a(()=>[...s[7]||(s[7]=[r("Prioridad",-1)])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[l("div",Re,[t(e(Fe),{class:B(["h-4 w-4",ne.value])},null,8,["class"]),l("span",Oe,i(o.entregable.prioridad),1)])]),_:1})]),_:1}),t(e(y),null,{default:a(()=>[t(e(w),{class:"pb-2"},{default:a(()=>[t(e(V),null,{default:a(()=>[...s[8]||(s[8]=[r("Progreso",-1)])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[l("div",Ye,[l("div",Ge,[l("span",Je,i(o.entregable.porcentaje_completado)+"%",1)]),t(e(ce),{"model-value":o.entregable.porcentaje_completado},null,8,["model-value"])])]),_:1})]),_:1}),t(e(y),null,{default:a(()=>[t(e(w),{class:"pb-2"},{default:a(()=>[t(e(V),null,{default:a(()=>[...s[9]||(s[9]=[r("Tiempo Restante",-1)])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[p.value!==null?(f(),c("div",Ke,[t(e(je),{class:B(["h-4 w-4",{"text-red-500":p.value<0,"text-yellow-500":p.value>=0&&p.value<=3,"text-green-500":p.value>3}])},null,8,["class"]),l("span",Qe,i(p.value<0?`Vencido hace ${Math.abs(p.value)} días`:p.value===0?"Vence hoy":`${p.value} días`),1)])):(f(),c("span",We,"Sin fecha límite"))]),_:1})]),_:1})]),t(e(pe),{modelValue:E.value,"onUpdate:modelValue":s[3]||(s[3]=n=>E.value=n),class:"flex-1"},{default:a(()=>[t(e(_e),null,{default:a(()=>[t(e(z),{value:"detalles"},{default:a(()=>[t(e(se),{class:"h-4 w-4 mr-2"}),s[10]||(s[10]=r(" Detalles ",-1))]),_:1}),t(e(z),{value:"equipo"},{default:a(()=>[t(e(De),{class:"h-4 w-4 mr-2"}),s[11]||(s[11]=r(" Equipo ",-1))]),_:1}),t(e(z),{value:"evidencias"},{default:a(()=>[t(e(Y),{class:"h-4 w-4 mr-2"}),s[12]||(s[12]=r(" Evidencias ",-1)),k.value.length>0?(f(),b(e(A),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[r(i(k.value.length),1)]),_:1})):x("",!0)]),_:1}),t(e(z),{value:"actividad"},{default:a(()=>[t(e(Se),{class:"h-4 w-4 mr-2"}),s[13]||(s[13]=r(" Actividad ",-1))]),_:1})]),_:1}),t(e(L),{value:"detalles",class:"space-y-4"},{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(w),null,{default:a(()=>[t(e(S),null,{default:a(()=>[...s[14]||(s[14]=[r("Información General",-1)])]),_:1})]),_:1}),t(e(h),{class:"space-y-4"},{default:a(()=>[o.entregable.descripcion?(f(),c("div",Xe,[s[15]||(s[15]=l("h4",{class:"text-sm font-medium text-muted-foreground mb-2"},"Descripción",-1)),l("p",Ze,i(o.entregable.descripcion),1)])):x("",!0),l("div",et,[l("div",null,[s[16]||(s[16]=l("h4",{class:"text-sm font-medium text-muted-foreground mb-2"},"Fecha de Inicio",-1)),l("div",tt,[t(e(ae),{class:"h-4 w-4"}),l("span",null,i(U(o.entregable.fecha_inicio)),1)])]),l("div",null,[s[17]||(s[17]=l("h4",{class:"text-sm font-medium text-muted-foreground mb-2"},"Fecha de Fin",-1)),l("div",st,[t(e(ae),{class:"h-4 w-4"}),l("span",null,i(U(o.entregable.fecha_fin)),1)])])]),o.entregable.notas?(f(),c("div",at,[s[18]||(s[18]=l("h4",{class:"text-sm font-medium text-muted-foreground mb-2"},"Notas",-1)),t(e(ge),null,{default:a(()=>[t(e(Ie),{class:"h-4 w-4"}),t(e(ve),null,{default:a(()=>[r(i(o.entregable.notas),1)]),_:1})]),_:1})])):x("",!0),l("div",lt,[s[22]||(s[22]=l("h4",{class:"text-sm font-medium text-muted-foreground mb-2"},"Metadatos",-1)),l("div",ot,[l("div",nt,[s[19]||(s[19]=l("span",{class:"text-muted-foreground"},"Creado:",-1)),l("span",null,i(q(o.entregable.created_at)),1)]),l("div",rt,[s[20]||(s[20]=l("span",{class:"text-muted-foreground"},"Última actualización:",-1)),l("span",null,i(q(o.entregable.updated_at)),1)]),l("div",it,[s[21]||(s[21]=l("span",{class:"text-muted-foreground"},"Orden de visualización:",-1)),l("span",null,i(o.entregable.orden),1)])])])]),_:1})]),_:1})]),_:1}),t(e(L),{value:"equipo",class:"space-y-4"},{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(w),null,{default:a(()=>[t(e(S),null,{default:a(()=>[...s[23]||(s[23]=[r("Responsable Principal",-1)])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[o.entregable.responsable?(f(),c("div",dt,[t(e(T),{class:"h-10 w-10"},{default:a(()=>[o.entregable.responsable.avatar?(f(),b(e(R),{key:0,src:o.entregable.responsable.avatar},null,8,["src"])):x("",!0),t(e(O),null,{default:a(()=>[r(i(o.entregable.responsable.name.substring(0,2).toUpperCase()),1)]),_:1})]),_:1}),l("div",null,[l("p",ut,i(o.entregable.responsable.name),1),l("p",ft,i(o.entregable.responsable.email),1)])])):(f(),c("p",mt,"No hay responsable asignado"))]),_:1})]),_:1}),t(e(y),null,{default:a(()=>[t(e(w),null,{default:a(()=>[t(e(S),null,{default:a(()=>[...s[24]||(s[24]=[r("Colaboradores",-1)])]),_:1}),t(e(V),null,{default:a(()=>[r(i(g.value.length)+" usuarios asignados ",1)]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[g.value.length>0?(f(),c("div",ct,[(f(!0),c(j,null,P(g.value,n=>(f(),c("div",{key:n.user_id,class:"flex items-center justify-between p-3 bg-muted rounded-lg"},[l("div",pt,[t(e(T),{class:"h-8 w-8"},{default:a(()=>[n.user.avatar?(f(),b(e(R),{key:0,src:n.user.avatar},null,8,["src"])):x("",!0),t(e(O),null,{default:a(()=>[r(i(n.user.name.substring(0,2).toUpperCase()),1)]),_:2},1024)]),_:2},1024),l("div",null,[l("p",_t,i(n.user.name),1),l("p",gt,i(n.user.email),1)])]),t(e(A),{variant:"outline"},{default:a(()=>[r(i(n.rol),1)]),_:2},1024)]))),128))])):(f(),c("p",vt,"No hay colaboradores asignados"))]),_:1})]),_:1})]),_:1}),t(e(L),{value:"evidencias",class:"space-y-4 mt-6"},{default:a(()=>[k.value.length>0?(f(),b(Ce,{key:0,modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=n=>m.value=n),contratos:re.value,evidencias:k.value},null,8,["modelValue","contratos","evidencias"])):x("",!0),G.value.length>0?(f(),c("div",bt,[t(e(xe),{type:"multiple",class:"space-y-4",collapsible:""},{default:a(()=>[(f(!0),c(j,null,P(G.value,n=>(f(),b(e($e),{key:n.contrato.id,value:`contrato-${n.contrato.id}`,class:"border rounded-lg bg-card"},{default:a(()=>[t(e(we),{class:"px-4 py-3 hover:no-underline hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg"},{default:a(()=>[l("div",yt,[l("div",ht,[t(e(se),{class:"h-5 w-5 text-gray-500"}),l("div",xt,[l("div",$t,i(n.contrato.nombre),1),l("div",wt," Contrato #"+i(n.contrato.id),1)])]),l("div",kt,[t(e(A),{variant:"secondary"},{default:a(()=>[r(i(n.evidencias.length)+" evidencia(s) ",1)]),_:2},1024),t(e(N),{href:`/admin/contratos/${n.contrato.id}`,onClick:s[1]||(s[1]=W(()=>{},["stop"])),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},{default:a(()=>[s[25]||(s[25]=r(" Ver contrato ",-1)),t(e(Ne),{class:"h-3 w-3"})]),_:2},1032,["href"])])])]),_:2},1024),t(e(ke),{class:"px-4 pb-4"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(ye),null,{default:a(()=>[t(e(Z),null,{default:a(()=>[t(e(C),null,{default:a(()=>[...s[26]||(s[26]=[r("Tipo",-1)])]),_:1}),t(e(C),null,{default:a(()=>[...s[27]||(s[27]=[r("Obligación",-1)])]),_:1}),t(e(C),null,{default:a(()=>[...s[28]||(s[28]=[r("Descripción",-1)])]),_:1}),t(e(C),null,{default:a(()=>[...s[29]||(s[29]=[r("Usuario",-1)])]),_:1}),t(e(C),null,{default:a(()=>[...s[30]||(s[30]=[r("Estado",-1)])]),_:1}),t(e(C),null,{default:a(()=>[...s[31]||(s[31]=[r("Fecha",-1)])]),_:1}),t(e(C),{class:"text-right"},{default:a(()=>[...s[32]||(s[32]=[r("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(he),null,{default:a(()=>[(f(!0),c(j,null,P(n.evidencias,u=>(f(),b(e(Z),{key:u.id,class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800"},{default:a(()=>[t(e(N),{href:`/admin/contratos/${n.contrato.id}/evidencias/${u.id}`,class:"contents"},{default:a(()=>[t(e(M),null,{default:a(()=>[t(e(A),{variant:"outline"},{default:a(()=>[r(i(u.tipo_evidencia),1)]),_:2},1024)]),_:2},1024),t(e(M),null,{default:a(()=>[r(i(u.obligacion_titulo),1)]),_:2},1024),t(e(M),null,{default:a(()=>[l("span",Ct,i(u.descripcion||"-"),1)]),_:2},1024),t(e(M),null,{default:a(()=>{var F;return[l("span",Mt,i(((F=u.usuario)==null?void 0:F.name)||"-"),1)]}),_:2},1024),t(e(M),null,{default:a(()=>[t(e(A),{class:B({"bg-yellow-100 text-yellow-800":u.estado==="pendiente","bg-green-100 text-green-800":u.estado==="aprobada","bg-red-100 text-red-800":u.estado==="rechazada"})},{default:a(()=>[r(i(u.estado),1)]),_:2},1032,["class"])]),_:2},1024),t(e(M),null,{default:a(()=>[r(i(U(u.created_at)),1)]),_:2},1024),t(e(M),{class:"text-right"},{default:a(()=>[u.archivo_url?(f(),c("a",{key:0,href:u.archivo_url,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800",onClick:s[2]||(s[2]=W(()=>{},["stop"]))},[t(e(Pe),{class:"h-4 w-4"})],8,Et)):x("",!0)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])):k.value.length===0?(f(),b(e(y),{key:2},{default:a(()=>[t(e(h),{class:"py-8"},{default:a(()=>[l("div",Vt,[t(e(Y),{class:"mx-auto h-12 w-12 text-gray-400"}),s[33]||(s[33]=l("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias asociadas",-1)),s[34]||(s[34]=l("p",{class:"text-xs text-gray-500 mt-1"},"Las evidencias se asocian desde los contratos",-1))])]),_:1})]),_:1})):(f(),b(e(y),{key:3},{default:a(()=>[t(e(h),{class:"py-8"},{default:a(()=>[l("div",At,[t(e(Y),{class:"mx-auto h-12 w-12 text-gray-400"}),s[35]||(s[35]=l("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias que coincidan con los filtros",-1)),s[36]||(s[36]=l("p",{class:"text-xs text-gray-500 mt-1"},"Intenta ajustar los criterios de búsqueda",-1))])]),_:1})]),_:1}))]),_:1}),t(e(L),{value:"actividad",class:"space-y-4"},{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(w),null,{default:a(()=>[t(e(S),null,{default:a(()=>[...s[37]||(s[37]=[r("Historial de Actividad",-1)])]),_:1}),t(e(V),null,{default:a(()=>[...s[38]||(s[38]=[r(" Registro de cambios y eventos del entregable ",-1)])]),_:1})]),_:1}),t(e(h),null,{default:a(()=>[$.value.length>0?(f(),c("div",Ft,[(f(!0),c(j,null,P($.value,n=>{var u;return f(),c("div",{key:n.id,class:"flex gap-3 pb-4 border-b last:border-0"},[t(e(T),{class:"h-8 w-8"},{default:a(()=>{var F;return[(F=n.causer)!=null&&F.avatar?(f(),b(e(R),{key:0,src:n.causer.avatar},null,8,["src"])):x("",!0),t(e(O),null,{default:a(()=>{var J,K;return[r(i(((K=(J=n.causer)==null?void 0:J.name)==null?void 0:K.substring(0,2).toUpperCase())||"SI"),1)]}),_:2},1024)]}),_:2},1024),l("div",jt,[l("p",Dt,[l("span",It,i(((u=n.causer)==null?void 0:u.name)||"Sistema"),1),r(" "+i(n.description),1)]),l("p",Nt,i(q(n.created_at)),1)])])}),128))])):(f(),c("p",Pt,"No hay actividad registrada"))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{Js as default};
