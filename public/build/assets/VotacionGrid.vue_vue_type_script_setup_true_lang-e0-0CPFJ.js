import{c as ee,_ as k}from"./createLucideIcon-H6zLNTbI.js";import{_ as p}from"./index-Cly0Qei5.js";import{C as de}from"./circle-alert-AjGR6gnE.js";import{C as fe}from"./circle-x-mqsD6Gn7.js";import{C as me}from"./circle-check-big-BvkA8kX7.js";import{C as Z}from"./clock-DuU2ihnB.js";import{C as ve}from"./circle-play-BBFyOEPI.js";import{d as A,b as y,f as l,n as te,w as x,j as v,h as D,m as d,x as ge,t as w,c as ye,i as T,g as u,e as g,Z as V,F as E,k as R,s as b}from"./app-Tc5FcPos.js";import{L as xe}from"./loader-circle-BdWXJTGV.js";import{C as ne}from"./calendar-DTCaY4jd.js";import{G as we}from"./globe-Bt9L8TiZ.js";import{C as ae}from"./circle-check-C2vgE-5k.js";import{U as he}from"./users-Jlbe-ZJc.js";import{V as se}from"./vote-D_GetRcJ.js";import{R as re}from"./refresh-cw-TiW-vqkk.js";import{E as ie}from"./eye-B71Ey79G.js";import{g as De,f as L,e as U}from"./es-BDPlFIsO.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=ee("ChartNoAxesColumnIcon",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ee("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);function ke(){return Object.assign({},De())}const oe=A({__name:"VotacionStatus",props:{estado:{},small:{type:Boolean,default:!1}},setup(e){const t=e,n=()=>{switch(t.estado){case"activa":return"success";case"pendiente":return"warning";case"finalizada":return"secondary";case"cancelada":return"destructive";case"inactiva":default:return"outline"}},a=()=>{switch(t.estado){case"activa":return ve;case"pendiente":return Z;case"finalizada":return me;case"cancelada":return fe;case"inactiva":default:return de}},s=()=>{switch(t.estado){case"activa":return"Activa";case"pendiente":return"Pendiente";case"finalizada":return"Finalizada";case"cancelada":return"Cancelada";case"inactiva":return"Inactiva";default:return t.estado}};return(r,o)=>(d(),y(l(p),{variant:n(),class:te([e.small?"text-xs px-2 py-0.5":"text-sm px-3 py-1","font-medium"])},{default:x(()=>[e.small?v("",!0):(d(),y(ge(a()),{key:0,class:"h-3 w-3 mr-1"})),D(" "+w(s()),1)]),_:1},8,["variant","class"]))}});function X(e,t,n){const a=ke(),s=pe(e,n.timeZone,n.locale??a.locale);return"formatToParts"in s?Ne(s,t):Ce(s,t)}function Ne(e,t){const n=e.formatToParts(t);for(let a=n.length-1;a>=0;--a)if(n[a].type==="timeZoneName")return n[a].value}function Ce(e,t){const n=e.format(t).replace(/\u200E/g,""),a=/ [\w-+ ]+$/.exec(n);return a?a[0].substr(1):""}function pe(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function be(e,t){const n=Oe(t);return"formatToParts"in n?Ie(n,e):$e(n,e)}const Me={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ie(e,t){try{const n=e.formatToParts(t),a=[];for(let s=0;s<n.length;s++){const r=Me[n[s].type];r!==void 0&&(a[r]=parseInt(n[s].value,10))}return a}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function $e(e,t){const n=e.format(t),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(a[3],10),parseInt(a[1],10),parseInt(a[2],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10)]}const I={},B=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Ye=B==="06/25/2014, 00:00:00"||B==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function Oe(e){return I[e]||(I[e]=Ye?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),I[e]}function ce(e,t,n,a,s,r,o){const c=new Date(0);return c.setUTCFullYear(e,t,n),c.setUTCHours(a,s,r,o),c}const P=36e5,ze=6e4,$={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function S(e,t,n){if(!e)return 0;let a=$.timezoneZ.exec(e);if(a)return 0;let s,r;if(a=$.timezoneHH.exec(e),a)return s=parseInt(a[1],10),_(s)?-(s*P):NaN;if(a=$.timezoneHHMM.exec(e),a){s=parseInt(a[2],10);const o=parseInt(a[3],10);return _(s,o)?(r=Math.abs(s)*P+o*ze,a[1]==="+"?-r:r):NaN}if(He(e)){t=new Date(t||Date.now());const o=n?t:Ve(t),c=F(o,e);return-(n?c:Ue(t,c,e))}return NaN}function Ve(e){return ce(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function F(e,t){const n=be(e,t),a=ce(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=e.getTime();const r=s%1e3;return s-=r>=0?r:1e3+r,a-s}function Ue(e,t,n){let s=e.getTime()-t;const r=F(new Date(s),n);if(t===r)return t;s-=r-t;const o=F(new Date(s),n);return r===o?r:Math.max(r,o)}function _(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const j={};function He(e){if(j[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),j[e]=!0,!0}catch{return!1}}const Fe=60*1e3,Ze={X:function(e,t,n){const a=Y(n.timeZone,e);if(a===0)return"Z";switch(t){case"X":return W(a);case"XXXX":case"XX":return C(a);case"XXXXX":case"XXX":default:return C(a,":")}},x:function(e,t,n){const a=Y(n.timeZone,e);switch(t){case"x":return W(a);case"xxxx":case"xx":return C(a);case"xxxxx":case"xxx":default:return C(a,":")}},O:function(e,t,n){const a=Y(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Ae(a,":");case"OOOO":default:return"GMT"+C(a,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return X("short",e,n);case"zzzz":default:return X("long",e,n)}}};function Y(e,t){const n=e?S(e,t,!0)/Fe:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function M(e,t){const n=e<0?"-":"";let a=Math.abs(e).toString();for(;a.length<t;)a="0"+a;return n+a}function C(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),s=M(Math.floor(a/60),2),r=M(Math.floor(a%60),2);return n+s+t+r}function W(e,t){return e%60===0?(e>0?"-":"+")+M(Math.abs(e)/60,2):C(e,t)}function Ae(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.floor(a/60),r=a%60;return r===0?n+String(s):n+String(s)+t+M(r,2)}function G(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const Le=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,O=36e5,q=6e4,Se=2,h={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Le};function le(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?Se:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const a=Ee(e),{year:s,restDateString:r}=Re(a.date,n),o=Xe(r,s);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const c=o.getTime();let i=0,f;if(a.time&&(i=Be(a.time),i===null||isNaN(i)))return new Date(NaN);if(a.timeZone||t.timeZone){if(f=S(a.timeZone||t.timeZone,new Date(c+i)),isNaN(f))return new Date(NaN)}else f=G(new Date(c+i)),f=G(new Date(c+i+f));return new Date(c+i+f)}else return new Date(NaN)}function Ee(e){const t={};let n=h.dateTimePattern.exec(e),a;if(n?(t.date=n[1],a=n[3]):(n=h.datePattern.exec(e),n?(t.date=n[1],a=n[2]):(t.date=null,a=e)),a){const s=h.timeZone.exec(a);s?(t.time=a.replace(s[1],""),t.timeZone=s[1].trim()):t.time=a}return t}function Re(e,t){if(e){const n=h.YYY[t],a=h.YYYYY[t];let s=h.YYYY.exec(e)||a.exec(e);if(s){const r=s[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(s=h.YY.exec(e)||n.exec(e),s){const r=s[1];return{year:parseInt(r,10)*100,restDateString:e.slice(r.length)}}}return{year:null}}function Xe(e,t){if(t===null)return null;let n,a,s;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let r=h.MM.exec(e);if(r)return n=new Date(0),a=parseInt(r[1],10)-1,Q(t,a)?(n.setUTCFullYear(t,a),n):new Date(NaN);if(r=h.DDD.exec(e),r){n=new Date(0);const o=parseInt(r[1],10);return je(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(r=h.MMDD.exec(e),r){n=new Date(0),a=parseInt(r[1],10)-1;const o=parseInt(r[2],10);return Q(t,a,o)?(n.setUTCFullYear(t,a,o),n):new Date(NaN)}if(r=h.Www.exec(e),r)return s=parseInt(r[1],10)-1,K(s)?J(t,s):new Date(NaN);if(r=h.WwwD.exec(e),r){s=parseInt(r[1],10)-1;const o=parseInt(r[2],10)-1;return K(s,o)?J(t,s,o):new Date(NaN)}return null}function Be(e){let t,n,a=h.HH.exec(e);if(a)return t=parseFloat(a[1].replace(",",".")),z(t)?t%24*O:NaN;if(a=h.HHMM.exec(e),a)return t=parseInt(a[1],10),n=parseFloat(a[2].replace(",",".")),z(t,n)?t%24*O+n*q:NaN;if(a=h.HHMMSS.exec(e),a){t=parseInt(a[1],10),n=parseInt(a[2],10);const s=parseFloat(a[3].replace(",","."));return z(t,n,s)?t%24*O+n*q+s*1e3:NaN}return null}function J(e,t,n){t=t||0,n=n||0;const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,r=t*7+n+1-s;return a.setUTCDate(a.getUTCDate()+r),a}const Pe=[31,28,31,30,31,30,31,31,30,31,30,31],_e=[31,29,31,30,31,30,31,31,30,31,30,31];function ue(e){return e%400===0||e%4===0&&e%100!==0}function Q(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const a=ue(e);if(a&&n>_e[t]||!a&&n>Pe[t])return!1}return!0}function je(e,t){if(t<1)return!1;const n=ue(e);return!(n&&t>366||!n&&t>365)}function K(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function z(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}const We=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Ge(e,t,n={}){t=String(t);const a=t.match(We);if(a){const s=le(n.originalDate||e,n);t=a.reduce(function(r,o){if(o[0]==="'")return r;const c=r.indexOf(o),i=r[c-1]==="'",f=r.replace(o,"'"+Ze[o[0]](s,o,n)+"'");return i?f.substring(0,c-1)+f.substring(c+1):f},t)}return L(e,t,n)}function qe(e,t,n){e=le(e,n);const a=S(t,e,!0),s=new Date(e.getTime()-a),r=new Date(0);return r.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),r.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),r}function Je(e,t,n,a){return a={...a,timeZone:t,originalDate:e},Ge(qe(e,t,{timeZone:a.timeZone}),n,a)}const Qe={key:0,class:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 rounded-lg flex items-center justify-center z-10"},Ke={class:"flex flex-col items-center space-y-2"},et={class:"flex justify-between items-start mb-3"},tt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-2"},nt={key:1,class:"mb-2"},at={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"},st={key:2,class:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2"},rt={class:"text-sm mb-4"},it={class:"space-y-1 mb-2"},ot={class:"flex items-center gap-1 text-gray-700 dark:text-gray-300 font-medium"},ct={class:"ml-5 text-gray-600 dark:text-gray-400"},lt={key:0,class:"space-y-1"},ut={class:"flex items-center gap-1 text-gray-500 dark:text-gray-500 text-xs"},dt={class:"ml-5 text-gray-500 dark:text-gray-500 text-xs"},ft={class:"flex flex-wrap gap-2 mb-4"},mt={class:"flex gap-2"},vt=A({__name:"VotacionCard",props:{votacion:{},canVote:{type:Boolean,default:!0},canViewResults:{type:Boolean,default:!0},canViewOwnVote:{type:Boolean,default:!0}},emits:["votar","ver-voto","ver-resultados"],setup(e){const t=e,n=ye(()=>t.votacion.timezone||"America/Bogota"),a=c=>({"America/Bogota":"COT","America/New_York":"EST","America/Los_Angeles":"PST","Europe/Madrid":"CET","America/Mexico_City":"CST"})[c]||c,s=c=>Je(c,n.value,"dd/MM/yyyy HH:mm",{locale:U}),r=c=>L(new Date(c),"dd/MM/yyyy HH:mm",{locale:U}),o=c=>s(c)!==r(c);return(c,i)=>(d(),T("div",{class:te(["relative bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200",{"opacity-75":e.votacion.vote_processing}])},[e.votacion.vote_processing?(d(),T("div",Qe,[u("div",Ke,[g(l(xe),{class:"h-8 w-8 animate-spin text-primary-600"}),i[5]||(i[5]=u("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Firmando digitalmente... ",-1))])])):v("",!0),u("div",et,[u("h3",tt,w(e.votacion.titulo),1),g(oe,{estado:e.votacion.estado_visual,small:!0},null,8,["estado"])]),e.votacion.categoria?(d(),T("div",nt,[u("span",at,w(e.votacion.categoria.nombre),1)])):v("",!0),e.votacion.descripcion?(d(),T("p",st,w(e.votacion.descripcion),1)):v("",!0),u("div",rt,[u("div",it,[u("div",ot,[g(l(ne),{class:"h-4 w-4"}),u("span",null,"Horario oficial ("+w(a(n.value))+"):",1)]),u("div",ct,[u("div",null,"Inicio: "+w(s(e.votacion.fecha_inicio)),1),u("div",null,"Fin: "+w(s(e.votacion.fecha_fin)),1)])]),o(e.votacion.fecha_inicio)?(d(),T("div",lt,[u("div",ut,[g(l(we),{class:"h-3 w-3"}),i[6]||(i[6]=u("span",null,"Tu hora local:",-1))]),u("div",dt,[u("div",null,"Inicio: "+w(r(e.votacion.fecha_inicio)),1),u("div",null,"Fin: "+w(r(e.votacion.fecha_fin)),1)])])):v("",!0)]),u("div",ft,[e.votacion.ya_voto?(d(),y(l(p),{key:0,variant:"success"},{default:x(()=>[g(l(ae),{class:"h-3 w-3 mr-1"}),i[7]||(i[7]=D(" Ya votaste ",-1))]),_:1})):v("",!0),e.votacion.resultados_visibles?(d(),y(l(p),{key:1,variant:"secondary"},{default:x(()=>[g(l(H),{class:"h-3 w-3 mr-1"}),i[8]||(i[8]=D(" Resultados disponibles ",-1))]),_:1})):v("",!0),e.votacion.votantes_count?(d(),y(l(p),{key:2,variant:"outline"},{default:x(()=>[g(l(he),{class:"h-3 w-3 mr-1"}),D(" "+w(e.votacion.votantes_count)+" participantes ",1)]),_:1})):v("",!0)]),u("div",mt,[V(c.$slots,"actions",{votacion:e.votacion},()=>[!e.votacion.urna_session_status&&e.votacion.puede_votar&&e.canVote?(d(),y(l(k),{key:0,onClick:i[0]||(i[0]=f=>c.$emit("votar",e.votacion)),size:"sm",class:"flex-1"},{default:x(()=>[g(l(se),{class:"h-4 w-4 mr-1"}),i[9]||(i[9]=D(" Votar ",-1))]),_:1})):v("",!0),e.votacion.urna_session_status==="active"&&e.votacion.puede_votar&&e.canVote?(d(),y(l(k),{key:1,onClick:i[1]||(i[1]=f=>c.$emit("votar",e.votacion)),size:"sm",class:"flex-1",variant:"secondary"},{default:x(()=>[g(l(Z),{class:"h-4 w-4 mr-1"}),i[10]||(i[10]=D(" Volver a la Urna ",-1))]),_:1})):v("",!0),e.votacion.urna_session_status==="expired"&&e.votacion.puede_votar&&e.canVote?(d(),y(l(k),{key:2,onClick:i[2]||(i[2]=f=>c.$emit("reiniciar-urna",e.votacion)),size:"sm",class:"flex-1",variant:"outline"},{default:x(()=>[g(l(re),{class:"h-4 w-4 mr-1"}),i[11]||(i[11]=D(" Reiniciar Urna ",-1))]),_:1})):v("",!0),e.votacion.puede_ver_voto&&e.canViewOwnVote?(d(),y(l(k),{key:3,onClick:i[3]||(i[3]=f=>c.$emit("ver-voto",e.votacion)),variant:"outline",size:"sm",class:"flex-1"},{default:x(()=>[g(l(ie),{class:"h-4 w-4 mr-1"}),i[12]||(i[12]=D(" Mi voto ",-1))]),_:1})):v("",!0),e.votacion.resultados_visibles&&e.canViewResults?(d(),y(l(k),{key:4,onClick:i[4]||(i[4]=f=>c.$emit("ver-resultados",e.votacion)),variant:"outline",size:"sm",class:"flex-1"},{default:x(()=>[g(l(H),{class:"h-4 w-4 mr-1"}),i[13]||(i[13]=D(" Resultados ",-1))]),_:1})):v("",!0)])])],2))}}),gt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},yt={key:1,class:"space-y-3"},xt={class:"flex items-center justify-between"},wt={class:"flex-1"},ht={class:"flex items-start gap-4"},Dt={class:"flex-1"},Tt={class:"text-base font-semibold text-gray-900 dark:text-gray-100"},kt={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Nt={class:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400"},Ct={class:"flex items-center gap-1"},pt={class:"flex items-center gap-2"},bt={class:"ml-4 flex items-center gap-2"},Mt={key:2,class:"text-center py-12"},It={class:"mx-auto h-12 w-12 text-gray-400"},$t={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},jt=A({__name:"VotacionGrid",props:{votaciones:{},viewMode:{default:"grid"},canVote:{type:Boolean,default:!0},canViewResults:{type:Boolean,default:!0},canViewOwnVote:{type:Boolean,default:!0},emptyMessage:{}},emits:["votar","reiniciar-urna","ver-voto","ver-resultados"],setup(e,{emit:t}){const n=t,a=i=>L(new Date(i),"dd/MM/yyyy HH:mm",{locale:U}),s=i=>{n("votar",i),n("votar")||b.visit(route("user.votaciones.votar",i.id))},r=i=>{n("reiniciar-urna",i),n("reiniciar-urna")||b.visit(route("user.votaciones.reset-urna",i.id),{method:"post"})},o=i=>{n("ver-voto",i),n("ver-voto")||b.visit(route("user.votaciones.mi-voto",i.id))},c=i=>{n("ver-resultados",i),n("ver-resultados")||b.visit(route("user.votaciones.resultados",i.id))};return(i,f)=>(d(),T("div",null,[e.viewMode==="grid"?(d(),T("div",gt,[(d(!0),T(E,null,R(e.votaciones,m=>(d(),y(vt,{key:m.id,votacion:m,"can-vote":e.canVote,"can-view-results":e.canViewResults,"can-view-own-vote":e.canViewOwnVote,onVotar:s,onReiniciarUrna:r,onVerVoto:o,onVerResultados:c},{actions:x(({votacion:N})=>[V(i.$slots,"card-actions",{votacion:N})]),_:3},8,["votacion","can-vote","can-view-results","can-view-own-vote"]))),128))])):e.viewMode==="list"?(d(),T("div",yt,[(d(!0),T(E,null,R(e.votaciones,m=>(d(),T("div",{key:m.id,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},[u("div",xt,[u("div",wt,[u("div",ht,[u("div",Dt,[u("h3",Tt,w(m.titulo),1),m.descripcion?(d(),T("p",kt,w(m.descripcion),1)):v("",!0),u("div",Nt,[u("span",Ct,[g(l(ne),{class:"h-3.5 w-3.5"}),D(" "+w(a(m.fecha_inicio)),1)]),f[0]||(f[0]=u("span",null,"→",-1)),u("span",null,w(a(m.fecha_fin)),1)])]),u("div",pt,[g(oe,{estado:m.estado_visual},null,8,["estado"]),m.ya_voto?(d(),y(l(p),{key:0,variant:"success"},{default:x(()=>[g(l(ae),{class:"h-3 w-3 mr-1"}),f[1]||(f[1]=D(" Votado ",-1))]),_:1})):v("",!0)])])]),u("div",bt,[V(i.$slots,"list-actions",{votacion:m},()=>[!m.urna_session_status&&m.puede_votar&&e.canVote?(d(),y(l(k),{key:0,onClick:N=>s(m),size:"sm"},{default:x(()=>[g(l(se),{class:"h-4 w-4 mr-1"}),f[2]||(f[2]=D(" Votar ",-1))]),_:1},8,["onClick"])):v("",!0),m.urna_session_status==="active"&&m.puede_votar&&e.canVote?(d(),y(l(k),{key:1,onClick:N=>s(m),size:"sm",variant:"secondary"},{default:x(()=>[g(l(Z),{class:"h-4 w-4 mr-1"}),f[3]||(f[3]=D(" Volver ",-1))]),_:1},8,["onClick"])):v("",!0),m.urna_session_status==="expired"&&m.puede_votar&&e.canVote?(d(),y(l(k),{key:2,onClick:N=>r(m),size:"sm",variant:"outline"},{default:x(()=>[g(l(re),{class:"h-4 w-4 mr-1"}),f[4]||(f[4]=D(" Reiniciar ",-1))]),_:1},8,["onClick"])):v("",!0),m.puede_ver_voto&&e.canViewOwnVote?(d(),y(l(k),{key:3,onClick:N=>o(m),variant:"outline",size:"sm"},{default:x(()=>[g(l(ie),{class:"h-4 w-4"})]),_:1},8,["onClick"])):v("",!0),m.resultados_visibles&&e.canViewResults?(d(),y(l(k),{key:4,onClick:N=>c(m),variant:"outline",size:"sm"},{default:x(()=>[g(l(H),{class:"h-4 w-4"})]),_:1},8,["onClick"])):v("",!0)])])])]))),128))])):v("",!0),!e.votaciones||e.votaciones.length===0?(d(),T("div",Mt,[u("div",It,[g(l(Te),{class:"h-12 w-12"})]),f[5]||(f[5]=u("h3",{class:"mt-2 text-sm font-semibold text-gray-900 dark:text-gray-100"}," No hay votaciones ",-1)),u("p",$t,w(e.emptyMessage||"No se encontraron votaciones disponibles."),1)])):v("",!0)]))}});export{jt as _};
