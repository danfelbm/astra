import{d as A,u as F,i as p,e as o,f as e,q,w as s,g as a,v as k,h as r,l as O,j as _,m,t as u,F as g,k as S,b as w}from"./app-CJ1MU9dT.js";import{_ as E}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CzpcYh0J.js";import{_ as x}from"./createLucideIcon-CYpPVXVf.js";import{_ as v,a as c,b,c as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-B8xlQso1.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-CuyxwzOk.js";import{_ as d}from"./Input.vue_vue_type_script_setup_true_lang-DB_-hZqe.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-CqPPdNPG.js";import{_ as L,a as M,b as T,c as j,d as B}from"./SelectValue.vue_vue_type_script_setup_true_lang-C3ruv6H_.js";import{_ as G}from"./Switch.vue_vue_type_script_setup_true_lang-rG3W9Ug1.js";import{_ as I,a as R,b as $,c as z}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DwkBQ1E8.js";import{A as Z}from"./arrow-left-nrcVDK_m.js";import{S as H}from"./save-Bcjxw_aI.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-DcP8s330.js";import"./index-6EgTwnJI.js";import"./floating-ui.vue-B1SyT8gY.js";import"./x-Bj1R_lgz.js";import"./index-7t2CblNg.js";import"./shield-v7ADaAhg.js";import"./user-B1nD-pfZ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D9hhpD7f.js";import"./chevron-right-CVAVCY58.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DhvwrcqR.js";import"./VisuallyHidden-ozeDILvZ.js";import"./index-BsJ8FjL0.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-B0w0pWhB.js";import"./index-V-Kq1BVm.js";import"./circle-alert-NG0hI2Ig.js";import"./map-pin-B7B5DTre.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-C8GGRNWC.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-Cdz8sSvm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-B9eUtwEd.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-9ynleEu2.js";import"./tag-B7BbKm4V.js";import"./users-6S0iCR_c.js";import"./target-Cas04eD-.js";import"./vote-CWX1gG3J.js";import"./folder-open-c7nJ5W2s.js";import"./send-olpYuiyv.js";import"./file-text-BVOVvTTJ.js";import"./briefcase-BoCCocbY.js";import"./calendar-BamnBOfT.js";import"./megaphone-TAM4y6RH.js";import"./user-check-lXKJJC2y.js";import"./clipboard-list-D016UAse.js";import"./mail-ysmBK8rh.js";import"./message-square-DMcV15lb.js";import"./external-link-BjKTwymI.js";import"./panel-left-ClK1KmNs.js";import"./index-j7j0QxXc.js";import"./check-B59k_ME2.js";import"./index-CSHolk0x.js";import"./VisuallyHiddenInput-bfPGj3zG.js";import"./RovingFocusItem-xMRSYsGP.js";import"./utils-Bvoqc4SW.js";const J={class:"flex h-full flex-1 flex-col gap-4 p-4"},K={class:"flex items-center justify-between"},Q={class:"grid gap-4 md:grid-cols-2"},W={class:"space-y-2"},X={key:0,class:"text-sm text-red-500"},Y={class:"space-y-2"},h={class:"flex"},ee={key:0,class:"text-sm text-red-500"},te={class:"space-y-2"},oe={key:0,class:"text-sm text-red-500"},se={class:"space-y-2"},ie={class:"flex items-center space-x-2"},ae={class:"grid gap-4 md:grid-cols-2"},le={class:"space-y-2"},re={class:"space-y-2"},ne={class:"flex gap-2"},de={class:"space-y-2"},me={class:"space-y-2"},ue={class:"grid gap-4 md:grid-cols-3"},pe={class:"space-y-2"},fe={class:"space-y-2"},_e={class:"space-y-2"},ge={class:"mt-6 flex justify-end gap-4"},vt=A({__name:"Create",props:{subscriptionPlans:{},timezones:{}},setup(C){const D=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Tenants",href:"/admin/tenants"},{title:"Crear Tenant",href:"#"}],i=F({name:"",subdomain:"",subscription_plan:"basic",active:!0,settings:{logo:"",primary_color:"#3B82F6",otp_expiration:10,timezone:"America/Bogota"},limits:{max_users:null,max_votaciones:null,max_convocatorias:null}}),N=()=>{i.post("/admin/tenants",{preserveScroll:!0})},P=()=>{i.name&&!i.subdomain&&(i.subdomain=i.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};return(U,t)=>(m(),p(g,null,[o(e(q),{title:"Crear Tenant"}),o(E,{breadcrumbs:D},{default:s(()=>[a("div",J,[a("div",K,[t[13]||(t[13]=a("div",null,[a("h2",{class:"text-3xl font-bold tracking-tight"},"Crear Nuevo Tenant"),a("p",{class:"text-muted-foreground"}," Configura una nueva organización en el sistema ")],-1)),o(e(k),{href:U.route("admin.tenants.index")},{default:s(()=>[o(e(x),{variant:"outline"},{default:s(()=>[o(e(Z),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=r(" Volver ",-1))]),_:1})]),_:1},8,["href"])]),a("form",{onSubmit:O(N,["prevent"])},[o(e(I),{"default-value":"general",class:"w-full"},{default:s(()=>[o(e(R),{class:"grid w-full grid-cols-3"},{default:s(()=>[o(e($),{value:"general"},{default:s(()=>[...t[14]||(t[14]=[r("Información General",-1)])]),_:1}),o(e($),{value:"settings"},{default:s(()=>[...t[15]||(t[15]=[r("Configuración",-1)])]),_:1}),o(e($),{value:"limits"},{default:s(()=>[...t[16]||(t[16]=[r("Límites y Cuotas",-1)])]),_:1})]),_:1}),o(e(z),{value:"general"},{default:s(()=>[o(e(v),null,{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[...t[17]||(t[17]=[r("Información General",-1)])]),_:1}),o(e(V),null,{default:s(()=>[...t[18]||(t[18]=[r(" Datos básicos de la organización ",-1)])]),_:1})]),_:1}),o(e(y),{class:"space-y-4"},{default:s(()=>[a("div",Q,[a("div",W,[o(e(n),{for:"name"},{default:s(()=>[...t[19]||(t[19]=[r("Nombre de la Organización *",-1)])]),_:1}),o(e(d),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(i).name=l),onBlur:P,placeholder:"Mi Organización",required:""},null,8,["modelValue"]),e(i).errors.name?(m(),p("p",X,u(e(i).errors.name),1)):_("",!0)]),a("div",Y,[o(e(n),{for:"subdomain"},{default:s(()=>[...t[20]||(t[20]=[r("Subdominio *",-1)])]),_:1}),a("div",h,[o(e(d),{id:"subdomain",modelValue:e(i).subdomain,"onUpdate:modelValue":t[1]||(t[1]=l=>e(i).subdomain=l),placeholder:"mi-organizacion",pattern:"[a-z0-9-]+",required:"",class:"rounded-r-none"},null,8,["modelValue"]),t[21]||(t[21]=a("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," .votaciones.test ",-1))]),t[22]||(t[22]=a("p",{class:"text-xs text-muted-foreground"}," Solo letras minúsculas, números y guiones ",-1)),e(i).errors.subdomain?(m(),p("p",ee,u(e(i).errors.subdomain),1)):_("",!0)]),a("div",te,[o(e(n),{for:"subscription_plan"},{default:s(()=>[...t[23]||(t[23]=[r("Plan de Suscripción *",-1)])]),_:1}),o(e(L),{modelValue:e(i).subscription_plan,"onUpdate:modelValue":t[2]||(t[2]=l=>e(i).subscription_plan=l)},{default:s(()=>[o(e(M),{id:"subscription_plan"},{default:s(()=>[o(e(T))]),_:1}),o(e(j),null,{default:s(()=>[(m(!0),p(g,null,S(C.subscriptionPlans,(l,f)=>(m(),w(e(B),{key:f,value:f},{default:s(()=>[r(u(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(i).errors.subscription_plan?(m(),p("p",oe,u(e(i).errors.subscription_plan),1)):_("",!0)]),a("div",se,[o(e(n),{for:"active"},{default:s(()=>[...t[24]||(t[24]=[r("Estado",-1)])]),_:1}),a("div",ie,[o(e(G),{id:"active",checked:e(i).active,"onUpdate:checked":t[3]||(t[3]=l=>e(i).active=l)},null,8,["checked"]),o(e(n),{for:"active",class:"font-normal"},{default:s(()=>[r(u(e(i).active?"Activo":"Inactivo"),1)]),_:1})]),t[25]||(t[25]=a("p",{class:"text-xs text-muted-foreground"}," Los tenants inactivos no pueden acceder al sistema ",-1))])])]),_:1})]),_:1})]),_:1}),o(e(z),{value:"settings"},{default:s(()=>[o(e(v),null,{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[...t[26]||(t[26]=[r("Configuración del Sistema",-1)])]),_:1}),o(e(V),null,{default:s(()=>[...t[27]||(t[27]=[r(" Personalización y configuraciones específicas ",-1)])]),_:1})]),_:1}),o(e(y),{class:"space-y-4"},{default:s(()=>[a("div",ae,[a("div",le,[o(e(n),{for:"logo"},{default:s(()=>[...t[28]||(t[28]=[r("URL del Logo",-1)])]),_:1}),o(e(d),{id:"logo",modelValue:e(i).settings.logo,"onUpdate:modelValue":t[4]||(t[4]=l=>e(i).settings.logo=l),placeholder:"https://ejemplo.com/logo.png",type:"url"},null,8,["modelValue"]),t[29]||(t[29]=a("p",{class:"text-xs text-muted-foreground"}," URL de la imagen del logo de la organización ",-1))]),a("div",re,[o(e(n),{for:"primary_color"},{default:s(()=>[...t[30]||(t[30]=[r("Color Primario",-1)])]),_:1}),a("div",ne,[o(e(d),{id:"primary_color",modelValue:e(i).settings.primary_color,"onUpdate:modelValue":t[5]||(t[5]=l=>e(i).settings.primary_color=l),placeholder:"#3B82F6",pattern:"#[0-9A-Fa-f]{6}"},null,8,["modelValue"]),o(e(d),{type:"color",modelValue:e(i).settings.primary_color,"onUpdate:modelValue":t[6]||(t[6]=l=>e(i).settings.primary_color=l),class:"w-12 p-1"},null,8,["modelValue"])]),t[31]||(t[31]=a("p",{class:"text-xs text-muted-foreground"}," Color principal de la interfaz ",-1))]),a("div",de,[o(e(n),{for:"otp_expiration"},{default:s(()=>[...t[32]||(t[32]=[r("Expiración OTP (minutos)",-1)])]),_:1}),o(e(d),{id:"otp_expiration",modelValue:e(i).settings.otp_expiration,"onUpdate:modelValue":t[7]||(t[7]=l=>e(i).settings.otp_expiration=l),modelModifiers:{number:!0},type:"number",min:"5",max:"60",placeholder:"10"},null,8,["modelValue"]),t[33]||(t[33]=a("p",{class:"text-xs text-muted-foreground"}," Tiempo de validez del código OTP (5-60 minutos) ",-1))]),a("div",me,[o(e(n),{for:"timezone"},{default:s(()=>[...t[34]||(t[34]=[r("Zona Horaria",-1)])]),_:1}),o(e(L),{modelValue:e(i).settings.timezone,"onUpdate:modelValue":t[8]||(t[8]=l=>e(i).settings.timezone=l)},{default:s(()=>[o(e(M),{id:"timezone"},{default:s(()=>[o(e(T))]),_:1}),o(e(j),null,{default:s(()=>[(m(!0),p(g,null,S(C.timezones,(l,f)=>(m(),w(e(B),{key:f,value:f},{default:s(()=>[r(u(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[35]||(t[35]=a("p",{class:"text-xs text-muted-foreground"}," Zona horaria por defecto para votaciones ",-1))])])]),_:1})]),_:1})]),_:1}),o(e(z),{value:"limits"},{default:s(()=>[o(e(v),null,{default:s(()=>[o(e(c),null,{default:s(()=>[o(e(b),null,{default:s(()=>[...t[36]||(t[36]=[r("Límites y Cuotas",-1)])]),_:1}),o(e(V),null,{default:s(()=>[...t[37]||(t[37]=[r(" Define los límites de recursos para esta organización ",-1)])]),_:1})]),_:1}),o(e(y),{class:"space-y-4"},{default:s(()=>[a("div",ue,[a("div",pe,[o(e(n),{for:"max_users"},{default:s(()=>[...t[38]||(t[38]=[r("Usuarios Máximos",-1)])]),_:1}),o(e(d),{id:"max_users",modelValue:e(i).limits.max_users,"onUpdate:modelValue":t[9]||(t[9]=l=>e(i).limits.max_users=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[39]||(t[39]=a("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),a("div",fe,[o(e(n),{for:"max_votaciones"},{default:s(()=>[...t[40]||(t[40]=[r("Votaciones Máximas",-1)])]),_:1}),o(e(d),{id:"max_votaciones",modelValue:e(i).limits.max_votaciones,"onUpdate:modelValue":t[10]||(t[10]=l=>e(i).limits.max_votaciones=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[41]||(t[41]=a("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),a("div",_e,[o(e(n),{for:"max_convocatorias"},{default:s(()=>[...t[42]||(t[42]=[r("Convocatorias Máximas",-1)])]),_:1}),o(e(d),{id:"max_convocatorias",modelValue:e(i).limits.max_convocatorias,"onUpdate:modelValue":t[11]||(t[11]=l=>e(i).limits.max_convocatorias=l),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[43]||(t[43]=a("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))])]),t[44]||(t[44]=a("div",{class:"rounded-lg bg-muted p-4"},[a("p",{class:"text-sm text-muted-foreground"},[a("strong",null,"Nota:"),r(" Los límites se aplican según el plan de suscripción. Un valor vacío significa que no hay límite establecido para ese recurso. ")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),a("div",ge,[o(e(k),{href:U.route("admin.tenants.index")},{default:s(()=>[o(e(x),{type:"button",variant:"outline"},{default:s(()=>[...t[45]||(t[45]=[r(" Cancelar ",-1)])]),_:1})]),_:1},8,["href"]),o(e(x),{type:"submit",disabled:e(i).processing},{default:s(()=>[o(e(H),{class:"mr-2 h-4 w-4"}),r(" "+u(e(i).processing?"Guardando...":"Crear Tenant"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{vt as default};
