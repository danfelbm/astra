import{_ as C}from"./index-CBG0Dxc6.js";import{_ as v}from"./createLucideIcon-KBqbhxXl.js";import{_ as p,a as x,b as y,c as f}from"./CardTitle.vue_vue_type_script_setup_true_lang--o-W0VD2.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-CB_veUhw.js";import{_ as D}from"./Separator.vue_vue_type_script_setup_true_lang-DV97BaP4.js";import{_ as A}from"./UserLayout.vue_vue_type_script_setup_true_lang-CFC7T5AL.js";import{d as j,r as E,i as m,e as d,f as e,u as o,p as F,w as a,g as s,h as n,t as l,j as _,n as I,F as w,k as N,b as R,W as z}from"./app-BMyT8npG.js";import{C as b}from"./circle-check-big-Bc7p1dMw.js";import{A as H}from"./arrow-left-DaooQBOA.js";import{C as L}from"./calendar-BhQnpxaC.js";import{H as P}from"./hash-YEo5IAKv.js";import{C as q}from"./copy-DERPaHN6.js";import{M as W}from"./map-pin-9xqBHUrI.js";import"./index-E8S-vfjq.js";import"./Input.vue_vue_type_script_setup_true_lang-B-ZayioL.js";import"./index-BtG7D9fB.js";import"./floating-ui.vue-QqVgEqqM.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-BA6Cgh2E.js";import"./x-C1dlUGaj.js";import"./index-DTvzeguX.js";import"./shield-D8bNww_e.js";import"./user-B0uyQIKj.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BzWm_IXp.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Os_yaXt-.js";import"./VisuallyHidden-Cd7_xZHo.js";import"./PopperContent-CeEbOoWX.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DvImVwo1.js";import"./check-Coe3h_QS.js";import"./nullish-CHIgUVhi.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-DTP_M3gs.js";import"./index-Bh0tNFO1.js";import"./circle-alert-VjwGmEyY.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DQ4SyRm2.js";import"./square-check-big-BfYVDlx-.js";import"./file-text-BVkT7trW.js";import"./users-C3Sf9FM4.js";import"./index-BWb2ElnP.js";const O={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},U={class:"flex items-center justify-between"},G={class:"text-3xl font-bold flex items-center gap-2"},J={class:"space-y-4"},K={key:0,class:"text-muted-foreground"},Q={class:"flex flex-wrap gap-4 text-sm"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2 text-muted-foreground"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tt={class:"space-y-4"},et={class:"text-lg"},ot={class:"text-lg font-mono"},st={class:"space-y-4"},at={class:"text-lg font-mono"},it={class:"flex items-center gap-2 mb-2"},rt={class:"text-xs font-mono bg-muted p-2 rounded flex-1 break-all"},nt={class:"flex gap-2"},lt={class:"space-y-6"},dt={class:"flex items-start justify-between"},mt={class:"flex-1"},ct={key:0,class:"text-red-500"},ut={key:0,class:"text-sm text-muted-foreground mt-1"},pt={class:"bg-muted/30 rounded-lg p-4"},ft={class:"text-lg"},_t={class:"flex items-start gap-3"},Zt=j({__name:"MiVoto",props:{votacion:{},voto:{}},setup(V){const h=V,$=[{title:"Dashboard",href:"/miembro/dashboard"},{title:"Mis Votaciones",href:"/miembro/votaciones"},{title:"Mi Voto",href:"#"}],u=E(!1),T=()=>{z.get("/miembro/votaciones")},M=async()=>{try{await navigator.clipboard.writeText(h.voto.token_unico),u.value=!0,setTimeout(()=>{u.value=!1},2e3)}catch(i){console.error("Error al copiar token:",i)}},S=()=>{const i=`/verificar-token/${encodeURIComponent(h.voto.token_unico)}`;window.open(i,"_blank")},g=i=>new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),B=(i,t)=>{if(i.type==="convocatoria"||i.type==="perfil_candidatura"){if(t===null||t==="null")return"Voto en blanco";if(!t||t==="")return"Sin respuesta"}return!t&&t!==0?"Sin respuesta":i.type==="checkbox"?Array.isArray(t)&&t.length>0?t.join(", "):"Sin respuesta":t.toString()};return(i,t)=>(d(),m(w,null,[e(o(F),{title:`Mi Voto: ${i.votacion.titulo}`},null,8,["title"]),e(A,{breadcrumbs:$},{default:a(()=>[s("div",O,[s("div",U,[s("div",null,[s("h1",G,[e(o(b),{class:"h-8 w-8 text-green-600"}),t[0]||(t[0]=n(" Mi Voto ",-1))]),t[1]||(t[1]=s("p",{class:"text-muted-foreground"}," Resumen de tu participación en esta votación ",-1))]),e(o(v),{variant:"outline",onClick:T},{default:a(()=>[e(o(H),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=n(" Volver ",-1))]),_:1})]),e(o(p),null,{default:a(()=>[e(o(x),null,{default:a(()=>[e(o(y),null,{default:a(()=>[n(l(i.votacion.titulo),1)]),_:1})]),_:1}),e(o(f),null,{default:a(()=>[s("div",J,[i.votacion.descripcion?(d(),m("p",K,l(i.votacion.descripcion),1)):_("",!0),s("div",Q,[s("div",X,[e(o(C),{variant:"outline"},{default:a(()=>[n(l(i.votacion.categoria.nombre),1)]),_:1})]),s("div",Y,[e(o(L),{class:"h-4 w-4"}),n(" "+l(g(i.votacion.fecha_inicio))+" - "+l(g(i.votacion.fecha_fin)),1)])])])]),_:1})]),_:1}),e(o(p),null,{default:a(()=>[e(o(x),null,{default:a(()=>[e(o(y),{class:"flex items-center gap-2"},{default:a(()=>[e(o(P),{class:"h-5 w-5"}),t[3]||(t[3]=n(" Información del Voto ",-1))]),_:1})]),_:1}),e(o(f),null,{default:a(()=>[s("div",Z,[s("div",tt,[s("div",null,[e(o(c),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>[...t[4]||(t[4]=[n("Fecha y Hora",-1)])]),_:1}),s("p",et,l(g(i.voto.created_at)),1)]),s("div",null,[e(o(c),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>[...t[5]||(t[5]=[n("ID del Voto",-1)])]),_:1}),s("p",ot,"#"+l(i.voto.id),1)])]),s("div",st,[s("div",null,[e(o(c),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>[...t[6]||(t[6]=[n("IP Address",-1)])]),_:1}),s("p",at,l(i.voto.ip_address),1)]),s("div",null,[e(o(c),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>[...t[7]||(t[7]=[n("Token de Verificación Firmado",-1)])]),_:1}),s("div",it,[s("p",rt,l(i.voto.token_unico),1),e(o(v),{variant:"outline",size:"sm",onClick:M,class:I({"bg-green-50 border-green-200":u.value})},{default:a(()=>[e(o(q),{class:"h-4 w-4"}),n(" "+l(u.value?"Copiado!":"Copiar"),1)]),_:1},8,["class"])]),t[9]||(t[9]=s("p",{class:"text-xs text-muted-foreground mb-2"}," Token firmado digitalmente que contiene tus respuestas. Verificable públicamente. ",-1)),s("div",nt,[e(o(v),{variant:"outline",size:"sm",onClick:S,class:"text-xs"},{default:a(()=>[e(o(W),{class:"h-3 w-3 mr-1"}),t[8]||(t[8]=n(" Verificar Públicamente ",-1))]),_:1})])])])])]),_:1})]),_:1}),e(o(p),null,{default:a(()=>[e(o(x),null,{default:a(()=>[e(o(y),{class:"flex items-center gap-2"},{default:a(()=>[e(o(b),{class:"h-5 w-5"}),t[10]||(t[10]=n(" Mis Respuestas ",-1))]),_:1})]),_:1}),e(o(f),null,{default:a(()=>[s("div",lt,[(d(!0),m(w,null,N(i.votacion.formulario_config,(r,k)=>(d(),m("div",{key:r.id,class:"space-y-2"},[s("div",dt,[s("div",mt,[e(o(c),{class:"text-base font-medium"},{default:a(()=>[n(l(k+1)+". "+l(r.title)+" ",1),r.required?(d(),m("span",ct,"*")):_("",!0)]),_:2},1024),r.description?(d(),m("p",ut,l(r.description),1)):_("",!0)]),e(o(C),{variant:"secondary",class:"ml-4"},{default:a(()=>[n(l(r.type==="text"?"Texto":r.type==="textarea"?"Texto largo":r.type==="select"?"Selección":r.type==="radio"?"Opción única":r.type==="checkbox"?"Múltiple":r.type==="convocatoria"?"Convocatoria":r.type==="perfil_candidatura"?"Candidatura":r.type),1)]),_:2},1024)]),s("div",pt,[s("p",ft,l(B(r,i.voto.respuestas[r.id])),1)]),k<i.votacion.formulario_config.length-1?(d(),R(o(D),{key:0,class:"mt-6"})):_("",!0)]))),128))])]),_:1})]),_:1}),e(o(p),{class:"border-green-200 bg-green-50/50"},{default:a(()=>[e(o(f),{class:"pt-6"},{default:a(()=>[s("div",_t,[e(o(b),{class:"h-5 w-5 text-green-600 mt-0.5"}),t[11]||(t[11]=s("div",null,[s("p",{class:"font-medium text-green-800"},"Voto registrado exitosamente"),s("p",{class:"text-sm text-green-700 mt-1"}," Tu voto ha sido firmado digitalmente y almacenado de forma segura. El token contiene tus respuestas y puede ser verificado públicamente para confirmar la integridad del proceso electoral. ")],-1))])]),_:1})]),_:1})])]),_:1})],64))}});export{Zt as default};
