import{d as pe,r as W,c as J,i as y,e as l,f as t,j as p,u as e,w as s,b as m,g as r,h as i,t as n,F as O,k as X,n as G,P,W as A,q as De,s as je,p as Ve,l as _e}from"./app-BFCRP-hu.js";import{_ as Me}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DVhxtwsQ.js";import{_ as H,c as j,a as N,b as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-C6Pf_Uif.js";import{_ as ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-C5iYxevR.js";import{_ as D}from"./createLucideIcon-B48W5HGR.js";import{_ as q}from"./index-C4A356_A.js";import{_ as he}from"./Progress.vue_vue_type_script_setup_true_lang-CmiRJl8o.js";import{_ as Ae,a as Be,b as ae,c as re}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-KlWRsGd7.js";import{a as Se,b as le,c as M,d as qe,e as V,_ as ze}from"./TableHeader.vue_vue_type_script_setup_true_lang-DQXCVN5r.js";import{_ as be,a as xe,b as we}from"./index-7Cc0L9l5.js";import{t as ee}from"./index-D4Jmcyj5.js";import{E as Fe}from"./EtiquetaDisplay-C17W6rWU.js";import{E as Le}from"./EtiquetaSelector-DXljy2iI.js";import{_ as ke}from"./Checkbox.vue_vue_type_script_setup_true_lang-BPQOfPUO.js";import{_ as Ne,a as Ue,b as Ie,d as Re,e as ue,c as se}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Bk1MyGsx.js";import{u as Oe}from"./useToast-B2ZAdFmg.js";import{F as Y}from"./file-text-BNtX5jn7.js";import{C as Te}from"./circle-alert-Crqw8R8y.js";import{C as ie}from"./calendar-_r6_tYhJ.js";import{D as Ge}from"./dollar-sign-CHCZBspE.js";import{E as We}from"./ellipsis-p-U2_drz.js";import{E as Xe}from"./eye-s1iMQI4x.js";import{S as de}from"./square-pen-DEMoq68S.js";import{D as Pe}from"./download-CHCWIUuH.js";import{C as Je}from"./copy-BNnrXPXq.js";import{T as He}from"./trash-2-8yxMJPAD.js";import{_ as Ke,a as Qe}from"./ScrollArea.vue_vue_type_script_setup_true_lang-D2q9K0WD.js";import{C as Ye}from"./chevron-left-Bh0KDQsI.js";import{C as Ze}from"./chevron-right-jEjsThLi.js";import{C as et}from"./circle-x-C10Gz1Oh.js";import{C as me}from"./circle-check-big-uen-VRRD.js";import{C as tt}from"./circle-Cc_4kpMQ.js";import{_ as st}from"./EvidenciaFilters.vue_vue_type_script_setup_true_lang-7y5M8Ap_.js";import{_ as ot,a as at,b as rt,c as lt}from"./AccordionContent.vue_vue_type_script_setup_true_lang-D9TSTnjV.js";import{L as it,H as $e}from"./HitoCard-B8UHKd38.js";import{I as nt}from"./info-ZteYsSNH.js";import{U as dt}from"./users-D4nlGR3z.js";import{I as ce}from"./image-Dsh-YO9f.js";import{M as Ce,B as ut,C as ct}from"./milestone-C-NHWFUX.js";import{F as ft}from"./flag-KNsaGE_a.js";import{C as mt}from"./clock-PhaHEFle.js";import{T as pt}from"./tag-BD_pJCyF.js";import{P as te}from"./plus-DUQ5nN3r.js";import{T as fe}from"./target-BG-rBVrT.js";import{U as Ee}from"./user-B1UdYhgU.js";import{E as yt}from"./external-link-DVqz8Mr1.js";import{C as gt}from"./circle-play-BEPt-Vup.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-IDczqvjz.js";import"./index-BV8EXJV5.js";import"./floating-ui.vue-r1jh_cyr.js";import"./x-CO2t7227.js";import"./Input.vue_vue_type_script_setup_true_lang-BArk2Dro.js";import"./index-D4t36AHs.js";import"./shield-CJLgSpbM.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-it7-95jd.js";import"./VisuallyHidden-DtgZKa-V.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-D4BkPhEO.js";import"./check-50anzA7W.js";import"./nullish-CHIgUVhi.js";import"./Label.vue_vue_type_script_setup_true_lang-BSsD_nCa.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-dTZ0TTmN.js";import"./map-pin-96AKVoID.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-Bn4JBZsL.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-Dy-9tXTd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-B5X7TeC-.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C1tM4KQo.js";import"./vote-CRb2uBrD.js";import"./folder-open-CdHVd2oB.js";import"./send-B06MTMiq.js";import"./briefcase-DvfVQ7DM.js";import"./megaphone-Dd-rvhjG.js";import"./user-check-CmuxQ_fm.js";import"./clipboard-list-BbsP5NSE.js";import"./mail-C7hV_ozf.js";import"./message-square-2Ae9CC_o.js";import"./panel-left-BSTwYg9i.js";import"./index-BZv-jeFa.js";import"./RovingFocusItem-DIFJgx_h.js";import"./utils-DHSP7tfB.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-B4ApdS_d.js";import"./layers-DFj5lvvO.js";import"./zap-DWKEr6EP.js";import"./trending-up-DtR6o0cj.js";import"./award-wiB2F5Sn.js";import"./hash-C6CBAZk_.js";import"./index-BkDoy_-v.js";import"./search-DzHipmqi.js";import"./useKbd-kRIii9yh.js";import"./VisuallyHiddenInput-BsNXVvQm.js";import"./useEtiquetaHierarchy-B_CuIAZi.js";import"./list-CQPYaV--.js";import"./tree-pine-DJFe6Cey.js";import"./useArrowNavigation-B5rxJs06.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-BtoAFpCO.js";import"./pen-DYl94tMC.js";import"./calendar-days-30VAgYjK.js";import"./es-BDPlFIsO.js";const vt={borrador:"Borrador",activo:"Activo",finalizado:"Finalizado",cancelado:"Cancelado"},_t={servicio:"Servicio",obra:"Obra",suministro:"Suministro",consultoria:"Consultoría",otro:"Otro"};function ht(x){return vt[x]||x}function bt(x){return _t[x]||x}function xt(x,g="USD"){return x?new Intl.NumberFormat("es-ES",{style:"currency",currency:g,minimumFractionDigits:2,maximumFractionDigits:2}).format(x):"-"}const wt={class:"space-y-4"},kt={key:0,class:"flex items-center justify-center py-12"},$t={class:"flex items-center gap-1"},Ct={key:0,class:"text-xs"},Et={class:"flex items-center gap-1"},Dt={key:0,class:"text-xs"},St={class:"flex items-center gap-1"},qt={key:0,class:"text-xs"},zt={class:"flex items-center gap-2"},Tt={class:"flex items-center gap-1 mt-1"},Pt={key:1,class:"text-gray-400"},Ht={class:"flex items-center gap-1"},jt={key:0,class:"flex items-center gap-1"},Vt={key:1,class:"text-gray-400"},Mt={key:0,class:"text-sm text-gray-600"},At=pe({__name:"ContratosList",props:{contratos:{},loading:{type:Boolean,default:!1},showProyecto:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0},showSelection:{type:Boolean,default:!1},selectedIds:{default:()=>[]}},emits:["select","selectAll","edit","delete","duplicate","changeStatus","download"],setup(x,{expose:g,emit:B}){const w=x,z=B,I=Oe(),S=W(new Set(w.selectedIds)),F=W("fecha_inicio"),L=W("desc"),R=J(()=>w.contratos.length>0&&w.contratos.every(_=>S.value.has(_.id))),K=J(()=>w.contratos.some(_=>S.value.has(_.id))&&!R.value),Q=J(()=>{const _=[...w.contratos];return _.sort((u,h)=>{let E=u[F.value],Z=h[F.value];return E==null?1:Z==null?-1:(typeof E=="string"&&(E=E.toLowerCase(),Z=Z.toLowerCase()),L.value==="asc"?E>Z?1:-1:E<Z?1:-1)}),_}),$=_=>({borrador:"bg-gray-100 text-gray-800",activo:"bg-green-100 text-green-800",finalizado:"bg-blue-100 text-blue-800",cancelado:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",v=_=>({servicio:"bg-purple-100 text-purple-800",obra:"bg-orange-100 text-orange-800",suministro:"bg-indigo-100 text-indigo-800",consultoria:"bg-pink-100 text-pink-800",otro:"bg-gray-100 text-gray-800"})[_]||"bg-gray-100 text-gray-800",k=_=>_?new Date(_).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"-",c=_=>{F.value===_?L.value=L.value==="asc"?"desc":"asc":(F.value=_,L.value="asc")},f=_=>{S.value.has(_)?S.value.delete(_):S.value.add(_)},b=()=>{R.value?S.value.clear():w.contratos.forEach(_=>S.value.add(_.id)),z("selectAll",R.value)},T=(_,u)=>{switch(_){case"view":A.get(route("admin.contratos.show",u.id));break;case"edit":z("edit",u),A.get(route("admin.contratos.edit",u.id));break;case"duplicate":z("duplicate",u);break;case"delete":z("delete",u);break;case"download":u.archivo_pdf?(z("download",u),window.open(u.archivo_pdf,"_blank")):I.error("Este contrato no tiene archivo PDF");break}},oe=(_,u)=>{z("changeStatus",_,u)};return g({selectedContratos:S}),(_,u)=>(l(),y("div",wt,[t(e(H),null,{default:s(()=>[t(e(j),{class:"p-0"},{default:s(()=>[_.loading?(l(),y("div",kt,[...u[3]||(u[3]=[r("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)])])):(l(),m(e(ze),{key:1},{default:s(()=>[t(e(Se),null,{default:s(()=>[t(e(le),null,{default:s(()=>[_.showSelection?(l(),m(e(M),{key:0,class:"w-12"},{default:s(()=>[t(e(ke),{checked:R.value,indeterminate:K.value,"onUpdate:checked":b},null,8,["checked","indeterminate"])]),_:1})):p("",!0),t(e(M),{class:"cursor-pointer hover:bg-gray-50",onClick:u[0]||(u[0]=h=>c("nombre"))},{default:s(()=>[r("div",$t,[u[4]||(u[4]=i(" Nombre ",-1)),F.value==="nombre"?(l(),y("span",Ct,n(L.value==="asc"?"↑":"↓"),1)):p("",!0)])]),_:1}),_.showProyecto?(l(),m(e(M),{key:1},{default:s(()=>[...u[5]||(u[5]=[i("Proyecto",-1)])]),_:1})):p("",!0),t(e(M),null,{default:s(()=>[...u[6]||(u[6]=[i("Estado",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...u[7]||(u[7]=[i("Tipo",-1)])]),_:1}),t(e(M),{class:"cursor-pointer hover:bg-gray-50",onClick:u[1]||(u[1]=h=>c("fecha_inicio"))},{default:s(()=>[r("div",Et,[u[8]||(u[8]=i(" Fecha Inicio ",-1)),F.value==="fecha_inicio"?(l(),y("span",Dt,n(L.value==="asc"?"↑":"↓"),1)):p("",!0)])]),_:1}),t(e(M),null,{default:s(()=>[...u[9]||(u[9]=[i("Fecha Fin",-1)])]),_:1}),t(e(M),{class:"cursor-pointer hover:bg-gray-50",onClick:u[2]||(u[2]=h=>c("monto_total"))},{default:s(()=>[r("div",St,[u[10]||(u[10]=i(" Monto ",-1)),F.value==="monto_total"?(l(),y("span",qt,n(L.value==="asc"?"↑":"↓"),1)):p("",!0)])]),_:1}),t(e(M),null,{default:s(()=>[...u[11]||(u[11]=[i("Responsable",-1)])]),_:1}),_.showActions?(l(),m(e(M),{key:2,class:"text-right"},{default:s(()=>[...u[12]||(u[12]=[i("Acciones",-1)])]),_:1})):p("",!0)]),_:1})]),_:1}),t(e(qe),null,{default:s(()=>[Q.value.length>0?(l(!0),y(O,{key:0},X(Q.value,h=>(l(),m(e(le),{key:h.id,class:G({"bg-gray-50":S.value.has(h.id)})},{default:s(()=>[_.showSelection?(l(),m(e(V),{key:0},{default:s(()=>[t(e(ke),{checked:S.value.has(h.id),"onUpdate:checked":()=>f(h.id)},null,8,["checked","onUpdate:checked"])]),_:2},1024)):p("",!0),t(e(V),{class:"font-medium"},{default:s(()=>[r("div",zt,[t(e(Y),{class:"h-4 w-4 text-gray-400"}),r("div",null,[i(n(h.nombre)+" ",1),r("div",Tt,[h.esta_vencido?(l(),m(e(q),{key:0,variant:"destructive",class:"text-xs"},{default:s(()=>[...u[13]||(u[13]=[i(" Vencido ",-1)])]),_:1})):h.esta_proximo_vencer?(l(),m(e(q),{key:1,variant:"outline",class:"text-xs text-yellow-600 border-yellow-600"},{default:s(()=>[t(e(Te),{class:"h-3 w-3 mr-1"}),i(" "+n(h.dias_restantes)+" días ",1)]),_:2},1024)):p("",!0)])])])]),_:2},1024),_.showProyecto?(l(),m(e(V),{key:1},{default:s(()=>[h.proyecto?(l(),m(e(P),{key:0,href:_.route("admin.proyectos.show",h.proyecto.id),class:"text-blue-600 hover:underline"},{default:s(()=>[i(n(h.proyecto.nombre),1)]),_:2},1032,["href"])):(l(),y("span",Pt,"-"))]),_:2},1024)):p("",!0),t(e(V),null,{default:s(()=>[t(e(q),{class:G($(h.estado))},{default:s(()=>[i(n(e(ht)(h.estado)),1)]),_:2},1032,["class"])]),_:2},1024),t(e(V),null,{default:s(()=>[t(e(q),{class:G(v(h.tipo)),variant:"outline"},{default:s(()=>[i(n(e(bt)(h.tipo)),1)]),_:2},1032,["class"])]),_:2},1024),t(e(V),null,{default:s(()=>[r("div",Ht,[t(e(ie),{class:"h-4 w-4 text-gray-400"}),i(" "+n(k(h.fecha_inicio)),1)])]),_:2},1024),t(e(V),null,{default:s(()=>[i(n(k(h.fecha_fin)),1)]),_:2},1024),t(e(V),null,{default:s(()=>[h.monto_total?(l(),y("div",jt,[t(e(Ge),{class:"h-4 w-4 text-gray-400"}),i(" "+n(e(xt)(h.monto_total,h.moneda)),1)])):(l(),y("span",Vt,"-"))]),_:2},1024),t(e(V),null,{default:s(()=>{var E;return[i(n(((E=h.responsable)==null?void 0:E.name)||"-"),1)]}),_:2},1024),_.showActions?(l(),m(e(V),{key:2,class:"text-right"},{default:s(()=>[t(e(Ne),null,{default:s(()=>[t(e(Ue),{asChild:""},{default:s(()=>[t(e(D),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(We),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(Ie),{align:"end"},{default:s(()=>[t(e(Re),null,{default:s(()=>[...u[14]||(u[14]=[i("Acciones",-1)])]),_:1}),t(e(ue)),t(e(se),{onClick:E=>T("view",h)},{default:s(()=>[t(e(Xe),{class:"h-4 w-4 mr-2"}),u[15]||(u[15]=i(" Ver detalles ",-1))]),_:2},1032,["onClick"]),t(e(se),{onClick:E=>T("edit",h)},{default:s(()=>[t(e(de),{class:"h-4 w-4 mr-2"}),u[16]||(u[16]=i(" Editar ",-1))]),_:2},1032,["onClick"]),h.archivo_pdf?(l(),m(e(se),{key:0,onClick:E=>T("download",h)},{default:s(()=>[t(e(Pe),{class:"h-4 w-4 mr-2"}),u[17]||(u[17]=i(" Descargar PDF ",-1))]),_:2},1032,["onClick"])):p("",!0),t(e(ue)),h.estado==="borrador"?(l(),m(e(se),{key:1,onClick:E=>oe(h,"activo")},{default:s(()=>[...u[18]||(u[18]=[i(" Activar ",-1)])]),_:2},1032,["onClick"])):p("",!0),h.estado==="activo"?(l(),m(e(se),{key:2,onClick:E=>oe(h,"finalizado")},{default:s(()=>[...u[19]||(u[19]=[i(" Finalizar ",-1)])]),_:2},1032,["onClick"])):p("",!0),t(e(se),{onClick:E=>T("duplicate",h)},{default:s(()=>[t(e(Je),{class:"h-4 w-4 mr-2"}),u[20]||(u[20]=i(" Duplicar ",-1))]),_:2},1032,["onClick"]),t(e(ue)),t(e(se),{class:"text-red-600",onClick:E=>T("delete",h)},{default:s(()=>[t(e(He),{class:"h-4 w-4 mr-2"}),u[21]||(u[21]=i(" Eliminar ",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0)]),_:2},1032,["class"]))),128)):(l(),m(e(le),{key:1},{default:s(()=>[t(e(V),{colspan:_.showSelection?10:9,class:"text-center py-8 text-gray-500"},{default:s(()=>[t(e(Y),{class:"h-12 w-12 text-gray-300 mx-auto mb-2"}),u[22]||(u[22]=r("p",null,"No se encontraron contratos",-1))]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1}))]),_:1})]),_:1}),_.showSelection&&S.value.size>0?(l(),y("div",Mt,n(S.value.size)+" contrato(s) seleccionado(s) ",1)):p("",!0)]))}}),Bt={class:"flex justify-between items-start"},Ft={class:"flex items-center gap-2"},Lt={key:0,class:"grid grid-cols-4 gap-4 mb-6"},Nt={class:"text-center"},Ut={class:"text-2xl font-bold text-green-600"},It={class:"text-center"},Rt={class:"text-2xl font-bold text-blue-600"},Ot={class:"text-center"},Gt={class:"text-2xl font-bold text-gray-600"},Wt={class:"text-center"},Xt={class:"text-2xl font-bold text-red-600"},Jt={key:1,class:"space-y-4"},Kt={key:0,class:"flex items-center justify-between mb-4"},Qt={class:"flex items-center gap-2"},Yt={class:"font-medium"},Zt={class:"flex gap-2"},es={class:"space-y-2"},ts={key:0,class:"absolute left-5 top-8 w-0.5 h-full bg-border"},ss={class:"relative z-10 flex-shrink-0"},os={class:"flex-1 min-w-0"},as={class:"flex items-start justify-between gap-4"},rs={class:"font-semibold truncate"},ls={class:"flex items-center gap-4 mt-1 text-sm text-muted-foreground"},is={class:"flex items-center gap-1"},ns={key:0,class:"flex items-center gap-1"},ds={key:0,class:"text-right"},us={class:"font-semibold"},cs={class:"text-xs text-muted-foreground"},fs={key:0,class:"mt-2"},ms={class:"w-full bg-muted rounded-full h-2"},ps={key:2,class:"text-center py-8"},ys=pe({__name:"ContratoTimeline",props:{contratos:{},titulo:{},descripcion:{},mostrarMonto:{type:Boolean},compacto:{type:Boolean}},setup(x){const g=x,B=W(new Date),w=W(!1),z=J(()=>({activos:g.contratos.filter(f=>f.estado==="activo").length,finalizados:g.contratos.filter(f=>f.estado==="finalizado").length,borradores:g.contratos.filter(f=>f.estado==="borrador").length,cancelados:g.contratos.filter(f=>f.estado==="cancelado").length})),I=J(()=>[...g.contratos].sort((c,f)=>new Date(c.fecha_inicio).getTime()-new Date(f.fecha_inicio).getTime())),S=J(()=>{if(g.contratos.length===0)return null;const c=g.contratos.flatMap(T=>[new Date(T.fecha_inicio),T.fecha_fin?new Date(T.fecha_fin):new Date(T.fecha_inicio)]),f=new Date(Math.min(...c.map(T=>T.getTime()))),b=new Date(Math.max(...c.map(T=>T.getTime())));return{min:f,max:b}});J(()=>{if(!S.value)return[];const c=[],f=new Date(S.value.min);for(f.setDate(1);f<=S.value.max;)c.push(new Date(f)),f.setMonth(f.getMonth()+1);return c});const F=c=>({borrador:{color:"secondary",icon:Y,label:"Borrador"},activo:{color:"success",icon:me,label:"Activo"},finalizado:{color:"default",icon:me,label:"Finalizado"},cancelado:{color:"destructive",icon:et,label:"Cancelado"}})[c]||{color:"default",icon:tt,label:c},L=c=>c.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),R=c=>new Date(c).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),K=c=>c.estado!=="activo"||!c.fecha_fin?!1:new Date(c.fecha_fin)<new Date,Q=c=>{if(c.estado!=="activo"||!c.fecha_fin)return!1;const f=Math.ceil((new Date(c.fecha_fin).getTime()-new Date().getTime())/(1e3*60*60*24));return f>0&&f<=30},$=()=>{const c=new Date(B.value);c.setMonth(c.getMonth()-1),B.value=c},v=()=>{const c=new Date(B.value);c.setMonth(c.getMonth()+1),B.value=c},k=()=>{B.value=new Date};return(c,f)=>(l(),m(e(H),null,{default:s(()=>[t(e(N),null,{default:s(()=>[r("div",Bt,[r("div",null,[t(e(U),null,{default:s(()=>[i(n(c.titulo||"Timeline de Contratos"),1)]),_:1}),c.descripcion?(l(),m(e(ne),{key:0},{default:s(()=>[i(n(c.descripcion),1)]),_:1})):p("",!0)]),r("div",Ft,[t(e(q),{variant:"outline"},{default:s(()=>[i(n(c.contratos.length)+" contratos ",1)]),_:1}),c.compacto?p("",!0):(l(),m(e(D),{key:0,onClick:f[0]||(f[0]=b=>w.value=!w.value),size:"sm",variant:"outline"},{default:s(()=>[i(n(w.value?"Vista compacta":"Vista expandida"),1)]),_:1}))])])]),_:1}),t(e(j),null,{default:s(()=>[c.compacto?p("",!0):(l(),y("div",Lt,[r("div",Nt,[r("div",Ut,n(z.value.activos),1),f[1]||(f[1]=r("div",{class:"text-xs text-muted-foreground"},"Activos",-1))]),r("div",It,[r("div",Rt,n(z.value.finalizados),1),f[2]||(f[2]=r("div",{class:"text-xs text-muted-foreground"},"Finalizados",-1))]),r("div",Ot,[r("div",Gt,n(z.value.borradores),1),f[3]||(f[3]=r("div",{class:"text-xs text-muted-foreground"},"Borradores",-1))]),r("div",Wt,[r("div",Xt,n(z.value.cancelados),1),f[4]||(f[4]=r("div",{class:"text-xs text-muted-foreground"},"Cancelados",-1))])])),c.contratos.length>0?(l(),y("div",Jt,[c.compacto?p("",!0):(l(),y("div",Kt,[t(e(D),{onClick:$,size:"sm",variant:"outline"},{default:s(()=>[t(e(Ye),{class:"w-4 h-4"})]),_:1}),r("div",Qt,[t(e(ie),{class:"w-4 h-4 text-muted-foreground"}),r("span",Yt,n(L(B.value)),1)]),r("div",Zt,[t(e(D),{onClick:k,size:"sm",variant:"outline"},{default:s(()=>[...f[5]||(f[5]=[i(" Hoy ",-1)])]),_:1}),t(e(D),{onClick:v,size:"sm",variant:"outline"},{default:s(()=>[t(e(Ze),{class:"w-4 h-4"})]),_:1})])])),t(e(Ke),{class:"w-full whitespace-nowrap"},{default:s(()=>[r("div",es,[(l(!0),y(O,null,X(I.value,(b,T)=>(l(),y("div",{key:b.id,class:"relative flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors"},[T<I.value.length-1?(l(),y("div",ts)):p("",!0),r("div",ss,[r("div",{class:G(["w-10 h-10 rounded-full flex items-center justify-center",{"bg-green-100":b.estado==="activo","bg-blue-100":b.estado==="finalizado","bg-gray-100":b.estado==="borrador","bg-red-100":b.estado==="cancelado"}])},[(l(),m(De(F(b.estado).icon),{class:G(["w-5 h-5",{"text-green-600":b.estado==="activo","text-blue-600":b.estado==="finalizado","text-gray-600":b.estado==="borrador","text-red-600":b.estado==="cancelado"}])},null,8,["class"]))],2)]),r("div",os,[r("div",as,[r("div",null,[r("h4",rs,n(b.nombre),1),r("div",ls,[r("span",is,[t(e(ie),{class:"w-3 h-3"}),i(" "+n(R(b.fecha_inicio)),1)]),b.fecha_fin?(l(),y("span",ns," → "+n(R(b.fecha_fin)),1)):p("",!0),K(b)?(l(),m(e(q),{key:1,variant:"destructive",class:"text-xs"},{default:s(()=>[...f[6]||(f[6]=[i(" Vencido ",-1)])]),_:1})):Q(b)?(l(),m(e(q),{key:2,variant:"secondary",class:"text-xs"},{default:s(()=>[...f[7]||(f[7]=[i(" Próximo a vencer ",-1)])]),_:1})):p("",!0)])]),c.mostrarMonto&&b.monto_total?(l(),y("div",ds,[r("div",us," $"+n(b.monto_total.toLocaleString()),1),r("div",cs,n(b.moneda||"USD"),1)])):p("",!0)]),b.fecha_fin&&!c.compacto?(l(),y("div",fs,[r("div",ms,[r("div",{class:G(["h-2 rounded-full transition-all",{"bg-green-500":b.estado==="activo"&&!K(b),"bg-red-500":K(b),"bg-orange-500":Q(b),"bg-blue-500":b.estado==="finalizado","bg-gray-400":b.estado==="cancelado"}]),style:je({width:`${Math.min(100,Math.max(0,(new Date().getTime()-new Date(b.fecha_inicio).getTime())/(new Date(b.fecha_fin).getTime()-new Date(b.fecha_inicio).getTime())*100))}%`})},null,6)])])):p("",!0)])]))),128))]),t(e(Qe),{orientation:"horizontal"})]),_:1})])):(l(),y("div",ps,[t(e(Y),{class:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),f[8]||(f[8]=r("p",{class:"text-muted-foreground"},"No hay contratos para mostrar",-1))]))]),_:1})]),_:1}))}});function gs(){const x=W(!1),g=W(null);async function B($,v){return x.value=!0,g.value=null,new Promise((k,c)=>{A.post(`/admin/proyectos/${$}/etiquetas`,{etiqueta_id:v},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.value=!1,k(!0)},onError:f=>{x.value=!1,g.value=Object.values(f).join(", "),c(f)}})})}async function w($,v){return x.value=!0,g.value=null,new Promise((k,c)=>{A.delete(`/admin/proyectos/${$}/etiquetas/${v}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.value=!1,k(!0)},onError:f=>{x.value=!1,g.value="Error al quitar la etiqueta",c(f)}})})}async function z($,v){return x.value=!0,g.value=null,new Promise((k,c)=>{A.put(`/admin/proyectos/${$}/etiquetas/sync`,{etiquetas:v},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.value=!1,k(!0)},onError:f=>{x.value=!1,g.value="Error al sincronizar etiquetas",c(f)}})})}async function I($){x.value=!0,g.value=null;try{const v=await fetch(`/admin/proyectos/${$}/etiquetas/suggest`);if(!v.ok)throw new Error("Error al obtener sugerencias");const k=await v.json();return x.value=!1,k.etiquetas||[]}catch(v){return x.value=!1,g.value="Error al obtener sugerencias de etiquetas",console.error(v),[]}}async function S($){var v;x.value=!0,g.value=null;try{const k=await fetch("/admin/etiquetas",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((v=document.querySelector('meta[name="csrf-token"]'))==null?void 0:v.getAttribute("content"))||""},body:JSON.stringify($)});if(!k.ok){const f=await k.json();throw new Error(f.message||"Error al crear etiqueta")}const c=await k.json();return x.value=!1,c.data}catch(k){return x.value=!1,g.value=k.message||"Error al crear etiqueta",console.error(k),null}}async function F($){if($.length<2)return[];try{const v=await fetch(`/admin/etiquetas/search?q=${encodeURIComponent($)}`);if(!v.ok)throw new Error("Error al buscar etiquetas");return(await v.json()).data||[]}catch(v){return console.error("Error buscando etiquetas:",v),[]}}function L($){const v=new Map;return $.forEach(k=>{var f;const c=((f=k.categoria)==null?void 0:f.nombre)||"Sin categoría";v.has(c)||v.set(c,[]),v.get(c).push(k)}),v}function R($){var v;return $.color||((v=$.categoria)==null?void 0:v.color)||"gray"}function K($,v=10){return $<v}async function Q($,v){return x.value=!0,g.value=null,new Promise((k,c)=>{A.post(`/admin/proyectos/${$}/etiquetas/reorder`,{etiquetas:v},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.value=!1,k(!0)},onError:f=>{x.value=!1,g.value="Error al reordenar etiquetas",c(f)}})})}return{isLoading:x,error:g,addEtiquetaToProyecto:B,removeEtiquetaFromProyecto:w,syncEtiquetasProyecto:z,getSugerenciasEtiquetas:I,reorderEtiquetas:Q,createEtiqueta:S,searchEtiquetas:F,groupEtiquetasByCategoria:L,getEtiquetaColor:R,canAddMoreEtiquetas:K}}const vs={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},_s={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},hs={class:"text-2xl font-bold text-gray-900 dark:text-white"},bs={key:0,class:"mt-2 text-gray-600 dark:text-gray-400"},xs={class:"flex gap-2"},ws={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ks={class:"lg:col-span-2 space-y-4"},$s={class:"flex items-center justify-between"},Cs={class:"flex items-center gap-3"},Es={class:"flex items-center gap-3"},Ds={class:"space-y-2"},Ss={class:"flex justify-between text-sm"},qs={class:"font-medium"},zs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2"},Ts={class:"flex items-start gap-3"},Ps={class:"font-medium"},Hs={class:"text-xs text-gray-500"},js={key:0,class:"flex items-start gap-3"},Vs={class:"font-medium"},Ms={class:"text-xs text-gray-500"},As={key:0,class:"flex items-center gap-3 pt-2"},Bs={class:"font-medium ml-2"},Fs={key:0},Ls={key:1,class:"text-sm text-muted-foreground"},Ns={key:1,class:"space-y-4"},Us={class:"flex gap-2"},Is={class:"space-y-3"},Rs={class:"text-sm text-gray-600 dark:text-gray-400"},Os={class:"font-medium"},Gs={key:0,class:"space-y-4"},Ws={class:"mt-4"},Xs={class:"text-sm text-muted-foreground mb-3"},Js={class:"grid gap-2"},Ks={class:"flex items-start justify-between"},Qs={class:"font-medium"},Ys={class:"flex items-center gap-2 mt-1"},Zs={class:"text-xs text-muted-foreground"},eo={key:0,class:"text-right"},to={class:"font-semibold"},so={class:"text-xs text-muted-foreground"},oo={key:1,class:"text-center py-6"},ao={class:"flex items-center gap-2"},ro={key:0,class:"mb-6"},lo={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},io={class:"text-center"},no={class:"text-2xl font-bold"},uo={class:"text-center"},co={class:"text-2xl font-bold text-blue-500"},fo={class:"text-center"},mo={class:"text-2xl font-bold text-green-500"},po={class:"text-center"},yo={class:"space-y-2"},go={class:"flex justify-between items-center text-sm"},vo={class:"font-medium"},_o={key:1,class:"space-y-4"},ho={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},bo={key:2,class:"text-center py-6"},xo={class:"space-y-3"},wo={class:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},ko={class:"flex-1"},$o={class:"text-sm"},Co={class:"font-medium"},Eo={class:"text-xs text-gray-500 mt-1"},Do={class:"space-y-4"},So={key:0,class:"flex items-center gap-3"},qo={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},zo={class:"font-medium"},To={class:"text-sm text-gray-500"},Po={key:1,class:"text-gray-500"},Ho={class:"font-mono"},jo={class:"font-medium"},Vo={class:"text-sm"},Mo={class:"text-sm"},Ao={class:"space-y-4"},Bo={class:"pb-4 border-b"},Fo={key:0,class:"flex items-center gap-3"},Lo={class:"font-medium"},No={class:"text-sm text-gray-500"},Uo={key:1,class:"text-gray-500"},Io={key:0},Ro={class:"space-y-2"},Oo={class:"flex-1"},Go={class:"text-sm font-medium"},Wo={class:"text-xs text-gray-500"},Xo={key:1},Jo={key:0,class:"flex justify-end"},Ko={class:"space-y-4"},Qo={class:"text-center"},Yo={key:1},Zo={class:"flex items-center justify-between w-full pr-4"},ea={class:"flex items-center gap-3"},ta={class:"text-left"},sa={class:"font-semibold"},oa={class:"text-sm text-gray-500"},aa={class:"flex items-center gap-3"},ra={class:"text-sm text-gray-600"},la={class:"text-sm"},ia=["href"],na={class:"text-center"},da={class:"text-center"},ua={key:0,class:"flex justify-end"},ca={class:"space-y-6"},fa={class:"text-center"},ol=pe({__name:"Show",props:{proyecto:{},categorias:{},totales:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageTags:{type:Boolean},canViewContracts:{type:Boolean},canCreateContracts:{type:Boolean},canViewHitos:{type:Boolean},canCreateHitos:{type:Boolean},canEditHitos:{type:Boolean},canDeleteHitos:{type:Boolean},canManageEntregables:{type:Boolean},estadisticasHitos:{}},setup(x){const g=x,B=W("general"),w=W({contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null}),z=W(!1),I=W([]),{syncEtiquetasProyecto:S,isLoading:F}=gs();g.proyecto.etiquetas&&(I.value=g.proyecto.etiquetas.map(a=>a.id));const L=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:g.proyecto.nombre,href:`/admin/proyectos/${g.proyecto.id}`}],R=()=>{confirm(`¿Estás seguro de eliminar el proyecto "${g.proyecto.nombre}"?`)&&A.delete(`/admin/proyectos/${g.proyecto.id}`,{onSuccess:()=>{ee.success("Proyecto eliminado exitosamente")},onError:()=>{ee.error("Error al eliminar el proyecto")}})},K=a=>({planificacion:fe,en_progreso:gt,pausado:ct,completado:me,cancelado:ut})[a]||Te,Q=a=>({planificacion:"bg-blue-100 text-blue-800",en_progreso:"bg-yellow-100 text-yellow-800",pausado:"bg-orange-100 text-orange-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",$=a=>({baja:"bg-gray-100 text-gray-800",media:"bg-blue-100 text-blue-800",alta:"bg-orange-100 text-orange-800",critica:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",v=a=>new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),k=a=>{const o=Math.floor((new Date(a).getTime()-new Date().getTime())/864e5);return o===0?"Hoy":o===1?"Mañana":o===-1?"Ayer":o>0?`En ${o} días`:`Hace ${Math.abs(o)} días`},c=async()=>{try{await S(g.proyecto.id,I.value),z.value=!1,ee.success("Etiquetas actualizadas exitosamente"),A.reload({only:["proyecto"]})}catch{ee.error("Error al actualizar las etiquetas")}},f=()=>{var a;I.value=((a=g.proyecto.etiquetas)==null?void 0:a.map(o=>o.id))||[],z.value=!1},b=a=>{A.visit(`/admin/proyectos/${g.proyecto.id}/hitos/${a.id}`)},T=a=>{A.visit(`/admin/proyectos/${g.proyecto.id}/hitos/${a.id}/edit`)},oe=a=>{confirm(`¿Estás seguro de eliminar el hito "${a.nombre}"? Se eliminarán también todos sus entregables.`)&&A.delete(`/admin/proyectos/${g.proyecto.id}/hitos/${a.id}`,{onSuccess:()=>{ee.success("Hito eliminado exitosamente"),A.reload({only:["proyecto"]})},onError:()=>{ee.error("Error al eliminar el hito")}})},_=a=>{A.post(`/admin/proyectos/${g.proyecto.id}/hitos/${a.id}/duplicar`,{},{onSuccess:()=>{ee.success("Hito duplicado exitosamente"),A.reload({only:["proyecto"]})},onError:()=>{ee.error("Error al duplicar el hito")}})},u=a=>{A.visit(`/admin/proyectos/${g.proyecto.id}/hitos/${a.id}/entregables/create`)},h=a=>{A.visit(`/admin/proyectos/${g.proyecto.id}/hitos/${a.id}/entregables`)},E=J(()=>{const a=[];return g.proyecto.contratos&&g.proyecto.contratos.forEach(o=>{o.obligaciones&&o.obligaciones.forEach(d=>{d.evidencias&&d.evidencias.forEach(C=>{a.push({...C,contrato_id:o.id,contrato_numero:o.numero_contrato,contrato_nombre:o.nombre,obligacion_titulo:d.titulo,_contrato:o})})})}),a}),Z=J(()=>{let a=E.value;return w.value.contrato_id&&(a=a.filter(o=>o.contrato_id===w.value.contrato_id)),w.value.tipo&&(a=a.filter(o=>o.tipo_evidencia===w.value.tipo)),w.value.estado&&(a=a.filter(o=>o.estado===w.value.estado)),w.value.usuario_id&&(a=a.filter(o=>{var d;return((d=o.usuario)==null?void 0:d.id)===w.value.usuario_id})),(w.value.fecha_inicio||w.value.fecha_fin)&&(a=a.filter(o=>{const d=new Date(o.created_at);if(w.value.fecha_inicio){const C=new Date(w.value.fecha_inicio);if(d<C)return!1}if(w.value.fecha_fin){const C=new Date(w.value.fecha_fin);if(C.setHours(23,59,59,999),d>C)return!1}return!0})),a}),ye=J(()=>{const a={};return Z.value.forEach(o=>{a[o.contrato_id]||(a[o.contrato_id]={contrato:o._contrato,evidencias:[]}),a[o.contrato_id].evidencias.push(o)}),Object.values(a)}),ge=a=>a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2);return(a,o)=>(l(),y(O,null,[t(e(Ve),{title:`Proyecto: ${a.proyecto.nombre}`},null,8,["title"]),t(Me,{breadcrumbs:L},{default:s(()=>[r("div",vs,[r("div",_s,[r("div",null,[r("h1",hs,n(a.proyecto.nombre),1),a.proyecto.descripcion?(l(),y("p",bs,n(a.proyecto.descripcion),1)):p("",!0)]),r("div",xs,[a.canEdit?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/edit`},{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(de),{class:"mr-2 h-4 w-4"}),o[6]||(o[6]=i(" Editar ",-1))]),_:1})]),_:1},8,["href"])):p("",!0),a.canDelete?(l(),m(e(D),{key:1,variant:"destructive",onClick:R},{default:s(()=>[t(e(He),{class:"mr-2 h-4 w-4"}),o[7]||(o[7]=i(" Eliminar ",-1))]),_:1})):p("",!0)])]),t(e(Ae),{modelValue:B.value,"onUpdate:modelValue":o[5]||(o[5]=d=>B.value=d),class:"w-full"},{default:s(()=>[t(e(Be),{class:"grid w-full grid-cols-5"},{default:s(()=>[t(e(ae),{value:"general"},{default:s(()=>[t(e(nt),{class:"mr-2 h-4 w-4"}),o[8]||(o[8]=i(" General ",-1))]),_:1}),t(e(ae),{value:"usuarios"},{default:s(()=>{var d;return[t(e(dt),{class:"mr-2 h-4 w-4"}),o[9]||(o[9]=i(" Usuarios ",-1)),(d=a.totales)!=null&&d.usuarios?(l(),m(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[i(n(a.totales.usuarios),1)]),_:1})):p("",!0)]}),_:1}),t(e(ae),{value:"contratos"},{default:s(()=>{var d;return[t(e(Y),{class:"mr-2 h-4 w-4"}),o[10]||(o[10]=i(" Contratos ",-1)),(d=a.totales)!=null&&d.contratos?(l(),m(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[i(n(a.totales.contratos),1)]),_:1})):p("",!0)]}),_:1}),t(e(ae),{value:"evidencias"},{default:s(()=>{var d;return[t(e(ce),{class:"mr-2 h-4 w-4"}),o[11]||(o[11]=i(" Evidencias ",-1)),(d=a.totales)!=null&&d.evidencias?(l(),m(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[i(n(a.totales.evidencias),1)]),_:1})):p("",!0)]}),_:1}),t(e(ae),{value:"hitos"},{default:s(()=>{var d;return[t(e(Ce),{class:"mr-2 h-4 w-4"}),o[12]||(o[12]=i(" Hitos y Entregables ",-1)),(d=a.totales)!=null&&d.hitos?(l(),m(e(q),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:s(()=>[i(n(a.totales.hitos),1)]),_:1})):p("",!0)]}),_:1})]),_:1}),t(e(re),{value:"general",class:"space-y-4 mt-6"},{default:s(()=>[r("div",ws,[r("div",ks,[t(e(H),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[13]||(o[13]=[i("Estado del Proyecto",-1)])]),_:1})]),_:1}),t(e(j),{class:"space-y-4"},{default:s(()=>[r("div",$s,[r("div",Cs,[(l(),m(De(K(a.proyecto.estado)),{class:"h-5 w-5 text-gray-500"})),o[14]||(o[14]=r("span",{class:"font-medium"},"Estado:",-1)),t(e(q),{class:G(Q(a.proyecto.estado))},{default:s(()=>[i(n(a.proyecto.estado_label),1)]),_:1},8,["class"])]),r("div",Es,[t(e(ft),{class:"h-5 w-5 text-gray-500"}),o[15]||(o[15]=r("span",{class:"font-medium"},"Prioridad:",-1)),t(e(q),{class:G($(a.proyecto.prioridad))},{default:s(()=>[i(n(a.proyecto.prioridad_label),1)]),_:1},8,["class"])])]),r("div",Ds,[r("div",Ss,[o[16]||(o[16]=r("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso",-1)),r("span",qs,n(a.proyecto.porcentaje_completado)+"%",1)]),t(e(he),{value:a.proyecto.porcentaje_completado,class:"h-2"},null,8,["value"])]),r("div",zs,[r("div",Ts,[t(e(ie),{class:"h-5 w-5 text-gray-500 mt-0.5"}),r("div",null,[o[17]||(o[17]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fecha de inicio",-1)),r("p",Ps,n(v(a.proyecto.fecha_inicio)),1),r("p",Hs,n(k(a.proyecto.fecha_inicio)),1)])]),a.proyecto.fecha_fin?(l(),y("div",js,[t(e(ie),{class:"h-5 w-5 text-gray-500 mt-0.5"}),r("div",null,[o[18]||(o[18]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fecha de fin",-1)),r("p",Vs,n(v(a.proyecto.fecha_fin)),1),r("p",Ms,n(k(a.proyecto.fecha_fin)),1)])])):p("",!0)]),a.proyecto.duracion_dias?(l(),y("div",As,[t(e(mt),{class:"h-5 w-5 text-gray-500"}),r("div",null,[o[19]||(o[19]=r("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Duración total:",-1)),r("span",Bs,n(a.proyecto.duracion_dias)+" días",1)])])):p("",!0)]),_:1})]),_:1}),t(e(H),null,{default:s(()=>[t(e(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(U),{class:"flex items-center gap-2"},{default:s(()=>[t(e(pt),{class:"h-5 w-5"}),o[20]||(o[20]=i(" Etiquetas ",-1))]),_:1}),a.canManageTags&&!z.value?(l(),m(e(D),{key:0,variant:"ghost",size:"sm",onClick:o[0]||(o[0]=d=>z.value=!0)},{default:s(()=>[t(e(de),{class:"h-4 w-4"})]),_:1})):p("",!0)]),_:1}),t(e(j),null,{default:s(()=>[z.value?(l(),y("div",Ns,[a.categorias?(l(),m(Le,{key:0,modelValue:I.value,"onUpdate:modelValue":o[1]||(o[1]=d=>I.value=d),categorias:a.categorias,"max-etiquetas":10,placeholder:"Seleccionar etiquetas...",description:"Selecciona hasta 10 etiquetas para este proyecto"},null,8,["modelValue","categorias"])):p("",!0),r("div",Us,[t(e(D),{size:"sm",onClick:c,disabled:e(F)},{default:s(()=>[...o[21]||(o[21]=[i(" Guardar ",-1)])]),_:1},8,["disabled"]),t(e(D),{size:"sm",variant:"outline",onClick:f,disabled:e(F)},{default:s(()=>[...o[22]||(o[22]=[i(" Cancelar ",-1)])]),_:1},8,["disabled"])])])):(l(),y("div",Fs,[a.proyecto.etiquetas&&a.proyecto.etiquetas.length>0?(l(),m(Fe,{key:0,etiquetas:a.proyecto.etiquetas,"show-categoria":!0,interactive:!0,size:"md"},null,8,["etiquetas"])):(l(),y("p",Ls," No hay etiquetas asignadas "))]))]),_:1})]),_:1}),a.proyecto.campos_personalizados&&a.proyecto.campos_personalizados.length>0?(l(),m(e(H),{key:0},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[23]||(o[23]=[i("Campos Personalizados",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[r("div",Is,[(l(!0),y(O,null,X(a.proyecto.campos_personalizados,d=>(l(),y("div",{key:d.id,class:"flex justify-between py-2 border-b last:border-b-0"},[r("span",Rs,n(d.nombre),1),r("span",Os,n(d.valor_formateado||d.valor||"-"),1)]))),128))])]),_:1})]),_:1})):p("",!0),a.canViewContracts?(l(),m(e(H),{key:1},{default:s(()=>[t(e(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(U),{class:"flex items-center gap-2"},{default:s(()=>[t(e(Y),{class:"h-5 w-5"}),o[24]||(o[24]=i(" Contratos ",-1))]),_:1}),a.canCreateContracts?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/contratos/create`},{default:s(()=>[t(e(D),{size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),o[25]||(o[25]=i(" Nuevo Contrato ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)]),_:1}),t(e(j),null,{default:s(()=>[a.proyecto.contratos&&a.proyecto.contratos.length>0?(l(),y("div",Gs,[t(ys,{contratos:a.proyecto.contratos,"mostrar-monto":!0,compacto:!0},null,8,["contratos"]),r("div",Ws,[r("p",Xs,n(a.proyecto.contratos.length)+" contrato(s) asociado(s) ",1),r("div",Js,[(l(!0),y(O,null,X(a.proyecto.contratos.slice(0,3),d=>(l(),m(e(P),{key:d.id,href:`/admin/contratos/${d.id}`,class:"block p-3 rounded-lg border hover:bg-muted/50 transition-colors"},{default:s(()=>[r("div",Ks,[r("div",null,[r("p",Qs,n(d.nombre),1),r("div",Ys,[t(e(q),{variant:d.estado==="activo"?"default":d.estado==="finalizado"?"secondary":d.estado==="cancelado"?"destructive":"outline"},{default:s(()=>[i(n(d.estado),1)]),_:2},1032,["variant"]),r("span",Zs,n(new Date(d.fecha_inicio).toLocaleDateString()),1)])]),d.monto_total?(l(),y("div",eo,[r("p",to,"$"+n(d.monto_total.toLocaleString()),1),r("p",so,n(d.moneda||"USD"),1)])):p("",!0)])]),_:2},1032,["href"]))),128))]),a.proyecto.contratos.length>3?(l(),m(e(P),{key:0,href:`/admin/contratos?proyecto_id=${a.proyecto.id}`,class:"block text-center mt-3 text-sm text-primary hover:underline"},{default:s(()=>[i(" Ver todos los contratos ("+n(a.proyecto.contratos.length)+") ",1)]),_:1},8,["href"])):p("",!0)])])):(l(),y("div",oo,[t(e(Y),{class:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),o[27]||(o[27]=r("p",{class:"text-muted-foreground mb-3"},"No hay contratos asociados",-1)),a.canCreateContracts?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/contratos/create`},{default:s(()=>[t(e(D),{variant:"outline",size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),o[26]||(o[26]=i(" Crear Primer Contrato ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)]))]),_:1})]),_:1})):p("",!0),a.canViewHitos?(l(),m(e(H),{key:2},{default:s(()=>[t(e(N),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[t(e(U),{class:"flex items-center gap-2"},{default:s(()=>[t(e(fe),{class:"h-5 w-5"}),o[28]||(o[28]=i(" Hitos y Entregables ",-1))]),_:1}),r("div",ao,[a.proyecto.hitos&&a.proyecto.hitos.length>0?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/hitos`},{default:s(()=>[t(e(D),{variant:"outline",size:"sm"},{default:s(()=>[t(e(it),{class:"h-4 w-4 mr-2"}),o[29]||(o[29]=i(" Ver Todos ",-1))]),_:1})]),_:1},8,["href"])):p("",!0),a.canCreateHitos?(l(),m(e(P),{key:1,href:`/admin/proyectos/${a.proyecto.id}/hitos/create`},{default:s(()=>[t(e(D),{size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),o[30]||(o[30]=i(" Nuevo Hito ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)])]),_:1}),t(e(j),null,{default:s(()=>[a.estadisticasHitos&&a.estadisticasHitos.total>0?(l(),y("div",ro,[r("div",lo,[r("div",io,[r("p",no,n(a.estadisticasHitos.total),1),o[31]||(o[31]=r("p",{class:"text-xs text-muted-foreground"},"Total Hitos",-1))]),r("div",uo,[r("p",co,n(a.estadisticasHitos.en_progreso),1),o[32]||(o[32]=r("p",{class:"text-xs text-muted-foreground"},"En Progreso",-1))]),r("div",fo,[r("p",mo,n(a.estadisticasHitos.completados),1),o[33]||(o[33]=r("p",{class:"text-xs text-muted-foreground"},"Completados",-1))]),r("div",po,[r("p",{class:G(["text-2xl font-bold",{"text-red-500":a.estadisticasHitos.vencidos>0}])},n(a.estadisticasHitos.vencidos),3),o[34]||(o[34]=r("p",{class:"text-xs text-muted-foreground"},"Vencidos",-1))])]),r("div",yo,[r("div",go,[o[35]||(o[35]=r("span",{class:"text-muted-foreground"},"Progreso General",-1)),r("span",vo,n(a.estadisticasHitos.progreso_general)+"%",1)]),t(e(he),{value:a.estadisticasHitos.progreso_general,class:"h-2"},null,8,["value"])])])):p("",!0),a.proyecto.hitos&&a.proyecto.hitos.length>0?(l(),y("div",_o,[r("div",ho,[(l(!0),y(O,null,X(a.proyecto.hitos.slice(0,6),d=>(l(),m($e,{key:d.id,hito:d,canEdit:a.canEditHitos,canDelete:a.canDeleteHitos,canManageDeliverables:a.canManageEntregables,showActions:!0,onView:b,onEdit:T,onDelete:oe,onDuplicate:_,onAddEntregable:u,onViewEntregables:h},null,8,["hito","canEdit","canDelete","canManageDeliverables"]))),128))]),a.proyecto.hitos.length>6?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/hitos`,class:"block text-center mt-4 text-sm text-primary hover:underline"},{default:s(()=>[i(" Ver todos los hitos ("+n(a.proyecto.hitos.length)+") ",1)]),_:1},8,["href"])):p("",!0)])):(l(),y("div",bo,[t(e(fe),{class:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),o[37]||(o[37]=r("p",{class:"text-muted-foreground mb-3"},"No hay hitos definidos para este proyecto",-1)),a.canCreateHitos?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/hitos/create`},{default:s(()=>[t(e(D),{variant:"outline",size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),o[36]||(o[36]=i(" Crear Primer Hito ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)]))]),_:1})]),_:1})):p("",!0),a.proyecto.activities&&a.proyecto.activities.length>0?(l(),m(e(H),{key:3},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[38]||(o[38]=[i("Actividad Reciente",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[r("div",xo,[(l(!0),y(O,null,X(a.proyecto.activities,d=>{var C;return l(),y("div",{key:d.id,class:"flex items-start gap-3 pb-3 border-b last:border-b-0"},[r("div",wo,[t(e(Ee),{class:"h-4 w-4 text-gray-500"})]),r("div",ko,[r("p",$o,[r("span",Co,n(((C=d.causer)==null?void 0:C.name)||"Sistema"),1),i(" "+n(d.description),1)]),r("p",Eo,n(k(d.created_at)),1)])])}),128))])]),_:1})]),_:1})):p("",!0)]),r("div",Do,[t(e(H),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[39]||(o[39]=[i("Responsable",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[a.proyecto.responsable?(l(),y("div",So,[r("div",qo,[t(e(Ee),{class:"h-5 w-5 text-gray-500"})]),r("div",null,[r("p",zo,n(a.proyecto.responsable.name),1),r("p",To,n(a.proyecto.responsable.email),1)])])):(l(),y("p",Po,"Sin asignar"))]),_:1})]),_:1}),t(e(H),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[40]||(o[40]=[i("Información del Sistema",-1)])]),_:1})]),_:1}),t(e(j),{class:"space-y-3"},{default:s(()=>{var d;return[r("div",null,[o[41]||(o[41]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"ID del Proyecto",-1)),r("p",Ho,"#"+n(a.proyecto.id),1)]),r("div",null,[o[42]||(o[42]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Estado",-1)),t(e(q),{class:G(a.proyecto.activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")},{default:s(()=>[i(n(a.proyecto.activo?"Activo":"Inactivo"),1)]),_:1},8,["class"])]),r("div",null,[o[43]||(o[43]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Creado por",-1)),r("p",jo,n(((d=a.proyecto.creador)==null?void 0:d.name)||"Sistema"),1)]),r("div",null,[o[44]||(o[44]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fecha de creación",-1)),r("p",Vo,n(v(a.proyecto.created_at)),1)]),r("div",null,[o[45]||(o[45]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Última actualización",-1)),r("p",Mo,n(v(a.proyecto.updated_at)),1)])]}),_:1})]),_:1}),t(e(H),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[46]||(o[46]=[i("Acciones Rápidas",-1)])]),_:1})]),_:1}),t(e(j),{class:"space-y-2"},{default:s(()=>[t(e(P),{href:"/admin/proyectos"},{default:s(()=>[t(e(D),{variant:"outline",class:"w-full justify-start"},{default:s(()=>[...o[47]||(o[47]=[i(" Volver al listado ",-1)])]),_:1})]),_:1}),a.canEdit?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/edit`},{default:s(()=>[t(e(D),{variant:"outline",class:"w-full justify-start"},{default:s(()=>[t(e(de),{class:"mr-2 h-4 w-4"}),o[48]||(o[48]=i(" Editar proyecto ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)]),_:1})]),_:1})])])]),_:1}),t(e(re),{value:"usuarios",class:"space-y-4 mt-6"},{default:s(()=>[t(e(H),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[49]||(o[49]=[i("Usuarios del Proyecto",-1)])]),_:1}),t(e(ne),null,{default:s(()=>[...o[50]||(o[50]=[i(" Personas asignadas y colaborando en este proyecto ",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[r("div",Ao,[r("div",Bo,[o[52]||(o[52]=r("h4",{class:"text-sm font-medium mb-3"},"Responsable del Proyecto",-1)),a.proyecto.responsable?(l(),y("div",Fo,[t(e(be),{class:"h-10 w-10"},{default:s(()=>[t(e(xe),{src:a.proyecto.responsable.avatar},null,8,["src"]),t(e(we),null,{default:s(()=>[i(n(ge(a.proyecto.responsable.name)),1)]),_:1})]),_:1}),r("div",null,[r("p",Lo,n(a.proyecto.responsable.name),1),r("p",No,n(a.proyecto.responsable.email),1)]),t(e(q),{class:"ml-auto"},{default:s(()=>[...o[51]||(o[51]=[i("Responsable",-1)])]),_:1})])):(l(),y("p",Uo,"Sin responsable asignado"))]),a.proyecto.participantes&&a.proyecto.participantes.length>0?(l(),y("div",Io,[o[53]||(o[53]=r("h4",{class:"text-sm font-medium mb-3"},"Participantes",-1)),r("div",Ro,[(l(!0),y(O,null,X(a.proyecto.participantes,d=>{var C;return l(),y("div",{key:d.id,class:"flex items-center gap-3 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800"},[t(e(be),{class:"h-8 w-8"},{default:s(()=>[t(e(xe),{src:d.avatar},null,8,["src"]),t(e(we),null,{default:s(()=>[i(n(ge(d.name)),1)]),_:2},1024)]),_:2},1024),r("div",Oo,[r("p",Go,n(d.name),1),r("p",Wo,n(d.email),1)]),(C=d.pivot)!=null&&C.rol?(l(),m(e(q),{key:0,variant:"outline",class:"text-xs"},{default:s(()=>[i(n(d.pivot.rol),1)]),_:2},1024)):p("",!0)])}),128))])])):(l(),y("div",Xo,[...o[54]||(o[54]=[r("p",{class:"text-gray-500 text-center py-4"},"No hay participantes adicionales",-1)])]))])]),_:1})]),_:1})]),_:1}),t(e(re),{value:"contratos",class:"space-y-4 mt-6"},{default:s(()=>[a.canCreateContracts?(l(),y("div",Jo,[t(e(P),{href:`/admin/contratos/create?proyecto_id=${a.proyecto.id}`},{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),o[55]||(o[55]=i(" Nuevo Contrato ",-1))]),_:1})]),_:1},8,["href"])])):p("",!0),a.proyecto.contratos&&a.proyecto.contratos.length>0?(l(),m(e(H),{key:1},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[56]||(o[56]=[i("Contratos del Proyecto",-1)])]),_:1}),t(e(ne),null,{default:s(()=>[...o[57]||(o[57]=[i(" Lista de contratos asociados a este proyecto ",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[r("div",Ko,[t(At,{contratos:a.proyecto.contratos,"proyecto-id":a.proyecto.id,"can-edit":a.canEdit,"can-delete":a.canDelete},null,8,["contratos","proyecto-id","can-edit","can-delete"])])]),_:1})]),_:1})):(l(),m(e(H),{key:2},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[r("div",Qo,[t(e(Y),{class:"mx-auto h-12 w-12 text-gray-400"}),o[59]||(o[59]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay contratos asociados",-1)),a.canCreateContracts?(l(),m(e(P),{key:0,href:`/admin/contratos/create?proyecto_id=${a.proyecto.id}`,class:"mt-4 inline-block"},{default:s(()=>[t(e(D),{variant:"outline"},{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),o[58]||(o[58]=i(" Crear primer contrato ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)])]),_:1})]),_:1}))]),_:1}),t(e(re),{value:"evidencias",class:"space-y-4 mt-6"},{default:s(()=>[E.value.length>0?(l(),m(st,{key:0,modelValue:w.value,"onUpdate:modelValue":o[2]||(o[2]=d=>w.value=d),contratos:a.proyecto.contratos||[],evidencias:E.value},null,8,["modelValue","contratos","evidencias"])):p("",!0),ye.value.length>0?(l(),y("div",Yo,[t(e(ot),{type:"multiple",class:"space-y-4",collapsible:""},{default:s(()=>[(l(!0),y(O,null,X(ye.value,d=>(l(),m(e(at),{key:d.contrato.id,value:`contrato-${d.contrato.id}`,class:"border rounded-lg bg-card"},{default:s(()=>[t(e(rt),{class:"px-4 py-3 hover:no-underline hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg"},{default:s(()=>[r("div",Zo,[r("div",ea,[t(e(Y),{class:"h-5 w-5 text-gray-500"}),r("div",ta,[r("div",sa,n(d.contrato.nombre),1),r("div",oa,n(d.contrato.numero_contrato||"Sin número"),1)])]),r("div",aa,[t(e(q),{variant:"secondary"},{default:s(()=>[i(n(d.evidencias.length)+" evidencia(s) ",1)]),_:2},1024),t(e(P),{href:`/admin/contratos/${d.contrato.id}`,onClick:o[3]||(o[3]=_e(()=>{},["stop"])),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},{default:s(()=>[o[60]||(o[60]=i(" Ver contrato ",-1)),t(e(yt),{class:"h-3 w-3"})]),_:2},1032,["href"])])])]),_:2},1024),t(e(lt),{class:"px-4 pb-4"},{default:s(()=>[t(e(ze),null,{default:s(()=>[t(e(Se),null,{default:s(()=>[t(e(le),null,{default:s(()=>[t(e(M),null,{default:s(()=>[...o[61]||(o[61]=[i("Tipo",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...o[62]||(o[62]=[i("Obligación",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...o[63]||(o[63]=[i("Descripción",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...o[64]||(o[64]=[i("Usuario",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...o[65]||(o[65]=[i("Estado",-1)])]),_:1}),t(e(M),null,{default:s(()=>[...o[66]||(o[66]=[i("Fecha",-1)])]),_:1}),t(e(M),{class:"text-right"},{default:s(()=>[...o[67]||(o[67]=[i("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(qe),null,{default:s(()=>[(l(!0),y(O,null,X(d.evidencias,C=>(l(),m(e(le),{key:C.id,class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800"},{default:s(()=>[t(e(P),{href:`/admin/contratos/${C.contrato_id}/evidencias/${C.id}`,class:"contents"},{default:s(()=>[t(e(V),null,{default:s(()=>[t(e(q),{variant:"outline"},{default:s(()=>[i(n(C.tipo_evidencia),1)]),_:2},1024)]),_:2},1024),t(e(V),null,{default:s(()=>[i(n(C.obligacion_titulo),1)]),_:2},1024),t(e(V),null,{default:s(()=>[r("span",ra,n(C.descripcion||"-"),1)]),_:2},1024),t(e(V),null,{default:s(()=>{var ve;return[r("span",la,n(((ve=C.usuario)==null?void 0:ve.name)||"-"),1)]}),_:2},1024),t(e(V),null,{default:s(()=>[t(e(q),{class:G({"bg-yellow-100 text-yellow-800":C.estado==="pendiente","bg-green-100 text-green-800":C.estado==="aprobada","bg-red-100 text-red-800":C.estado==="rechazada"})},{default:s(()=>[i(n(C.estado),1)]),_:2},1032,["class"])]),_:2},1024),t(e(V),null,{default:s(()=>[i(n(v(C.created_at)),1)]),_:2},1024),t(e(V),{class:"text-right"},{default:s(()=>[C.archivo_url?(l(),y("a",{key:0,href:C.archivo_url,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800",onClick:o[4]||(o[4]=_e(()=>{},["stop"]))},[t(e(Pe),{class:"h-4 w-4"})],8,ia)):p("",!0)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])):E.value.length===0?(l(),m(e(H),{key:2},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[r("div",na,[t(e(ce),{class:"mx-auto h-12 w-12 text-gray-400"}),o[68]||(o[68]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias cargadas",-1)),o[69]||(o[69]=r("p",{class:"text-xs text-gray-500 mt-1"},"Las evidencias se cargan desde los contratos",-1))])]),_:1})]),_:1})):(l(),m(e(H),{key:3},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[r("div",da,[t(e(ce),{class:"mx-auto h-12 w-12 text-gray-400"}),o[70]||(o[70]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias que coincidan con los filtros",-1)),o[71]||(o[71]=r("p",{class:"text-xs text-gray-500 mt-1"},"Intenta ajustar los criterios de búsqueda",-1))])]),_:1})]),_:1}))]),_:1}),t(e(re),{value:"hitos",class:"space-y-4 mt-6"},{default:s(()=>[a.canCreateHitos?(l(),y("div",ua,[t(e(P),{href:`/admin/proyectos/${a.proyecto.id}/hitos/create`},{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),o[72]||(o[72]=i(" Nuevo Hito ",-1))]),_:1})]),_:1},8,["href"])])):p("",!0),a.proyecto.hitos&&a.proyecto.hitos.length>0?(l(),m(e(H),{key:1},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),null,{default:s(()=>[...o[73]||(o[73]=[i("Hitos y Entregables",-1)])]),_:1}),t(e(ne),null,{default:s(()=>[...o[74]||(o[74]=[i(" Seguimiento de los hitos y entregables del proyecto ",-1)])]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[r("div",ca,[(l(!0),y(O,null,X(a.proyecto.hitos,d=>(l(),m($e,{key:d.id,hito:d,"proyecto-id":a.proyecto.id,"can-edit":a.canEditHitos,"can-delete":a.canDeleteHitos,"can-manage-entregables":a.canManageEntregables,"show-entregables":!0,onView:b,onEdit:T,onDelete:oe,onDuplicate:_,onAddEntregable:u,onViewEntregables:h},null,8,["hito","proyecto-id","can-edit","can-delete","can-manage-entregables"]))),128))])]),_:1})]),_:1})):(l(),m(e(H),{key:2},{default:s(()=>[t(e(j),{class:"py-8"},{default:s(()=>[r("div",fa,[t(e(Ce),{class:"mx-auto h-12 w-12 text-gray-400"}),o[76]||(o[76]=r("p",{class:"mt-2 text-sm text-gray-600"},"No hay hitos definidos",-1)),a.canCreateHitos?(l(),m(e(P),{key:0,href:`/admin/proyectos/${a.proyecto.id}/hitos/create`,class:"mt-4 inline-block"},{default:s(()=>[t(e(D),{variant:"outline"},{default:s(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),o[75]||(o[75]=i(" Crear primer hito ",-1))]),_:1})]),_:1},8,["href"])):p("",!0)])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{ol as default};
