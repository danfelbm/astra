import{a as k,b as x,c as w,_ as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-CXc292e6.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-CghfIXbW.js";import{a as C,_ as D}from"./createLucideIcon-DpqMcHcs.js";import{d as b,i as c,e as n,n as u,u as t,G as V,b as m,w as o,f as a,j as i,g as s,h as d,t as l,P as j}from"./app-CR-2XB3C.js";import{_}from"./index-Bv2D6OQs.js";import{_ as q}from"./Progress.vue_vue_type_script_setup_true_lang-Dnb-QGvv.js";import{E as B}from"./EtiquetaDisplay-22YQqrkc.js";import{C as E}from"./calendar-K2tiWc-j.js";import{F as P}from"./zap-w8N3d7cs.js";import{U as A}from"./user-DHtFWwAY.js";import{C as N}from"./clock-Co8NiV0N.js";import{a as S}from"./target-PRmdjiaM.js";import{A as T}from"./arrow-right-Cdh9MJyj.js";const U=b({__name:"CardFooter",props:{class:{}},setup(y){const p=y;return(g,f)=>(n(),c("div",{class:u(t(C)("flex items-center p-6 pt-0",p.class))},[V(g.$slots,"default")],2))}}),z={class:"flex justify-between items-start"},F={class:"flex-1"},M={class:"flex gap-2"},R={key:0,class:"space-y-2"},G={class:"flex justify-between text-sm"},L={class:"font-medium"},H={class:"grid grid-cols-2 gap-3 text-sm"},I={class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},J={class:"flex items-center gap-2"},K={key:0,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},O={class:"truncate"},Q={key:1,class:"flex items-center gap-2 text-gray-600 dark:text-gray-400"},W={class:"text-xs"},X={key:1,class:"pt-3 border-t"},Y={class:"flex items-center gap-2"},Z={key:2,class:"pt-2 border-t"},ee={class:"text-xs text-gray-500"},ue=b({__name:"ProyectoCard",props:{proyecto:{},showActions:{type:Boolean,default:!0},linkUrl:{}},setup(y){const p=e=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",g=e=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",f=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),h=e=>{if(!e)return null;const r=Math.ceil((new Date(e).getTime()-new Date().getTime())/(1e3*60*60*24));return r<0?`Vencido hace ${Math.abs(r)} días`:r===0?"Vence hoy":r===1?"Vence mañana":`${r} días restantes`};return(e,r)=>(n(),m(t(v),{class:"hover:shadow-lg transition-shadow duration-300"},{default:o(()=>[a(t(k),null,{default:o(()=>[s("div",z,[s("div",F,[a(t(x),{class:"text-lg"},{default:o(()=>[d(l(e.proyecto.nombre),1)]),_:1}),e.proyecto.descripcion?(n(),m(t($),{key:0,class:"mt-1 line-clamp-2"},{default:o(()=>[d(l(e.proyecto.descripcion),1)]),_:1})):i("",!0)]),s("div",M,[a(t(_),{class:u([p(e.proyecto.estado),"text-xs"])},{default:o(()=>[d(l(e.proyecto.estado_label),1)]),_:1},8,["class"])])])]),_:1}),a(t(w),{class:"space-y-4"},{default:o(()=>[e.proyecto.estado!=="cancelado"?(n(),c("div",R,[s("div",G,[r[0]||(r[0]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso",-1)),s("span",L,l(e.proyecto.porcentaje_completado)+"%",1)]),a(t(q),{value:e.proyecto.porcentaje_completado,class:"h-2"},null,8,["value"])])):i("",!0),s("div",H,[s("div",I,[a(t(E),{class:"h-4 w-4"}),s("span",null,l(f(e.proyecto.fecha_inicio)),1)]),s("div",J,[a(t(P),{class:"h-4 w-4 text-gray-600 dark:text-gray-400"}),a(t(_),{class:u([g(e.proyecto.prioridad),"text-xs"])},{default:o(()=>[d(l(e.proyecto.prioridad_label),1)]),_:1},8,["class"])]),e.proyecto.responsable?(n(),c("div",K,[a(t(A),{class:"h-4 w-4"}),s("span",O,l(e.proyecto.responsable.name),1)])):i("",!0),e.proyecto.fecha_fin?(n(),c("div",Q,[a(t(N),{class:"h-4 w-4"}),s("span",W,l(h(e.proyecto.fecha_fin)),1)])):i("",!0)]),e.proyecto.etiquetas&&e.proyecto.etiquetas.length>0?(n(),c("div",X,[s("div",Y,[a(t(S),{class:"h-3 w-3 text-gray-500"}),a(B,{etiquetas:e.proyecto.etiquetas,"max-visible":3,size:"sm"},null,8,["etiquetas"])])])):i("",!0),e.proyecto.duracion_dias?(n(),c("div",Z,[s("p",ee," Duración total: "+l(e.proyecto.duracion_dias)+" días ",1)])):i("",!0)]),_:1}),e.showActions?(n(),m(t(U),{key:0,class:"pt-0"},{default:o(()=>[a(t(j),{href:e.linkUrl||`/admin/proyectos/${e.proyecto.id}`,class:"w-full"},{default:o(()=>[a(t(D),{variant:"outline",class:"w-full group"},{default:o(()=>[r[1]||(r[1]=d(" Ver detalles ",-1)),a(t(T),{class:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]),_:1})]),_:1},8,["href"])]),_:1})):i("",!0)]),_:1}))}});export{ue as _};
