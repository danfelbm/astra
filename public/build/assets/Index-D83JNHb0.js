import{_ as f}from"./index-BTN_CKnm.js";import{_ as b,a as T,b as $,c as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfXCxct6.js";import{_ as E,a as D,b as H,c as L}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CnGQ_xel.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7XcGlX4.js";import{d as U,k as q,a as d,o as i,b as a,u as s,m as I,e as l,f as t,g as c,t as o,i as u,F as p,r as h,j as _,P as y,n as m}from"./app-DDSU5uN7.js";import{C as V}from"./calendar-BerL1z25.js";import{C as S}from"./clock-DFrTRM55.js";import{M as v}from"./map-pin-4Kefx8iA.js";import{C as z}from"./circle-check-big-Yv2DJF0V.js";import{E as A}from"./eye-BaRoqJ35.js";import{U as O}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CtnWlOEt.js";import{f as B,e as j}from"./es-DfN3vIXC.js";import"./createLucideIcon-BfVy0SFr.js";import"./Input.vue_vue_type_script_setup_true_lang-DloUOX4w.js";import"./VisuallyHidden-bGJF1x_r.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DhdtXOhv.js";import"./check-Cnad2drU.js";import"./RovingFocusItem-BFrOkdA9.js";import"./utils-DesyTqqv.js";import"./index-APndk64q.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BUWx5DM7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-B-HIcCfq.js";import"./Label.vue_vue_type_script_setup_true_lang-B6qLE2NP.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D_RAhnKd.js";import"./index-DlY_kZJS.js";const G={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},J={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},K={class:"space-y-1"},Q={class:"flex gap-2"},R={key:0,class:"text-sm text-muted-foreground line-clamp-2"},W={class:"space-y-2 text-sm"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={key:0,class:"flex items-center gap-2"},ee={class:"line-clamp-1"},se={key:1,class:"pt-2 border-t"},te={class:"flex items-center justify-between"},ae={class:"pt-2 text-sm font-medium"},re={class:"pt-3 border-t"},le={class:"inline-flex items-center gap-2 text-sm font-medium text-primary"},oe={key:0,class:"col-span-full"},ie={key:0,class:"mt-6 flex items-center justify-between"},ne={class:"text-sm text-muted-foreground"},de={class:"flex gap-2"},ce=["innerHTML"],ue={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},me={class:"space-y-1"},pe={class:"flex gap-2"},fe={key:0,class:"text-sm text-muted-foreground line-clamp-2"},_e={class:"space-y-2 text-sm"},ge={class:"flex items-center gap-2"},be={key:0,class:"flex items-center gap-2"},xe={class:"line-clamp-2"},he={class:"pt-3 border-t"},ye={class:"inline-flex items-center gap-2 text-sm font-medium text-primary"},ve={key:0,class:"col-span-full"},we={key:0,class:"mt-6 flex items-center justify-between"},ke={class:"text-sm text-muted-foreground"},Pe={class:"flex gap-2"},Me=["innerHTML"],Ze=U({__name:"Index",props:{asambleas:{},asambleasPublicas:{},filters:{}},setup(Ce){const N=[{title:"Inicio",href:"/dashboard"},{title:"Asambleas",href:"/asambleas"}],{route:w}=window,k=q("mis-asambleas"),P=r=>r?B(new Date(r),"PPP",{locale:j}):"",M=r=>r?B(new Date(r),"p",{locale:j}):"",C=r=>{switch(r){case"moderador":return{class:"bg-purple-100 text-purple-800",text:"Moderador"};case"secretario":return{class:"bg-blue-100 text-blue-800",text:"Secretario"};default:return{class:"bg-gray-100 text-gray-800",text:"Asistente"}}},g=r=>r==="ordinaria"?{class:"bg-blue-100 text-blue-800",text:"Ordinaria"}:{class:"bg-purple-100 text-purple-800",text:"Extraordinaria"};return(r,n)=>(i(),d(p,null,[a(s(I),{title:"Asambleas"}),a(F,{breadcrumbs:N},{default:l(()=>[t("div",G,[n[9]||(n[9]=t("div",null,[t("h1",{class:"text-3xl font-bold"},"Asambleas"),t("p",{class:"text-muted-foreground"}," Consulta las asambleas donde participas y las disponibles en tu territorio ")],-1)),a(s(E),{modelValue:k.value,"onUpdate:modelValue":n[0]||(n[0]=e=>k.value=e),class:"flex-1"},{default:l(()=>[a(s(D),null,{default:l(()=>[a(s(H),{value:"mis-asambleas"},{default:l(()=>[c(" Mis Asambleas ("+o(r.asambleas.total)+") ",1)]),_:1}),a(s(H),{value:"asambleas-publicas"},{default:l(()=>[c(" Asambleas de mi Territorio ("+o(r.asambleasPublicas.total)+") ",1)]),_:1})]),_:1}),a(s(L),{value:"mis-asambleas",class:"mt-4"},{default:l(()=>[t("div",J,[(i(!0),d(p,null,h(r.asambleas.data,e=>(i(),_(s(y),{key:e.id,href:s(w)("asambleas.show",e.id),class:"block transition-transform hover:scale-[1.02]"},{default:l(()=>[a(s(b),{class:"h-full hover:shadow-lg transition-shadow cursor-pointer"},{default:l(()=>[a(s(T),null,{default:l(()=>[t("div",K,[a(s($),{class:"text-lg"},{default:l(()=>[c(o(e.nombre),1)]),_:2},1024),t("div",Q,[a(s(f),{class:m(e.estado_color)},{default:l(()=>[c(o(e.estado_label),1)]),_:2},1032,["class"]),a(s(f),{class:m(g(e.tipo).class)},{default:l(()=>[c(o(g(e.tipo).text),1)]),_:2},1032,["class"])])])]),_:2},1024),a(s(x),{class:"space-y-4"},{default:l(()=>[e.descripcion?(i(),d("p",R,o(e.descripcion),1)):u("",!0),t("div",W,[t("div",X,[a(s(V),{class:"h-4 w-4 text-muted-foreground"}),t("span",null,o(P(e.fecha_inicio)),1)]),t("div",Y,[a(s(S),{class:"h-4 w-4 text-muted-foreground"}),t("span",null,o(M(e.fecha_inicio))+" - "+o(M(e.fecha_fin)),1)]),e.lugar?(i(),d("div",Z,[a(s(v),{class:"h-4 w-4 text-muted-foreground"}),t("span",ee,o(e.lugar),1)])):u("",!0)]),e.mi_participacion?(i(),d("div",se,[t("div",te,[a(s(f),{class:m(C(e.mi_participacion.tipo).class)},{default:l(()=>[c(o(C(e.mi_participacion.tipo).text),1)]),_:2},1032,["class"]),e.mi_participacion.asistio?(i(),_(s(f),{key:0,class:"bg-green-100 text-green-800"},{default:l(()=>[a(s(z),{class:"mr-1 h-3 w-3"}),n[1]||(n[1]=c(" Asististe "))]),_:1})):u("",!0)])])):u("",!0),t("div",ae,o(e.tiempo_restante),1),t("div",re,[t("div",le,[n[2]||(n[2]=c(" Ver detalles ")),a(s(A),{class:"h-4 w-4"})])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128)),r.asambleas.data.length===0?(i(),d("div",oe,[a(s(b),null,{default:l(()=>[a(s(x),{class:"flex flex-col items-center justify-center py-12"},{default:l(()=>[a(s(O),{class:"h-12 w-12 text-muted-foreground mb-4"}),n[3]||(n[3]=t("p",{class:"text-lg font-medium text-muted-foreground"}," No tienes asambleas asignadas ",-1)),n[4]||(n[4]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Cuando seas añadido como participante, aparecerán aquí ",-1))]),_:1})]),_:1})])):u("",!0)]),r.asambleas.last_page>1?(i(),d("div",ie,[t("p",ne," Mostrando "+o((r.asambleas.current_page-1)*r.asambleas.per_page+1)+" a "+o(Math.min(r.asambleas.current_page*r.asambleas.per_page,r.asambleas.total))+" de "+o(r.asambleas.total)+" asambleas ",1),t("div",de,[(i(!0),d(p,null,h(r.asambleas.links,e=>(i(),d(p,{key:e.label},[e.url?(i(),_(s(y),{key:0,href:e.url,class:m(["px-3 py-1 text-sm border rounded",e.active?"bg-primary text-primary-foreground":"bg-background hover:bg-accent"]),innerHTML:e.label},null,8,["href","class","innerHTML"])):(i(),d("span",{key:1,class:m(["px-3 py-1 text-sm border rounded","bg-muted text-muted-foreground cursor-not-allowed"]),innerHTML:e.label},null,8,ce))],64))),128))])])):u("",!0)]),_:1}),a(s(L),{value:"asambleas-publicas",class:"mt-4"},{default:l(()=>[t("div",ue,[(i(!0),d(p,null,h(r.asambleasPublicas.data,e=>(i(),_(s(y),{key:e.id,href:s(w)("asambleas.show",e.id),class:"block transition-transform hover:scale-[1.02]"},{default:l(()=>[a(s(b),{class:"h-full hover:shadow-lg transition-shadow cursor-pointer"},{default:l(()=>[a(s(T),null,{default:l(()=>[t("div",me,[a(s($),{class:"text-lg"},{default:l(()=>[c(o(e.nombre),1)]),_:2},1024),t("div",pe,[a(s(f),{class:m(e.estado_color)},{default:l(()=>[c(o(e.estado_label),1)]),_:2},1032,["class"]),a(s(f),{class:m(g(e.tipo).class)},{default:l(()=>[c(o(g(e.tipo).text),1)]),_:2},1032,["class"])])])]),_:2},1024),a(s(x),{class:"space-y-4"},{default:l(()=>[e.descripcion?(i(),d("p",fe,o(e.descripcion),1)):u("",!0),t("div",_e,[t("div",ge,[a(s(V),{class:"h-4 w-4 text-muted-foreground"}),t("span",null,o(P(e.fecha_inicio)),1)]),e.lugar?(i(),d("div",be,[a(s(v),{class:"h-4 w-4 text-muted-foreground"}),t("span",xe,o(e.ubicacion_completa),1)])):u("",!0)]),n[6]||(n[6]=t("div",{class:"pt-2 border-t"},[t("p",{class:"text-sm text-muted-foreground"}," Asamblea pública de tu territorio ")],-1)),t("div",he,[t("div",ye,[n[5]||(n[5]=c(" Ver información ")),a(s(A),{class:"h-4 w-4"})])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128)),r.asambleasPublicas.data.length===0?(i(),d("div",ve,[a(s(b),null,{default:l(()=>[a(s(x),{class:"flex flex-col items-center justify-center py-12"},{default:l(()=>[a(s(v),{class:"h-12 w-12 text-muted-foreground mb-4"}),n[7]||(n[7]=t("p",{class:"text-lg font-medium text-muted-foreground"}," No hay asambleas públicas en tu territorio ",-1)),n[8]||(n[8]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Cuando se programen asambleas en tu ubicación, aparecerán aquí ",-1))]),_:1})]),_:1})])):u("",!0)]),r.asambleasPublicas.last_page>1?(i(),d("div",we,[t("p",ke," Mostrando "+o((r.asambleasPublicas.current_page-1)*r.asambleasPublicas.per_page+1)+" a "+o(Math.min(r.asambleasPublicas.current_page*r.asambleasPublicas.per_page,r.asambleasPublicas.total))+" de "+o(r.asambleasPublicas.total)+" asambleas ",1),t("div",Pe,[(i(!0),d(p,null,h(r.asambleasPublicas.links,e=>(i(),d(p,{key:e.label},[e.url?(i(),_(s(y),{key:0,href:e.url,class:m(["px-3 py-1 text-sm border rounded",e.active?"bg-primary text-primary-foreground":"bg-background hover:bg-accent"]),innerHTML:e.label},null,8,["href","class","innerHTML"])):(i(),d("span",{key:1,class:m(["px-3 py-1 text-sm border rounded","bg-muted text-muted-foreground cursor-not-allowed"]),innerHTML:e.label},null,8,Me))],64))),128))])])):u("",!0)]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{Ze as default};
