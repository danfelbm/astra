import{u as q,_ as oe,a as le,b as de,c as ce,d as ue,L as pe,S as G,e as fe,f as me,g as he,h as _e,i as be,j as ve,k as ge,l as ye,m as we}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-DQMYh5Gv.js";import{c as D,a as w,_ as Y,b as xe}from"./createLucideIcon-BG919Rtc.js";import{d as _,i as h,b as p,e as n,X as A,u as e,G as g,w as s,f as t,s as $e,g as m,n as x,H as F,I as O,c as S,F as C,h as $,t as y,q as z,k as U,P as N,J as E,r as ee,j as L,W as ke}from"./app-CNsNbJaU.js";import{O as W,S as ae,W as Ce,q as Se,U as Te,j as Me}from"./index-D5O-6KMg.js";import{_ as Be,a as Ae}from"./CollapsibleContent.vue_vue_type_script_setup_true_lang-C5NUUFrZ.js";import{_ as ze}from"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-PEBE5d0i.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as je,_ as se,a as te,b as re,d as Pe,e as R,c as K}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DxRb9IyH.js";import{C as Ue}from"./chevrons-up-down-BCkt__jB.js";import{_ as Le}from"./AppLogo.vue_vue_type_script_setup_true_lang-jb7cBVQn.js";import{U as J}from"./users-DVfvVv5k.js";import{S as Ve}from"./shield-D-rurmJa.js";import{V as Z}from"./vote-D2Rn5EGX.js";import{S as X}from"./send-DmP45aay.js";import{F as De}from"./file-text-ChTe-w0O.js";import{B as Ee}from"./briefcase-DRGEhwkF.js";import{C as Fe}from"./calendar-A9Ja9lbB.js";import{M as Ne}from"./megaphone--fqq65Q3.js";import{U as He}from"./user-check-AWjRCIrv.js";import{M as qe}from"./mail-LPaIvF_v.js";import{M as Oe}from"./message-square-CNHF0QTF.js";import{E as We}from"./external-link-DsmjA91c.js";import{P as Ge}from"./panel-left-C4whrYPC.js";import{_ as B}from"./index-C9GdhwZn.js";import{C as Re}from"./SelectValue.vue_vue_type_script_setup_true_lang-DNb18nEz.js";import{C as Ke}from"./check-CFzf2JYc.js";import{_ as Je}from"./index-B3OyOhdr.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=D("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=D("ClipboardListIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=D("FolderIcon",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=D("TargetIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=D("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),ea={class:"flex h-full w-full flex-col"},aa=["data-state","data-collapsible","data-variant","data-side"],sa={"data-sidebar":"sidebar",class:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},ta=_({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(l){const r=l,{isMobile:a,state:o,openMobile:u,setOpenMobile:f}=q();return(i,d)=>i.collapsible==="none"?(n(),h("div",A({key:0,class:e(w)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r.class)},i.$attrs),[g(i.$slots,"default")],16)):e(a)?(n(),p(oe,A({key:1,open:e(u)},i.$attrs,{"onUpdate:open":e(f)}),{default:s(()=>[t(le,{"data-sidebar":"sidebar","data-mobile":"true",side:i.side,class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:$e({"--sidebar-width":e(de)})},{default:s(()=>[m("div",ea,[g(i.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):(n(),h("div",{key:2,class:"group peer hidden md:block","data-state":e(o),"data-collapsible":e(o)==="collapsed"?i.collapsible:"","data-variant":i.variant,"data-side":i.side},[m("div",{class:x(e(w)("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",i.variant==="floating"||i.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_1rem)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]"))},null,2),m("div",A({class:e(w)("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",i.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",i.variant==="floating"||i.variant==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_1rem_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r.class)},i.$attrs),[m("div",sa,[g(i.$slots,"default")])],16)],8,aa))}}),ra=_({__name:"SidebarContent",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("div",{"data-sidebar":"content",class:x(e(w)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",r.class))},[g(a.$slots,"default")],2))}}),ia=_({__name:"SidebarFooter",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("div",{"data-sidebar":"footer",class:x(e(w)("flex flex-col gap-2 p-2",r.class))},[g(a.$slots,"default")],2))}}),ie=_({__name:"SidebarGroup",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("div",{"data-sidebar":"group",class:x(e(w)("relative flex w-full min-w-0 flex-col p-2",r.class))},[g(a.$slots,"default")],2))}}),na=_({__name:"SidebarGroupContent",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("div",{"data-sidebar":"group-content",class:x(e(w)("w-full text-sm",r.class))},[g(a.$slots,"default")],2))}}),oa=_({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const r=l;return(a,o)=>(n(),p(e(W),{"data-sidebar":"group-label",as:a.as,"as-child":a.asChild,class:x(e(w)("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",r.class))},{default:s(()=>[g(a.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),la=_({__name:"SidebarHeader",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("div",{"data-sidebar":"header",class:x(e(w)("flex flex-col gap-2 p-2",r.class))},[g(a.$slots,"default")],2))}}),H=_({__name:"SidebarMenu",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("ul",{"data-sidebar":"menu",class:x(e(w)("flex w-full min-w-0 flex-col gap-1",r.class))},[g(a.$slots,"default")],2))}}),da=_({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(l,{emit:r}){const u=ae(l,r);return(f,i)=>(n(),p(e(Ce),F(O(e(u))),{default:s(()=>[g(f.$slots,"default")]),_:3},16))}}),ca=_({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(l,{emit:r}){const a=l,o=r,u=S(()=>{const{class:i,...d}=a;return d}),f=ae(u,o);return(i,d)=>(n(),p(e(Se),null,{default:s(()=>[t(e(Te),A({...e(f),...i.$attrs},{class:e(w)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.class)}),{default:s(()=>[g(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ua=_({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const r=l;return(a,o)=>(n(),p(e(Me),F(O(r)),{default:s(()=>[g(a.$slots,"default")]),_:3},16))}}),Q=_({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const r=l;return(a,o)=>(n(),p(e(W),A({"data-sidebar":"menu-button","data-size":a.size,"data-active":a.isActive,class:e(w)(e(va)({variant:a.variant,size:a.size}),r.class),as:a.as,"as-child":a.asChild},a.$attrs),{default:s(()=>[g(a.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),I=_({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(l){const r=l,{isMobile:a,state:o}=q(),u=S(()=>{const{tooltip:f,...i}=r;return i});return(f,i)=>f.tooltip?(n(),p(da,{key:1},{default:s(()=>[t(ua,{"as-child":""},{default:s(()=>[t(Q,F(O({...u.value,...f.$attrs})),{default:s(()=>[g(f.$slots,"default")]),_:3},16)]),_:3}),t(ca,{side:"right",align:"center",hidden:e(o)!=="collapsed"||e(a)},{default:s(()=>[typeof f.tooltip=="string"?(n(),h(C,{key:0},[$(y(f.tooltip),1)],64)):(n(),p(z(f.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(n(),p(Q,F(A({key:0},{...u.value,...f.$attrs})),{default:s(()=>[g(f.$slots,"default")]),_:3},16))}}),V=_({__name:"SidebarMenuItem",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("li",{"data-sidebar":"menu-item",class:x(e(w)("group/menu-item relative",r.class))},[g(a.$slots,"default")],2))}}),pa=_({__name:"SidebarMenuSub",props:{class:{}},setup(l){const r=l;return(a,o)=>(n(),h("ul",{"data-sidebar":"menu-badge",class:x(e(w)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",r.class))},[g(a.$slots,"default")],2))}}),fa=_({__name:"SidebarMenuSubButton",props:{asChild:{type:Boolean},as:{default:"a"},size:{default:"md"},isActive:{type:Boolean},class:{}},setup(l){const r=l;return(a,o)=>(n(),p(e(W),{"data-sidebar":"menu-sub-button",as:a.as,"as-child":a.asChild,"data-size":a.size,"data-active":a.isActive,class:x(e(w)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a.size==="sm"&&"text-xs",a.size==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r.class))},{default:s(()=>[g(a.$slots,"default")]),_:3},8,["as","as-child","data-size","data-active","class"]))}}),ma={};function ha(l,r){return n(),h("li",null,[g(l.$slots,"default")])}const _a=Ie(ma,[["render",ha]]),ba=_({__name:"SidebarTrigger",props:{class:{}},setup(l){const r=l,{toggleSidebar:a}=q();return(o,u)=>(n(),p(Y,{"data-sidebar":"trigger",variant:"ghost",size:"icon",class:x(e(w)("h-7 w-7",r.class)),onClick:e(a)},{default:s(()=>[t(e(Ge)),u[0]||(u[0]=m("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),va=xe("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ga=["href"],ya=_({__name:"NavFooter",props:{items:{},class:{}},setup(l){return(r,a)=>(n(),p(e(ie),{class:x(`group-data-[collapsible=icon]:p-0 ${r.$props.class||""}`)},{default:s(()=>[t(e(na),null,{default:s(()=>[t(e(H),null,{default:s(()=>[(n(!0),h(C,null,U(r.items,o=>(n(),p(e(V),{key:o.title},{default:s(()=>[o.isInternal?(n(),p(e(I),{key:0,class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100 cursor-pointer","as-child":""},{default:s(()=>[t(e(N),{href:o.url||o.href},{default:s(()=>[(n(),p(z(o.icon))),m("span",null,y(o.title),1)]),_:2},1032,["href"])]),_:2},1024)):(n(),p(e(I),{key:1,class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100","as-child":""},{default:s(()=>[m("a",{href:o.href||o.url,target:"_blank",rel:"noopener noreferrer"},[(n(),p(z(o.icon))),m("span",null,y(o.title),1)],8,ga)]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["class"]))}}),wa=_({__name:"NavMain",props:{items:{}},setup(l){const r=l,a=E(),o=ee({}),u=i=>i?a.url===i||a.url.startsWith(i+"/"):!1,f=i=>i.url&&u(i.url)?!0:i.items?i.items.some(d=>u(d.url)):!1;return r.items.forEach(i=>{i.isCollapsible&&f(i)&&(o.value[i.title]=!0)}),(i,d)=>(n(),p(e(ie),{class:"px-2 py-0"},{default:s(()=>[t(e(oa),null,{default:s(()=>[...d[0]||(d[0]=[$("Sistema de Votaciones",-1)])]),_:1}),t(e(H),null,{default:s(()=>[(n(!0),h(C,null,U(i.items,v=>(n(),h(C,{key:v.title},[v.isCollapsible&&v.items?(n(),p(e(V),{key:0},{default:s(()=>[t(e(Be),{open:o.value[v.title],"onUpdate:open":c=>o.value[v.title]=c,"default-open":f(v)},{default:s(()=>[t(e(ze),{"as-child":""},{default:s(()=>[t(e(I),{class:"w-full","is-active":f(v)},{default:s(()=>[(n(),p(z(v.icon))),m("span",null,y(v.title),1),t(e(je),{class:x(["ml-auto transition-transform",{"rotate-90":o.value[v.title]}])},null,8,["class"])]),_:2},1032,["is-active"])]),_:2},1024),t(e(Ae),null,{default:s(()=>[t(e(pa),null,{default:s(()=>[(n(!0),h(C,null,U(v.items,c=>(n(),p(e(_a),{key:c.title},{default:s(()=>[t(e(fa),{"as-child":"","is-active":u(c.url)},{default:s(()=>[t(e(N),{href:c.url},{default:s(()=>[(n(),p(z(c.icon),{class:"h-4 w-4"})),m("span",null,y(c.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["open","onUpdate:open","default-open"])]),_:2},1024)):(n(),p(e(V),{key:1},{default:s(()=>[t(e(I),{"as-child":"","is-active":u(v.url)},{default:s(()=>[t(e(N),{href:v.url},{default:s(()=>[(n(),p(z(v.icon))),m("span",null,y(v.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))],64))),128))]),_:1})]),_:1}))}}),xa=_({__name:"NavUser",setup(l){const a=E().props.auth.user;return(o,u)=>(n(),p(e(H),null,{default:s(()=>[t(e(V),null,{default:s(()=>[t(e(se),null,{default:s(()=>[t(e(te),{"as-child":""},{default:s(()=>[t(e(I),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:s(()=>[t(ce,{user:e(a)},null,8,["user"]),t(e(Ue),{class:"ml-auto size-4"})]),_:1})]),_:1}),t(e(re),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"bottom",align:"end","side-offset":4},{default:s(()=>[t(ue,{user:e(a)},null,8,["user"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),$a=_({__name:"AppSidebar",setup(l){const r=E(),a=r.props.auth.user;r.props.auth.roles;const o=r.props.auth.permissions||[],u=r.props.auth.allowedModules||[],f=r.props.auth.isSuperAdmin||!1;r.props.auth.isAdmin;const i=r.props.auth.hasAdministrativeRole||!1,d=b=>f?!0:o.includes(b)||o.includes("*"),v=()=>f,c=b=>f||u.includes("*")?!0:u.includes(b),M=S(()=>{const b=[];if(b.push({title:"Dashboard",url:i?"/admin/dashboard":"/miembro/dashboard",icon:pe}),v()&&(b.push({title:"Tenants",url:"/admin/tenants",icon:P}),b.push({title:"Territorios",url:"/admin/territorios",icon:Xe}),b.push({title:"Configuración Global",url:"/admin/configuracion-global",icon:G})),i&&!v()){d("users.view")&&c("users")&&b.push({title:"Usuarios",url:"/admin/usuarios",icon:J}),d("segments.view")&&c("segments")&&b.push({title:"Segmentos",url:"/admin/segments",icon:Qe}),d("roles.view")&&c("roles")&&b.push({title:"Roles y Permisos",url:"/admin/roles",icon:Ve});const T=[];d("formularios.view")&&c("formularios")&&T.push({title:"Formularios",url:"/admin/formularios",icon:De}),T.length>0&&b.push({title:"CRM",icon:Ye,isCollapsible:!0,items:T});const k=[];d("cargos.view")&&c("cargos")&&k.push({title:"Cargos",url:"/admin/cargos",icon:Ee}),d("periodos.view")&&c("periodos")&&k.push({title:"Periodos Electorales",url:"/admin/periodos-electorales",icon:Fe}),d("convocatorias.view")&&c("convocatorias")&&k.push({title:"Convocatorias",url:"/admin/convocatorias",icon:Ne}),d("candidaturas.view")&&c("candidaturas")&&k.push({title:"Candidaturas",url:"/admin/candidaturas",icon:He}),d("postulaciones.view")&&c("postulaciones")&&k.push({title:"Postulaciones",url:"/admin/postulaciones",icon:Ze}),k.length>0&&b.push({title:"Elecciones",icon:Z,isCollapsible:!0,items:k}),d("asambleas.view")&&c("asambleas")&&b.push({title:"Asambleas",url:"/admin/asambleas",icon:J}),d("votaciones.view")&&c("votaciones")&&b.push({title:"Votaciones",url:"/admin/votaciones",icon:Z});const j=[];d("campanas.plantillas.view")&&(j.push({title:"Plantillas Email",url:"/admin/campanas/plantillas-email",icon:qe}),j.push({title:"Plantillas WhatsApp",url:"/admin/campanas/plantillas-whatsapp",icon:Oe})),d("campanas.view")&&j.push({title:"Campañas",url:"/admin/campanas",icon:X}),j.length>0&&b.push({title:"Campañas",icon:X,isCollapsible:!0,items:j}),d("settings.view")&&b.push({title:"Configuración",url:"/admin/configuracion",icon:G})}return b}),ne=S(()=>{var T;const b=[];return i&&((T=a==null?void 0:a.roles)!=null&&T.some(k=>k.name==="user"))&&b.push({title:"Cambiar a Vista Usuario",url:"/miembro/dashboard",icon:We,isInternal:!0}),b});return(b,T)=>(n(),h(C,null,[t(e(ta),{collapsible:"icon",variant:"inset"},{default:s(()=>[t(e(la),null,{default:s(()=>[t(e(H),null,{default:s(()=>[t(e(V),null,{default:s(()=>[t(e(I),{size:"lg"},{default:s(()=>[t(Le)]),_:1})]),_:1})]),_:1})]),_:1}),t(e(ra),null,{default:s(()=>[t(wa,{items:M.value},null,8,["items"])]),_:1}),t(e(ia),null,{default:s(()=>[t(ya,{items:ne.value},null,8,["items"]),t(xa)]),_:1})]),_:1}),g(b.$slots,"default")],64))}}),ka={key:0,class:"flex items-center gap-2"},Ca={class:"flex flex-col items-start text-left"},Sa={class:"text-sm font-medium"},Ta={class:"flex items-center gap-1"},Ma={class:"flex items-center justify-between"},Ba={key:0,class:"max-h-60 overflow-y-auto"},Aa={class:"flex items-start gap-3 flex-1"},za={class:"mt-1"},Ia={class:"flex-1"},ja={class:"font-medium text-sm"},Pa={class:"text-xs text-muted-foreground"},Ua={class:"flex items-center gap-1 mt-1"},La={key:0,class:"mt-1"},Va={key:1,class:"p-3 text-sm text-muted-foreground text-center"},Da={href:"/admin/tenants",class:"flex items-center gap-2"},Ea={key:1,class:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg"},Fa={class:"flex flex-col text-left"},Na={class:"text-sm font-medium"},Ha=_({__name:"TenantSelector",props:{currentTenant:{},availableTenants:{},isSuperAdmin:{type:Boolean}},setup(l){const r=l,a=ee(!1),o=S(()=>r.currentTenant&&{basic:"secondary",professional:"default",enterprise:"destructive"}[r.currentTenant.subscription_plan]||"outline"),u=S(()=>r.currentTenant?{basic:"Básico",professional:"Profesional",enterprise:"Empresarial"}[r.currentTenant.subscription_plan]||r.currentTenant.subscription_plan:""),f=async i=>{if(!(!r.isSuperAdmin||a.value)){a.value=!0;try{await ke.post("/admin/tenants/switch",{tenant_id:i},{preserveState:!0,onFinish:()=>{a.value=!1,window.location.reload()},onError:()=>{a.value=!1}})}catch(d){console.error("Error switching tenant:",d),a.value=!1}}};return(i,d)=>i.isSuperAdmin&&i.currentTenant?(n(),h("div",ka,[t(e(se),null,{default:s(()=>[t(e(te),{asChild:""},{default:s(()=>[t(e(Y),{variant:"ghost",class:"flex items-center gap-2 h-auto py-2 px-3"},{default:s(()=>[t(e(P),{class:"h-4 w-4"}),m("div",Ca,[m("span",Sa,y(i.currentTenant.name),1),m("div",Ta,[t(e(B),{variant:o.value,class:"text-xs px-1 py-0"},{default:s(()=>[$(y(u.value),1)]),_:1},8,["variant"]),t(e(B),{variant:i.currentTenant.active?"default":"secondary",class:"text-xs px-1 py-0"},{default:s(()=>[$(y(i.currentTenant.active?"Activo":"Inactivo"),1)]),_:1},8,["variant"])])]),t(e(Re),{class:"h-4 w-4 opacity-50"})]),_:1})]),_:1}),t(e(re),{align:"end",class:"w-80"},{default:s(()=>{var v;return[t(e(Pe),null,{default:s(()=>[m("div",Ma,[d[1]||(d[1]=m("span",null,"Cambiar Organización",-1)),t(e(B),{variant:"outline",class:"text-xs"},{default:s(()=>[...d[0]||(d[0]=[$(" Super Admin ",-1)])]),_:1})])]),_:1}),t(e(R)),(v=i.availableTenants)!=null&&v.length?(n(),h("div",Ba,[(n(!0),h(C,null,U(i.availableTenants,c=>(n(),p(e(K),{key:c.id,onClick:M=>f(c.id),disabled:a.value||c.id===i.currentTenant.id,class:"flex items-start justify-between p-3 cursor-pointer"},{default:s(()=>[m("div",Aa,[m("div",za,[t(e(P),{class:"h-4 w-4 text-muted-foreground"})]),m("div",Ia,[m("p",ja,y(c.name),1),m("p",Pa,y(c.subdomain),1),m("div",Ua,[t(e(B),{variant:c.subscription_plan==="enterprise"?"destructive":c.subscription_plan==="professional"?"default":"secondary",class:"text-xs px-1 py-0"},{default:s(()=>[$(y(c.subscription_plan),1)]),_:2},1032,["variant"]),t(e(B),{variant:c.active?"default":"secondary",class:"text-xs px-1 py-0"},{default:s(()=>[$(y(c.active?"Activo":"Inactivo"),1)]),_:2},1032,["variant"])])]),c.id===i.currentTenant.id?(n(),h("div",La,[t(e(Ke),{class:"h-4 w-4 text-primary"})])):L("",!0)])]),_:2},1032,["onClick","disabled"]))),128))])):(n(),h("div",Va," No hay otros tenants disponibles ")),t(e(R)),t(e(K),{asChild:""},{default:s(()=>[m("a",Da,[t(e(P),{class:"h-4 w-4"}),d[2]||(d[2]=$(" Gestionar Tenants ",-1))])]),_:1})]}),_:1})]),_:1})])):i.currentTenant?(n(),h("div",Ea,[t(e(P),{class:"h-4 w-4 text-muted-foreground"}),m("div",Fa,[m("span",Na,y(i.currentTenant.name),1),t(e(B),{variant:o.value,class:"text-xs w-fit"},{default:s(()=>[$(y(u.value),1)]),_:1},8,["variant"])])])):L("",!0)}}),qa={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 md:px-4"},Oa={class:"flex items-center gap-2"},Wa={class:"flex items-center gap-4"},Ga=_({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]}},setup(l){var f,i;const r=E();r.props.auth.user;const a=r.props.auth.isSuperAdmin||!1,o=(f=r.props.tenant)==null?void 0:f.current,u=(i=r.props.tenant)==null?void 0:i.available;return(d,v)=>(n(),h("header",qa,[m("div",Oa,[t(e(ba),{class:"-ml-1"}),d.breadcrumbs.length>0?(n(),p(e(fe),{key:0},{default:s(()=>[t(e(me),null,{default:s(()=>[(n(!0),h(C,null,U(d.breadcrumbs,(c,M)=>(n(),h(C,{key:M},[t(e(he),null,{default:s(()=>[M===d.breadcrumbs.length-1?(n(),p(e(_e),{key:0},{default:s(()=>[$(y(c.title),1)]),_:2},1024)):(n(),p(e(be),{key:1,"as-child":""},{default:s(()=>[t(e(N),{href:c.href,class:"transition-colors hover:text-foreground"},{default:s(()=>[$(y(c.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),M!==d.breadcrumbs.length-1?(n(),p(e(ve),{key:0})):L("",!0)],64))),128))]),_:1})]),_:1})):L("",!0)]),m("div",Wa,[t(Ha,{isSuperAdmin:e(a),currentTenant:e(o),availableTenants:e(u)},null,8,["isSuperAdmin","currentTenant","availableTenants"])])]))}}),ys=_({__name:"AdminLayout",props:{breadcrumbs:{default:()=>[]}},setup(l){const r=E(),a=S(()=>{var u;return(u=r.props.auth)==null?void 0:u.user}),o=S(()=>a.value?!a.value.nombre||!a.value.documento_identidad||!a.value.territorio_id||!a.value.departamento_id||!a.value.municipio_id||!a.value.telefono:!1);return(u,f)=>(n(),p(we,{variant:"sidebar"},{default:s(()=>[t($a),t(ge,{variant:"sidebar"},{default:s(()=>[t(Ga,{breadcrumbs:u.breadcrumbs},null,8,["breadcrumbs"]),g(u.$slots,"default")]),_:3}),o.value&&!u.$page.url.startsWith("/admin/usuarios")?(n(),p(ye,{key:0,show:!1})):L("",!0),t(e(Je))]),_:3}))}});export{P as B,Xe as F,Qe as T,ys as _,da as a,ua as b,ca as c};
