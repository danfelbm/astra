import{_ as ie}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dw_nrbsE.js";import{d as oe,r as z,c as P,i as p,e as s,f as t,q as le,w as a,g as o,t as d,b as y,j as f,v as ne,h as r,m,n as V,F as j,k as A,y as re,s as w}from"./app-DB52i0Vi.js";import{_ as v,a as x,b as _,c as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-DhGz-PEe.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-DtOg4Wyo.js";import{_ as k}from"./createLucideIcon-CDD88oTc.js";import{_ as E}from"./index-CBsS3L2Y.js";import{_ as de}from"./Progress.vue_vue_type_script_setup_true_lang-DZVR2xvy.js";import{_ as ue,a as me,b as D,c as M}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Iq2M3fOH.js";import{_ as fe,a as ce,b as ge,c as be,d as pe,e as ve,f as he,g as ye}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DVFJqQRT.js";import{_ as xe}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CPxVLx99.js";import{t as $}from"./index-B7CL-mW0.js";import{_ as _e,a as $e}from"./EntregablesFilters.vue_vue_type_script_setup_true_lang-DgUMNZaz.js";import{_ as we,a as Ee}from"./ActivityLog.vue_vue_type_script_setup_true_lang-C2-uy0yU.js";import{A as ke}from"./arrow-left-DwtkFjEE.js";import{S as Ce}from"./square-pen-B5xRwGN3.js";import{C as ze}from"./copy-CM-sXNCd.js";import{T as Pe}from"./trash-2-MPzAwngH.js";import{T as Ve}from"./target-Bz_VNBhI.js";import{C as je}from"./clock-BeSNEDiZ.js";import{F as I}from"./file-text-P5qiexdG.js";import{C as De}from"./calendar-BG7OdIRp.js";import{U as Me}from"./user-CkpVpm_2.js";import{T as Se}from"./tag-wZuE_sUU.js";import{P as B}from"./plus-BOHl1_uP.js";import{f as L,e as q}from"./es-BDPlFIsO.js";import{p as U}from"./parseISO-DFjB8F03.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-DcNzwwrA.js";import"./index-BEwfH5Us.js";import"./floating-ui.vue-TDhXKOz6.js";import"./x-DhYwZj5g.js";import"./Input.vue_vue_type_script_setup_true_lang-BMJpcIBW.js";import"./index-C97ua1Jz.js";import"./index-lDsEFH4z.js";import"./shield-NSmx5WMc.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DQFkAj1L.js";import"./chevron-right-BOo7MKuO.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Lbr02lfH.js";import"./VisuallyHidden-7WJPGwXK.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CZdpgezo.js";import"./check-BSa6upwI.js";import"./Label.vue_vue_type_script_setup_true_lang-DNBAD1R6.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-fjSICTO7.js";import"./circle-alert-Fzh2I4oh.js";import"./map-pin-uatvRRf1.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-LGMRVQul.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-C9RMd-fi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-BTqveiFu.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BWza2RrI.js";import"./users-YBraLpAg.js";import"./vote-DanWGhka.js";import"./folder-open-BNvjzsbB.js";import"./send-xk5URWTc.js";import"./briefcase-Cfi8w0YR.js";import"./megaphone-CKthpsg2.js";import"./user-check-CKyH3W5C.js";import"./clipboard-list-BDbvISjb.js";import"./mail-lODDXllb.js";import"./message-square-CCSeZ8WS.js";import"./external-link-7U9r7dL8.js";import"./panel-left-BuXJDLUe.js";import"./index-4f99ARWI.js";import"./RovingFocusItem-DW7D6Yqz.js";import"./utils-CJ5k_34a.js";import"./DialogTrigger-rfPsMmeK.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-C-HreWb1.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-C7MoCfHr.js";import"./eye-DCSEm6gP.js";import"./circle-check-Cis2SXeg.js";import"./filter-BzGzjYoE.js";import"./search-CXmRwHPJ.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CV_2NFgH.js";const Ne={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Fe={class:"flex items-center justify-between"},He={class:"text-2xl font-bold"},Ae={class:"text-muted-foreground"},Te={class:"flex items-center gap-2"},Ie={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-5"},Be={class:"text-2xl font-bold"},Le={class:"text-2xl font-bold"},qe={class:"text-xs text-muted-foreground"},Ue={class:"text-sm font-medium"},Re={class:"text-sm font-medium"},Oe={key:0,class:"text-xs text-muted-foreground"},Ge={key:0},Je={class:"text-sm text-muted-foreground whitespace-pre-wrap"},Ke={class:"grid gap-4 md:grid-cols-2"},Qe={class:"text-sm text-muted-foreground"},We={class:"text-sm text-muted-foreground"},Xe={class:"text-sm text-muted-foreground"},Ye={class:"space-y-2"},Ze={class:"flex items-center justify-between text-sm"},et={class:"flex items-center justify-between text-sm"},tt={class:"flex items-center justify-between text-sm"},st={class:"flex items-center gap-2"},at={class:"flex flex-wrap gap-2"},it={class:"space-y-3"},ot={key:0},lt={class:"text-sm text-muted-foreground"},nt={key:1},rt={class:"grid gap-4 md:grid-cols-2"},dt={class:"font-semibold mb-1"},ut={key:0,class:"text-red-500"},mt={class:"text-sm text-muted-foreground"},ft={key:0,class:"text-xs text-muted-foreground mt-1"},ct={key:0,class:"text-center py-4"},gt={class:"grid gap-4 md:grid-cols-2 text-sm"},bt={class:"font-medium"},pt={class:"font-medium"},vt={key:0},ht={class:"font-medium"},yt={key:1},xt={class:"font-medium"},_t={class:"flex justify-between items-center"},Bs=oe({__name:"Show",props:{hito:{},proyecto:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageEntregables:{type:Boolean},estadisticas:{},actividades:{},usuariosActividades:{},camposPersonalizados:{},valoresCamposPersonalizados:{}},setup(i){const u=i,R=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:u.proyecto.nombre,href:`/admin/proyectos/${u.proyecto.id}`},{title:"Hitos",href:`/admin/proyectos/${u.proyecto.id}/hitos`},{title:u.hito.nombre,href:"#"}],S=z("detalles"),b=z({usuario_id:null,tipo_entidad:null,tipo_accion:null,fecha_inicio:null,fecha_fin:null}),c=z({search:null,estado:null,prioridad:null,responsable_id:null,fecha_inicio:null,fecha_fin:null}),O=()=>{w.visit(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/edit`)},G=()=>{w.delete(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}`,{onSuccess:()=>{$.success("Hito eliminado exitosamente")},onError:()=>{$.error("Error al eliminar el hito")}})},J=()=>{w.post(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/duplicar`,{},{onSuccess:()=>{$.success("Hito duplicado exitosamente")},onError:()=>{$.error("Error al duplicar el hito")}})},N=()=>{w.visit(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/entregables/create`)},K=l=>{w.visit(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/entregables/${l.id}`)},Q=l=>{w.visit(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/entregables/${l.id}/edit`)},W=l=>{w.delete(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/entregables/${l.id}`,{onSuccess:()=>{$.success("Entregable eliminado exitosamente")},onError:()=>{$.error("Error al eliminar el entregable")}})},X=l=>{w.post(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/entregables/${l.id}/completar`,{},{onSuccess:()=>{$.success("Entregable completado exitosamente")},onError:()=>{$.error("Error al completar el entregable")}})},Y=l=>{w.post(`/admin/proyectos/${u.proyecto.id}/hitos/${u.hito.id}/entregables/${l.id}/actualizar-estado`,{estado:"en_progreso"},{onSuccess:()=>{$.success("Entregable marcado como en progreso")},onError:()=>{$.error("Error al actualizar el estado")}})},F=l=>({pendiente:"bg-gray-100 text-gray-800",en_progreso:"bg-blue-100 text-blue-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[l]||"bg-gray-100 text-gray-800",C=l=>l?L(U(l),"dd MMM yyyy",{locale:q}):"No definida",H=l=>l?L(U(l),"dd MMM yyyy 'a las' HH:mm",{locale:q}):"No definida",Z=(l,e)=>{var n;if(e==null||e==="")return"No especificado";switch(l.tipo){case"date":return C(e);case"checkbox":return e?"Sí":"No";case"select":case"radio":const g=(n=l.opciones)==null?void 0:n.find(ae=>ae.value===e);return(g==null?void 0:g.label)||e;default:return e}},ee=P(()=>{let l=u.hito.entregables||[];if(c.value.search){const e=c.value.search.toLowerCase();l=l.filter(n=>n.nombre.toLowerCase().includes(e)||n.descripcion&&n.descripcion.toLowerCase().includes(e))}return c.value.estado&&(l=l.filter(e=>e.estado===c.value.estado)),c.value.prioridad&&(l=l.filter(e=>e.prioridad===c.value.prioridad)),c.value.responsable_id&&(l=l.filter(e=>{var n;return((n=e.responsable)==null?void 0:n.id)===c.value.responsable_id})),(c.value.fecha_inicio||c.value.fecha_fin)&&(l=l.filter(e=>{if(!e.fecha_fin)return!1;const n=new Date(e.fecha_fin);if(c.value.fecha_inicio){const g=new Date(c.value.fecha_inicio);if(n<g)return!1}if(c.value.fecha_fin){const g=new Date(c.value.fecha_fin);if(g.setHours(23,59,59,999),n>g)return!1}return!0})),l}),te=P(()=>{const l=new Map;return(u.hito.entregables||[]).forEach(e=>{var n;(n=e.responsable)!=null&&n.id&&l.set(e.responsable.id,{id:e.responsable.id,name:e.responsable.name,email:e.responsable.email})}),Array.from(l.values())}),se=P(()=>{let l=u.actividades||[];return b.value.usuario_id&&(l=l.filter(e=>{var n;return((n=e.causer)==null?void 0:n.id)===b.value.usuario_id})),b.value.tipo_entidad&&(l=l.filter(e=>e.subject_type===b.value.tipo_entidad)),b.value.tipo_accion&&(l=l.filter(e=>e.event===b.value.tipo_accion)),(b.value.fecha_inicio||b.value.fecha_fin)&&(l=l.filter(e=>{const n=new Date(e.created_at);if(b.value.fecha_inicio){const g=new Date(b.value.fecha_inicio);if(n<g)return!1}if(b.value.fecha_fin){const g=new Date(b.value.fecha_fin);if(g.setHours(23,59,59,999),n>g)return!1}return!0})),l});return(l,e)=>(m(),p(j,null,[s(t(le),{title:`Hito: ${i.hito.nombre}`},null,8,["title"]),s(ie,{breadcrumbs:R},{default:a(()=>[o("div",Ne,[o("div",Fe,[o("div",null,[o("h1",He,d(i.hito.nombre),1),o("p",Ae,"Proyecto: "+d(i.proyecto.nombre),1)]),o("div",Te,[s(t(ne),{href:`/admin/proyectos/${i.proyecto.id}/hitos`},{default:a(()=>[s(t(k),{variant:"outline",size:"sm"},{default:a(()=>[s(t(ke),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=r(" Volver ",-1))]),_:1})]),_:1},8,["href"]),i.canEdit?(m(),y(t(k),{key:0,onClick:O,size:"sm",variant:"outline"},{default:a(()=>[s(t(Ce),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=r(" Editar ",-1))]),_:1})):f("",!0),s(t(k),{onClick:J,size:"sm",variant:"outline"},{default:a(()=>[s(t(ze),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=r(" Duplicar ",-1))]),_:1}),i.canDelete?(m(),y(t(fe),{key:1},{default:a(()=>[s(t(xe),{asChild:""},{default:a(()=>[s(t(k),{variant:"destructive",size:"sm"},{default:a(()=>[s(t(Pe),{class:"h-4 w-4 mr-2"}),e[6]||(e[6]=r(" Eliminar ",-1))]),_:1})]),_:1}),s(t(ce),null,{default:a(()=>[s(t(ge),null,{default:a(()=>[s(t(be),null,{default:a(()=>[...e[7]||(e[7]=[r("¿Estás seguro?",-1)])]),_:1}),s(t(pe),null,{default:a(()=>[...e[8]||(e[8]=[r(" Esta acción no se puede deshacer. Se eliminará permanentemente el hito y todos sus entregables asociados. ",-1)])]),_:1})]),_:1}),s(t(ve),null,{default:a(()=>[s(t(he),null,{default:a(()=>[...e[9]||(e[9]=[r("Cancelar",-1)])]),_:1}),s(t(ye),{onClick:G},{default:a(()=>[...e[10]||(e[10]=[r(" Eliminar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0)])]),o("div",Ie,[s(t(v),null,{default:a(()=>[s(t(x),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(_),{class:"text-sm font-medium"},{default:a(()=>[...e[11]||(e[11]=[r("Estado",-1)])]),_:1}),s(t(Ve),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(h),null,{default:a(()=>[s(t(E),{class:V([F(i.hito.estado),"mt-1"])},{default:a(()=>[r(d(i.hito.estado),1)]),_:1},8,["class"])]),_:1})]),_:1}),s(t(v),null,{default:a(()=>[s(t(x),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(_),{class:"text-sm font-medium"},{default:a(()=>[...e[12]||(e[12]=[r("Progreso",-1)])]),_:1}),s(t(je),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(h),null,{default:a(()=>[o("div",Be,d(i.hito.porcentaje_completado)+"%",1),s(t(de),{"model-value":i.hito.porcentaje_completado,class:"mt-2 h-1"},null,8,["model-value"])]),_:1})]),_:1}),s(t(v),null,{default:a(()=>[s(t(x),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(_),{class:"text-sm font-medium"},{default:a(()=>[...e[13]||(e[13]=[r("Entregables",-1)])]),_:1}),s(t(I),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(h),null,{default:a(()=>[o("div",Le,d(i.estadisticas.total_entregables),1),o("p",qe,d(i.estadisticas.entregables_completados)+" completados ",1)]),_:1})]),_:1}),s(t(v),null,{default:a(()=>[s(t(x),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(_),{class:"text-sm font-medium"},{default:a(()=>[...e[14]||(e[14]=[r("Fecha Fin",-1)])]),_:1}),s(t(De),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(h),null,{default:a(()=>[o("div",Ue,d(C(i.hito.fecha_fin)),1),i.estadisticas.dias_restantes!==null?(m(),p("p",{key:0,class:V(["text-xs",i.estadisticas.esta_vencido?"text-red-600":"text-muted-foreground"])},d(i.estadisticas.esta_vencido?`Vencido hace ${Math.abs(i.estadisticas.dias_restantes)} días`:`${i.estadisticas.dias_restantes} días restantes`),3)):f("",!0)]),_:1})]),_:1}),s(t(v),null,{default:a(()=>[s(t(x),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(t(_),{class:"text-sm font-medium"},{default:a(()=>[...e[15]||(e[15]=[r("Responsable",-1)])]),_:1}),s(t(Me),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(h),null,{default:a(()=>{var n;return[o("div",Re,d(((n=i.hito.responsable)==null?void 0:n.name)||"Sin asignar"),1),i.hito.responsable?(m(),p("p",Oe,d(i.hito.responsable.email),1)):f("",!0)]}),_:1})]),_:1})]),s(t(ue),{modelValue:S.value,"onUpdate:modelValue":e[2]||(e[2]=n=>S.value=n),class:"flex-1"},{default:a(()=>[s(t(me),null,{default:a(()=>[s(t(D),{value:"detalles"},{default:a(()=>[...e[16]||(e[16]=[r("Detalles",-1)])]),_:1}),s(t(D),{value:"entregables"},{default:a(()=>[e[17]||(e[17]=r(" Entregables ",-1)),s(t(E),{variant:"secondary",class:"ml-2"},{default:a(()=>[r(d(i.estadisticas.total_entregables),1)]),_:1})]),_:1}),s(t(D),{value:"actividad"},{default:a(()=>[...e[18]||(e[18]=[r("Actividad",-1)])]),_:1})]),_:1}),s(t(M),{value:"detalles",class:"space-y-4"},{default:a(()=>[s(t(v),null,{default:a(()=>[s(t(x),null,{default:a(()=>[s(t(_),null,{default:a(()=>[...e[19]||(e[19]=[r("Información General",-1)])]),_:1})]),_:1}),s(t(h),{class:"space-y-4"},{default:a(()=>[i.hito.descripcion?(m(),p("div",Ge,[e[20]||(e[20]=o("h3",{class:"font-semibold mb-2"},"Descripción",-1)),o("p",Je,d(i.hito.descripcion),1)])):f("",!0),o("div",Ke,[o("div",null,[e[21]||(e[21]=o("h3",{class:"font-semibold mb-2"},"Fecha de Inicio",-1)),o("p",Qe,d(C(i.hito.fecha_inicio)),1)]),o("div",null,[e[22]||(e[22]=o("h3",{class:"font-semibold mb-2"},"Fecha de Fin",-1)),o("p",We,d(C(i.hito.fecha_fin)),1)]),o("div",null,[e[23]||(e[23]=o("h3",{class:"font-semibold mb-2"},"Orden",-1)),o("p",Xe,d(i.hito.orden),1)]),o("div",null,[e[24]||(e[24]=o("h3",{class:"font-semibold mb-2"},"Estado",-1)),s(t(E),{class:V(F(i.hito.estado))},{default:a(()=>[r(d(i.hito.estado),1)]),_:1},8,["class"])])]),o("div",null,[e[28]||(e[28]=o("h3",{class:"font-semibold mb-2"},"Resumen de Entregables",-1)),o("div",Ye,[o("div",Ze,[e[25]||(e[25]=o("span",{class:"text-muted-foreground"},"Pendientes",-1)),s(t(E),{variant:"outline"},{default:a(()=>[r(d(i.estadisticas.entregables_pendientes),1)]),_:1})]),o("div",et,[e[26]||(e[26]=o("span",{class:"text-muted-foreground"},"En Progreso",-1)),s(t(E),{variant:"outline",class:"bg-blue-50"},{default:a(()=>[r(d(i.estadisticas.entregables_en_progreso),1)]),_:1})]),o("div",tt,[e[27]||(e[27]=o("span",{class:"text-muted-foreground"},"Completados",-1)),s(t(E),{variant:"outline",class:"bg-green-50"},{default:a(()=>[r(d(i.estadisticas.entregables_completados),1)]),_:1})])])])]),_:1})]),_:1}),i.hito.etiquetas&&i.hito.etiquetas.length>0?(m(),y(t(v),{key:0},{default:a(()=>[s(t(x),null,{default:a(()=>[o("div",st,[s(t(Se),{class:"h-5 w-5"}),s(t(_),null,{default:a(()=>[...e[29]||(e[29]=[r("Etiquetas",-1)])]),_:1})]),s(t(T),null,{default:a(()=>[...e[30]||(e[30]=[r(" Etiquetas asignadas a este hito para su organización y categorización ",-1)])]),_:1})]),_:1}),s(t(h),null,{default:a(()=>[o("div",at,[(m(!0),p(j,null,A(i.hito.etiquetas,n=>(m(),y(t(E),{key:n.id,variant:"outline",class:"px-3 py-1.5",style:re({borderColor:n.color||"#94a3b8",color:n.color||"#64748b",backgroundColor:`${n.color}15`||"#f1f5f9"})},{default:a(()=>[r(d(n.nombre),1)]),_:2},1032,["style"]))),128))])]),_:1})]),_:1})):f("",!0),i.hito.parent_id||i.hito.ruta_completa?(m(),y(t(v),{key:1},{default:a(()=>[s(t(x),null,{default:a(()=>[s(t(_),null,{default:a(()=>[...e[31]||(e[31]=[r("Jerarquía",-1)])]),_:1})]),_:1}),s(t(h),null,{default:a(()=>[o("div",it,[i.hito.ruta_completa?(m(),p("div",ot,[e[32]||(e[32]=o("h3",{class:"font-semibold mb-2"},"Ruta Completa",-1)),o("p",lt,d(i.hito.ruta_completa),1)])):f("",!0),i.hito.nivel!==void 0?(m(),p("div",nt,[e[33]||(e[33]=o("h3",{class:"font-semibold mb-2"},"Nivel",-1)),s(t(E),{variant:"outline"},{default:a(()=>[r("Nivel "+d(i.hito.nivel),1)]),_:1})])):f("",!0)])]),_:1})]),_:1})):f("",!0),i.camposPersonalizados&&i.camposPersonalizados.length>0?(m(),y(t(v),{key:2},{default:a(()=>[s(t(x),null,{default:a(()=>[s(t(_),null,{default:a(()=>[...e[34]||(e[34]=[r("Campos Personalizados",-1)])]),_:1}),s(t(T),null,{default:a(()=>[...e[35]||(e[35]=[r(" Información adicional específica del hito ",-1)])]),_:1})]),_:1}),s(t(h),null,{default:a(()=>[o("div",rt,[(m(!0),p(j,null,A(i.camposPersonalizados,n=>{var g;return m(),p("div",{key:n.id},[o("h3",dt,[r(d(n.nombre)+" ",1),n.es_requerido?(m(),p("span",ut,"*")):f("",!0)]),o("p",mt,d(Z(n,(g=i.valoresCamposPersonalizados)==null?void 0:g[n.id])),1),n.descripcion?(m(),p("p",ft,d(n.descripcion),1)):f("",!0)])}),128))]),!i.camposPersonalizados||i.camposPersonalizados.length===0?(m(),p("div",ct,[...e[36]||(e[36]=[o("p",{class:"text-sm text-muted-foreground"},"No hay campos personalizados configurados",-1)])])):f("",!0)]),_:1})]),_:1})):f("",!0),s(t(v),null,{default:a(()=>[s(t(x),null,{default:a(()=>[s(t(_),null,{default:a(()=>[...e[37]||(e[37]=[r("Información del Sistema",-1)])]),_:1})]),_:1}),s(t(h),null,{default:a(()=>[o("div",gt,[o("div",null,[e[38]||(e[38]=o("span",{class:"text-muted-foreground"},"Creado el:",-1)),o("p",bt,d(H(i.hito.created_at)),1)]),o("div",null,[e[39]||(e[39]=o("span",{class:"text-muted-foreground"},"Última actualización:",-1)),o("p",pt,d(H(i.hito.updated_at)),1)]),i.hito.created_by_usuario?(m(),p("div",vt,[e[40]||(e[40]=o("span",{class:"text-muted-foreground"},"Creado por:",-1)),o("p",ht,d(i.hito.created_by_usuario.name),1)])):f("",!0),i.hito.updated_by_usuario?(m(),p("div",yt,[e[41]||(e[41]=o("span",{class:"text-muted-foreground"},"Actualizado por:",-1)),o("p",xt,d(i.hito.updated_by_usuario.name),1)])):f("",!0)])]),_:1})]),_:1})]),_:1}),s(t(M),{value:"entregables",class:"space-y-4"},{default:a(()=>[o("div",_t,[e[43]||(e[43]=o("h2",{class:"text-lg font-semibold"},"Lista de Entregables",-1)),i.canManageEntregables?(m(),y(t(k),{key:0,onClick:N,size:"sm"},{default:a(()=>[s(t(B),{class:"h-4 w-4 mr-2"}),e[42]||(e[42]=r(" Nuevo Entregable ",-1))]),_:1})):f("",!0)]),i.hito.entregables&&i.hito.entregables.length>0?(m(),y(_e,{key:0,modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=n=>c.value=n),usuarios:te.value},null,8,["modelValue","usuarios"])):f("",!0),s(t(v),null,{default:a(()=>[s(t(h),{class:"p-0"},{default:a(()=>[s($e,{entregables:ee.value,"proyecto-id":i.proyecto.id,"hito-id":i.hito.id,"can-edit":i.canManageEntregables,"can-delete":i.canManageEntregables,"can-complete":i.canManageEntregables,"show-checkbox":!1,onView:K,onEdit:Q,onDelete:W,onComplete:X,onMarkInProgress:Y},null,8,["entregables","proyecto-id","hito-id","can-edit","can-delete","can-complete"])]),_:1})]),_:1}),!i.hito.entregables||i.hito.entregables.length===0?(m(),y(t(v),{key:1},{default:a(()=>[s(t(h),{class:"text-center py-8"},{default:a(()=>[s(t(I),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e[45]||(e[45]=o("p",{class:"text-muted-foreground mb-4"},"No hay entregables asignados a este hito",-1)),i.canManageEntregables?(m(),y(t(k),{key:0,onClick:N,variant:"outline"},{default:a(()=>[s(t(B),{class:"h-4 w-4 mr-2"}),e[44]||(e[44]=r(" Crear Primer Entregable ",-1))]),_:1})):f("",!0)]),_:1})]),_:1})):f("",!0)]),_:1}),s(t(M),{value:"actividad",class:"space-y-4"},{default:a(()=>[i.actividades&&i.actividades.length>0?(m(),y(we,{key:0,modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=n=>b.value=n),usuarios:i.usuariosActividades,"context-level":"hito"},null,8,["modelValue","usuarios"])):f("",!0),s(Ee,{activities:se.value,title:"Historial de Actividad",description:"Registro de cambios y actividades del hito y sus entregables","empty-message":"No hay actividad registrada"},null,8,["activities"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{Bs as default};
