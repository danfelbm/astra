import{d as N,C as A,a as p,o as u,b as s,u as e,m as F,e as o,f as l,P as U,g as n,h as O,i as g,t as m,F as x,r as S,j as k}from"./app-DSrLHn3Y.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-Jna3kYN3.js";import{_ as v}from"./createLucideIcon-T086w1BT.js";import{_ as c,a as b,b as y,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-C14RY4pG.js";import{_ as $}from"./CardDescription.vue_vue_type_script_setup_true_lang-B8SNqHqQ.js";import{_ as r,a as d}from"./Label.vue_vue_type_script_setup_true_lang-DSz5a2gN.js";import{_ as w,a as L,b as M,c as P,d as T}from"./SelectValue.vue_vue_type_script_setup_true_lang-CBXjtrrj.js";import{_ as E}from"./Switch.vue_vue_type_script_setup_true_lang-DrTo4FY_.js";import{_ as G,a as I,b as z,c as C}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-qzJfrCoe.js";import{A as R}from"./arrow-left-BmQVyUf9.js";import{S as Z}from"./save-CjHklU5W.js";import"./index-CvSbtRnN.js";import"./check-BU3Tww0w.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-DkNUiBt4.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B7o_0su9.js";import"./VisuallyHidden-DXAR4dQ6.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-MDe_Z2us.js";import"./index-Cu8Zv_Qr.js";import"./index-K1H9GrpB.js";import"./VisuallyHiddenInput-zS8Ig4JA.js";import"./RovingFocusItem-C4pY3IZg.js";import"./utils-BVbfwYth.js";const H={class:"flex h-full flex-1 flex-col gap-4 p-4"},J={class:"flex items-center justify-between"},K={class:"grid gap-4 md:grid-cols-2"},Q={class:"space-y-2"},W={key:0,class:"text-sm text-red-500"},X={class:"space-y-2"},Y={class:"flex"},h={key:0,class:"text-sm text-red-500"},ee={class:"space-y-2"},te={key:0,class:"text-sm text-red-500"},se={class:"space-y-2"},oe={class:"flex items-center space-x-2"},ae={class:"grid gap-4 md:grid-cols-2"},le={class:"space-y-2"},ie={class:"space-y-2"},ne={class:"flex gap-2"},re={class:"space-y-2"},de={class:"space-y-2"},ue={class:"grid gap-4 md:grid-cols-3"},me={class:"space-y-2"},pe={class:"space-y-2"},fe={class:"space-y-2"},_e={class:"mt-6 flex justify-end gap-4"},Oe=N({__name:"Create",props:{subscriptionPlans:{},timezones:{}},setup(ge){const j=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Tenants",href:"/admin/tenants"},{title:"Crear Tenant",href:"#"}],a=A({name:"",subdomain:"",subscription_plan:"basic",active:!0,settings:{logo:"",primary_color:"#3B82F6",otp_expiration:10,timezone:"America/Bogota"},limits:{max_users:null,max_votaciones:null,max_convocatorias:null}}),B=()=>{a.post("/admin/tenants",{preserveScroll:!0})},D=()=>{a.name&&!a.subdomain&&(a.subdomain=a.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};return(_,t)=>(u(),p(x,null,[s(e(F),{title:"Crear Tenant"}),s(q,{breadcrumbs:j},{default:o(()=>[l("div",H,[l("div",J,[t[13]||(t[13]=l("div",null,[l("h2",{class:"text-3xl font-bold tracking-tight"},"Crear Nuevo Tenant"),l("p",{class:"text-muted-foreground"}," Configura una nueva organización en el sistema ")],-1)),s(e(U),{href:_.route("admin.tenants.index")},{default:o(()=>[s(e(v),{variant:"outline"},{default:o(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=n(" Volver "))]),_:1})]),_:1},8,["href"])]),l("form",{onSubmit:O(B,["prevent"])},[s(e(G),{"default-value":"general",class:"w-full"},{default:o(()=>[s(e(I),{class:"grid w-full grid-cols-3"},{default:o(()=>[s(e(z),{value:"general"},{default:o(()=>t[14]||(t[14]=[n("Información General")])),_:1}),s(e(z),{value:"settings"},{default:o(()=>t[15]||(t[15]=[n("Configuración")])),_:1}),s(e(z),{value:"limits"},{default:o(()=>t[16]||(t[16]=[n("Límites y Cuotas")])),_:1})]),_:1}),s(e(C),{value:"general"},{default:o(()=>[s(e(c),null,{default:o(()=>[s(e(b),null,{default:o(()=>[s(e(y),null,{default:o(()=>t[17]||(t[17]=[n("Información General")])),_:1}),s(e($),null,{default:o(()=>t[18]||(t[18]=[n(" Datos básicos de la organización ")])),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:o(()=>[l("div",K,[l("div",Q,[s(e(r),{for:"name"},{default:o(()=>t[19]||(t[19]=[n("Nombre de la Organización *")])),_:1}),s(e(d),{id:"name",modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=i=>e(a).name=i),onBlur:D,placeholder:"Mi Organización",required:""},null,8,["modelValue"]),e(a).errors.name?(u(),p("p",W,m(e(a).errors.name),1)):g("",!0)]),l("div",X,[s(e(r),{for:"subdomain"},{default:o(()=>t[20]||(t[20]=[n("Subdominio *")])),_:1}),l("div",Y,[s(e(d),{id:"subdomain",modelValue:e(a).subdomain,"onUpdate:modelValue":t[1]||(t[1]=i=>e(a).subdomain=i),placeholder:"mi-organizacion",pattern:"[a-z0-9-]+",required:"",class:"rounded-r-none"},null,8,["modelValue"]),t[21]||(t[21]=l("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-input bg-muted px-3 text-sm text-muted-foreground"}," .votaciones.test ",-1))]),t[22]||(t[22]=l("p",{class:"text-xs text-muted-foreground"}," Solo letras minúsculas, números y guiones ",-1)),e(a).errors.subdomain?(u(),p("p",h,m(e(a).errors.subdomain),1)):g("",!0)]),l("div",ee,[s(e(r),{for:"subscription_plan"},{default:o(()=>t[23]||(t[23]=[n("Plan de Suscripción *")])),_:1}),s(e(w),{modelValue:e(a).subscription_plan,"onUpdate:modelValue":t[2]||(t[2]=i=>e(a).subscription_plan=i)},{default:o(()=>[s(e(L),{id:"subscription_plan"},{default:o(()=>[s(e(M))]),_:1}),s(e(P),null,{default:o(()=>[(u(!0),p(x,null,S(_.subscriptionPlans,(i,f)=>(u(),k(e(T),{key:f,value:f},{default:o(()=>[n(m(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.subscription_plan?(u(),p("p",te,m(e(a).errors.subscription_plan),1)):g("",!0)]),l("div",se,[s(e(r),{for:"active"},{default:o(()=>t[24]||(t[24]=[n("Estado")])),_:1}),l("div",oe,[s(e(E),{id:"active",checked:e(a).active,"onUpdate:checked":t[3]||(t[3]=i=>e(a).active=i)},null,8,["checked"]),s(e(r),{for:"active",class:"font-normal"},{default:o(()=>[n(m(e(a).active?"Activo":"Inactivo"),1)]),_:1})]),t[25]||(t[25]=l("p",{class:"text-xs text-muted-foreground"}," Los tenants inactivos no pueden acceder al sistema ",-1))])])]),_:1})]),_:1})]),_:1}),s(e(C),{value:"settings"},{default:o(()=>[s(e(c),null,{default:o(()=>[s(e(b),null,{default:o(()=>[s(e(y),null,{default:o(()=>t[26]||(t[26]=[n("Configuración del Sistema")])),_:1}),s(e($),null,{default:o(()=>t[27]||(t[27]=[n(" Personalización y configuraciones específicas ")])),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:o(()=>[l("div",ae,[l("div",le,[s(e(r),{for:"logo"},{default:o(()=>t[28]||(t[28]=[n("URL del Logo")])),_:1}),s(e(d),{id:"logo",modelValue:e(a).settings.logo,"onUpdate:modelValue":t[4]||(t[4]=i=>e(a).settings.logo=i),placeholder:"https://ejemplo.com/logo.png",type:"url"},null,8,["modelValue"]),t[29]||(t[29]=l("p",{class:"text-xs text-muted-foreground"}," URL de la imagen del logo de la organización ",-1))]),l("div",ie,[s(e(r),{for:"primary_color"},{default:o(()=>t[30]||(t[30]=[n("Color Primario")])),_:1}),l("div",ne,[s(e(d),{id:"primary_color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":t[5]||(t[5]=i=>e(a).settings.primary_color=i),placeholder:"#3B82F6",pattern:"#[0-9A-Fa-f]{6}"},null,8,["modelValue"]),s(e(d),{type:"color",modelValue:e(a).settings.primary_color,"onUpdate:modelValue":t[6]||(t[6]=i=>e(a).settings.primary_color=i),class:"w-12 p-1"},null,8,["modelValue"])]),t[31]||(t[31]=l("p",{class:"text-xs text-muted-foreground"}," Color principal de la interfaz ",-1))]),l("div",re,[s(e(r),{for:"otp_expiration"},{default:o(()=>t[32]||(t[32]=[n("Expiración OTP (minutos)")])),_:1}),s(e(d),{id:"otp_expiration",modelValue:e(a).settings.otp_expiration,"onUpdate:modelValue":t[7]||(t[7]=i=>e(a).settings.otp_expiration=i),modelModifiers:{number:!0},type:"number",min:"5",max:"60",placeholder:"10"},null,8,["modelValue"]),t[33]||(t[33]=l("p",{class:"text-xs text-muted-foreground"}," Tiempo de validez del código OTP (5-60 minutos) ",-1))]),l("div",de,[s(e(r),{for:"timezone"},{default:o(()=>t[34]||(t[34]=[n("Zona Horaria")])),_:1}),s(e(w),{modelValue:e(a).settings.timezone,"onUpdate:modelValue":t[8]||(t[8]=i=>e(a).settings.timezone=i)},{default:o(()=>[s(e(L),{id:"timezone"},{default:o(()=>[s(e(M))]),_:1}),s(e(P),null,{default:o(()=>[(u(!0),p(x,null,S(_.timezones,(i,f)=>(u(),k(e(T),{key:f,value:f},{default:o(()=>[n(m(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t[35]||(t[35]=l("p",{class:"text-xs text-muted-foreground"}," Zona horaria por defecto para votaciones ",-1))])])]),_:1})]),_:1})]),_:1}),s(e(C),{value:"limits"},{default:o(()=>[s(e(c),null,{default:o(()=>[s(e(b),null,{default:o(()=>[s(e(y),null,{default:o(()=>t[36]||(t[36]=[n("Límites y Cuotas")])),_:1}),s(e($),null,{default:o(()=>t[37]||(t[37]=[n(" Define los límites de recursos para esta organización ")])),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:o(()=>[l("div",ue,[l("div",me,[s(e(r),{for:"max_users"},{default:o(()=>t[38]||(t[38]=[n("Usuarios Máximos")])),_:1}),s(e(d),{id:"max_users",modelValue:e(a).limits.max_users,"onUpdate:modelValue":t[9]||(t[9]=i=>e(a).limits.max_users=i),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[39]||(t[39]=l("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),l("div",pe,[s(e(r),{for:"max_votaciones"},{default:o(()=>t[40]||(t[40]=[n("Votaciones Máximas")])),_:1}),s(e(d),{id:"max_votaciones",modelValue:e(a).limits.max_votaciones,"onUpdate:modelValue":t[10]||(t[10]=i=>e(a).limits.max_votaciones=i),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[41]||(t[41]=l("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))]),l("div",fe,[s(e(r),{for:"max_convocatorias"},{default:o(()=>t[42]||(t[42]=[n("Convocatorias Máximas")])),_:1}),s(e(d),{id:"max_convocatorias",modelValue:e(a).limits.max_convocatorias,"onUpdate:modelValue":t[11]||(t[11]=i=>e(a).limits.max_convocatorias=i),modelModifiers:{number:!0},type:"number",min:"0",placeholder:"Sin límite"},null,8,["modelValue"]),t[43]||(t[43]=l("p",{class:"text-xs text-muted-foreground"}," Dejar vacío para sin límite ",-1))])]),t[44]||(t[44]=l("div",{class:"rounded-lg bg-muted p-4"},[l("p",{class:"text-sm text-muted-foreground"},[l("strong",null,"Nota:"),n(" Los límites se aplican según el plan de suscripción. Un valor vacío significa que no hay límite establecido para ese recurso. ")])],-1))]),_:1})]),_:1})]),_:1})]),_:1}),l("div",_e,[s(e(U),{href:_.route("admin.tenants.index")},{default:o(()=>[s(e(v),{type:"button",variant:"outline"},{default:o(()=>t[45]||(t[45]=[n(" Cancelar ")])),_:1})]),_:1},8,["href"]),s(e(v),{type:"submit",disabled:e(a).processing},{default:o(()=>[s(e(Z),{class:"mr-2 h-4 w-4"}),n(" "+m(e(a).processing?"Guardando...":"Crear Tenant"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Oe as default};
