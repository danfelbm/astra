import{d as N,bu as ce,c as R,k as M,w as ie,j as A,o,e as g,s as U,b as u,u as e,U as O,p as H,O as K,R as z,H as pe,L as me,a as c,i as T,g as v,f as p,t as x,q as Z,C as L,m as fe,h as ee,n as ve,F as _e,r as ge}from"./app-B9oe9ImA.js";import{_ as te}from"./InputError.vue_vue_type_script_setup_true_lang-DKfojcpP.js";import{_ as he}from"./TextLink.vue_vue_type_script_setup_true_lang-wqUutTPe.js";import{a as ye,b as be,c as xe,_ as we}from"./CardTitle.vue_vue_type_script_setup_true_lang-DgM8RJG1.js";import{_ as ae,a as oe}from"./index-Gu6L08O4.js";import{_ as se}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CsAdLZXP.js";import{_ as ke}from"./index-DES6noyB.js";import{P as X,_ as j,a as G}from"./createLucideIcon-CLq2BVfu.js";import{_ as Ce}from"./Progress.vue_vue_type_script_setup_true_lang-DvnhMXtl.js";import{_ as ne}from"./Skeleton.vue_vue_type_script_setup_true_lang-BKgnEww5.js";import{L as F}from"./loader-circle-BK1AIr5y.js";import{C as Ie}from"./clock-DZHbW8da.js";import{C as Ee}from"./circle-alert-BjH3iak5.js";import{T as $e}from"./timer-B0oYlFG9.js";import{I as Ve}from"./info-Cmnd_Snn.js";import{R as Pe}from"./refresh-cw-D1r5glCg.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Re,a as Ae,_ as Me}from"./Input.vue_vue_type_script_setup_true_lang-DWzoeGnJ.js";import{_ as le}from"./Label.vue_vue_type_script_setup_true_lang-CtLC-sW5.js";import{b as Se,c as Be,u as Te,g as Ne,e as De,d as re}from"./VisuallyHidden-BYD5CROF.js";import{V as je}from"./VisuallyHiddenInput-DrATIdIi.js";import{r as Q}from"./index-CfM7hPFq.js";import{_ as Fe}from"./AuthLayout.vue_vue_type_script_setup_true_lang-BA79TKsP.js";import{M as Ue}from"./mail-DwVdXri7.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-8-xwWO0D.js";const Oe=["INPUT","TEXTAREA"];function ze(_,l,t,r={}){if(!l||r.enableIgnoredElement&&Oe.includes(l.nodeName))return null;const{arrowKeyOptions:m="both",attributeName:h="[data-reka-collection-item]",itemsArray:s=[],loop:y=!0,dir:b="ltr",preventScroll:w=!0,focus:C=!1}=r,[P,E,q,V,B,I]=[_.key==="ArrowRight",_.key==="ArrowLeft",_.key==="ArrowUp",_.key==="ArrowDown",_.key==="Home",_.key==="End"],d=q||V,i=P||E;if(!B&&!I&&(!d&&!i||m==="vertical"&&i||m==="horizontal"&&d))return null;const a=s;if(!a.length)return null;w&&_.preventDefault();let k=null;return i||d?k=de(a,l,{goForward:d?V:b==="ltr"?P:E,loop:y}):B?k=a.at(0)||null:I&&(k=a.at(-1)||null),C&&(k==null||k.focus()),k}function de(_,l,t,r=_.length){if(--r===0)return null;const m=_.indexOf(l),h=t.goForward?m+1:m-1;if(!t.loop&&(h<0||h>=_.length))return null;const s=(h+_.length)%_.length,y=_[s];return y?y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false"?de(_,y,t,r):y:null}const[Le,We]=Be("PinInputRoot");var He=N({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:Array,required:!1},placeholder:{type:String,required:!1,default:""},mask:{type:Boolean,required:!1},otp:{type:Boolean,required:!1},type:{type:null,required:!1,default:"text"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","complete"],setup(_,{emit:l}){const t=_,r=l,{mask:m,otp:h,placeholder:s,type:y,disabled:b,dir:w}=ce(t),{forwardRef:C}=Re(),P=Se(w),E=Ae(t,"modelValue",r,{defaultValue:t.defaultValue??[],passive:t.modelValue===void 0}),q=R(()=>Array.isArray(E.value)?[...E.value]:[]),V=M(new Set);function B(i){V.value.add(i)}const I=R(()=>t.type==="number"),d=R(()=>q.value.filter(a=>!!a||I.value&&a===0).length===V.value.size);return ie(E,()=>{d.value&&r("complete",E.value)},{deep:!0}),We({modelValue:E,currentModelValue:q,mask:m,otp:h,placeholder:s,type:y,dir:P,disabled:b,isCompleted:d,inputElements:V,onInputElementChange:B,isNumericMode:I}),(i,a)=>(o(),A(e(X),O(i.$attrs,{ref:e(C),dir:e(P),"data-complete":d.value?"":void 0,"data-disabled":e(b)?"":void 0}),{default:g(()=>[U(i.$slots,"default",{modelValue:e(E)}),u(je,{id:i.id,as:"input",feature:"focusable",tabindex:"-1",value:q.value.join(""),name:i.name??"",disabled:e(b),required:i.required,onFocus:a[0]||(a[0]=k=>{var n,f;return(f=(n=Array.from(V.value))==null?void 0:n[0])==null?void 0:f.focus()})},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),Ke=He,Xe=N({__name:"PinInputInput",props:{index:{type:Number,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(_){const l=_,t=Le(),r=R(()=>Array.from(t.inputElements.value)),m=R(()=>t.currentModelValue.value[l.index]),h=R(()=>l.disabled||t.disabled.value),s=R(()=>t.otp.value),y=R(()=>t.mask.value),{primitiveElement:b,currentElement:w}=Te();function C(n){var S;const f=n.target;if((((S=n.data)==null?void 0:S.length)??0)>1){i(f.value);return}if(t.isNumericMode.value&&!/^\d*$/.test(f.value)){f.value=f.value.replace(/\D/g,"");return}f.value=n.data??"",k(l.index,f.value);const $=r.value[l.index+1];$&&$.focus()}function P(){const n=w.value;pe(()=>{n&&!n.value&&(n.placeholder=t.placeholder.value)})}function E(n){ze(n,Ne(),void 0,{itemsArray:r.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:t.dir.value})}function q(n){if(n.preventDefault(),n.target.value)k(l.index,"");else{const S=r.value[l.index-1];S&&(S.focus(),k(l.index-1,""))}}function V(n){n.key==="Delete"&&(n.preventDefault(),k(l.index,""))}function B(n){const f=n.target;f.setSelectionRange(1,1),f.value||(f.placeholder="")}function I(n){P()}function d(n){n.preventDefault();const f=n.clipboardData;if(!f)return;const $=f.getData("text");i($)}function i(n){var J;const f=[...t.currentModelValue.value],$=n.length>=r.value.length?0:l.index,S=Math.min($+n.length,r.value.length);for(let D=$;D<S;D++){const ue=r.value[D],Y=n[D-$];t.isNumericMode.value&&!/^\d*$/.test(Y)||(f[D]=Y,ue.focus())}t.modelValue.value=f,(J=r.value[S])==null||J.focus()}function a(n){let f=n.length-1;for(;f>=0&&n[f]==="";)n.pop(),f--;return n}function k(n,f){const $=[...t.currentModelValue.value];if(t.isNumericMode.value){const S=+f;f===""||isNaN(S)?delete $[n]:$[n]=S}else $[n]=f;t.modelValue.value=a($)}return ie(m,()=>{m.value||P()}),H(()=>{t.onInputElementChange(w.value)}),K(()=>{var n;(n=t.inputElements)==null||n.value.delete(w.value)}),(n,f)=>(o(),A(e(X),{ref_key:"primitiveElement",ref:b,autocapitalize:"none",as:n.as,"as-child":n.asChild,autocomplete:s.value?"one-time-code":"false",type:y.value?"password":"text",inputmode:e(t).isNumericMode.value?"numeric":"text",pattern:e(t).isNumericMode.value?"[0-9]*":void 0,placeholder:e(t).placeholder.value,value:m.value,disabled:h.value,"data-disabled":h.value?"":void 0,"data-complete":e(t).isCompleted.value?"":void 0,"aria-label":`pin input ${n.index+1} of ${r.value.length}`,onInput:f[0]||(f[0]=$=>C($)),onKeydown:[z(E,["left","right","up","down","home","end"]),z(q,["backspace"]),z(V,["delete"])],onFocus:B,onBlur:I,onPaste:d},{default:g(()=>[U(n.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),Ge=Xe;const Qe={key:0,class:"mt-4"},Je={key:0,class:"space-y-3"},Ye={key:1,class:"space-y-4"},Ze={key:0,class:"space-y-2"},et={class:"flex items-center justify-between"},tt={class:"text-sm text-muted-foreground"},at={key:1,class:"space-y-2"},ot={key:2,class:"space-y-2"},st={class:"flex items-center justify-between"},nt={class:"text-sm font-medium"},lt={class:"flex items-center gap-2 text-xs text-muted-foreground"},it={key:3,class:"mt-4 pt-4 border-t"},rt={key:2,class:"text-center py-4"},dt=N({__name:"OTPQueueStatus",props:{type:{},identifier:{},autoRefresh:{type:Boolean,default:!0},refreshInterval:{default:5e3},showRateLimitInfo:{type:Boolean,default:!0}},emits:["statusUpdate","error"],setup(_,{emit:l}){const t=_,r=l,m=M(!1),h=M(!1),s=M(null),y=M(5),b=M(null),w=M(null),C=R(()=>{if(!s.value||s.value.total_ahead===0)return 100;const I=s.value.position+10,d=I-s.value.position;return Math.min(100,Math.round(d/I*100))}),P=R(()=>t.type==="email"?2:5),E=async()=>{var I;m.value=!0;try{const d=await Z.get(`/api/queue/otp/position/${encodeURIComponent(t.identifier)}`,{params:{type:t.type}});d.data.success&&(s.value=d.data.data,h.value=!0,r("statusUpdate",s.value),s.value.position===0&&V())}catch(d){if(((I=d.response)==null?void 0:I.status)===404)try{const i=await Z.get("/api/queue/otp/estimate",{params:{type:t.type}});i.data.success&&(s.value=i.data.data,h.value=!0,r("statusUpdate",s.value))}catch(i){console.error("Error obteniendo estimación:",i),r("error",i)}else console.error("Error verificando estado:",d),r("error",d)}finally{m.value=!1}},q=()=>{t.autoRefresh&&(b.value=window.setInterval(()=>{E(),B()},t.refreshInterval),w.value=window.setInterval(()=>{y.value=Math.max(0,y.value-1)},1e3))},V=()=>{b.value&&(clearInterval(b.value),b.value=null),w.value&&(clearInterval(w.value),w.value=null)},B=()=>{y.value=Math.floor(t.refreshInterval/1e3)};return H(()=>{E(),q()}),K(()=>{V()}),(I,d)=>(o(),A(me,{name:"fade"},{default:g(()=>[h.value?(o(),c("div",Qe,[u(e(we),null,{default:g(()=>[u(e(ye),null,{default:g(()=>[u(e(be),{class:"flex items-center gap-2"},{default:g(()=>[m.value?(o(),A(e(F),{key:0,class:"h-4 w-4 animate-spin"})):(o(),A(e(Ie),{key:1,class:"h-4 w-4"})),d[0]||(d[0]=v(" Estado de envío de tu código "))]),_:1})]),_:1}),u(e(xe),null,{default:g(()=>[m.value?(o(),c("div",Je,[u(e(ne),{class:"h-4 w-full"}),u(e(ne),{class:"h-4 w-3/4"})])):s.value?(o(),c("div",Ye,[s.value.position>1?(o(),c("div",Ze,[p("div",et,[d[1]||(d[1]=p("span",{class:"text-sm text-muted-foreground"},"Posición en cola",-1)),u(e(ke),{variant:"secondary"},{default:g(()=>[v(x(s.value.position),1)]),_:1})]),u(e(Ce),{value:C.value,class:"h-2"},null,8,["value"]),p("p",tt,x(s.value.total_ahead)+" personas delante de ti ",1)])):s.value.position===1?(o(),c("div",at,[u(e(ae),null,{default:g(()=>[u(e(Ee),{class:"h-4 w-4"}),u(e(se),null,{default:g(()=>d[2]||(d[2]=[v("Procesando tu solicitud")])),_:1}),u(e(oe),null,{default:g(()=>d[3]||(d[3]=[v(" Tu código está siendo enviado en este momento... ")])),_:1})]),_:1})])):T("",!0),s.value.estimated_seconds>0?(o(),c("div",ot,[p("div",st,[d[4]||(d[4]=p("span",{class:"text-sm text-muted-foreground"},"Tiempo estimado",-1)),p("span",nt,x(s.value.estimated_time),1)]),p("div",lt,[u(e($e),{class:"h-3 w-3"}),p("span",null,"Actualizando en "+x(y.value)+"s",1)])])):T("",!0),I.showRateLimitInfo?(o(),c("div",it,[u(e(ae),{variant:"info"},{default:g(()=>[u(e(Ve),{class:"h-4 w-4"}),u(e(se),null,{default:g(()=>d[5]||(d[5]=[v("¿Por qué la espera?")])),_:1}),u(e(oe),null,{default:g(()=>[v(" Para garantizar la entrega confiable de mensajes, procesamos "+x(P.value)+" "+x(I.type==="email"?"correos":"mensajes")+" por segundo. Esto nos ayuda a mantener un servicio estable para todos. ",1)]),_:1})]),_:1})])):T("",!0)])):(o(),c("div",rt,[d[7]||(d[7]=p("p",{class:"text-sm text-muted-foreground"}," No se pudo obtener el estado de la cola ",-1)),u(e(j),{onClick:E,variant:"ghost",size:"sm",class:"mt-2"},{default:g(()=>[u(e(Pe),{class:"h-3 w-3 mr-2"}),d[6]||(d[6]=v(" Reintentar "))]),_:1})]))]),_:1})]),_:1})])):T("",!0)]),_:1}))}}),W=qe(dt,[["__scopeId","data-v-f9ac226f"]]),ut=N({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","complete"],setup(_,{emit:l}){const t=_,r=l,m=Q(t,"class"),h=De(m,r);return(s,y)=>(o(),A(e(Ke),O({"data-slot":"pin-input"},e(h),{class:e(G)("flex items-center gap-2 has-disabled:opacity-50 disabled:cursor-not-allowed",t.class)}),{default:g(()=>[U(s.$slots,"default")]),_:3},16,["class"]))}}),ct=N({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(_){const l=_,t=Q(l,"class"),r=re(t);return(m,h)=>(o(),A(e(X),O({"data-slot":"pin-input-group"},e(r),{class:e(G)("flex items-center",l.class)}),{default:g(()=>[U(m.$slots,"default")]),_:3},16,["class"]))}}),pt=N({__name:"PinInputSlot",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(_){const l=_,t=Q(l,"class"),r=re(t);return(m,h)=>(o(),A(e(Ge),O({"data-slot":"pin-input-slot"},e(r),{class:e(G)("border-input focus:border-ring focus:ring-ring/50 focus:aria-invalid:ring-destructive/20 dark:bg-input/30 dark:focus:aria-invalid:ring-destructive/40 aria-invalid:border-destructive focus:aria-invalid:border-destructive relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none text-center first:rounded-l-md first:border-l last:rounded-r-md focus:z-10 focus:ring-[3px]",l.class)}),null,16,["class"]))}}),mt={key:0,class:"mb-4 text-center text-muted-foreground"},ft={key:0},vt={key:0},_t={key:1},gt={key:2},ht={key:3},yt={key:1},bt={key:1,class:"mb-4 text-center text-muted-foreground"},xt={key:0},wt={key:1},kt={key:2},Ct={key:2,class:"mb-4 text-center text-sm font-medium text-green-600"},It={class:"grid gap-6"},Et={class:"grid gap-2"},$t={class:"relative"},Vt={class:"grid gap-6"},Pt={class:"text-center"},qt={class:"text-sm text-muted-foreground"},Rt={key:0},At={key:0},Mt={class:"font-medium"},St={key:1},Bt={class:"font-medium"},Tt={key:2},Nt={class:"font-medium"},Dt={key:1},jt={key:0},Ft={class:"font-medium"},Ut={key:1},Ot={class:"font-medium"},zt={class:"font-medium"},Lt={key:2},Wt={class:"font-medium"},Ht={class:"font-medium"},Kt={key:0},Xt={key:1},Gt={class:"grid gap-2"},Qt={class:"flex justify-center"},Jt={class:"flex flex-col gap-3"},Yt={class:"flex flex-col gap-2 text-center"},Zt={key:5,class:"mt-6 text-center text-sm text-muted-foreground"},ea={class:"mt-6 text-center text-xs text-muted-foreground"},ta={key:0},aa={key:1},Va=N({__name:"LoginOTP",props:{status:{},authConfig:{},censoredEmail:{},otpCredential:{},otpChannel:{},whatsappEnabled:{type:Boolean},intendedUrl:{}},setup(_){const l=_,t=M(l.censoredEmail?"otp":"credential"),r=M(l.censoredEmail||""),m=R(()=>l.authConfig||{login_type:"email",input_type:"email",placeholder:"correo@ejemplo.com",pattern:null,label:"Correo Electrónico"}),h=L({credential:""}),s=L({credential:l.otpCredential||"",otp_code:[]}),y=L({credential:"",otp_code:""}),b=M(!1),w=M(0),C=M(null),P=R(()=>w.value===0),E=R(()=>w.value>0?`Reenviar en ${w.value}s`:"Reenviar código"),q=(i=60)=>{w.value=i,C.value&&clearInterval(C.value),C.value=window.setInterval(()=>{w.value--,w.value<=0&&(clearInterval(C.value),C.value=null)},1e3)},V=()=>{b.value=!0,h.post(route("auth.request-otp"),{onSuccess:i=>{i.props&&i.props.censoredEmail&&(r.value=i.props.censoredEmail),t.value="otp",s.credential=h.credential,s.clearErrors(),q(60)},onError:()=>{},onFinish:()=>{b.value=!1}})},B=()=>{const i=s.otp_code.join("");y.credential=s.credential,y.otp_code=i,y.post(route("auth.verify-otp"),{onSuccess:()=>{},onError:()=>{s.otp_code=[]}})},I=()=>{P.value&&(b.value=!0,s.post(route("auth.resend-otp"),{onSuccess:i=>{i.props&&i.props.censoredEmail&&(r.value=i.props.censoredEmail),q(60)},onFinish:()=>{b.value=!1}}))},d=()=>{t.value="credential",s.reset(),C.value&&(clearInterval(C.value),C.value=null),w.value=0};return H(()=>{t.value==="otp"&&q(60);const i=localStorage.getItem("intendedUrl");i&&!l.intendedUrl&&fetch("/login?intended="+encodeURIComponent(i),{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(()=>{localStorage.removeItem("intendedUrl")})}),K(()=>{C.value&&clearInterval(C.value)}),(i,a)=>(o(),A(Fe,{title:t.value==="credential"?"Iniciar Sesión":"Verificar Código"},{default:g(()=>[u(e(fe),{title:"Iniciar Sesión"}),t.value==="credential"?(o(),c("div",mt,[m.value.login_type==="documento"?(o(),c("p",ft,[a[2]||(a[2]=v(" Ingresa tu documento de identidad para recibir el código de verificación ")),i.whatsappEnabled?l.otpChannel==="whatsapp"?(o(),c("strong",_t,"vía WhatsApp")):l.otpChannel==="both"?(o(),c("strong",gt,"vía correo electrónico y WhatsApp")):(o(),c("strong",ht,"vía correo electrónico")):(o(),c("strong",vt,"vía correo electrónico"))])):(o(),c("p",yt," Ingresa tu "+x(m.value.label.toLowerCase())+" para recibir el código de verificación ",1))])):(o(),c("div",bt,[l.otpChannel==="whatsapp"?(o(),c("p",xt,a[3]||(a[3]=[v(" Ingresa el código de 6 dígitos enviado a tu "),p("strong",null,"WhatsApp",-1)]))):l.otpChannel==="both"?(o(),c("p",wt,a[4]||(a[4]=[v(" Ingresa el código de 6 dígitos enviado a tu "),p("strong",null,"correo y WhatsApp",-1)]))):(o(),c("p",kt,a[5]||(a[5]=[v(" Ingresa el código de 6 dígitos enviado a tu "),p("strong",null,"correo",-1)])))])),i.status?(o(),c("div",Ct,x(i.status),1)):T("",!0),t.value==="credential"?(o(),c("form",{key:3,onSubmit:ee(V,["prevent"]),class:"flex flex-col gap-6"},[p("div",It,[p("div",Et,[u(e(le),{for:"credential"},{default:g(()=>[v(x(m.value.label),1)]),_:1}),p("div",$t,[m.value.login_type==="email"?(o(),A(e(Ue),{key:0,class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})):T("",!0),u(e(Me),{id:"credential",type:m.value.input_type,required:"",autofocus:"",tabindex:"1",autocomplete:m.value.login_type==="email"?"email":"off",inputmode:m.value.login_type==="documento"?"numeric":void 0,modelValue:e(h).credential,"onUpdate:modelValue":a[0]||(a[0]=k=>e(h).credential=k),placeholder:m.value.placeholder,pattern:m.value.pattern,class:ve({"pl-10":m.value.login_type==="email"})},null,8,["type","autocomplete","inputmode","modelValue","placeholder","pattern","class"])]),u(te,{message:e(h).errors.credential},null,8,["message"])]),u(e(j),{type:"submit",class:"mt-4 w-full",tabindex:"2",disabled:e(h).processing||b.value},{default:g(()=>[e(h).processing||b.value?(o(),A(e(F),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):T("",!0),v(" "+x(e(h).processing||b.value?"Enviando...":"Enviar Código"),1)]),_:1},8,["disabled"])])],32)):(o(),c("form",{key:4,onSubmit:ee(B,["prevent"]),class:"flex flex-col gap-6"},[p("div",Vt,[p("div",Pt,[p("p",qt,[m.value.login_type==="email"?(o(),c("span",Rt,[l.otpChannel==="whatsapp"?(o(),c("span",At,[a[6]||(a[6]=v(" Código enviado por WhatsApp al número asociado con ")),p("span",Mt,x(r.value||e(s).credential),1)])):l.otpChannel==="both"?(o(),c("span",St,[a[7]||(a[7]=v(" Código enviado al email ")),p("span",Bt,x(r.value||e(s).credential),1),a[8]||(a[8]=v(" y WhatsApp "))])):(o(),c("span",Tt,[a[9]||(a[9]=v(" Código enviado al email ")),p("span",Nt,x(r.value||e(s).credential),1)]))])):(o(),c("span",Dt,[l.otpChannel==="whatsapp"?(o(),c("span",jt,[a[10]||(a[10]=v(" Código enviado por WhatsApp al número asociado con el documento ")),p("span",Ft,x(e(s).credential),1)])):l.otpChannel==="both"?(o(),c("span",Ut,[a[11]||(a[11]=v(" Código enviado al email ")),p("span",Ot,x(r.value),1),a[12]||(a[12]=v(" y WhatsApp asociados al documento ")),p("span",zt,x(e(s).credential),1)])):(o(),c("span",Lt,[a[13]||(a[13]=v(" Código enviado al email ")),p("span",Wt,x(r.value),1),a[14]||(a[14]=v(" asociado al documento ")),p("span",Ht,x(e(s).credential),1)]))]))])]),l.otpChannel==="both"?(o(),c("div",Kt,[u(W,{type:"email",identifier:r.value||e(s).credential,"show-rate-limit-info":!0},null,8,["identifier"]),u(W,{type:"whatsapp",identifier:e(s).credential,"show-rate-limit-info":!0},null,8,["identifier"])])):(o(),c("div",Xt,[u(W,{type:l.otpChannel==="whatsapp"?"whatsapp":"email",identifier:l.otpChannel==="whatsapp"?e(s).credential:r.value||e(s).credential,"show-rate-limit-info":!0},null,8,["type","identifier"])])),p("div",Gt,[u(e(le),{class:"text-center"},{default:g(()=>a[15]||(a[15]=[v("Código de Verificación")])),_:1}),p("div",Qt,[u(e(ut),{modelValue:e(s).otp_code,"onUpdate:modelValue":a[1]||(a[1]=k=>e(s).otp_code=k),length:6,type:"text",placeholder:"0",class:"gap-2"},{default:g(()=>[u(e(ct),null,{default:g(()=>[(o(),c(_e,null,ge(6,(k,n)=>u(e(pt),{key:k,index:n,class:"h-12 w-12 text-lg font-medium",inputmode:"numeric"},null,8,["index"])),64))]),_:1})]),_:1},8,["modelValue"])]),u(te,{message:e(s).errors.otp_code},null,8,["message"])]),p("div",Jt,[u(e(j),{type:"submit",class:"w-full",disabled:e(y).processing||e(s).otp_code.join("").length!==6},{default:g(()=>[e(y).processing?(o(),A(e(F),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):T("",!0),v(" "+x(e(y).processing?"Verificando...":"Verificar Código"),1)]),_:1},8,["disabled"]),p("div",Yt,[u(e(j),{type:"button",variant:"ghost",size:"sm",onClick:I,disabled:!P.value||b.value},{default:g(()=>[b.value?(o(),A(e(F),{key:0,class:"mr-2 h-3 w-3 animate-spin"})):T("",!0),v(" "+x(b.value?"Enviando...":E.value),1)]),_:1},8,["disabled"]),u(e(j),{type:"button",variant:"ghost",size:"sm",onClick:d},{default:g(()=>[v(x(m.value.login_type==="email"?"Cambiar correo electrónico":"Cambiar documento"),1)]),_:1})])])])],32)),t.value==="credential"?(o(),c("div",Zt,[a[17]||(a[17]=v(" ¿Deseas ser precandidato por la Colombia Humana pero no eres militante del partido? ")),u(he,{href:i.route("register"),class:"underline underline-offset-4"},{default:g(()=>a[16]||(a[16]=[v("Regístrate aquí")])),_:1},8,["href"])])):T("",!0),p("div",ea,[t.value==="credential"?(o(),c("p",ta," Solo personas registradas como militantes pueden acceder al sistema. ")):(o(),c("p",aa," El código expira en 10 minutos. Si no lo recibes, verifica tu bandeja de spam. ")),a[18]||(a[18]=p("br",null,null,-1)),a[19]||(a[19]=p("p",null,[v(" Si necesitas ayuda escribe a "),p("b",null,"soporte@colombiahumana.co"),v(" para soporte sobre la plataforma. Para inquietudes jurídicas a "),p("b",null,"juridicoelectoral@colombiahumana.co")],-1))])]),_:1},8,["title"]))}});export{Va as default};
