import{d as lt,r as C,c as N,I as rt,i as c,e as s,f as e,q as it,w as a,g as o,b as m,j as f,v as E,h as n,t as u,m as i,x as nt,n as z,F as k,k as D,l as H}from"./app-Bwo8gItk.js";import{_ as dt}from"./UserLayout.vue_vue_type_script_setup_true_lang-DYYfpH90.js";import{_ as p,a as b,b as h,c as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-CCSG5iJV.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-COdj7bAH.js";import{_ as F}from"./createLucideIcon-CiWTV2sr.js";import{_ as v}from"./index-WQ9DFilu.js";import{_ as ut}from"./Progress.vue_vue_type_script_setup_true_lang-BuinuotB.js";import{_ as ct,a as mt,b as P,c as q}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-hMSemz0m.js";import{_ as ft,a as yt,b as R,c as V,d as gt,e as j}from"./TableHeader.vue_vue_type_script_setup_true_lang-CXWdjufp.js";import{_ as O,a as G,b as J}from"./index-CgVSfdqX.js";import{E as pt}from"./EtiquetaDisplay-BLYFPZZe.js";import{_ as xt}from"./ContratoCard.vue_vue_type_script_setup_true_lang-7uYhdpIq.js";import{H as _t}from"./HitoCard-8oUw4nKq.js";import{_ as vt}from"./EvidenciaFilters.vue_vue_type_script_setup_true_lang-DOtWzRfs.js";import{_ as bt,a as ht,b as kt,c as wt}from"./AccordionContent.vue_vue_type_script_setup_true_lang-0BQWhWH6.js";import{A as K}from"./arrow-left-DdNh2QV4.js";import{S as Q}from"./square-pen-BoXmttLV.js";import{U as $t}from"./users-B58AUZuH.js";import{F as B}from"./file-text-BE7lj9lG.js";import{I as U}from"./image-v-tUxrZQ.js";import{M as W,B as Ct,C as Et}from"./milestone-EMlF4ngc.js";import{F as Dt}from"./flag-BQhZvkEm.js";import{T as Vt}from"./tag-CW6t7i9-.js";import{C as X}from"./circle-alert-BjQ4nvNB.js";import{C as Y}from"./calendar-Np9EKWlU.js";import{C as jt}from"./clock-DKNCr6cM.js";import{U as Pt}from"./user-C6TSB5_J.js";import{E as qt}from"./external-link-DH3_urnm.js";import{D as It}from"./download-CHuyfJkQ.js";import{C as St}from"./circle-check-big-CB5p8Klb.js";import{C as zt}from"./circle-play-DK384suo.js";import{T as Ft}from"./target-B1zI-nHp.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-Clun62gV.js";import"./index-rDJfqaGK.js";import"./floating-ui.vue-0ZArUiY9.js";import"./x-BLnECrCi.js";import"./Input.vue_vue_type_script_setup_true_lang-1axY5i_y.js";import"./index-ymXBWjcf.js";import"./shield-ByLQ2f9R.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DEG_Wv36.js";import"./chevron-right-BfbIuNo5.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-aDqgcxXL.js";import"./VisuallyHidden-D4hNOF66.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Cbbm024S.js";import"./check-Y8HDg3In.js";import"./Label.vue_vue_type_script_setup_true_lang-CnYuL5N8.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-BKV7xEtz.js";import"./index-CeoZ0Klu.js";import"./map-pin-Ppz-XqMb.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BREJC4p2.js";import"./usePermissions-CfOwIvow.js";import"./square-check-big-Bmj3P-o3.js";import"./folder-open-BO1Ubl99.js";import"./index-D73sxKyv.js";import"./RovingFocusItem-DC2uQsQI.js";import"./utils-Cg7xw1qd.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-uhTLBpnC.js";import"./layers-WU3anfUL.js";import"./zap-B8ID_w9t.js";import"./trending-up-ByyOJb84.js";import"./award-C3uHv-Fa.js";import"./hash-E0IUcO0f.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dollar-sign-BSjLa0t8.js";import"./eye-CUy0CpYk.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-DIi0zAJa.js";import"./ellipsis-Bi6i19DO.js";import"./pen-0OPf2nDR.js";import"./plus-Bflq7jJP.js";import"./copy-BsSz3zwX.js";import"./trash-2-D8-Ilnre.js";import"./calendar-days-Dv2Q17sQ.js";import"./es-BDPlFIsO.js";import"./useArrowNavigation-B5rxJs06.js";const Nt={class:"flex h-full flex-1 flex-col rounded-xl p-4"},Tt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Bt={class:"flex items-center gap-4"},Ut={class:"text-2xl font-bold text-gray-900 dark:text-white"},At={key:0,class:"text-gray-600 dark:text-gray-400 mt-1"},Lt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Mt={class:"lg:col-span-2 space-y-6"},Ht={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},Rt={class:"flex items-center gap-3"},Ot={class:"flex items-center gap-3"},Gt={key:0,class:"flex items-center gap-3"},Jt={class:"space-y-2"},Kt={class:"flex justify-between text-sm"},Qt={class:"font-medium"},Wt={key:1,class:"p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800"},Xt={class:"flex items-center gap-2"},Yt={class:"text-sm font-medium text-orange-900 dark:text-orange-100"},Zt={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},te={class:"flex items-start gap-3"},ee={class:"font-medium"},se={key:0,class:"flex items-start gap-3"},ae={class:"font-medium"},oe={key:0,class:"mt-4 pt-4 border-t flex items-center gap-3"},le={class:"font-medium ml-2"},re={class:"space-y-3"},ie={class:"text-sm text-gray-600 dark:text-gray-400"},ne={class:"font-medium text-right"},de={class:"space-y-6"},ue={key:0,class:"flex items-center gap-3"},ce={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},me={class:"font-medium"},fe={class:"text-xs text-gray-500"},ye={key:1,class:"text-gray-500"},ge={key:0},pe={class:"font-medium"},xe={class:"text-xs text-gray-500"},_e={class:"text-sm"},ve={class:"space-y-4"},be={class:"pb-4 border-b"},he={key:0,class:"flex items-center gap-3"},ke={class:"font-medium"},we={class:"text-sm text-gray-500"},$e={key:1,class:"text-gray-500"},Ce={key:0},Ee={class:"space-y-2"},De={class:"flex-1"},Ve={class:"text-sm font-medium"},je={class:"text-xs text-gray-500"},Pe={key:1},qe={class:"space-y-4"},Ie={class:"text-center"},Se={key:1},ze={class:"flex items-center justify-between w-full pr-4"},Fe={class:"flex items-center gap-3"},Ne={class:"text-left"},Te={class:"font-semibold"},Be={class:"text-sm text-gray-500"},Ue={class:"flex items-center gap-3"},Ae={class:"text-sm text-gray-600"},Le=["href"],Me={class:"text-center"},He={class:"text-center"},Re={class:"space-y-6"},Oe={class:"text-center"},ma=lt({__name:"Show",props:{proyecto:{},totales:{},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(l){const I=l,A=C("general"),y=C({contrato_id:null,fecha_inicio:null,fecha_fin:null,tipo:null,estado:null,usuario_id:null});C(!1),C(!1),C(!1),C(!1);const Z=d=>({planificacion:Ft,en_progreso:zt,pausado:Et,completado:St,cancelado:Ct})[d]||X,tt=d=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[d]||"bg-gray-100 text-gray-800",et=d=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[d]||"bg-gray-100 text-gray-800",w=d=>new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),st=d=>{if(!d)return null;const t=Math.ceil((new Date(d).getTime()-new Date().getTime())/(1e3*60*60*24));return t<0?{texto:`Vencido hace ${Math.abs(t)} días`,urgente:!0}:t===0?{texto:"Vence hoy",urgente:!0}:t===1?{texto:"Vence mañana",urgente:!0}:t<=7?{texto:`${t} días restantes`,urgente:!0}:{texto:`${t} días restantes`,urgente:!1}},$=I.proyecto.fecha_fin?st(I.proyecto.fecha_fin):null,S=N(()=>{const d=[];return I.proyecto.contratos&&I.proyecto.contratos.forEach(t=>{t.obligaciones&&t.obligaciones.forEach(_=>{_.evidencias&&_.evidencias.forEach(r=>{d.push({...r,contrato_id:t.id,contrato_numero:t.numero_contrato,contrato_nombre:t.nombre,obligacion_titulo:_.titulo,_contrato:t})})})}),d}),at=N(()=>{let d=S.value;return y.value.contrato_id&&(d=d.filter(t=>t.contrato_id===y.value.contrato_id)),y.value.tipo&&(d=d.filter(t=>t.tipo_evidencia===y.value.tipo)),y.value.estado&&(d=d.filter(t=>t.estado===y.value.estado)),y.value.usuario_id&&(d=d.filter(t=>{var _;return((_=t.usuario)==null?void 0:_.id)===y.value.usuario_id})),(y.value.fecha_inicio||y.value.fecha_fin)&&(d=d.filter(t=>{const _=new Date(t.created_at);if(y.value.fecha_inicio){const r=new Date(y.value.fecha_inicio);if(_<r)return!1}if(y.value.fecha_fin){const r=new Date(y.value.fecha_fin);if(r.setHours(23,59,59,999),_>r)return!1}return!0})),d}),L=N(()=>{const d={};return at.value.forEach(t=>{d[t.contrato_id]||(d[t.contrato_id]={contrato:t._contrato,evidencias:[]}),d[t.contrato_id].evidencias.push(t)}),Object.values(d)}),M=d=>d.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),ot=d=>{if(!d.valor)return"-";switch(d.campo_personalizado.tipo){case"checkbox":return d.valor==="1"||d.valor===!0?"Sí":"No";case"date":return w(d.valor);default:return d.valor}};return(d,t)=>{const _=rt("Info");return i(),c(k,null,[s(e(it),{title:`Mi Proyecto: ${l.proyecto.nombre}`},null,8,["title"]),s(dt,null,{default:a(()=>[o("div",Nt,[o("div",Tt,[o("div",Bt,[s(e(E),{href:"/miembro/mis-proyectos"},{default:a(()=>[s(e(F),{variant:"ghost",size:"sm"},{default:a(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=n(" Volver ",-1))]),_:1})]),_:1}),o("div",null,[o("h1",Ut,u(l.proyecto.nombre),1),l.proyecto.descripcion?(i(),c("p",At,u(l.proyecto.descripcion),1)):f("",!0)])]),l.canEdit?(i(),m(e(E),{key:0,href:`/miembro/mis-proyectos/${l.proyecto.id}/edit`},{default:a(()=>[s(e(F),null,{default:a(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=n(" Editar Proyecto ",-1))]),_:1})]),_:1},8,["href"])):f("",!0)]),s(e(ct),{modelValue:A.value,"onUpdate:modelValue":t[3]||(t[3]=r=>A.value=r),class:"w-full"},{default:a(()=>[s(e(mt),{class:"grid w-full grid-cols-5"},{default:a(()=>[s(e(P),{value:"general"},{default:a(()=>[s(_,{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=n(" General ",-1))]),_:1}),s(e(P),{value:"usuarios"},{default:a(()=>{var r;return[s(e($t),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=n(" Usuarios ",-1)),(r=l.totales)!=null&&r.usuarios?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(u(l.totales.usuarios),1)]),_:1})):f("",!0)]}),_:1}),s(e(P),{value:"contratos"},{default:a(()=>{var r;return[s(e(B),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=n(" Contratos ",-1)),(r=l.totales)!=null&&r.contratos?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(u(l.totales.contratos),1)]),_:1})):f("",!0)]}),_:1}),s(e(P),{value:"evidencias"},{default:a(()=>{var r;return[s(e(U),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=n(" Evidencias ",-1)),(r=l.totales)!=null&&r.evidencias?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(u(l.totales.evidencias),1)]),_:1})):f("",!0)]}),_:1}),s(e(P),{value:"hitos"},{default:a(()=>{var r;return[s(e(W),{class:"mr-2 h-4 w-4"}),t[10]||(t[10]=n(" Hitos y Entregables ",-1)),(r=l.totales)!=null&&r.hitos?(i(),m(e(v),{key:0,class:"ml-2 h-5 px-1.5",variant:"secondary"},{default:a(()=>[n(u(l.totales.hitos),1)]),_:1})):f("",!0)]}),_:1})]),_:1}),s(e(q),{value:"general",class:"space-y-4 mt-6"},{default:a(()=>[o("div",Lt,[o("div",Mt,[s(e(p),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[11]||(t[11]=[n("Estado del Proyecto",-1)])]),_:1})]),_:1}),s(e(x),{class:"space-y-4"},{default:a(()=>[o("div",Ht,[o("div",Rt,[(i(),m(nt(Z(l.proyecto.estado)),{class:"h-5 w-5 text-gray-500"})),t[12]||(t[12]=o("span",{class:"font-medium"},"Estado:",-1)),s(e(v),{class:z(tt(l.proyecto.estado))},{default:a(()=>[n(u(l.proyecto.estado_label),1)]),_:1},8,["class"])]),o("div",Ot,[s(e(Dt),{class:"h-5 w-5 text-gray-500"}),t[13]||(t[13]=o("span",{class:"font-medium"},"Prioridad:",-1)),s(e(v),{class:z(et(l.proyecto.prioridad))},{default:a(()=>[n(u(l.proyecto.prioridad_label),1)]),_:1},8,["class"])])]),l.proyecto.etiquetas&&l.proyecto.etiquetas.length>0?(i(),c("div",Gt,[s(e(Vt),{class:"h-5 w-5 text-gray-500"}),t[14]||(t[14]=o("span",{class:"font-medium"},"Etiquetas:",-1)),s(pt,{etiquetas:l.proyecto.etiquetas,"max-visible":5,size:"sm"},null,8,["etiquetas"])])):f("",!0),o("div",Jt,[o("div",Kt,[t[15]||(t[15]=o("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso del proyecto",-1)),o("span",Qt,u(l.proyecto.porcentaje_completado)+"%",1)]),s(e(ut),{value:l.proyecto.porcentaje_completado,class:"h-3"},null,8,["value"]),t[16]||(t[16]=o("p",{class:"text-xs text-gray-500"}," Calculado automáticamente según las fechas ",-1))]),e($)&&e($).urgente?(i(),c("div",Wt,[o("div",Xt,[s(e(X),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"}),o("span",Yt,u(e($).texto),1)])])):f("",!0)]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[17]||(t[17]=[n("Cronograma",-1)])]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[o("div",Zt,[o("div",te,[s(e(Y),{class:"h-5 w-5 text-gray-500 mt-0.5"}),o("div",null,[t[18]||(t[18]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de inicio",-1)),o("p",ee,u(w(l.proyecto.fecha_inicio)),1)])]),l.proyecto.fecha_fin?(i(),c("div",se,[s(e(Y),{class:"h-5 w-5 text-gray-500 mt-0.5"}),o("div",null,[t[19]||(t[19]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de fin",-1)),o("p",ae,u(w(l.proyecto.fecha_fin)),1),e($)?(i(),c("p",{key:0,class:z(["text-xs mt-1",e($).urgente?"text-orange-600":"text-gray-500"])},u(e($).texto),3)):f("",!0)])])):f("",!0)]),l.proyecto.duracion_dias?(i(),c("div",oe,[s(e(jt),{class:"h-5 w-5 text-gray-500"}),o("div",null,[t[20]||(t[20]=o("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Duración estimada:",-1)),o("span",le,u(l.proyecto.duracion_dias)+" días",1)])])):f("",!0)]),_:1})]),_:1}),l.proyecto.campos_personalizados&&l.proyecto.campos_personalizados.length>0?(i(),m(e(p),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[21]||(t[21]=[n("Información Adicional",-1)])]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[o("div",re,[(i(!0),c(k,null,D(l.proyecto.campos_personalizados,r=>(i(),c("div",{key:r.id,class:"flex justify-between py-2 border-b last:border-b-0"},[o("span",ie,u(r.campo_personalizado.nombre),1),o("span",ne,u(ot(r)),1)]))),128))])]),_:1})]),_:1})):f("",!0)]),o("div",de,[s(e(p),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[22]||(t[22]=[n("Información del Proyecto",-1)])]),_:1})]),_:1}),s(e(x),{class:"space-y-4"},{default:a(()=>[o("div",null,[t[23]||(t[23]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Responsable",-1)),l.proyecto.responsable?(i(),c("div",ue,[o("div",ce,[s(e(Pt),{class:"h-5 w-5 text-gray-500"})]),o("div",null,[o("p",me,u(l.proyecto.responsable.name),1),o("p",fe,u(l.proyecto.responsable.email),1)])])):(i(),c("p",ye,"Sin asignar"))]),l.proyecto.creador?(i(),c("div",ge,[t[24]||(t[24]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Creado por",-1)),o("p",pe,u(l.proyecto.creador.name),1),o("p",xe,u(w(l.proyecto.created_at)),1)])):f("",!0),o("div",null,[t[25]||(t[25]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Última actualización",-1)),o("p",_e,u(w(l.proyecto.updated_at)),1)])]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[26]||(t[26]=[n("Acciones",-1)])]),_:1})]),_:1}),s(e(x),{class:"space-y-2"},{default:a(()=>[s(e(E),{href:"/miembro/mis-proyectos",class:"block"},{default:a(()=>[s(e(F),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=n(" Volver al listado ",-1))]),_:1})]),_:1}),l.canEdit?(i(),m(e(E),{key:0,href:`/miembro/mis-proyectos/${l.proyecto.id}/edit`,class:"block"},{default:a(()=>[s(e(F),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),t[28]||(t[28]=n(" Editar proyecto ",-1))]),_:1})]),_:1},8,["href"])):f("",!0)]),_:1})]),_:1})])])]),_:1}),s(e(q),{value:"usuarios",class:"space-y-4 mt-6"},{default:a(()=>[s(e(p),null,{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[29]||(t[29]=[n("Usuarios del Proyecto",-1)])]),_:1}),s(e(T),null,{default:a(()=>[...t[30]||(t[30]=[n(" Personas asignadas y colaborando en este proyecto ",-1)])]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[o("div",ve,[o("div",be,[t[32]||(t[32]=o("h4",{class:"text-sm font-medium mb-3"},"Responsable del Proyecto",-1)),l.proyecto.responsable?(i(),c("div",he,[s(e(O),{class:"h-10 w-10"},{default:a(()=>[s(e(G),{src:l.proyecto.responsable.avatar},null,8,["src"]),s(e(J),null,{default:a(()=>[n(u(M(l.proyecto.responsable.name)),1)]),_:1})]),_:1}),o("div",null,[o("p",ke,u(l.proyecto.responsable.name),1),o("p",we,u(l.proyecto.responsable.email),1)]),s(e(v),{class:"ml-auto"},{default:a(()=>[...t[31]||(t[31]=[n("Responsable",-1)])]),_:1})])):(i(),c("p",$e,"Sin responsable asignado"))]),l.proyecto.participantes&&l.proyecto.participantes.length>0?(i(),c("div",Ce,[t[33]||(t[33]=o("h4",{class:"text-sm font-medium mb-3"},"Participantes",-1)),o("div",Ee,[(i(!0),c(k,null,D(l.proyecto.participantes,r=>{var g;return i(),c("div",{key:r.id,class:"flex items-center gap-3 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800"},[s(e(O),{class:"h-8 w-8"},{default:a(()=>[s(e(G),{src:r.avatar},null,8,["src"]),s(e(J),null,{default:a(()=>[n(u(M(r.name)),1)]),_:2},1024)]),_:2},1024),o("div",De,[o("p",Ve,u(r.name),1),o("p",je,u(r.email),1)]),(g=r.pivot)!=null&&g.rol?(i(),m(e(v),{key:0,variant:"outline",class:"text-xs"},{default:a(()=>[n(u(r.pivot.rol),1)]),_:2},1024)):f("",!0)])}),128))])])):(i(),c("div",Pe,[...t[34]||(t[34]=[o("p",{class:"text-gray-500 text-center py-4"},"No hay participantes adicionales",-1)])]))])]),_:1})]),_:1})]),_:1}),s(e(q),{value:"contratos",class:"space-y-4 mt-6"},{default:a(()=>[l.proyecto.contratos&&l.proyecto.contratos.length>0?(i(),m(e(p),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[35]||(t[35]=[n("Contratos del Proyecto",-1)])]),_:1}),s(e(T),null,{default:a(()=>[...t[36]||(t[36]=[n(" Lista de contratos asociados a este proyecto ",-1)])]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[o("div",qe,[(i(!0),c(k,null,D(l.proyecto.contratos,r=>(i(),m(xt,{key:r.id,contrato:r,"proyecto-id":l.proyecto.id,"can-edit":!1,"show-actions":!0},null,8,["contrato","proyecto-id"]))),128))])]),_:1})]),_:1})):(i(),m(e(p),{key:1},{default:a(()=>[s(e(x),{class:"py-8"},{default:a(()=>[o("div",Ie,[s(e(B),{class:"mx-auto h-12 w-12 text-gray-400"}),t[37]||(t[37]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay contratos asociados",-1))])]),_:1})]),_:1}))]),_:1}),s(e(q),{value:"evidencias",class:"space-y-4 mt-6"},{default:a(()=>[S.value.length>0?(i(),m(vt,{key:0,modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r),contratos:l.proyecto.contratos||[],evidencias:S.value},null,8,["modelValue","contratos","evidencias"])):f("",!0),L.value.length>0?(i(),c("div",Se,[s(e(bt),{type:"multiple",class:"space-y-4",collapsible:""},{default:a(()=>[(i(!0),c(k,null,D(L.value,r=>(i(),m(e(ht),{key:r.contrato.id,value:`contrato-${r.contrato.id}`,class:"border rounded-lg bg-card"},{default:a(()=>[s(e(kt),{class:"px-4 py-3 hover:no-underline hover:bg-gray-50 dark:hover:bg-gray-800 rounded-t-lg"},{default:a(()=>[o("div",ze,[o("div",Fe,[s(e(B),{class:"h-5 w-5 text-gray-500"}),o("div",Ne,[o("div",Te,u(r.contrato.nombre),1),o("div",Be,u(r.contrato.numero_contrato||"Sin número"),1)])]),o("div",Ue,[s(e(v),{variant:"secondary"},{default:a(()=>[n(u(r.evidencias.length)+" evidencia(s) ",1)]),_:2},1024),s(e(E),{href:`/miembro/mis-contratos/${r.contrato.id}`,onClick:t[1]||(t[1]=H(()=>{},["stop"])),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},{default:a(()=>[t[38]||(t[38]=n(" Ver contrato ",-1)),s(e(qt),{class:"h-3 w-3"})]),_:1},8,["href"])])])]),_:2},1024),s(e(wt),{class:"px-4 pb-4"},{default:a(()=>[s(e(ft),null,{default:a(()=>[s(e(yt),null,{default:a(()=>[s(e(R),null,{default:a(()=>[s(e(V),null,{default:a(()=>[...t[39]||(t[39]=[n("Tipo",-1)])]),_:1}),s(e(V),null,{default:a(()=>[...t[40]||(t[40]=[n("Obligación",-1)])]),_:1}),s(e(V),null,{default:a(()=>[...t[41]||(t[41]=[n("Descripción",-1)])]),_:1}),s(e(V),null,{default:a(()=>[...t[42]||(t[42]=[n("Estado",-1)])]),_:1}),s(e(V),null,{default:a(()=>[...t[43]||(t[43]=[n("Fecha",-1)])]),_:1}),s(e(V),{class:"text-right"},{default:a(()=>[...t[44]||(t[44]=[n("Acciones",-1)])]),_:1})]),_:1})]),_:1}),s(e(gt),null,{default:a(()=>[(i(!0),c(k,null,D(r.evidencias,g=>(i(),m(e(R),{key:g.id,class:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800"},{default:a(()=>[s(e(E),{href:`/miembro/mis-contratos/${g.contrato_id}/evidencias/${g.id}`,class:"contents"},{default:a(()=>[s(e(j),null,{default:a(()=>[s(e(v),{variant:"outline"},{default:a(()=>[n(u(g.tipo_evidencia),1)]),_:2},1024)]),_:2},1024),s(e(j),null,{default:a(()=>[n(u(g.obligacion_titulo),1)]),_:2},1024),s(e(j),null,{default:a(()=>[o("span",Ae,u(g.descripcion||"-"),1)]),_:2},1024),s(e(j),null,{default:a(()=>[s(e(v),{class:z({"bg-yellow-100 text-yellow-800":g.estado==="pendiente","bg-green-100 text-green-800":g.estado==="aprobada","bg-red-100 text-red-800":g.estado==="rechazada"})},{default:a(()=>[n(u(g.estado),1)]),_:2},1032,["class"])]),_:2},1024),s(e(j),null,{default:a(()=>[n(u(w(g.created_at)),1)]),_:2},1024),s(e(j),{class:"text-right"},{default:a(()=>[g.archivo_url?(i(),c("a",{key:0,href:g.archivo_url,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800",onClick:t[2]||(t[2]=H(()=>{},["stop"]))},[s(e(It),{class:"h-4 w-4"})],8,Le)):f("",!0)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])):S.value.length===0?(i(),m(e(p),{key:2},{default:a(()=>[s(e(x),{class:"py-8"},{default:a(()=>[o("div",Me,[s(e(U),{class:"mx-auto h-12 w-12 text-gray-400"}),t[45]||(t[45]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias cargadas",-1)),t[46]||(t[46]=o("p",{class:"text-xs text-gray-500 mt-1"},"Las evidencias se cargan desde los contratos",-1))])]),_:1})]),_:1})):(i(),m(e(p),{key:3},{default:a(()=>[s(e(x),{class:"py-8"},{default:a(()=>[o("div",He,[s(e(U),{class:"mx-auto h-12 w-12 text-gray-400"}),t[47]||(t[47]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay evidencias que coincidan con los filtros",-1)),t[48]||(t[48]=o("p",{class:"text-xs text-gray-500 mt-1"},"Intenta ajustar los criterios de búsqueda",-1))])]),_:1})]),_:1}))]),_:1}),s(e(q),{value:"hitos",class:"space-y-4 mt-6"},{default:a(()=>[l.proyecto.hitos&&l.proyecto.hitos.length>0?(i(),m(e(p),{key:0},{default:a(()=>[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[...t[49]||(t[49]=[n("Hitos y Entregables",-1)])]),_:1}),s(e(T),null,{default:a(()=>[...t[50]||(t[50]=[n(" Seguimiento de los hitos y entregables del proyecto ",-1)])]),_:1})]),_:1}),s(e(x),null,{default:a(()=>[o("div",Re,[(i(!0),c(k,null,D(l.proyecto.hitos,r=>(i(),m(_t,{key:r.id,hito:r,"show-entregables":!0,"can-edit":!1},null,8,["hito"]))),128))])]),_:1})]),_:1})):(i(),m(e(p),{key:1},{default:a(()=>[s(e(x),{class:"py-8"},{default:a(()=>[o("div",Oe,[s(e(W),{class:"mx-auto h-12 w-12 text-gray-400"}),t[51]||(t[51]=o("p",{class:"mt-2 text-sm text-gray-600"},"No hay hitos definidos",-1))])]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64)}}});export{ma as default};
