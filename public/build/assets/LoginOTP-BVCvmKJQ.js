import{d as N,V as ce,c as A,k as B,w as ie,j as R,o as s,e as g,E as z,b as u,u as e,A as O,p as K,x as H,y as L,J as pe,aa as me,a as c,i as T,g as v,f as p,t as x,q as Z,C as U,m as fe,h as ee,n as ve,F as _e,r as ge}from"./app-CNYld6dA.js";import{_ as te}from"./InputError.vue_vue_type_script_setup_true_lang-DmuPJfrn.js";import{_ as he}from"./TextLink.vue_vue_type_script_setup_true_lang-BkxUeXsm.js";import{a as ye,b as be,c as xe,_ as we,d as ke}from"./_plugin-vue_export-helper-B8fbgIu5.js";import{_ as ae,a as se}from"./index-CIN_TAK0.js";import{_ as oe}from"./AlertTitle.vue_vue_type_script_setup_true_lang-DdId5iUY.js";import{b as Ce,c as Ie,u as Ee,g as $e,_ as Ve,C as Pe,e as qe,d as re}from"./index--QcdRQwp.js";import{P as Q,_ as j,a as G}from"./createLucideIcon-b-BO50eM.js";import{_ as Ae}from"./Progress.vue_vue_type_script_setup_true_lang-DVN-XHsn.js";import{_ as le}from"./Skeleton.vue_vue_type_script_setup_true_lang-CQhzdpGn.js";import{L as F}from"./loader-circle-Ds5lg-Gg.js";import{C as Re}from"./clock-DdTy_TbQ.js";import{T as Be}from"./timer-Cl1XUiTD.js";import{I as Me}from"./info-DTNt3qXP.js";import{R as Se}from"./refresh-cw-BsMhVjhb.js";import{h as Te,u as Ne,n as J,_ as ne,a as De}from"./Label.vue_vue_type_script_setup_true_lang-DCYW77KH.js";import{V as je}from"./VisuallyHiddenInput-BibU5w6w.js";import{_ as Fe}from"./AuthLayout.vue_vue_type_script_setup_true_lang-DhHwgYe6.js";import{M as ze}from"./mail-BFVzjohX.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C74tjGUn.js";const Oe=["INPUT","TEXTAREA"];function Le(_,n,t,i={}){if(!n||i.enableIgnoredElement&&Oe.includes(n.nodeName))return null;const{arrowKeyOptions:m="both",attributeName:h="[data-reka-collection-item]",itemsArray:o=[],loop:y=!0,dir:b="ltr",preventScroll:w=!0,focus:C=!1}=i,[P,E,q,V,S,I]=[_.key==="ArrowRight",_.key==="ArrowLeft",_.key==="ArrowUp",_.key==="ArrowDown",_.key==="Home",_.key==="End"],r=q||V,d=P||E;if(!S&&!I&&(!r&&!d||m==="vertical"&&d||m==="horizontal"&&r))return null;const a=o;if(!a.length)return null;w&&_.preventDefault();let k=null;return d||r?k=de(a,n,{goForward:r?V:b==="ltr"?P:E,loop:y}):S?k=a.at(0)||null:I&&(k=a.at(-1)||null),C&&(k==null||k.focus()),k}function de(_,n,t,i=_.length){if(--i===0)return null;const m=_.indexOf(n),h=t.goForward?m+1:m-1;if(!t.loop&&(h<0||h>=_.length))return null;const o=(h+_.length)%_.length,y=_[o];return y?y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false"?de(_,y,t,i):y:null}const[Ue,We]=Ie("PinInputRoot");var Ke=N({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:Array,required:!1},placeholder:{type:String,required:!1,default:""},mask:{type:Boolean,required:!1},otp:{type:Boolean,required:!1},type:{type:null,required:!1,default:"text"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","complete"],setup(_,{emit:n}){const t=_,i=n,{mask:m,otp:h,placeholder:o,type:y,disabled:b,dir:w}=ce(t),{forwardRef:C}=Te(),P=Ce(w),E=Ne(t,"modelValue",i,{defaultValue:t.defaultValue??[],passive:t.modelValue===void 0}),q=A(()=>Array.isArray(E.value)?[...E.value]:[]),V=B(new Set);function S(d){V.value.add(d)}const I=A(()=>t.type==="number"),r=A(()=>q.value.filter(a=>!!a||I.value&&a===0).length===V.value.size);return ie(E,()=>{r.value&&i("complete",E.value)},{deep:!0}),We({modelValue:E,currentModelValue:q,mask:m,otp:h,placeholder:o,type:y,dir:P,disabled:b,isCompleted:r,inputElements:V,onInputElementChange:S,isNumericMode:I}),(d,a)=>(s(),R(e(Q),O(d.$attrs,{ref:e(C),dir:e(P),"data-complete":r.value?"":void 0,"data-disabled":e(b)?"":void 0}),{default:g(()=>[z(d.$slots,"default",{modelValue:e(E)}),u(je,{id:d.id,as:"input",feature:"focusable",tabindex:"-1",value:q.value.join(""),name:d.name??"",disabled:e(b),required:d.required,onFocus:a[0]||(a[0]=k=>{var l,f;return(f=(l=Array.from(V.value))==null?void 0:l[0])==null?void 0:f.focus()})},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),He=Ke,Qe=N({__name:"PinInputInput",props:{index:{type:Number,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(_){const n=_,t=Ue(),i=A(()=>Array.from(t.inputElements.value)),m=A(()=>t.currentModelValue.value[n.index]),h=A(()=>n.disabled||t.disabled.value),o=A(()=>t.otp.value),y=A(()=>t.mask.value),{primitiveElement:b,currentElement:w}=Ee();function C(l){var M;const f=l.target;if((((M=l.data)==null?void 0:M.length)??0)>1){d(f.value);return}if(t.isNumericMode.value&&!/^\d*$/.test(f.value)){f.value=f.value.replace(/\D/g,"");return}f.value=l.data??"",k(n.index,f.value);const $=i.value[n.index+1];$&&$.focus()}function P(){const l=w.value;pe(()=>{l&&!l.value&&(l.placeholder=t.placeholder.value)})}function E(l){Le(l,$e(),void 0,{itemsArray:i.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:t.dir.value})}function q(l){if(l.preventDefault(),l.target.value)k(n.index,"");else{const M=i.value[n.index-1];M&&(M.focus(),k(n.index-1,""))}}function V(l){l.key==="Delete"&&(l.preventDefault(),k(n.index,""))}function S(l){const f=l.target;f.setSelectionRange(1,1),f.value||(f.placeholder="")}function I(l){P()}function r(l){l.preventDefault();const f=l.clipboardData;if(!f)return;const $=f.getData("text");d($)}function d(l){var X;const f=[...t.currentModelValue.value],$=l.length>=i.value.length?0:n.index,M=Math.min($+l.length,i.value.length);for(let D=$;D<M;D++){const ue=i.value[D],Y=l[D-$];t.isNumericMode.value&&!/^\d*$/.test(Y)||(f[D]=Y,ue.focus())}t.modelValue.value=f,(X=i.value[M])==null||X.focus()}function a(l){let f=l.length-1;for(;f>=0&&l[f]==="";)l.pop(),f--;return l}function k(l,f){const $=[...t.currentModelValue.value];if(t.isNumericMode.value){const M=+f;f===""||isNaN(M)?delete $[l]:$[l]=M}else $[l]=f;t.modelValue.value=a($)}return ie(m,()=>{m.value||P()}),K(()=>{t.onInputElementChange(w.value)}),H(()=>{var l;(l=t.inputElements)==null||l.value.delete(w.value)}),(l,f)=>(s(),R(e(Q),{ref_key:"primitiveElement",ref:b,autocapitalize:"none",as:l.as,"as-child":l.asChild,autocomplete:o.value?"one-time-code":"false",type:y.value?"password":"text",inputmode:e(t).isNumericMode.value?"numeric":"text",pattern:e(t).isNumericMode.value?"[0-9]*":void 0,placeholder:e(t).placeholder.value,value:m.value,disabled:h.value,"data-disabled":h.value?"":void 0,"data-complete":e(t).isCompleted.value?"":void 0,"aria-label":`pin input ${l.index+1} of ${i.value.length}`,onInput:f[0]||(f[0]=$=>C($)),onKeydown:[L(E,["left","right","up","down","home","end"]),L(q,["backspace"]),L(V,["delete"])],onFocus:S,onBlur:I,onPaste:r},{default:g(()=>[z(l.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),Ge=Qe;const Je={key:0,class:"mt-4"},Xe={key:0,class:"space-y-3"},Ye={key:1,class:"space-y-4"},Ze={key:0,class:"space-y-2"},et={class:"flex items-center justify-between"},tt={class:"text-sm text-muted-foreground"},at={key:1,class:"space-y-2"},st={key:2,class:"space-y-2"},ot={class:"flex items-center justify-between"},lt={class:"text-sm font-medium"},nt={class:"flex items-center gap-2 text-xs text-muted-foreground"},it={key:3,class:"mt-4 pt-4 border-t"},rt={key:2,class:"text-center py-4"},dt=N({__name:"OTPQueueStatus",props:{type:{},identifier:{},autoRefresh:{type:Boolean,default:!0},refreshInterval:{default:5e3},showRateLimitInfo:{type:Boolean,default:!0}},emits:["statusUpdate","error"],setup(_,{emit:n}){const t=_,i=n,m=B(!1),h=B(!1),o=B(null),y=B(5),b=B(null),w=B(null),C=A(()=>{if(!o.value||o.value.total_ahead===0)return 100;const I=o.value.position+10,r=I-o.value.position;return Math.min(100,Math.round(r/I*100))}),P=A(()=>t.type==="email"?2:5),E=async()=>{var I;m.value=!0;try{const r=await Z.get(`/api/queue/otp/position/${encodeURIComponent(t.identifier)}`,{params:{type:t.type}});r.data.success&&(o.value=r.data.data,h.value=!0,i("statusUpdate",o.value),o.value.position===0&&V())}catch(r){if(((I=r.response)==null?void 0:I.status)===404)try{const d=await Z.get("/api/queue/otp/estimate",{params:{type:t.type}});d.data.success&&(o.value=d.data.data,h.value=!0,i("statusUpdate",o.value))}catch(d){console.error("Error obteniendo estimación:",d),i("error",d)}else console.error("Error verificando estado:",r),i("error",r)}finally{m.value=!1}},q=()=>{t.autoRefresh&&(b.value=window.setInterval(()=>{E(),S()},t.refreshInterval),w.value=window.setInterval(()=>{y.value=Math.max(0,y.value-1)},1e3))},V=()=>{b.value&&(clearInterval(b.value),b.value=null),w.value&&(clearInterval(w.value),w.value=null)},S=()=>{y.value=Math.floor(t.refreshInterval/1e3)};return K(()=>{E(),q()}),H(()=>{V()}),(I,r)=>(s(),R(me,{name:"fade"},{default:g(()=>[h.value?(s(),c("div",Je,[u(e(we),null,{default:g(()=>[u(e(ye),null,{default:g(()=>[u(e(be),{class:"flex items-center gap-2"},{default:g(()=>[m.value?(s(),R(e(F),{key:0,class:"h-4 w-4 animate-spin"})):(s(),R(e(Re),{key:1,class:"h-4 w-4"})),r[0]||(r[0]=v(" Estado de envío de tu código "))]),_:1})]),_:1}),u(e(xe),null,{default:g(()=>[m.value?(s(),c("div",Xe,[u(e(le),{class:"h-4 w-full"}),u(e(le),{class:"h-4 w-3/4"})])):o.value?(s(),c("div",Ye,[o.value.position>1?(s(),c("div",Ze,[p("div",et,[r[1]||(r[1]=p("span",{class:"text-sm text-muted-foreground"},"Posición en cola",-1)),u(e(Ve),{variant:"secondary"},{default:g(()=>[v(x(o.value.position),1)]),_:1})]),u(e(Ae),{value:C.value,class:"h-2"},null,8,["value"]),p("p",tt,x(o.value.total_ahead)+" personas delante de ti ",1)])):o.value.position===1?(s(),c("div",at,[u(e(ae),null,{default:g(()=>[u(e(Pe),{class:"h-4 w-4"}),u(e(oe),null,{default:g(()=>r[2]||(r[2]=[v("Procesando tu solicitud")])),_:1}),u(e(se),null,{default:g(()=>r[3]||(r[3]=[v(" Tu código está siendo enviado en este momento... ")])),_:1})]),_:1})])):T("",!0),o.value.estimated_seconds>0?(s(),c("div",st,[p("div",ot,[r[4]||(r[4]=p("span",{class:"text-sm text-muted-foreground"},"Tiempo estimado",-1)),p("span",lt,x(o.value.estimated_time),1)]),p("div",nt,[u(e(Be),{class:"h-3 w-3"}),p("span",null,"Actualizando en "+x(y.value)+"s",1)])])):T("",!0),I.showRateLimitInfo?(s(),c("div",it,[u(e(ae),{variant:"info"},{default:g(()=>[u(e(Me),{class:"h-4 w-4"}),u(e(oe),null,{default:g(()=>r[5]||(r[5]=[v("¿Por qué la espera?")])),_:1}),u(e(se),null,{default:g(()=>[v(" Para garantizar la entrega confiable de mensajes, procesamos "+x(P.value)+" "+x(I.type==="email"?"correos":"mensajes")+" por segundo. Esto nos ayuda a mantener un servicio estable para todos. ",1)]),_:1})]),_:1})])):T("",!0)])):(s(),c("div",rt,[r[7]||(r[7]=p("p",{class:"text-sm text-muted-foreground"}," No se pudo obtener el estado de la cola ",-1)),u(e(j),{onClick:E,variant:"ghost",size:"sm",class:"mt-2"},{default:g(()=>[u(e(Se),{class:"h-3 w-3 mr-2"}),r[6]||(r[6]=v(" Reintentar "))]),_:1})]))]),_:1})]),_:1})])):T("",!0)]),_:1}))}}),W=ke(dt,[["__scopeId","data-v-f9ac226f"]]),ut=N({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","complete"],setup(_,{emit:n}){const t=_,i=n,m=J(t,"class"),h=qe(m,i);return(o,y)=>(s(),R(e(He),O({"data-slot":"pin-input"},e(h),{class:e(G)("flex items-center gap-2 has-disabled:opacity-50 disabled:cursor-not-allowed",t.class)}),{default:g(()=>[z(o.$slots,"default")]),_:3},16,["class"]))}}),ct=N({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(_){const n=_,t=J(n,"class"),i=re(t);return(m,h)=>(s(),R(e(Q),O({"data-slot":"pin-input-group"},e(i),{class:e(G)("flex items-center",n.class)}),{default:g(()=>[z(m.$slots,"default")]),_:3},16,["class"]))}}),pt=N({__name:"PinInputSlot",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(_){const n=_,t=J(n,"class"),i=re(t);return(m,h)=>(s(),R(e(Ge),O({"data-slot":"pin-input-slot"},e(i),{class:e(G)("border-input focus:border-ring focus:ring-ring/50 focus:aria-invalid:ring-destructive/20 dark:bg-input/30 dark:focus:aria-invalid:ring-destructive/40 aria-invalid:border-destructive focus:aria-invalid:border-destructive relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none text-center first:rounded-l-md first:border-l last:rounded-r-md focus:z-10 focus:ring-[3px]",n.class)}),null,16,["class"]))}}),mt={key:0,class:"mb-4 text-center text-muted-foreground"},ft={key:0},vt={key:0},_t={key:1},gt={key:2},ht={key:3},yt={key:1},bt={key:1,class:"mb-4 text-center text-muted-foreground"},xt={key:0},wt={key:1},kt={key:2},Ct={key:2,class:"mb-4 text-center text-sm font-medium text-green-600"},It={class:"grid gap-6"},Et={class:"grid gap-2"},$t={class:"relative"},Vt={class:"grid gap-6"},Pt={class:"text-center"},qt={class:"text-sm text-muted-foreground"},At={key:0},Rt={key:0},Bt={class:"font-medium"},Mt={key:1},St={class:"font-medium"},Tt={key:2},Nt={class:"font-medium"},Dt={key:1},jt={key:0},Ft={class:"font-medium"},zt={key:1},Ot={class:"font-medium"},Lt={class:"font-medium"},Ut={key:2},Wt={class:"font-medium"},Kt={class:"font-medium"},Ht={key:0},Qt={key:1},Gt={class:"grid gap-2"},Jt={class:"flex justify-center"},Xt={class:"flex flex-col gap-3"},Yt={class:"flex flex-col gap-2 text-center"},Zt={key:5,class:"mt-6 text-center text-sm text-muted-foreground"},ea={class:"mt-6 text-center text-xs text-muted-foreground"},ta={key:0},aa={key:1},ka=N({__name:"LoginOTP",props:{status:{},authConfig:{},censoredEmail:{},otpCredential:{},otpChannel:{},whatsappEnabled:{type:Boolean}},setup(_){const n=_,t=B(n.censoredEmail?"otp":"credential"),i=B(n.censoredEmail||""),m=A(()=>n.authConfig||{login_type:"email",input_type:"email",placeholder:"correo@ejemplo.com",pattern:null,label:"Correo Electrónico"}),h=U({credential:""}),o=U({credential:n.otpCredential||"",otp_code:[]}),y=U({credential:"",otp_code:""}),b=B(!1),w=B(0),C=B(null),P=A(()=>w.value===0),E=A(()=>w.value>0?`Reenviar en ${w.value}s`:"Reenviar código"),q=(d=60)=>{w.value=d,C.value&&clearInterval(C.value),C.value=window.setInterval(()=>{w.value--,w.value<=0&&(clearInterval(C.value),C.value=null)},1e3)},V=()=>{b.value=!0,h.post(route("auth.request-otp"),{onSuccess:d=>{d.props&&d.props.censoredEmail&&(i.value=d.props.censoredEmail),t.value="otp",o.credential=h.credential,o.clearErrors(),q(60)},onError:()=>{},onFinish:()=>{b.value=!1}})},S=()=>{const d=o.otp_code.join("");y.credential=o.credential,y.otp_code=d,y.post(route("auth.verify-otp"),{onSuccess:()=>{},onError:()=>{o.otp_code=[]}})},I=()=>{P.value&&(b.value=!0,o.post(route("auth.resend-otp"),{onSuccess:d=>{d.props&&d.props.censoredEmail&&(i.value=d.props.censoredEmail),q(60)},onFinish:()=>{b.value=!1}}))},r=()=>{t.value="credential",o.reset(),C.value&&(clearInterval(C.value),C.value=null),w.value=0};return K(()=>{t.value==="otp"&&q(60)}),H(()=>{C.value&&clearInterval(C.value)}),(d,a)=>(s(),R(Fe,{title:t.value==="credential"?"Iniciar Sesión":"Verificar Código"},{default:g(()=>[u(e(fe),{title:"Iniciar Sesión"}),t.value==="credential"?(s(),c("div",mt,[m.value.login_type==="documento"?(s(),c("p",ft,[a[2]||(a[2]=v(" Ingresa tu documento de identidad para recibir el código de verificación ")),d.whatsappEnabled?n.otpChannel==="whatsapp"?(s(),c("strong",_t,"vía WhatsApp")):n.otpChannel==="both"?(s(),c("strong",gt,"vía correo electrónico y WhatsApp")):(s(),c("strong",ht,"vía correo electrónico")):(s(),c("strong",vt,"vía correo electrónico"))])):(s(),c("p",yt," Ingresa tu "+x(m.value.label.toLowerCase())+" para recibir el código de verificación ",1))])):(s(),c("div",bt,[n.otpChannel==="whatsapp"?(s(),c("p",xt,a[3]||(a[3]=[v(" Ingresa el código de 6 dígitos enviado a tu "),p("strong",null,"WhatsApp",-1)]))):n.otpChannel==="both"?(s(),c("p",wt,a[4]||(a[4]=[v(" Ingresa el código de 6 dígitos enviado a tu "),p("strong",null,"correo y WhatsApp",-1)]))):(s(),c("p",kt,a[5]||(a[5]=[v(" Ingresa el código de 6 dígitos enviado a tu "),p("strong",null,"correo",-1)])))])),d.status?(s(),c("div",Ct,x(d.status),1)):T("",!0),t.value==="credential"?(s(),c("form",{key:3,onSubmit:ee(V,["prevent"]),class:"flex flex-col gap-6"},[p("div",It,[p("div",Et,[u(e(ne),{for:"credential"},{default:g(()=>[v(x(m.value.label),1)]),_:1}),p("div",$t,[m.value.login_type==="email"?(s(),R(e(ze),{key:0,class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})):T("",!0),u(e(De),{id:"credential",type:m.value.input_type,required:"",autofocus:"",tabindex:"1",autocomplete:m.value.login_type==="email"?"email":"off",inputmode:m.value.login_type==="documento"?"numeric":void 0,modelValue:e(h).credential,"onUpdate:modelValue":a[0]||(a[0]=k=>e(h).credential=k),placeholder:m.value.placeholder,pattern:m.value.pattern,class:ve({"pl-10":m.value.login_type==="email"})},null,8,["type","autocomplete","inputmode","modelValue","placeholder","pattern","class"])]),u(te,{message:e(h).errors.credential},null,8,["message"])]),u(e(j),{type:"submit",class:"mt-4 w-full",tabindex:"2",disabled:e(h).processing||b.value},{default:g(()=>[e(h).processing||b.value?(s(),R(e(F),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):T("",!0),v(" "+x(e(h).processing||b.value?"Enviando...":"Enviar Código"),1)]),_:1},8,["disabled"])])],32)):(s(),c("form",{key:4,onSubmit:ee(S,["prevent"]),class:"flex flex-col gap-6"},[p("div",Vt,[p("div",Pt,[p("p",qt,[m.value.login_type==="email"?(s(),c("span",At,[n.otpChannel==="whatsapp"?(s(),c("span",Rt,[a[6]||(a[6]=v(" Código enviado por WhatsApp al número asociado con ")),p("span",Bt,x(i.value||e(o).credential),1)])):n.otpChannel==="both"?(s(),c("span",Mt,[a[7]||(a[7]=v(" Código enviado al email ")),p("span",St,x(i.value||e(o).credential),1),a[8]||(a[8]=v(" y WhatsApp "))])):(s(),c("span",Tt,[a[9]||(a[9]=v(" Código enviado al email ")),p("span",Nt,x(i.value||e(o).credential),1)]))])):(s(),c("span",Dt,[n.otpChannel==="whatsapp"?(s(),c("span",jt,[a[10]||(a[10]=v(" Código enviado por WhatsApp al número asociado con el documento ")),p("span",Ft,x(e(o).credential),1)])):n.otpChannel==="both"?(s(),c("span",zt,[a[11]||(a[11]=v(" Código enviado al email ")),p("span",Ot,x(i.value),1),a[12]||(a[12]=v(" y WhatsApp asociados al documento ")),p("span",Lt,x(e(o).credential),1)])):(s(),c("span",Ut,[a[13]||(a[13]=v(" Código enviado al email ")),p("span",Wt,x(i.value),1),a[14]||(a[14]=v(" asociado al documento ")),p("span",Kt,x(e(o).credential),1)]))]))])]),n.otpChannel==="both"?(s(),c("div",Ht,[u(W,{type:"email",identifier:i.value||e(o).credential,"show-rate-limit-info":!0},null,8,["identifier"]),u(W,{type:"whatsapp",identifier:e(o).credential,"show-rate-limit-info":!0},null,8,["identifier"])])):(s(),c("div",Qt,[u(W,{type:n.otpChannel==="whatsapp"?"whatsapp":"email",identifier:n.otpChannel==="whatsapp"?e(o).credential:i.value||e(o).credential,"show-rate-limit-info":!0},null,8,["type","identifier"])])),p("div",Gt,[u(e(ne),{class:"text-center"},{default:g(()=>a[15]||(a[15]=[v("Código de Verificación")])),_:1}),p("div",Jt,[u(e(ut),{modelValue:e(o).otp_code,"onUpdate:modelValue":a[1]||(a[1]=k=>e(o).otp_code=k),length:6,type:"text",placeholder:"0",class:"gap-2"},{default:g(()=>[u(e(ct),null,{default:g(()=>[(s(),c(_e,null,ge(6,(k,l)=>u(e(pt),{key:k,index:l,class:"h-12 w-12 text-lg font-medium",inputmode:"numeric"},null,8,["index"])),64))]),_:1})]),_:1},8,["modelValue"])]),u(te,{message:e(o).errors.otp_code},null,8,["message"])]),p("div",Xt,[u(e(j),{type:"submit",class:"w-full",disabled:e(y).processing||e(o).otp_code.join("").length!==6},{default:g(()=>[e(y).processing?(s(),R(e(F),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):T("",!0),v(" "+x(e(y).processing?"Verificando...":"Verificar Código"),1)]),_:1},8,["disabled"]),p("div",Yt,[u(e(j),{type:"button",variant:"ghost",size:"sm",onClick:I,disabled:!P.value||b.value},{default:g(()=>[b.value?(s(),R(e(F),{key:0,class:"mr-2 h-3 w-3 animate-spin"})):T("",!0),v(" "+x(b.value?"Enviando...":E.value),1)]),_:1},8,["disabled"]),u(e(j),{type:"button",variant:"ghost",size:"sm",onClick:r},{default:g(()=>[v(x(m.value.login_type==="email"?"Cambiar correo electrónico":"Cambiar documento"),1)]),_:1})])])])],32)),t.value==="credential"?(s(),c("div",Zt,[a[17]||(a[17]=v(" ¿Deseas ser precandidato por la Colombia Humana pero no eres militante del partido? ")),u(he,{href:d.route("register"),class:"underline underline-offset-4"},{default:g(()=>a[16]||(a[16]=[v("Regístrate aquí")])),_:1},8,["href"])])):T("",!0),p("div",ea,[t.value==="credential"?(s(),c("p",ta," Solo personas registradas como militantes pueden acceder al sistema. ")):(s(),c("p",aa," El código expira en 10 minutos. Si no lo recibes, verifica tu bandeja de spam. ")),a[18]||(a[18]=p("br",null,null,-1)),a[19]||(a[19]=p("p",null,[v(" Si necesitas ayuda escribe a "),p("b",null,"soporte@colombiahumana.co"),v(" para soporte sobre la plataforma. Para inquietudes jurídicas a "),p("b",null,"juridicoelectoral@colombiahumana.co")],-1))])]),_:1},8,["title"]))}});export{ka as default};
