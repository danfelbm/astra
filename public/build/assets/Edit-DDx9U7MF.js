import{d as F,C as L,k as M,a as u,o as n,b as d,u as e,m as R,e as t,f as l,P as C,g as i,h as T,i as f,n as c,t as m,F as v,r as S,j as D}from"./app-DUwT5XjW.js";import{_ as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-C-TXGeAC.js";import{_ as g}from"./AppLogo.vue_vue_type_script_setup_true_lang-TtBKHXHP.js";import{_ as b,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-5UaTZODP.js";import{_ as y}from"./CardDescription.vue_vue_type_script_setup_true_lang-DfN2mHkg.js";import{_ as w,a as k}from"./CardTitle.vue_vue_type_script_setup_true_lang-DawTe2K_.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-Bavi-x6e.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BVnk0AbU.js";import{_ as j,a as N,b as B,c as E,d as U}from"./SelectValue.vue_vue_type_script_setup_true_lang-B7z30C33.js";import{_ as J}from"./Switch.vue_vue_type_script_setup_true_lang-D5uNQ4SQ.js";import{_ as q}from"./GeographicSelector.vue_vue_type_script_setup_true_lang-BPNNe5Tq.js";import{A as H}from"./arrow-left-D-Ud-LWr.js";import{S as K}from"./save-HBhGoMFp.js";import"./index-lXub5hNN.js";import"./index-S1odQ9fv.js";import"./useForwardExpose-DCR6Fykl.js";import"./usePrimitiveElement-DXJMmht_.js";import"./createContext-BqTg7DGM.js";import"./Collection-C7Tlg6fc.js";import"./useNonce-CVR6C3wM.js";import"./chevron-up-mMt2Z1mV.js";import"./handleAndDispatchCustomEvent-CYpUamdb.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-B3_kincx.js";import"./VisuallyHidden-BH4I_bjZ.js";import"./VisuallyHiddenInput-BhUX47yR.js";const O={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Q={class:"flex items-center justify-between"},W={class:"grid gap-4 md:grid-cols-2"},X={key:0,class:"text-sm text-red-600 mt-1"},Y={key:0,class:"text-sm text-red-600 mt-1"},Z={key:0,class:"text-sm text-red-600 mt-1"},h={key:0,class:"text-sm text-red-600 mt-1"},ee={key:0,class:"text-sm text-red-600 mt-1"},oe={class:"grid gap-4 md:grid-cols-2"},re={key:0,class:"text-sm text-red-600 mt-1"},de={key:0,class:"text-sm text-red-600 mt-1"},te={class:"grid gap-4 md:grid-cols-2"},se={class:"flex flex-col"},le={key:0,class:"text-xs text-muted-foreground"},ie={key:1,class:"text-xs text-blue-600"},ae={key:0,class:"text-sm text-red-600 mt-1"},ne={key:0,class:"text-sm text-red-600 mt-1"},ue={class:"flex items-center space-x-2"},me={key:0,class:"text-sm text-red-600 mt-2"},fe={class:"flex items-center justify-end space-x-2"},Me=F({__name:"Edit",props:{user:{},cargos:{},roles:{}},setup(A){const a=A,G=[{title:"Admin",href:"/admin/dashboard"},{title:"Usuarios",href:"/admin/usuarios"},{title:"Editar Usuario",href:"#"}],r=L({name:a.user.name,email:a.user.email,password:"",password_confirmation:"",role_id:a.user.role_id||null,cargo_id:a.user.cargo_id?a.user.cargo_id.toString():"none",documento_identidad:a.user.documento_identidad||"",telefono:a.user.telefono||"",direccion:a.user.direccion||"",territorio_id:a.user.territorio_id||null,departamento_id:a.user.departamento_id||null,municipio_id:a.user.municipio_id||null,localidad_id:a.user.localidad_id||null,activo:a.user.activo}),$=M({territorio_id:a.user.territorio_id||void 0,departamento_id:a.user.departamento_id||void 0,municipio_id:a.user.municipio_id||void 0,localidad_id:a.user.localidad_id||void 0}),P=p=>{$.value=p,r.territorio_id=p.territorio_id||null,r.departamento_id=p.departamento_id||null,r.municipio_id=p.municipio_id||null,r.localidad_id=p.localidad_id||null},z=()=>{r.put(route("admin.usuarios.update",a.user.id))};return(p,o)=>(n(),u(v,null,[d(e(R),{title:"Editar Usuario"}),d(I,{breadcrumbs:G},{default:t(()=>[l("div",O,[l("div",Q,[o[11]||(o[11]=l("div",null,[l("h1",{class:"text-3xl font-bold tracking-tight"},"Editar Usuario"),l("p",{class:"text-muted-foreground"}," Modifica la información del usuario ")],-1)),d(e(C),{href:p.route("admin.usuarios.index")},{default:t(()=>[d(e(g),{variant:"outline"},{default:t(()=>[d(e(H),{class:"mr-2 h-4 w-4"}),o[10]||(o[10]=i(" Volver "))]),_:1})]),_:1},8,["href"])]),l("form",{onSubmit:T(z,["prevent"]),class:"space-y-6"},[d(e(b),null,{default:t(()=>[d(e(w),null,{default:t(()=>[d(e(k),null,{default:t(()=>o[12]||(o[12]=[i("Información Básica")])),_:1}),d(e(y),null,{default:t(()=>o[13]||(o[13]=[i(" Datos principales del usuario ")])),_:1})]),_:1}),d(e(V),{class:"space-y-4"},{default:t(()=>[l("div",W,[l("div",null,[d(e(_),{for:"name"},{default:t(()=>o[14]||(o[14]=[i("Nombre completo *")])),_:1}),d(e(x),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(r).name=s),type:"text",placeholder:"Juan Pérez",class:c({"border-red-500":e(r).errors.name})},null,8,["modelValue","class"]),e(r).errors.name?(n(),u("p",X,m(e(r).errors.name),1)):f("",!0)]),l("div",null,[d(e(_),{for:"email"},{default:t(()=>o[15]||(o[15]=[i("Correo electrónico *")])),_:1}),d(e(x),{id:"email",modelValue:e(r).email,"onUpdate:modelValue":o[1]||(o[1]=s=>e(r).email=s),type:"email",placeholder:"juan@ejemplo.com",class:c({"border-red-500":e(r).errors.email})},null,8,["modelValue","class"]),e(r).errors.email?(n(),u("p",Y,m(e(r).errors.email),1)):f("",!0)]),l("div",null,[d(e(_),{for:"documento_identidad"},{default:t(()=>o[16]||(o[16]=[i("Documento de identidad")])),_:1}),d(e(x),{id:"documento_identidad",modelValue:e(r).documento_identidad,"onUpdate:modelValue":o[2]||(o[2]=s=>e(r).documento_identidad=s),type:"text",placeholder:"12345678",class:c({"border-red-500":e(r).errors.documento_identidad})},null,8,["modelValue","class"]),e(r).errors.documento_identidad?(n(),u("p",Z,m(e(r).errors.documento_identidad),1)):f("",!0)]),l("div",null,[d(e(_),{for:"telefono"},{default:t(()=>o[17]||(o[17]=[i("Teléfono")])),_:1}),d(e(x),{id:"telefono",modelValue:e(r).telefono,"onUpdate:modelValue":o[3]||(o[3]=s=>e(r).telefono=s),type:"tel",placeholder:"3001234567",class:c({"border-red-500":e(r).errors.telefono})},null,8,["modelValue","class"]),e(r).errors.telefono?(n(),u("p",h,m(e(r).errors.telefono),1)):f("",!0)])]),l("div",null,[d(e(_),{for:"direccion"},{default:t(()=>o[18]||(o[18]=[i("Dirección")])),_:1}),d(e(x),{id:"direccion",modelValue:e(r).direccion,"onUpdate:modelValue":o[4]||(o[4]=s=>e(r).direccion=s),type:"text",placeholder:"Calle 123 #45-67",class:c({"border-red-500":e(r).errors.direccion})},null,8,["modelValue","class"]),e(r).errors.direccion?(n(),u("p",ee,m(e(r).errors.direccion),1)):f("",!0)])]),_:1})]),_:1}),d(e(b),null,{default:t(()=>[d(e(w),null,{default:t(()=>[d(e(k),null,{default:t(()=>o[19]||(o[19]=[i("Seguridad")])),_:1}),d(e(y),null,{default:t(()=>o[20]||(o[20]=[i(" Configuración de acceso y contraseña ")])),_:1})]),_:1}),d(e(V),{class:"space-y-4"},{default:t(()=>[o[27]||(o[27]=l("div",{class:"p-4 bg-muted rounded-lg mb-4"},[l("p",{class:"text-sm text-muted-foreground"}," Deja los campos de contraseña vacíos si no deseas cambiarla. ")],-1)),l("div",oe,[l("div",null,[d(e(_),{for:"password"},{default:t(()=>o[21]||(o[21]=[i("Nueva contraseña")])),_:1}),d(e(x),{id:"password",modelValue:e(r).password,"onUpdate:modelValue":o[5]||(o[5]=s=>e(r).password=s),type:"password",placeholder:"••••••••",class:c({"border-red-500":e(r).errors.password})},null,8,["modelValue","class"]),e(r).errors.password?(n(),u("p",re,m(e(r).errors.password),1)):f("",!0)]),l("div",null,[d(e(_),{for:"password_confirmation"},{default:t(()=>o[22]||(o[22]=[i("Confirmar nueva contraseña")])),_:1}),d(e(x),{id:"password_confirmation",modelValue:e(r).password_confirmation,"onUpdate:modelValue":o[6]||(o[6]=s=>e(r).password_confirmation=s),type:"password",placeholder:"••••••••",class:c({"border-red-500":e(r).errors.password_confirmation})},null,8,["modelValue","class"]),e(r).errors.password_confirmation?(n(),u("p",de,m(e(r).errors.password_confirmation),1)):f("",!0)])]),l("div",te,[l("div",null,[d(e(_),{for:"role_id"},{default:t(()=>o[23]||(o[23]=[i("Rol *")])),_:1}),d(e(j),{modelValue:e(r).role_id,"onUpdate:modelValue":o[7]||(o[7]=s=>e(r).role_id=s)},{default:t(()=>[d(e(N),{class:c({"border-red-500":e(r).errors.role_id})},{default:t(()=>[d(e(B),{placeholder:"Selecciona un rol"})]),_:1},8,["class"]),d(e(E),null,{default:t(()=>[(n(!0),u(v,null,S(p.roles,s=>(n(),D(e(U),{key:s.value,value:s.value},{default:t(()=>[l("div",se,[l("span",null,m(s.label),1),s.description?(n(),u("span",le,m(s.description),1)):f("",!0),s.is_system?(n(),u("span",ie,"(Rol del Sistema)")):f("",!0)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.role_id?(n(),u("p",ae,m(e(r).errors.role_id),1)):f("",!0)]),l("div",null,[d(e(_),{for:"cargo_id"},{default:t(()=>o[24]||(o[24]=[i("Cargo")])),_:1}),d(e(j),{modelValue:e(r).cargo_id,"onUpdate:modelValue":o[8]||(o[8]=s=>e(r).cargo_id=s)},{default:t(()=>[d(e(N),{class:c({"border-red-500":e(r).errors.cargo_id})},{default:t(()=>[d(e(B),{placeholder:"Selecciona un cargo"})]),_:1},8,["class"]),d(e(E),null,{default:t(()=>[d(e(U),{value:"none"},{default:t(()=>o[25]||(o[25]=[i("Sin cargo")])),_:1}),(n(!0),u(v,null,S(p.cargos,s=>(n(),D(e(U),{key:s.id,value:s.id.toString()},{default:t(()=>[i(m(s.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.cargo_id?(n(),u("p",ne,m(e(r).errors.cargo_id),1)):f("",!0)])]),l("div",ue,[d(e(J),{id:"activo",checked:e(r).activo,"onUpdate:checked":o[9]||(o[9]=s=>e(r).activo=s)},null,8,["checked"]),d(e(_),{for:"activo"},{default:t(()=>o[26]||(o[26]=[i("Usuario activo")])),_:1})])]),_:1})]),_:1}),d(e(b),null,{default:t(()=>[d(e(w),null,{default:t(()=>[d(e(k),null,{default:t(()=>o[28]||(o[28]=[i("Ubicación Geográfica")])),_:1}),d(e(y),null,{default:t(()=>o[29]||(o[29]=[i(" Define la ubicación del usuario (opcional) ")])),_:1})]),_:1}),d(e(V),null,{default:t(()=>[d(q,{"model-value":$.value,"onUpdate:modelValue":P,mode:"single","show-card":!1,title:"",description:""},null,8,["model-value"]),e(r).errors.territorio_id||e(r).errors.departamento_id||e(r).errors.municipio_id||e(r).errors.localidad_id?(n(),u("div",me,m(e(r).errors.territorio_id||e(r).errors.departamento_id||e(r).errors.municipio_id||e(r).errors.localidad_id),1)):f("",!0)]),_:1})]),_:1}),l("div",fe,[d(e(C),{href:p.route("admin.usuarios.index")},{default:t(()=>[d(e(g),{variant:"outline",type:"button"},{default:t(()=>o[30]||(o[30]=[i(" Cancelar ")])),_:1})]),_:1},8,["href"]),d(e(g),{type:"submit",disabled:e(r).processing},{default:t(()=>[d(e(K),{class:"mr-2 h-4 w-4"}),o[31]||(o[31]=i(" Guardar Cambios "))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Me as default};
