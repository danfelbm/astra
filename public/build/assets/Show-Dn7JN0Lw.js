import{_ as Y}from"./AdminLayout.vue_vue_type_script_setup_true_lang-NogAnVtP.js";import{_ as k}from"./index-Dqfh2IyD.js";import{_ as $}from"./createLucideIcon-BObe4JvD.js";import{_ as g,a as x,b as y,c as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-B5M2cVcm.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-xPCqXFys.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-DWZMRsHf.js";import{_ as Z,a as tt,b as D,c as C,d as et,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-BaMWRpbE.js";import{d as at,c as h,i as v,e as a,f as t,q as ot,w as o,g as s,b as p,j as w,s as E,h as r,t as l,n as F,m as u,x as z,F as S,k as j}from"./app-CuPKNjRO.js";import{A as st}from"./arrow-left-BlXD0jbm.js";import{S as A}from"./square-pen-DAsn3g4b.js";import{T as rt}from"./trash-2-k67a6BL9.js";import{I as it}from"./info-DqvYchfi.js";import{C as nt}from"./calendar-CB5_zPiu.js";import{U as M}from"./users-Cf6wJFUI.js";import{M as lt}from"./map-pin-BKwoikzG.js";import{F as B}from"./file-text-CjkSuqdh.js";import{U as dt}from"./user-DBHuXpUm.js";import{E as ut}from"./eye-BtR-cUP7.js";import{C as G}from"./clock-DhzyKniZ.js";import{C as R}from"./circle-check-big-DXh5PwCW.js";import{C as ct}from"./circle-x-Cymp1_TV.js";import{S as mt}from"./send-Dxkd0WL0.js";import"./useFlashMessages-BfDjbYiy.js";import"./index-CbF-qM1L.js";import"./floating-ui.vue-DR9WUQXn.js";import"./x-BiyEowpC.js";import"./Input.vue_vue_type_script_setup_true_lang-D7OgHwh6.js";import"./index-BwEmZnO7.js";import"./index-DV1Mcati.js";import"./shield-H48l3S7I.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CbwqaBg0.js";import"./chevron-right-DzV9kraT.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DKwkyUyS.js";import"./VisuallyHidden-BsvUS3vM.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DLLNMJzF.js";import"./check-31iqNvh0.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-qYeTZmVg.js";import"./index-PFTinW9B.js";import"./circle-alert-Ba_Yj53z.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-sjrgIkUu.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BddHkhJ7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-Dwrb6CtI.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CXnU0e5j.js";import"./tag-BlwmBn10.js";import"./target-CfYWo6li.js";import"./vote-BnC3vNfz.js";import"./folder-open-JcMCtjCy.js";import"./briefcase-2yAixRik.js";import"./megaphone-Cte18bfj.js";import"./user-check-CMGjAIz5.js";import"./clipboard-list-B6j_bS4G.js";import"./mail-DHz5Qvow.js";import"./message-square-f2OoBH8C.js";import"./external-link-D_zLUZe-.js";import"./panel-left-Ddt83DJO.js";import"./index-bhonFi1I.js";const ft={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},pt={class:"space-y-6"},vt={class:"flex items-center justify-between"},_t={class:"space-y-1"},gt={class:"flex items-center gap-2"},xt={class:"text-3xl font-bold tracking-tight"},yt={class:"flex items-center gap-2 mt-2"},bt={class:"flex gap-2"},Ct={class:"grid gap-6 md:grid-cols-2"},wt={class:"font-medium"},kt={class:"font-medium"},$t={class:"font-medium"},ht={class:"font-medium"},Et={class:"font-medium"},Nt={class:"font-medium"},Dt={class:"font-medium"},Ft={class:"font-medium"},St={class:"font-medium"},At={class:"font-medium"},Bt={class:"font-medium"},Pt={class:"font-medium"},Tt={class:"font-medium"},Vt={class:"space-y-4"},It={class:"flex items-center justify-between"},Lt={class:"font-medium"},Ut={class:"text-sm text-muted-foreground"},qt={key:0,class:"text-sm text-red-600"},zt={class:"rounded-md border"},jt={class:"font-medium"},Mt={class:"text-sm text-muted-foreground"},Gt={class:"text-sm"},Rt={class:"text-xs text-muted-foreground"},Xt={key:1,class:"text-sm text-muted-foreground"},Ht={key:0},Jt={class:"text-sm font-medium"},Kt={class:"text-xs text-muted-foreground"},Ot={key:1,class:"text-sm text-muted-foreground"},Ze=at({__name:"Show",props:{convocatoria:{},postulaciones:{},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(n){const m=n,X=[{title:"Admin",href:"/admin/dashboard"},{title:"Convocatorias",href:"/admin/convocatorias"},{title:m.convocatoria.nombre,href:`/admin/convocatorias/${m.convocatoria.id}`}],H=d=>{switch(d){case"borrador":return A;case"activa":return R;case"cerrada":return G;default:return B}},J=d=>{switch(d){case"borrador":return A;case"enviada":return mt;case"en_revision":return G;case"aceptada":return R;case"rechazada":return ct;default:return B}},K=d=>{switch(d){case"borrador":return"bg-gray-100 text-gray-800";case"activa":return"bg-green-100 text-green-800";case"cerrada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=d=>{switch(d){case"borrador":return"Borrador";case"activa":return"Activa";case"cerrada":return"Cerrada";default:return d}},N=d=>d?new Date(d).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida",T=h(()=>{const d=new Date,e=new Date(m.convocatoria.fecha_apertura),i=new Date(m.convocatoria.fecha_cierre);return d>=e&&d<=i&&m.convocatoria.estado==="activa"}),V=h(()=>{const d=new Date,e=new Date(m.convocatoria.fecha_apertura);return d<e}),I=h(()=>T.value?"Abierta":V.value?"Futura":"Cerrada"),O=h(()=>T.value?"bg-green-100 text-green-800":V.value?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),Q=()=>{E.get(`/admin/convocatorias/${m.convocatoria.id}/edit`)},W=()=>{confirm("¿Estás seguro de que deseas eliminar esta convocatoria?")&&E.delete(`/admin/convocatorias/${m.convocatoria.id}`)};return(d,e)=>(u(),v(S,null,[a(t(ot),{title:`Convocatoria: ${n.convocatoria.nombre}`},null,8,["title"]),a(Y,{breadcrumbs:X},{default:o(()=>[s("div",ft,[s("div",pt,[s("div",vt,[s("div",_t,[s("div",gt,[a(t($),{variant:"ghost",size:"sm",onClick:e[0]||(e[0]=i=>t(E).get("/admin/convocatorias"))},{default:o(()=>[a(t(st),{class:"h-4 w-4 mr-2"}),e[1]||(e[1]=r(" Volver ",-1))]),_:1})]),s("h1",xt,l(n.convocatoria.nombre),1),s("div",yt,[a(t(k),{class:F([K(n.convocatoria.estado),"text-sm px-2 py-1"])},{default:o(()=>[(u(),p(z(H(n.convocatoria.estado)),{class:"mr-1 h-3 w-3"})),r(" "+l(P(n.convocatoria.estado)),1)]),_:1},8,["class"]),a(t(k),{class:F([O.value,"text-sm px-2 py-1"])},{default:o(()=>[r(l(I.value),1)]),_:1},8,["class"]),n.convocatoria.activo?w("",!0):(u(),p(t(k),{key:0,variant:"secondary",class:"text-sm px-2 py-1"},{default:o(()=>[...e[2]||(e[2]=[r(" Inactiva ",-1)])]),_:1}))])]),s("div",bt,[m.canEdit?(u(),p(t($),{key:0,onClick:Q,variant:"outline"},{default:o(()=>[a(t(A),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=r(" Editar ",-1))]),_:1})):w("",!0),m.canDelete?(u(),p(t($),{key:1,onClick:W,variant:"destructive"},{default:o(()=>[a(t(rt),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=r(" Eliminar ",-1))]),_:1})):w("",!0)])]),s("div",Ct,[a(t(g),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(y),{class:"flex items-center gap-2"},{default:o(()=>[a(t(it),{class:"h-5 w-5"}),e[5]||(e[5]=r(" Información General ",-1))]),_:1})]),_:1}),a(t(b),{class:"space-y-4"},{default:o(()=>[s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[6]||(e[6]=[r("Descripción:",-1)])]),_:1}),s("p",wt,l(n.convocatoria.descripcion||"Sin descripción"),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[7]||(e[7]=[r("Estado:",-1)])]),_:1}),s("p",kt,l(P(n.convocatoria.estado)),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[8]||(e[8]=[r("Activo:",-1)])]),_:1}),s("p",$t,l(n.convocatoria.activo?"Sí":"No"),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[9]||(e[9]=[r("Creado:",-1)])]),_:1}),s("p",ht,l(N(n.convocatoria.created_at)),1)])]),_:1})]),_:1}),a(t(g),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(y),{class:"flex items-center gap-2"},{default:o(()=>[a(t(nt),{class:"h-5 w-5"}),e[10]||(e[10]=r(" Fechas ",-1))]),_:1})]),_:1}),a(t(b),{class:"space-y-4"},{default:o(()=>[s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[11]||(e[11]=[r("Fecha de Apertura:",-1)])]),_:1}),s("p",Et,l(N(n.convocatoria.fecha_apertura)),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[12]||(e[12]=[r("Fecha de Cierre:",-1)])]),_:1}),s("p",Nt,l(N(n.convocatoria.fecha_cierre)),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[13]||(e[13]=[r("Estado Temporal:",-1)])]),_:1}),s("p",Dt,l(I.value),1)])]),_:1})]),_:1}),a(t(g),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(y),{class:"flex items-center gap-2"},{default:o(()=>[a(t(M),{class:"h-5 w-5"}),e[14]||(e[14]=r(" Cargo y Periodo Electoral ",-1))]),_:1})]),_:1}),a(t(b),{class:"space-y-4"},{default:o(()=>{var i,f;return[s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[15]||(e[15]=[r("Cargo:",-1)])]),_:1}),s("p",Ft,l(((i=n.convocatoria.cargo)==null?void 0:i.nombre)||"No asignado"),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[16]||(e[16]=[r("Periodo Electoral:",-1)])]),_:1}),s("p",St,l(((f=n.convocatoria.periodoElectoral)==null?void 0:f.nombre)||"No asignado"),1)])]}),_:1})]),_:1}),a(t(g),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(y),{class:"flex items-center gap-2"},{default:o(()=>[a(t(lt),{class:"h-5 w-5"}),e[17]||(e[17]=r(" Ubicación Geográfica ",-1))]),_:1})]),_:1}),a(t(b),{class:"space-y-4"},{default:o(()=>{var i,f,L,U;return[s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[18]||(e[18]=[r("Territorio:",-1)])]),_:1}),s("p",At,l(((i=n.convocatoria.territorio)==null?void 0:i.nombre)||"No especificado"),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[19]||(e[19]=[r("Departamento:",-1)])]),_:1}),s("p",Bt,l(((f=n.convocatoria.departamento)==null?void 0:f.nombre)||"No especificado"),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[20]||(e[20]=[r("Municipio:",-1)])]),_:1}),s("p",Pt,l(((L=n.convocatoria.municipio)==null?void 0:L.nombre)||"No especificado"),1)]),s("div",null,[a(t(c),{class:"text-muted-foreground"},{default:o(()=>[...e[21]||(e[21]=[r("Localidad:",-1)])]),_:1}),s("p",Tt,l(((U=n.convocatoria.localidad)==null?void 0:U.nombre)||"No especificado"),1)])]}),_:1})]),_:1})]),n.convocatoria.formulario_postulacion&&n.convocatoria.formulario_postulacion.length>0?(u(),p(t(g),{key:0},{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(y),{class:"flex items-center gap-2"},{default:o(()=>[a(t(B),{class:"h-5 w-5"}),e[22]||(e[22]=r(" Formulario de Postulación ",-1))]),_:1}),a(t(q),null,{default:o(()=>[...e[23]||(e[23]=[r(" Campos configurados para el formulario de postulación de esta convocatoria. ",-1)])]),_:1})]),_:1}),a(t(b),null,{default:o(()=>[s("div",Vt,[(u(!0),v(S,null,j(n.convocatoria.formulario_postulacion,(i,f)=>(u(),v("div",{key:f,class:"border rounded-lg p-4"},[s("div",It,[s("div",null,[s("p",Lt,l(i.title||i.label||`Campo ${f+1}`),1),s("p",Ut,"Tipo: "+l(i.type||"No especificado"),1),i.required?(u(),v("p",qt,"Requerido")):w("",!0)])])]))),128))])]),_:1})]),_:1})):w("",!0),a(t(g),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(y),{class:"flex items-center gap-2"},{default:o(()=>[a(t(M),{class:"h-5 w-5"}),e[24]||(e[24]=r(" Postulaciones ",-1))]),_:1}),a(t(q),null,{default:o(()=>[...e[25]||(e[25]=[r(" Lista de postulaciones recibidas para esta convocatoria. ",-1)])]),_:1})]),_:1}),a(t(b),null,{default:o(()=>[s("div",zt,[a(t(Z),null,{default:o(()=>[a(t(tt),null,{default:o(()=>[a(t(D),null,{default:o(()=>[a(t(C),null,{default:o(()=>[...e[26]||(e[26]=[r("Usuario",-1)])]),_:1}),a(t(C),null,{default:o(()=>[...e[27]||(e[27]=[r("Estado",-1)])]),_:1}),a(t(C),null,{default:o(()=>[...e[28]||(e[28]=[r("Fecha Postulación",-1)])]),_:1}),a(t(C),null,{default:o(()=>[...e[29]||(e[29]=[r("Perfil",-1)])]),_:1}),a(t(C),null,{default:o(()=>[...e[30]||(e[30]=[r("Revisado por",-1)])]),_:1}),a(t(C),{class:"text-right"},{default:o(()=>[...e[31]||(e[31]=[r("Acciones",-1)])]),_:1})]),_:1})]),_:1}),a(t(et),null,{default:o(()=>[!n.postulaciones||n.postulaciones.length===0?(u(),p(t(D),{key:0},{default:o(()=>[a(t(_),{colspan:"6",class:"text-center text-muted-foreground py-8"},{default:o(()=>[...e[32]||(e[32]=[r(" No hay postulaciones para esta convocatoria. ",-1)])]),_:1})]),_:1})):w("",!0),(u(!0),v(S,null,j(n.postulaciones,i=>(u(),p(t(D),{key:i.id},{default:o(()=>[a(t(_),null,{default:o(()=>[s("div",null,[s("p",jt,l(i.usuario.name),1),s("p",Mt,l(i.usuario.email),1)])]),_:2},1024),a(t(_),null,{default:o(()=>[a(t(k),{class:F(i.estado_color)},{default:o(()=>[(u(),p(z(J(i.estado)),{class:"mr-1 h-3 w-3"})),r(" "+l(i.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),a(t(_),null,{default:o(()=>[s("p",Gt,l(i.fecha_postulacion||"Borrador"),1),s("p",Rt,l(i.created_at),1)]),_:2},1024),a(t(_),null,{default:o(()=>[i.tiene_candidatura_vinculada?(u(),p(t(k),{key:0,variant:"secondary",class:"bg-green-100 text-green-800"},{default:o(()=>[a(t(dt),{class:"mr-1 h-3 w-3"}),e[33]||(e[33]=r(" Vinculado ",-1))]),_:1})):(u(),v("span",Xt,"No vinculado"))]),_:2},1024),a(t(_),null,{default:o(()=>[i.revisado_por?(u(),v("div",Ht,[s("p",Jt,l(i.revisado_por.name),1),s("p",Kt,l(i.fecha_revision),1)])):(u(),v("span",Ot,"Sin revisar"))]),_:2},1024),a(t(_),{class:"text-right"},{default:o(()=>[a(t($),{variant:"outline",size:"sm",onClick:f=>t(E).get(`/admin/postulaciones/${i.id}`)},{default:o(()=>[a(t(ut),{class:"mr-2 h-4 w-4"}),e[34]||(e[34]=r(" Ver detalle ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})])])]),_:1})],64))}});export{Ze as default};
