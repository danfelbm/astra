import{c as F,_ as k}from"./createLucideIcon-C6X96YbH.js";import{_ as x}from"./index-P7fat4fk.js";import{C as de}from"./circle-alert-Cn8OhmgS.js";import{C as fe}from"./circle-x-CqvBZEaE.js";import{C as me}from"./circle-check-big-DgKKc2Nx.js";import{C as Z}from"./clock-CHMnrGZ3.js";import{d as A,b as y,e as d,u as c,n as te,w as g,j as p,h as D,q as pe,t as w,c as ve,i as T,g as u,f as v,s as z,F as E,k as R,W as b}from"./app-JLFUK32T.js";import{L as ye}from"./loader-circle-B0VsS6Os.js";import{C as ne}from"./calendar-D4EptaKY.js";import{G as ge}from"./globe-A4Q6YCcK.js";import{C as se}from"./circle-check-DLLmVQ5L.js";import{U as we}from"./users-5oeGOVXU.js";import{V as re}from"./vote-Dc8i50NJ.js";import{R as ae}from"./refresh-cw-CsmHiiZD.js";import{E as oe}from"./eye-DNMY9K7g.js";import{a as he,f as L,e as V}from"./es-BRx6Co7f.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=F("ChartNoAxesColumnIcon",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=F("CirclePlayIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=F("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);function ke(){return Object.assign({},he())}const ie=A({__name:"VotacionStatus",props:{estado:{},small:{type:Boolean,default:!1}},setup(e){const t=e,n=()=>{switch(t.estado){case"activa":return"success";case"pendiente":return"warning";case"finalizada":return"secondary";case"cancelada":return"destructive";case"inactiva":default:return"outline"}},s=()=>{switch(t.estado){case"activa":return De;case"pendiente":return Z;case"finalizada":return me;case"cancelada":return fe;case"inactiva":default:return de}},r=()=>{switch(t.estado){case"activa":return"Activa";case"pendiente":return"Pendiente";case"finalizada":return"Finalizada";case"cancelada":return"Cancelada";case"inactiva":return"Inactiva";default:return t.estado}};return(i,l)=>(d(),y(c(x),{variant:n(),class:te([i.small?"text-xs px-2 py-0.5":"text-sm px-3 py-1","font-medium"])},{default:g(()=>[i.small?p("",!0):(d(),y(pe(s()),{key:0,class:"h-3 w-3 mr-1"})),D(" "+w(r()),1)]),_:1},8,["variant","class"]))}});function X(e,t,n){const s=ke(),r=xe(e,n.timeZone,n.locale??s.locale);return"formatToParts"in r?Ne(r,t):Ce(r,t)}function Ne(e,t){const n=e.formatToParts(t);for(let s=n.length-1;s>=0;--s)if(n[s].type==="timeZoneName")return n[s].value}function Ce(e,t){const n=e.format(t).replace(/\u200E/g,""),s=/ [\w-+ ]+$/.exec(n);return s?s[0].substr(1):""}function xe(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function be(e,t){const n=Ye(t);return"formatToParts"in n?Me(n,e):_e(n,e)}const Ie={year:0,month:1,day:2,hour:3,minute:4,second:5};function Me(e,t){try{const n=e.formatToParts(t),s=[];for(let r=0;r<n.length;r++){const i=Ie[n[r].type];i!==void 0&&(s[i]=parseInt(n[r].value,10))}return s}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function _e(e,t){const n=e.format(t),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(s[3],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[4],10),parseInt(s[5],10),parseInt(s[6],10)]}const M={},P=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),$e=P==="06/25/2014, 00:00:00"||P==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function Ye(e){return M[e]||(M[e]=$e?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),M[e]}function le(e,t,n,s,r,i,l){const o=new Date(0);return o.setUTCFullYear(e,t,n),o.setUTCHours(s,r,i,l),o}const B=36e5,Oe=6e4,_={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function S(e,t,n){if(!e)return 0;let s=_.timezoneZ.exec(e);if(s)return 0;let r,i;if(s=_.timezoneHH.exec(e),s)return r=parseInt(s[1],10),W(r)?-(r*B):NaN;if(s=_.timezoneHHMM.exec(e),s){r=parseInt(s[2],10);const l=parseInt(s[3],10);return W(r,l)?(i=Math.abs(r)*B+l*Oe,s[1]==="+"?-i:i):NaN}if(Ue(e)){t=new Date(t||Date.now());const l=n?t:ze(t),o=H(l,e);return-(n?o:Ve(t,o,e))}return NaN}function ze(e){return le(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function H(e,t){const n=be(e,t),s=le(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let r=e.getTime();const i=r%1e3;return r-=i>=0?i:1e3+i,s-r}function Ve(e,t,n){let r=e.getTime()-t;const i=H(new Date(r),n);if(t===i)return t;r-=i-t;const l=H(new Date(r),n);return i===l?i:Math.max(i,l)}function W(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const j={};function Ue(e){if(j[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),j[e]=!0,!0}catch{return!1}}const He=60*1e3,Fe={X:function(e,t,n){const s=$(n.timeZone,e);if(s===0)return"Z";switch(t){case"X":return G(s);case"XXXX":case"XX":return C(s);case"XXXXX":case"XXX":default:return C(s,":")}},x:function(e,t,n){const s=$(n.timeZone,e);switch(t){case"x":return G(s);case"xxxx":case"xx":return C(s);case"xxxxx":case"xxx":default:return C(s,":")}},O:function(e,t,n){const s=$(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Ze(s,":");case"OOOO":default:return"GMT"+C(s,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return X("short",e,n);case"zzzz":default:return X("long",e,n)}}};function $(e,t){const n=e?S(e,t,!0)/He:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function I(e,t){const n=e<0?"-":"";let s=Math.abs(e).toString();for(;s.length<t;)s="0"+s;return n+s}function C(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=I(Math.floor(s/60),2),i=I(Math.floor(s%60),2);return n+r+t+i}function G(e,t){return e%60===0?(e>0?"-":"+")+I(Math.abs(e)/60,2):C(e,t)}function Ze(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.floor(s/60),i=s%60;return i===0?n+String(r):n+String(r)+t+I(i,2)}function q(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const Ae=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Y=36e5,J=6e4,Le=2,h={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ae};function ce(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?Le:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const s=Se(e),{year:r,restDateString:i}=Ee(s.date,n),l=Re(i,r);if(l===null||isNaN(l.getTime()))return new Date(NaN);if(l){const o=l.getTime();let a=0,f;if(s.time&&(a=Xe(s.time),a===null||isNaN(a)))return new Date(NaN);if(s.timeZone||t.timeZone){if(f=S(s.timeZone||t.timeZone,new Date(o+a)),isNaN(f))return new Date(NaN)}else f=q(new Date(o+a)),f=q(new Date(o+a+f));return new Date(o+a+f)}else return new Date(NaN)}function Se(e){const t={};let n=h.dateTimePattern.exec(e),s;if(n?(t.date=n[1],s=n[3]):(n=h.datePattern.exec(e),n?(t.date=n[1],s=n[2]):(t.date=null,s=e)),s){const r=h.timeZone.exec(s);r?(t.time=s.replace(r[1],""),t.timeZone=r[1].trim()):t.time=s}return t}function Ee(e,t){if(e){const n=h.YYY[t],s=h.YYYYY[t];let r=h.YYYY.exec(e)||s.exec(e);if(r){const i=r[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(r=h.YY.exec(e)||n.exec(e),r){const i=r[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function Re(e,t){if(t===null)return null;let n,s,r;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let i=h.MM.exec(e);if(i)return n=new Date(0),s=parseInt(i[1],10)-1,K(t,s)?(n.setUTCFullYear(t,s),n):new Date(NaN);if(i=h.DDD.exec(e),i){n=new Date(0);const l=parseInt(i[1],10);return We(t,l)?(n.setUTCFullYear(t,0,l),n):new Date(NaN)}if(i=h.MMDD.exec(e),i){n=new Date(0),s=parseInt(i[1],10)-1;const l=parseInt(i[2],10);return K(t,s,l)?(n.setUTCFullYear(t,s,l),n):new Date(NaN)}if(i=h.Www.exec(e),i)return r=parseInt(i[1],10)-1,ee(r)?Q(t,r):new Date(NaN);if(i=h.WwwD.exec(e),i){r=parseInt(i[1],10)-1;const l=parseInt(i[2],10)-1;return ee(r,l)?Q(t,r,l):new Date(NaN)}return null}function Xe(e){let t,n,s=h.HH.exec(e);if(s)return t=parseFloat(s[1].replace(",",".")),O(t)?t%24*Y:NaN;if(s=h.HHMM.exec(e),s)return t=parseInt(s[1],10),n=parseFloat(s[2].replace(",",".")),O(t,n)?t%24*Y+n*J:NaN;if(s=h.HHMMSS.exec(e),s){t=parseInt(s[1],10),n=parseInt(s[2],10);const r=parseFloat(s[3].replace(",","."));return O(t,n,r)?t%24*Y+n*J+r*1e3:NaN}return null}function Q(e,t,n){t=t||0,n=n||0;const s=new Date(0);s.setUTCFullYear(e,0,4);const r=s.getUTCDay()||7,i=t*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const Pe=[31,28,31,30,31,30,31,31,30,31,30,31],Be=[31,29,31,30,31,30,31,31,30,31,30,31];function ue(e){return e%400===0||e%4===0&&e%100!==0}function K(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const s=ue(e);if(s&&n>Be[t]||!s&&n>Pe[t])return!1}return!0}function We(e,t){if(t<1)return!1;const n=ue(e);return!(n&&t>366||!n&&t>365)}function ee(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function O(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}const je=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Ge(e,t,n={}){t=String(t);const s=t.match(je);if(s){const r=ce(n.originalDate||e,n);t=s.reduce(function(i,l){if(l[0]==="'")return i;const o=i.indexOf(l),a=i[o-1]==="'",f=i.replace(l,"'"+Fe[l[0]](r,l,n)+"'");return a?f.substring(0,o-1)+f.substring(o+1):f},t)}return L(e,t,n)}function qe(e,t,n){e=ce(e,n);const s=S(t,e,!0),r=new Date(e.getTime()-s),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}function Je(e,t,n,s){return s={...s,timeZone:t,originalDate:e},Ge(qe(e,t,{timeZone:s.timeZone}),n,s)}const Qe={key:0,class:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 rounded-lg flex items-center justify-center z-10"},Ke={class:"flex flex-col items-center space-y-2"},et={class:"flex justify-between items-start mb-3"},tt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-2"},nt={key:1,class:"mb-2"},st={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"},rt={key:2,class:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2"},at={class:"text-sm mb-4"},ot={class:"space-y-1 mb-2"},it={class:"flex items-center gap-1 text-gray-700 dark:text-gray-300 font-medium"},lt={class:"ml-5 text-gray-600 dark:text-gray-400"},ct={key:0,class:"space-y-1"},ut={class:"flex items-center gap-1 text-gray-500 dark:text-gray-500 text-xs"},dt={class:"ml-5 text-gray-500 dark:text-gray-500 text-xs"},ft={class:"flex flex-wrap gap-2 mb-4"},mt={class:"flex gap-2"},pt=A({__name:"VotacionCard",props:{votacion:{},canVote:{type:Boolean,default:!0},canViewResults:{type:Boolean,default:!0},canViewOwnVote:{type:Boolean,default:!0}},emits:["votar","ver-voto","ver-resultados"],setup(e){const t=e,n=ve(()=>t.votacion.timezone||"America/Bogota"),s=o=>({"America/Bogota":"COT","America/New_York":"EST","America/Los_Angeles":"PST","Europe/Madrid":"CET","America/Mexico_City":"CST"})[o]||o,r=o=>Je(o,n.value,"dd/MM/yyyy HH:mm",{locale:V}),i=o=>L(new Date(o),"dd/MM/yyyy HH:mm",{locale:V}),l=o=>r(o)!==i(o);return(o,a)=>(d(),T("div",{class:te(["relative bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200",{"opacity-75":o.votacion.vote_processing}])},[o.votacion.vote_processing?(d(),T("div",Qe,[u("div",Ke,[v(c(ye),{class:"h-8 w-8 animate-spin text-primary-600"}),a[5]||(a[5]=u("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Firmando digitalmente... ",-1))])])):p("",!0),u("div",et,[u("h3",tt,w(o.votacion.titulo),1),v(ie,{estado:o.votacion.estado_visual,small:!0},null,8,["estado"])]),o.votacion.categoria?(d(),T("div",nt,[u("span",st,w(o.votacion.categoria.nombre),1)])):p("",!0),o.votacion.descripcion?(d(),T("p",rt,w(o.votacion.descripcion),1)):p("",!0),u("div",at,[u("div",ot,[u("div",it,[v(c(ne),{class:"h-4 w-4"}),u("span",null,"Horario oficial ("+w(s(n.value))+"):",1)]),u("div",lt,[u("div",null,"Inicio: "+w(r(o.votacion.fecha_inicio)),1),u("div",null,"Fin: "+w(r(o.votacion.fecha_fin)),1)])]),l(o.votacion.fecha_inicio)?(d(),T("div",ct,[u("div",ut,[v(c(ge),{class:"h-3 w-3"}),a[6]||(a[6]=u("span",null,"Tu hora local:",-1))]),u("div",dt,[u("div",null,"Inicio: "+w(i(o.votacion.fecha_inicio)),1),u("div",null,"Fin: "+w(i(o.votacion.fecha_fin)),1)])])):p("",!0)]),u("div",ft,[o.votacion.ya_voto?(d(),y(c(x),{key:0,variant:"success"},{default:g(()=>[v(c(se),{class:"h-3 w-3 mr-1"}),a[7]||(a[7]=D(" Ya votaste ",-1))]),_:1})):p("",!0),o.votacion.resultados_visibles?(d(),y(c(x),{key:1,variant:"secondary"},{default:g(()=>[v(c(U),{class:"h-3 w-3 mr-1"}),a[8]||(a[8]=D(" Resultados disponibles ",-1))]),_:1})):p("",!0),o.votacion.votantes_count?(d(),y(c(x),{key:2,variant:"outline"},{default:g(()=>[v(c(we),{class:"h-3 w-3 mr-1"}),D(" "+w(o.votacion.votantes_count)+" participantes ",1)]),_:1})):p("",!0)]),u("div",mt,[z(o.$slots,"actions",{votacion:o.votacion},()=>[!o.votacion.urna_session_status&&o.votacion.puede_votar&&o.canVote?(d(),y(c(k),{key:0,onClick:a[0]||(a[0]=f=>o.$emit("votar",o.votacion)),size:"sm",class:"flex-1"},{default:g(()=>[v(c(re),{class:"h-4 w-4 mr-1"}),a[9]||(a[9]=D(" Votar ",-1))]),_:1})):p("",!0),o.votacion.urna_session_status==="active"&&o.votacion.puede_votar&&o.canVote?(d(),y(c(k),{key:1,onClick:a[1]||(a[1]=f=>o.$emit("votar",o.votacion)),size:"sm",class:"flex-1",variant:"secondary"},{default:g(()=>[v(c(Z),{class:"h-4 w-4 mr-1"}),a[10]||(a[10]=D(" Volver a la Urna ",-1))]),_:1})):p("",!0),o.votacion.urna_session_status==="expired"&&o.votacion.puede_votar&&o.canVote?(d(),y(c(k),{key:2,onClick:a[2]||(a[2]=f=>o.$emit("reiniciar-urna",o.votacion)),size:"sm",class:"flex-1",variant:"outline"},{default:g(()=>[v(c(ae),{class:"h-4 w-4 mr-1"}),a[11]||(a[11]=D(" Reiniciar Urna ",-1))]),_:1})):p("",!0),o.votacion.puede_ver_voto&&o.canViewOwnVote?(d(),y(c(k),{key:3,onClick:a[3]||(a[3]=f=>o.$emit("ver-voto",o.votacion)),variant:"outline",size:"sm",class:"flex-1"},{default:g(()=>[v(c(oe),{class:"h-4 w-4 mr-1"}),a[12]||(a[12]=D(" Mi voto ",-1))]),_:1})):p("",!0),o.votacion.resultados_visibles&&o.canViewResults?(d(),y(c(k),{key:4,onClick:a[4]||(a[4]=f=>o.$emit("ver-resultados",o.votacion)),variant:"outline",size:"sm",class:"flex-1"},{default:g(()=>[v(c(U),{class:"h-4 w-4 mr-1"}),a[13]||(a[13]=D(" Resultados ",-1))]),_:1})):p("",!0)])])],2))}}),vt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},yt={key:1,class:"space-y-3"},gt={class:"flex items-center justify-between"},wt={class:"flex-1"},ht={class:"flex items-start gap-4"},Dt={class:"flex-1"},Tt={class:"text-base font-semibold text-gray-900 dark:text-gray-100"},kt={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Nt={class:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400"},Ct={class:"flex items-center gap-1"},xt={class:"flex items-center gap-2"},bt={class:"ml-4 flex items-center gap-2"},It={key:2,class:"text-center py-12"},Mt={class:"mx-auto h-12 w-12 text-gray-400"},_t={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Bt=A({__name:"VotacionGrid",props:{votaciones:{},viewMode:{default:"grid"},canVote:{type:Boolean,default:!0},canViewResults:{type:Boolean,default:!0},canViewOwnVote:{type:Boolean,default:!0},emptyMessage:{}},emits:["votar","reiniciar-urna","ver-voto","ver-resultados"],setup(e,{emit:t}){const n=t,s=a=>L(new Date(a),"dd/MM/yyyy HH:mm",{locale:V}),r=a=>{n("votar",a),n("votar")||b.visit(route("user.votaciones.votar",a.id))},i=a=>{n("reiniciar-urna",a),n("reiniciar-urna")||b.visit(route("user.votaciones.reset-urna",a.id),{method:"post"})},l=a=>{n("ver-voto",a),n("ver-voto")||b.visit(route("user.votaciones.mi-voto",a.id))},o=a=>{n("ver-resultados",a),n("ver-resultados")||b.visit(route("user.votaciones.resultados",a.id))};return(a,f)=>(d(),T("div",null,[a.viewMode==="grid"?(d(),T("div",vt,[(d(!0),T(E,null,R(a.votaciones,m=>(d(),y(pt,{key:m.id,votacion:m,"can-vote":a.canVote,"can-view-results":a.canViewResults,"can-view-own-vote":a.canViewOwnVote,onVotar:r,onReiniciarUrna:i,onVerVoto:l,onVerResultados:o},{actions:g(({votacion:N})=>[z(a.$slots,"card-actions",{votacion:N})]),_:2},1032,["votacion","can-vote","can-view-results","can-view-own-vote"]))),128))])):a.viewMode==="list"?(d(),T("div",yt,[(d(!0),T(E,null,R(a.votaciones,m=>(d(),T("div",{key:m.id,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},[u("div",gt,[u("div",wt,[u("div",ht,[u("div",Dt,[u("h3",Tt,w(m.titulo),1),m.descripcion?(d(),T("p",kt,w(m.descripcion),1)):p("",!0),u("div",Nt,[u("span",Ct,[v(c(ne),{class:"h-3.5 w-3.5"}),D(" "+w(s(m.fecha_inicio)),1)]),f[0]||(f[0]=u("span",null,"→",-1)),u("span",null,w(s(m.fecha_fin)),1)])]),u("div",xt,[v(ie,{estado:m.estado_visual},null,8,["estado"]),m.ya_voto?(d(),y(c(x),{key:0,variant:"success"},{default:g(()=>[v(c(se),{class:"h-3 w-3 mr-1"}),f[1]||(f[1]=D(" Votado ",-1))]),_:1})):p("",!0)])])]),u("div",bt,[z(a.$slots,"list-actions",{votacion:m},()=>[!m.urna_session_status&&m.puede_votar&&a.canVote?(d(),y(c(k),{key:0,onClick:N=>r(m),size:"sm"},{default:g(()=>[v(c(re),{class:"h-4 w-4 mr-1"}),f[2]||(f[2]=D(" Votar ",-1))]),_:2},1032,["onClick"])):p("",!0),m.urna_session_status==="active"&&m.puede_votar&&a.canVote?(d(),y(c(k),{key:1,onClick:N=>r(m),size:"sm",variant:"secondary"},{default:g(()=>[v(c(Z),{class:"h-4 w-4 mr-1"}),f[3]||(f[3]=D(" Volver ",-1))]),_:2},1032,["onClick"])):p("",!0),m.urna_session_status==="expired"&&m.puede_votar&&a.canVote?(d(),y(c(k),{key:2,onClick:N=>i(m),size:"sm",variant:"outline"},{default:g(()=>[v(c(ae),{class:"h-4 w-4 mr-1"}),f[4]||(f[4]=D(" Reiniciar ",-1))]),_:2},1032,["onClick"])):p("",!0),m.puede_ver_voto&&a.canViewOwnVote?(d(),y(c(k),{key:3,onClick:N=>l(m),variant:"outline",size:"sm"},{default:g(()=>[v(c(oe),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),m.resultados_visibles&&a.canViewResults?(d(),y(c(k),{key:4,onClick:N=>o(m),variant:"outline",size:"sm"},{default:g(()=>[v(c(U),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])])])]))),128))])):p("",!0),!a.votaciones||a.votaciones.length===0?(d(),T("div",It,[u("div",Mt,[v(c(Te),{class:"h-12 w-12"})]),f[5]||(f[5]=u("h3",{class:"mt-2 text-sm font-semibold text-gray-900 dark:text-gray-100"}," No hay votaciones ",-1)),u("p",_t,w(a.emptyMessage||"No se encontraron votaciones disponibles."),1)])):p("",!0)]))}});export{Bt as _};
