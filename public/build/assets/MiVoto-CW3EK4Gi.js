import{_ as w}from"./index-eGtaRp1p.js";import{_ as v}from"./createLucideIcon-5T-I5pMy.js";import{_ as f,a as x,b as y,c as p}from"./CardTitle.vue_vue_type_script_setup_true_lang-CQSbQHaD.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-BXH-28fo.js";import{_ as D}from"./Separator.vue_vue_type_script_setup_true_lang-BCU-eUWf.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-CjYNsLcC.js";import{d as j,k as E,a as c,o as d,b as t,u as e,m as F,e as a,f as o,g as n,t as r,i as _,n as I,F as C,r as N,j as R,W as z}from"./app-BtB2J7YA.js";import{C as h}from"./circle-check-big-EVGAfYtH.js";import{A as H}from"./arrow-left-B4DiF6as.js";import{C as L}from"./calendar-Df_jsOqU.js";import{H as P}from"./hash-ByGgnfPn.js";import{C as q}from"./copy-BIhdaIHq.js";import{M as W}from"./map-pin-BZyjIZ-q.js";import"./index-E4tAellK.js";import"./Input.vue_vue_type_script_setup_true_lang-BgOljXl6.js";import"./index-Bm8GA0Az.js";import"./check-1_08Q_Fp.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C6phXvlg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-D2k75qBl.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CiCnucVk.js";import"./VisuallyHidden-rX-KhyFF.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DrnoAbDy.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CBvxYJLa.js";import"./users-DQ2IcoSS.js";import"./index-Cp_ooq9d.js";import"./briefcase-K6PEhXhu.js";import"./circle-alert-BcVLiJHw.js";const O={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},U={class:"flex items-center justify-between"},G={class:"text-3xl font-bold flex items-center gap-2"},J={class:"space-y-4"},K={key:0,class:"text-muted-foreground"},Q={class:"flex flex-wrap gap-4 text-sm"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2 text-muted-foreground"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tt={class:"space-y-4"},et={class:"text-lg"},ot={class:"text-lg font-mono"},st={class:"space-y-4"},at={class:"text-lg font-mono"},it={class:"flex items-center gap-2 mb-2"},nt={class:"text-xs font-mono bg-muted p-2 rounded flex-1 break-all"},rt={class:"flex gap-2"},lt={class:"space-y-6"},dt={class:"flex items-start justify-between"},ct={class:"flex-1"},mt={key:0,class:"text-red-500"},ut={key:0,class:"text-sm text-muted-foreground mt-1"},ft={class:"bg-muted/30 rounded-lg p-4"},pt={class:"text-lg"},_t={class:"flex items-start gap-3"},Wt=j({__name:"MiVoto",props:{votacion:{},voto:{}},setup(V){const k=V,$=[{title:"Dashboard",href:"/dashboard"},{title:"Mis Votaciones",href:"/votaciones"},{title:"Mi Voto",href:"#"}],u=E(!1),T=()=>{z.get("/votaciones")},M=async()=>{try{await navigator.clipboard.writeText(k.voto.token_unico),u.value=!0,setTimeout(()=>{u.value=!1},2e3)}catch(i){console.error("Error al copiar token:",i)}},S=()=>{const i=`/verificar-token/${encodeURIComponent(k.voto.token_unico)}`;window.open(i,"_blank")},g=i=>new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),B=(i,s)=>!s&&s!==0?"Sin respuesta":i.type==="checkbox"?Array.isArray(s)&&s.length>0?s.join(", "):"Sin respuesta":s.toString();return(i,s)=>(d(),c(C,null,[t(e(F),{title:`Mi Voto: ${i.votacion.titulo}`},null,8,["title"]),t(A,{breadcrumbs:$},{default:a(()=>[o("div",O,[o("div",U,[o("div",null,[o("h1",G,[t(e(h),{class:"h-8 w-8 text-green-600"}),s[0]||(s[0]=n(" Mi Voto "))]),s[1]||(s[1]=o("p",{class:"text-muted-foreground"}," Resumen de tu participación en esta votación ",-1))]),t(e(v),{variant:"outline",onClick:T},{default:a(()=>[t(e(H),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=n(" Volver "))]),_:1})]),t(e(f),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(y),null,{default:a(()=>[n(r(i.votacion.titulo),1)]),_:1})]),_:1}),t(e(p),null,{default:a(()=>[o("div",J,[i.votacion.descripcion?(d(),c("p",K,r(i.votacion.descripcion),1)):_("",!0),o("div",Q,[o("div",X,[t(e(w),{variant:"outline"},{default:a(()=>[n(r(i.votacion.categoria.nombre),1)]),_:1})]),o("div",Y,[t(e(L),{class:"h-4 w-4"}),n(" "+r(g(i.votacion.fecha_inicio))+" - "+r(g(i.votacion.fecha_fin)),1)])])])]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(y),{class:"flex items-center gap-2"},{default:a(()=>[t(e(P),{class:"h-5 w-5"}),s[3]||(s[3]=n(" Información del Voto "))]),_:1})]),_:1}),t(e(p),null,{default:a(()=>[o("div",Z,[o("div",tt,[o("div",null,[t(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[4]||(s[4]=[n("Fecha y Hora")])),_:1}),o("p",et,r(g(i.voto.created_at)),1)]),o("div",null,[t(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[5]||(s[5]=[n("ID del Voto")])),_:1}),o("p",ot,"#"+r(i.voto.id),1)])]),o("div",st,[o("div",null,[t(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[6]||(s[6]=[n("IP Address")])),_:1}),o("p",at,r(i.voto.ip_address),1)]),o("div",null,[t(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[7]||(s[7]=[n("Token de Verificación Firmado")])),_:1}),o("div",it,[o("p",nt,r(i.voto.token_unico),1),t(e(v),{variant:"outline",size:"sm",onClick:M,class:I({"bg-green-50 border-green-200":u.value})},{default:a(()=>[t(e(q),{class:"h-4 w-4"}),n(" "+r(u.value?"Copiado!":"Copiar"),1)]),_:1},8,["class"])]),s[9]||(s[9]=o("p",{class:"text-xs text-muted-foreground mb-2"}," Token firmado digitalmente que contiene tus respuestas. Verificable públicamente. ",-1)),o("div",rt,[t(e(v),{variant:"outline",size:"sm",onClick:S,class:"text-xs"},{default:a(()=>[t(e(W),{class:"h-3 w-3 mr-1"}),s[8]||(s[8]=n(" Verificar Públicamente "))]),_:1})])])])])]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(y),{class:"flex items-center gap-2"},{default:a(()=>[t(e(h),{class:"h-5 w-5"}),s[10]||(s[10]=n(" Mis Respuestas "))]),_:1})]),_:1}),t(e(p),null,{default:a(()=>[o("div",lt,[(d(!0),c(C,null,N(i.votacion.formulario_config,(l,b)=>(d(),c("div",{key:l.id,class:"space-y-2"},[o("div",dt,[o("div",ct,[t(e(m),{class:"text-base font-medium"},{default:a(()=>[n(r(b+1)+". "+r(l.title)+" ",1),l.required?(d(),c("span",mt,"*")):_("",!0)]),_:2},1024),l.description?(d(),c("p",ut,r(l.description),1)):_("",!0)]),t(e(w),{variant:"secondary",class:"ml-4"},{default:a(()=>[n(r(l.type==="text"?"Texto":l.type==="textarea"?"Texto largo":l.type==="select"?"Selección":l.type==="radio"?"Opción única":l.type==="checkbox"?"Múltiple":l.type),1)]),_:2},1024)]),o("div",ft,[o("p",pt,r(B(l,i.voto.respuestas[l.id])),1)]),b<i.votacion.formulario_config.length-1?(d(),R(e(D),{key:0,class:"mt-6"})):_("",!0)]))),128))])]),_:1})]),_:1}),t(e(f),{class:"border-green-200 bg-green-50/50"},{default:a(()=>[t(e(p),{class:"pt-6"},{default:a(()=>[o("div",_t,[t(e(h),{class:"h-5 w-5 text-green-600 mt-0.5"}),s[11]||(s[11]=o("div",null,[o("p",{class:"font-medium text-green-800"},"Voto registrado exitosamente"),o("p",{class:"text-sm text-green-700 mt-1"}," Tu voto ha sido firmado digitalmente y almacenado de forma segura. El token contiene tus respuestas y puede ser verificado públicamente para confirmar la integridad del proceso electoral. ")],-1))])]),_:1})]),_:1})])]),_:1})],64))}});export{Wt as default};
