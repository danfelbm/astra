import{d as Z,c as ee,i as u,e as d,g as o,j as c,f as s,h as i,u as e,F as $,k as C,w as a,b,q as ne,t as r,n as D,G as re,r as S,m as de,p as ie,W as I}from"./app-BxMQdeji.js";import{_ as ue}from"./UserLayout.vue_vue_type_script_setup_true_lang-D4Z8320t.js";import{a as _,b as x,c as f,_ as p}from"./CardTitle.vue_vue_type_script_setup_true_lang-BnCOEwdG.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-ToL2SzCT.js";import{_ as J}from"./createLucideIcon-C-UWYrfi.js";import{_ as B}from"./index-BV26-s10.js";import{_ as ce,a as me,b as R,c as q}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-w_SIyey3.js";import{_ as fe}from"./Input.vue_vue_type_script_setup_true_lang-BlmtfhYq.js";import{_ as K,a as O,b as Q,c as Y,d as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-C_cC4TmA.js";import{_ as te}from"./Progress.vue_vue_type_script_setup_true_lang-BF0Ctj7D.js";import{H as pe}from"./HitoCard-DVd64XVH.js";import{C as A}from"./clock-CKp_PLc5.js";import{C as H}from"./circle-alert----6uGyB.js";import{C as M}from"./circle-check-big-C20rPwS_.js";import{T as E}from"./target-DGdssVnK.js";import{C as G}from"./calendar-DgdSvpAx.js";import{U as W}from"./user-y-oKgZ0r.js";import{F as ge}from"./flag-CD6IJ2Vk.js";import{C as se}from"./circle-x-Ba2ZKWwF.js";import{f as le,e as ae}from"./es-BDPlFIsO.js";import{A as _e}from"./arrow-right-DcU1oEbX.js";import{U as xe}from"./users-CvN1Zex9.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-HaYR--Vk.js";import"./index-DyBffbvj.js";import"./floating-ui.vue-8MwpQwna.js";import"./x-CtZ-Yk1L.js";import"./index-CniBkxSN.js";import"./shield-BWgGyosQ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CwQxj27i.js";import"./chevron-right-Fu6i2V5H.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-XGwxgqGh.js";import"./VisuallyHidden-BU7kxpuH.js";import"./index-gViH2lvq.js";import"./Label.vue_vue_type_script_setup_true_lang-Cv61jd0z.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-Rc0j_Ts0.js";import"./index-uuqfgDZR.js";import"./map-pin-BSO3mLrr.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CtZNhcn0.js";import"./square-check-big-BGG1gbre.js";import"./file-text-BnGFyr0l.js";import"./folder-open-B7m9IzBm.js";import"./index-De6-LhcB.js";import"./RovingFocusItem-CUafydao.js";import"./utils-CDNySjiA.js";import"./check-Df8aIUSG.js";import"./nullish-CHIgUVhi.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-B2V4p4ol.js";import"./ellipsis-CCojG_ET.js";import"./pen-BSjBVchq.js";import"./plus-Blz5-OLA.js";import"./copy-DFTSkhrr.js";import"./trash-2-CWeupkIm.js";import"./calendar-days-Bentt2xq.js";import"./eye-12Pg9Ucu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const be={class:"space-y-8"},ve={class:"relative"},ye={key:0,class:"mb-8"},we={class:"text-lg font-semibold mb-4 flex items-center gap-2"},he={class:"space-y-4"},ke={class:"flex items-start justify-between"},$e={class:"space-y-1"},Ce={key:0,class:"text-sm text-muted-foreground"},Ve={key:1},je={class:"flex items-center justify-between mb-2"},Te={class:"text-sm text-muted-foreground"},Me={class:"flex flex-wrap gap-4 text-sm text-muted-foreground"},Pe={class:"flex items-center gap-1"},De={key:0,class:"flex items-center gap-1"},He={key:1,class:"mb-8"},Ee={class:"text-lg font-semibold mb-4 flex items-center gap-2"},Fe={class:"space-y-4"},Ne={class:"flex items-start justify-between"},Se={class:"space-y-1"},Ue={key:0,class:"text-sm text-muted-foreground"},Be={class:"flex flex-wrap gap-4 text-sm text-muted-foreground"},Ae={class:"flex items-center gap-1"},Le={class:"flex items-center gap-1"},Ie={key:0,class:"flex items-center gap-1"},Re={key:1,class:"text-sm text-muted-foreground"},qe={key:2,class:"mb-8"},Ge={class:"text-lg font-semibold mb-4 flex items-center gap-2"},We={class:"space-y-4"},ze={class:"absolute left-4 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"},Xe={class:"flex items-start justify-between"},Je={class:"space-y-1"},Ke={class:"flex flex-wrap gap-4 text-sm text-muted-foreground"},Oe={class:"flex items-center gap-1"},Qe={class:"flex items-center gap-1"},Ye={key:0,class:"flex items-center gap-1"},Ze={key:3,class:"text-center py-12"},et=Z({__name:"HitoTimeline",props:{hitos:{},showProject:{type:Boolean,default:!1},onHitoClick:{}},emits:["hito-click"],setup(L,{emit:v}){const y=L,w=v,g=ee(()=>{const n={completados:[],en_progreso:[],pendientes:[],cancelados:[]};return y.hitos.forEach(t=>{switch(t.estado){case"completado":n.completados.push(t);break;case"en_progreso":n.en_progreso.push(t);break;case"pendiente":n.pendientes.push(t);break;case"cancelado":n.cancelados.push(t);break}}),n}),P=n=>({pendiente:"bg-gray-100 text-gray-800 border-gray-300",en_progreso:"bg-blue-100 text-blue-800 border-blue-300",completado:"bg-green-100 text-green-800 border-green-300",cancelado:"bg-red-100 text-red-800 border-red-300"})[n]||"bg-gray-100 text-gray-800",F=n=>{switch(n){case"completado":return M;case"en_progreso":return A;case"pendiente":return H;case"cancelado":return se;default:return E}},h=n=>n?le(new Date(n),"dd MMM yyyy",{locale:ae}):"Sin fecha",V=n=>{if(!n)return null;const t=Math.ceil((new Date(n).getTime()-new Date().getTime())/(1e3*60*60*24));return t<0?`Vencido hace ${Math.abs(t)} días`:t===0?"Vence hoy":t===1?"Vence mañana":`${t} días restantes`},j=n=>{w("hito-click",n),y.onHitoClick&&y.onHitoClick(n)},T=n=>{if(!n.entregables||n.entregables.length===0)return{total:0,completados:0,porcentaje:0};const t=n.entregables.length,l=n.entregables.filter(N=>N.estado==="completado").length,m=Math.round(l/t*100);return{total:t,completados:l,porcentaje:m}};return(n,t)=>(d(),u("div",be,[o("div",ve,[t[11]||(t[11]=o("div",{class:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"},null,-1)),g.value.en_progreso.length>0?(d(),u("div",ye,[o("h3",we,[s(e(A),{class:"h-5 w-5 text-blue-600"}),t[0]||(t[0]=i(" En Progreso ",-1))]),o("div",he,[(d(!0),u($,null,C(g.value.en_progreso,l=>(d(),u("div",{key:l.id,class:"relative flex gap-4"},[t[2]||(t[2]=o("div",{class:"absolute left-4 w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-sm"},null,-1)),s(e(p),{class:D(["ml-12 flex-1 hover:shadow-lg transition-all cursor-pointer border-l-4",P(l.estado)]),onClick:m=>j(l)},{default:a(()=>[s(e(_),null,{default:a(()=>[o("div",ke,[o("div",$e,[s(e(x),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[(d(),b(ne(F(l.estado)),{class:"h-5 w-5"})),i(" "+r(l.nombre),1)]),_:2},1024),n.showProject&&l.proyecto?(d(),b(e(U),{key:0},{default:a(()=>[i(r(l.proyecto.nombre),1)]),_:2},1024)):c("",!0)]),s(e(B),{class:D(P(l.estado)),variant:"outline"},{default:a(()=>[i(r(l.estado),1)]),_:2},1032,["class"])])]),_:2},1024),s(e(f),{class:"space-y-4"},{default:a(()=>{var m;return[l.descripcion?(d(),u("div",Ce,r(l.descripcion),1)):c("",!0),l.entregables&&l.entregables.length>0?(d(),u("div",Ve,[o("div",je,[t[1]||(t[1]=o("span",{class:"text-sm font-medium"},"Progreso",-1)),o("span",Te,r(T(l).completados)+"/"+r(T(l).total)+" entregables ",1)]),s(e(te),{value:T(l).porcentaje,class:"h-2"},null,8,["value"])])):c("",!0),o("div",Me,[o("div",Pe,[s(e(G),{class:"h-4 w-4"}),o("span",null,r(h(l.fecha_inicio))+" - "+r(h(l.fecha_fin)),1)]),l.responsable?(d(),u("div",De,[s(e(W),{class:"h-4 w-4"}),o("span",null,r(l.responsable.name),1)])):c("",!0),V(l.fecha_fin)?(d(),u("div",{key:1,class:D(["flex items-center gap-1",{"text-red-600":(m=V(l.fecha_fin))==null?void 0:m.includes("Vencido")}])},[s(e(A),{class:"h-4 w-4"}),o("span",null,r(V(l.fecha_fin)),1)],2)):c("",!0)])]}),_:2},1024)]),_:2},1032,["class","onClick"])]))),128))])])):c("",!0),g.value.pendientes.length>0?(d(),u("div",He,[o("h3",Ee,[s(e(H),{class:"h-5 w-5 text-yellow-600"}),t[3]||(t[3]=i(" Pendientes ",-1))]),o("div",Fe,[(d(!0),u($,null,C(g.value.pendientes,l=>(d(),u("div",{key:l.id,class:"relative flex gap-4"},[t[5]||(t[5]=o("div",{class:"absolute left-4 w-4 h-4 bg-yellow-500 rounded-full border-2 border-white shadow-sm"},null,-1)),s(e(p),{class:"ml-12 flex-1 hover:shadow-lg transition-all cursor-pointer border-l-4 border-yellow-300",onClick:m=>j(l)},{default:a(()=>[s(e(_),null,{default:a(()=>[o("div",Ne,[o("div",Se,[s(e(x),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[s(e(H),{class:"h-5 w-5 text-yellow-600"}),i(" "+r(l.nombre),1)]),_:2},1024),n.showProject&&l.proyecto?(d(),b(e(U),{key:0},{default:a(()=>[i(r(l.proyecto.nombre),1)]),_:2},1024)):c("",!0)]),s(e(B),{variant:"outline",class:"bg-yellow-50"},{default:a(()=>[...t[4]||(t[4]=[i(" Pendiente ",-1)])]),_:1})])]),_:2},1024),s(e(f),{class:"space-y-4"},{default:a(()=>[l.descripcion?(d(),u("div",Ue,r(l.descripcion),1)):c("",!0),o("div",Be,[o("div",Ae,[s(e(G),{class:"h-4 w-4"}),o("span",null,"Inicio: "+r(h(l.fecha_inicio)),1)]),o("div",Le,[s(e(ge),{class:"h-4 w-4"}),o("span",null,"Fin: "+r(h(l.fecha_fin)),1)]),l.responsable?(d(),u("div",Ie,[s(e(W),{class:"h-4 w-4"}),o("span",null,r(l.responsable.name),1)])):c("",!0)]),l.entregables&&l.entregables.length>0?(d(),u("div",Re,r(l.entregables.length)+" entregables pendientes ",1)):c("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])])):c("",!0),g.value.completados.length>0?(d(),u("div",qe,[o("h3",Ge,[s(e(M),{class:"h-5 w-5 text-green-600"}),t[6]||(t[6]=i(" Completados ",-1))]),o("div",We,[(d(!0),u($,null,C(g.value.completados,l=>(d(),u("div",{key:l.id,class:"relative flex gap-4"},[o("div",ze,[s(e(M),{class:"h-3 w-3 text-white absolute -top-0.5 -left-0.5"})]),s(e(p),{class:"ml-12 flex-1 hover:shadow-lg transition-all cursor-pointer border-l-4 border-green-300 opacity-75",onClick:m=>j(l)},{default:a(()=>[s(e(_),null,{default:a(()=>[o("div",Xe,[o("div",Je,[s(e(x),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[s(e(M),{class:"h-5 w-5 text-green-600"}),i(" "+r(l.nombre),1)]),_:2},1024),n.showProject&&l.proyecto?(d(),b(e(U),{key:0},{default:a(()=>[i(r(l.proyecto.nombre),1)]),_:2},1024)):c("",!0)]),s(e(B),{variant:"outline",class:"bg-green-50"},{default:a(()=>[...t[7]||(t[7]=[i(" Completado ",-1)])]),_:1})])]),_:2},1024),s(e(f),null,{default:a(()=>[o("div",Ke,[o("div",Oe,[s(e(M),{class:"h-4 w-4 text-green-600"}),t[8]||(t[8]=o("span",null,"100% completado",-1))]),o("div",Qe,[s(e(G),{class:"h-4 w-4"}),o("span",null,"Completado: "+r(h(l.fecha_fin)),1)]),l.responsable?(d(),u("div",Ye,[s(e(W),{class:"h-4 w-4"}),o("span",null,r(l.responsable.name),1)])):c("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])])):c("",!0),n.hitos.length===0?(d(),u("div",Ze,[s(e(E),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t[9]||(t[9]=o("p",{class:"text-lg font-medium text-muted-foreground"},"No hay hitos disponibles",-1)),t[10]||(t[10]=o("p",{class:"text-sm text-muted-foreground"},"Los hitos aparecerán aquí cuando se creen",-1))])):c("",!0)])]))}}),tt={class:"space-y-6"},st={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-6"},lt={class:"text-2xl font-bold"},at={class:"text-2xl font-bold"},ot={class:"text-2xl font-bold"},nt={class:"text-2xl font-bold"},rt={class:"text-2xl font-bold text-red-600"},dt={class:"text-2xl font-bold text-orange-600"},it={class:"grid gap-4 md:grid-cols-4"},ut={class:"flex items-start justify-between"},ct={class:"space-y-1"},mt={class:"grid gap-4 md:grid-cols-4"},ft={class:"flex items-center gap-2"},pt={class:"text-sm font-medium"},gt={class:"text-sm font-medium"},_t={class:"text-sm font-medium"},xt={class:"mt-4 flex items-center gap-4 text-sm text-muted-foreground"},bt={class:"flex items-center gap-1"},vt={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},yt={key:0,class:"flex justify-center"},wt={class:"flex items-center space-x-2"},ks=Z({__name:"Index",props:{hitos:{},filters:{},proyectos:{},estadisticas:{}},setup(L){const v=L;re();const y=S(v.filters.search||""),w=S(v.filters.estado||"todos"),g=S(v.filters.proyecto||""),P=S("lista"),F=()=>{I.get(route("user.mis-hitos.index"),{search:y.value,estado:w.value!=="todos"?w.value:void 0,proyecto:g.value||void 0},{preserveState:!0,preserveScroll:!0})};de([y,w,g],()=>{F()},{debounce:300});const h=n=>({pendiente:"bg-gray-100 text-gray-800",en_progreso:"bg-blue-100 text-blue-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",V=n=>{I.visit(route("user.mis-hitos.show",n.id))},j=n=>n?le(new Date(n),"dd MMM yyyy",{locale:ae}):"No definida",T=n=>{if(!n)return null;const t=Math.ceil((new Date(n).getTime()-new Date().getTime())/(1e3*60*60*24));return t<0?`Vencido hace ${Math.abs(t)} días`:t===0?"Vence hoy":t===1?"Vence mañana":`${t} días restantes`};return ee(()=>({pendientes:v.hitos.data.filter(n=>n.estado==="pendiente"),en_progreso:v.hitos.data.filter(n=>n.estado==="en_progreso"),completados:v.hitos.data.filter(n=>n.estado==="completado")})),(n,t)=>(d(),b(ue,null,{default:a(()=>[s(e(ie),{title:"Mis Hitos"}),o("div",tt,[t[27]||(t[27]=o("div",{class:"flex flex-col gap-4"},[o("h1",{class:"text-2xl font-bold tracking-tight"},"Mis Hitos"),o("p",{class:"text-muted-foreground"}," Gestiona y da seguimiento a los hitos y entregables asignados a ti ")],-1)),o("div",st,[s(e(p),null,{default:a(()=>[s(e(_),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(x),{class:"text-sm font-medium"},{default:a(()=>[...t[4]||(t[4]=[i("Total",-1)])]),_:1}),s(e(E),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e(f),null,{default:a(()=>[o("div",lt,r(n.estadisticas.total),1)]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(_),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(x),{class:"text-sm font-medium"},{default:a(()=>[...t[5]||(t[5]=[i("Pendientes",-1)])]),_:1}),s(e(H),{class:"h-4 w-4 text-yellow-600"})]),_:1}),s(e(f),null,{default:a(()=>[o("div",at,r(n.estadisticas.pendientes),1)]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(_),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(x),{class:"text-sm font-medium"},{default:a(()=>[...t[6]||(t[6]=[i("En Progreso",-1)])]),_:1}),s(e(A),{class:"h-4 w-4 text-blue-600"})]),_:1}),s(e(f),null,{default:a(()=>[o("div",ot,r(n.estadisticas.en_progreso),1)]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(_),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(x),{class:"text-sm font-medium"},{default:a(()=>[...t[7]||(t[7]=[i("Completados",-1)])]),_:1}),s(e(M),{class:"h-4 w-4 text-green-600"})]),_:1}),s(e(f),null,{default:a(()=>[o("div",nt,r(n.estadisticas.completados),1)]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(_),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(x),{class:"text-sm font-medium"},{default:a(()=>[...t[8]||(t[8]=[i("Vencidos",-1)])]),_:1}),s(e(se),{class:"h-4 w-4 text-red-600"})]),_:1}),s(e(f),null,{default:a(()=>[o("div",rt,r(n.estadisticas.vencidos),1)]),_:1})]),_:1}),s(e(p),null,{default:a(()=>[s(e(_),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[s(e(x),{class:"text-sm font-medium"},{default:a(()=>[...t[9]||(t[9]=[i("Por Vencer",-1)])]),_:1}),s(e(H),{class:"h-4 w-4 text-orange-600"})]),_:1}),s(e(f),null,{default:a(()=>[o("div",dt,r(n.estadisticas.proximos_vencer),1)]),_:1})]),_:1})]),s(e(p),null,{default:a(()=>[s(e(_),null,{default:a(()=>[s(e(x),null,{default:a(()=>[...t[10]||(t[10]=[i("Filtros",-1)])]),_:1})]),_:1}),s(e(f),null,{default:a(()=>[o("div",it,[o("div",null,[s(e(fe),{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=l=>y.value=l),placeholder:"Buscar hitos...",class:"w-full"},null,8,["modelValue"])]),s(e(K),{modelValue:w.value,"onUpdate:modelValue":t[1]||(t[1]=l=>w.value=l)},{default:a(()=>[s(e(O),null,{default:a(()=>[s(e(Q),{placeholder:"Estado"})]),_:1}),s(e(Y),null,{default:a(()=>[s(e(k),{value:"todos"},{default:a(()=>[...t[11]||(t[11]=[i("Todos los estados",-1)])]),_:1}),s(e(k),{value:"pendiente"},{default:a(()=>[...t[12]||(t[12]=[i("Pendiente",-1)])]),_:1}),s(e(k),{value:"en_progreso"},{default:a(()=>[...t[13]||(t[13]=[i("En Progreso",-1)])]),_:1}),s(e(k),{value:"completado"},{default:a(()=>[...t[14]||(t[14]=[i("Completado",-1)])]),_:1}),s(e(k),{value:"cancelado"},{default:a(()=>[...t[15]||(t[15]=[i("Cancelado",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(e(K),{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=l=>g.value=l)},{default:a(()=>[s(e(O),null,{default:a(()=>[s(e(Q),{placeholder:"Proyecto"})]),_:1}),s(e(Y),null,{default:a(()=>[s(e(k),{value:""},{default:a(()=>[...t[16]||(t[16]=[i("Todos los proyectos",-1)])]),_:1}),(d(!0),u($,null,C(n.proyectos,l=>(d(),b(e(k),{key:l.id,value:String(l.id)},{default:a(()=>[i(r(l.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),s(e(J),{onClick:F,class:"w-full md:w-auto"},{default:a(()=>[...t[17]||(t[17]=[i(" Aplicar Filtros ",-1)])]),_:1})])]),_:1})]),_:1}),s(e(ce),{modelValue:P.value,"onUpdate:modelValue":t[3]||(t[3]=l=>P.value=l),class:"space-y-4"},{default:a(()=>[s(e(me),null,{default:a(()=>[s(e(R),{value:"lista"},{default:a(()=>[...t[18]||(t[18]=[i("Vista de Lista",-1)])]),_:1}),s(e(R),{value:"tarjetas"},{default:a(()=>[...t[19]||(t[19]=[i("Vista de Tarjetas",-1)])]),_:1}),s(e(R),{value:"timeline"},{default:a(()=>[...t[20]||(t[20]=[i("Timeline",-1)])]),_:1})]),_:1}),s(e(q),{value:"lista",class:"space-y-4"},{default:a(()=>[(d(!0),u($,null,C(n.hitos.data,l=>(d(),b(e(p),{key:l.id,class:"hover:shadow-lg transition-shadow cursor-pointer",onClick:m=>V(l)},{default:a(()=>[s(e(_),null,{default:a(()=>[o("div",ut,[o("div",ct,[s(e(x),{class:"flex items-center gap-2"},{default:a(()=>[i(r(l.nombre)+" ",1),s(e(B),{class:D(h(l.estado))},{default:a(()=>[i(r(l.estado),1)]),_:2},1032,["class"])]),_:2},1024),s(e(U),null,{default:a(()=>{var m;return[i(r(((m=l.proyecto)==null?void 0:m.nombre)||"Sin proyecto"),1)]}),_:2},1024)]),s(e(_e),{class:"h-5 w-5 text-muted-foreground"})])]),_:2},1024),s(e(f),null,{default:a(()=>{var m,N,z,X;return[o("div",mt,[o("div",null,[t[21]||(t[21]=o("p",{class:"text-sm text-muted-foreground"},"Progreso",-1)),o("div",ft,[s(e(te),{value:l.porcentaje_completado,class:"flex-1"},null,8,["value"]),o("span",pt,r(l.porcentaje_completado)+"%",1)])]),o("div",null,[t[22]||(t[22]=o("p",{class:"text-sm text-muted-foreground"},"Fecha Inicio",-1)),o("p",gt,r(j(l.fecha_inicio)),1)]),o("div",null,[t[23]||(t[23]=o("p",{class:"text-sm text-muted-foreground"},"Fecha Fin",-1)),o("p",_t,r(j(l.fecha_fin)),1)]),o("div",null,[t[24]||(t[24]=o("p",{class:"text-sm text-muted-foreground"},"Tiempo Restante",-1)),o("p",{class:D(["text-sm font-medium",{"text-red-600":l.estado!=="completado"&&((m=T(l.fecha_fin))==null?void 0:m.includes("Vencido"))}])},r(T(l.fecha_fin)||"Sin fecha límite"),3)])]),o("div",xt,[o("span",bt,[s(e(xe),{class:"h-4 w-4"}),i(" "+r(((N=l.responsable)==null?void 0:N.name)||"Sin responsable"),1)]),o("span",null,r(((z=l.entregables)==null?void 0:z.length)||0)+" entregables ",1),o("span",null,r(((X=l.entregables)==null?void 0:X.filter(oe=>oe.estado==="completado").length)||0)+" completados ",1)])]}),_:2},1024)]),_:2},1032,["onClick"]))),128)),n.hitos.data.length===0?(d(),b(e(p),{key:0},{default:a(()=>[s(e(f),{class:"text-center py-8"},{default:a(()=>[s(e(E),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t[25]||(t[25]=o("p",{class:"text-muted-foreground"},"No tienes hitos asignados",-1))]),_:1})]),_:1})):c("",!0)]),_:1}),s(e(q),{value:"tarjetas",class:"space-y-4"},{default:a(()=>[o("div",vt,[(d(!0),u($,null,C(n.hitos.data,l=>(d(),b(pe,{key:l.id,hito:l,onClick:m=>V(l)},null,8,["hito","onClick"]))),128))]),n.hitos.data.length===0?(d(),b(e(p),{key:0},{default:a(()=>[s(e(f),{class:"text-center py-8"},{default:a(()=>[s(e(E),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t[26]||(t[26]=o("p",{class:"text-muted-foreground"},"No tienes hitos asignados",-1))]),_:1})]),_:1})):c("",!0)]),_:1}),s(e(q),{value:"timeline",class:"space-y-4"},{default:a(()=>[s(et,{hitos:n.hitos.data},null,8,["hitos"])]),_:1})]),_:1},8,["modelValue"]),n.hitos.meta&&n.hitos.meta.last_page>1?(d(),u("div",yt,[o("nav",wt,[(d(!0),u($,null,C(n.hitos.links,l=>(d(),b(e(J),{key:l.label,disabled:!l.url,onClick:m=>l.url&&e(I).visit(l.url),variant:l.active?"default":"outline",innerHTML:l.label},null,8,["disabled","onClick","variant","innerHTML"]))),128))])])):c("",!0)])]),_:1}))}});export{ks as default};
