import{a as C,C as Y,U,F as N,_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-C1azZtFX.js";import{_ as w}from"./AppLogo.vue_vue_type_script_setup_true_lang-CMxkBa9N.js";import{_ as v,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-D1WxX5UR.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-csrGK3C_.js";import{_ as x,a as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bb-ZiE1h.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-n3RPop8f.js";import{_ as tt,a as et,b as D,c as y,d as at,e as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-BbJ6DcW5.js";import{d as ot,c as $,a as m,o as d,b as a,u as t,m as st,e as o,f as s,j as _,i as k,W as h,g as n,t as i,n as F,l as z,F as S,r as j}from"./app-CRtAryep.js";import{A as rt}from"./arrow-left-w_RUmR7S.js";import{S as A}from"./square-pen-BorTlOml.js";import{T as nt}from"./trash-2-DCTPvolJ.js";import{I as lt}from"./info-5HynuTJg.js";import{M as it}from"./map-pin-CIaAo71h.js";import{U as dt}from"./user-B3M_5sA5.js";import{E as ut}from"./eye-FMG4EKUK.js";import{C as M}from"./clock-CoofMxuf.js";import{C as G}from"./circle-check-big-ZrLUt4Zh.js";import{C as ct}from"./circle-x-B9Ikz1uw.js";import{S as ft}from"./send-O4H3Z0VZ.js";import"./index-Bao1rBIx.js";import"./index-BlfSCicX.js";import"./useForwardExpose-Cy_Y8IhK.js";const mt={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},pt={class:"space-y-6"},_t={class:"flex items-center justify-between"},vt={class:"space-y-1"},gt={class:"flex items-center gap-2"},xt={class:"text-3xl font-bold tracking-tight"},bt={class:"flex items-center gap-2 mt-2"},yt={class:"flex gap-2"},Ct={class:"grid gap-6 md:grid-cols-2"},wt={class:"font-medium"},$t={class:"font-medium"},kt={class:"font-medium"},ht={class:"font-medium"},Et={class:"font-medium"},Nt={class:"font-medium"},Dt={class:"font-medium"},Ft={class:"font-medium"},St={class:"font-medium"},At={class:"font-medium"},Pt={class:"font-medium"},Tt={class:"font-medium"},Bt={class:"font-medium"},Vt={class:"space-y-4"},It={class:"flex items-center justify-between"},Lt={class:"font-medium"},Ut={class:"text-sm text-muted-foreground"},qt={key:0,class:"text-sm text-red-600"},zt={class:"rounded-md border"},jt={class:"font-medium"},Mt={class:"text-sm text-muted-foreground"},Gt={class:"text-sm"},Rt={class:"text-xs text-muted-foreground"},Wt={key:1,class:"text-sm text-muted-foreground"},Xt={key:0},Ht={class:"text-sm font-medium"},Jt={class:"text-xs text-muted-foreground"},Kt={key:1,class:"text-sm text-muted-foreground"},xe=ot({__name:"Show",props:{convocatoria:{},postulaciones:{}},setup(R){const f=R,W=[{title:"Admin",href:"/admin/dashboard"},{title:"Convocatorias",href:"/admin/convocatorias"},{title:f.convocatoria.nombre,href:`/admin/convocatorias/${f.convocatoria.id}`}],X=r=>{switch(r){case"borrador":return A;case"activa":return G;case"cerrada":return M;default:return N}},H=r=>{switch(r){case"borrador":return A;case"enviada":return ft;case"en_revision":return M;case"aceptada":return G;case"rechazada":return ct;default:return N}},J=r=>{switch(r){case"borrador":return"bg-gray-100 text-gray-800";case"activa":return"bg-green-100 text-green-800";case"cerrada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=r=>{switch(r){case"borrador":return"Borrador";case"activa":return"Activa";case"cerrada":return"Cerrada";default:return r}},E=r=>r?new Date(r).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida",T=$(()=>{const r=new Date,e=new Date(f.convocatoria.fecha_apertura),l=new Date(f.convocatoria.fecha_cierre);return r>=e&&r<=l&&f.convocatoria.estado==="activa"}),B=$(()=>{const r=new Date,e=new Date(f.convocatoria.fecha_apertura);return r<e}),V=$(()=>T.value?"Abierta":B.value?"Futura":"Cerrada"),K=$(()=>T.value?"bg-green-100 text-green-800":B.value?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),O=()=>{h.get(`/admin/convocatorias/${f.convocatoria.id}/edit`)},Q=()=>{confirm("¿Estás seguro de que deseas eliminar esta convocatoria?")&&h.delete(`/admin/convocatorias/${f.convocatoria.id}`)};return(r,e)=>(d(),m(S,null,[a(t(st),{title:`Convocatoria: ${r.convocatoria.nombre}`},null,8,["title"]),a(Z,{breadcrumbs:W},{default:o(()=>[s("div",mt,[s("div",pt,[s("div",_t,[s("div",vt,[s("div",gt,[a(t(w),{variant:"ghost",size:"sm",onClick:e[0]||(e[0]=l=>t(h).get("/admin/convocatorias"))},{default:o(()=>[a(t(rt),{class:"h-4 w-4 mr-2"}),e[1]||(e[1]=n(" Volver "))]),_:1})]),s("h1",xt,i(r.convocatoria.nombre),1),s("div",bt,[a(t(C),{class:F([J(r.convocatoria.estado),"text-sm px-2 py-1"])},{default:o(()=>[(d(),_(z(X(r.convocatoria.estado)),{class:"mr-1 h-3 w-3"})),n(" "+i(P(r.convocatoria.estado)),1)]),_:1},8,["class"]),a(t(C),{class:F([K.value,"text-sm px-2 py-1"])},{default:o(()=>[n(i(V.value),1)]),_:1},8,["class"]),r.convocatoria.activo?k("",!0):(d(),_(t(C),{key:0,variant:"secondary",class:"text-sm px-2 py-1"},{default:o(()=>e[2]||(e[2]=[n(" Inactiva ")])),_:1}))])]),s("div",yt,[a(t(w),{onClick:O,variant:"outline"},{default:o(()=>[a(t(A),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=n(" Editar "))]),_:1}),a(t(w),{onClick:Q,variant:"destructive"},{default:o(()=>[a(t(nt),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=n(" Eliminar "))]),_:1})])]),s("div",Ct,[a(t(v),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(b),{class:"flex items-center gap-2"},{default:o(()=>[a(t(lt),{class:"h-5 w-5"}),e[5]||(e[5]=n(" Información General "))]),_:1})]),_:1}),a(t(g),{class:"space-y-4"},{default:o(()=>[s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[6]||(e[6]=[n("Descripción:")])),_:1}),s("p",wt,i(r.convocatoria.descripcion||"Sin descripción"),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[7]||(e[7]=[n("Estado:")])),_:1}),s("p",$t,i(P(r.convocatoria.estado)),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[8]||(e[8]=[n("Activo:")])),_:1}),s("p",kt,i(r.convocatoria.activo?"Sí":"No"),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[9]||(e[9]=[n("Creado:")])),_:1}),s("p",ht,i(E(r.convocatoria.created_at)),1)])]),_:1})]),_:1}),a(t(v),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(b),{class:"flex items-center gap-2"},{default:o(()=>[a(t(Y),{class:"h-5 w-5"}),e[10]||(e[10]=n(" Fechas "))]),_:1})]),_:1}),a(t(g),{class:"space-y-4"},{default:o(()=>[s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[11]||(e[11]=[n("Fecha de Apertura:")])),_:1}),s("p",Et,i(E(r.convocatoria.fecha_apertura)),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[12]||(e[12]=[n("Fecha de Cierre:")])),_:1}),s("p",Nt,i(E(r.convocatoria.fecha_cierre)),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[13]||(e[13]=[n("Estado Temporal:")])),_:1}),s("p",Dt,i(V.value),1)])]),_:1})]),_:1}),a(t(v),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(b),{class:"flex items-center gap-2"},{default:o(()=>[a(t(U),{class:"h-5 w-5"}),e[14]||(e[14]=n(" Cargo y Periodo Electoral "))]),_:1})]),_:1}),a(t(g),{class:"space-y-4"},{default:o(()=>{var l,c;return[s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[15]||(e[15]=[n("Cargo:")])),_:1}),s("p",Ft,i(((l=r.convocatoria.cargo)==null?void 0:l.nombre)||"No asignado"),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[16]||(e[16]=[n("Periodo Electoral:")])),_:1}),s("p",St,i(((c=r.convocatoria.periodoElectoral)==null?void 0:c.nombre)||"No asignado"),1)])]}),_:1})]),_:1}),a(t(v),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(b),{class:"flex items-center gap-2"},{default:o(()=>[a(t(it),{class:"h-5 w-5"}),e[17]||(e[17]=n(" Ubicación Geográfica "))]),_:1})]),_:1}),a(t(g),{class:"space-y-4"},{default:o(()=>{var l,c,I,L;return[s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[18]||(e[18]=[n("Territorio:")])),_:1}),s("p",At,i(((l=r.convocatoria.territorio)==null?void 0:l.nombre)||"No especificado"),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[19]||(e[19]=[n("Departamento:")])),_:1}),s("p",Pt,i(((c=r.convocatoria.departamento)==null?void 0:c.nombre)||"No especificado"),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[20]||(e[20]=[n("Municipio:")])),_:1}),s("p",Tt,i(((I=r.convocatoria.municipio)==null?void 0:I.nombre)||"No especificado"),1)]),s("div",null,[a(t(u),{class:"text-muted-foreground"},{default:o(()=>e[21]||(e[21]=[n("Localidad:")])),_:1}),s("p",Bt,i(((L=r.convocatoria.localidad)==null?void 0:L.nombre)||"No especificado"),1)])]}),_:1})]),_:1})]),r.convocatoria.formulario_postulacion&&r.convocatoria.formulario_postulacion.length>0?(d(),_(t(v),{key:0},{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(b),{class:"flex items-center gap-2"},{default:o(()=>[a(t(N),{class:"h-5 w-5"}),e[22]||(e[22]=n(" Formulario de Postulación "))]),_:1}),a(t(q),null,{default:o(()=>e[23]||(e[23]=[n(" Campos configurados para el formulario de postulación de esta convocatoria. ")])),_:1})]),_:1}),a(t(g),null,{default:o(()=>[s("div",Vt,[(d(!0),m(S,null,j(r.convocatoria.formulario_postulacion,(l,c)=>(d(),m("div",{key:c,class:"border rounded-lg p-4"},[s("div",It,[s("div",null,[s("p",Lt,i(l.title||l.label||`Campo ${c+1}`),1),s("p",Ut,"Tipo: "+i(l.type||"No especificado"),1),l.required?(d(),m("p",qt,"Requerido")):k("",!0)])])]))),128))])]),_:1})]),_:1})):k("",!0),a(t(v),null,{default:o(()=>[a(t(x),null,{default:o(()=>[a(t(b),{class:"flex items-center gap-2"},{default:o(()=>[a(t(U),{class:"h-5 w-5"}),e[24]||(e[24]=n(" Postulaciones "))]),_:1}),a(t(q),null,{default:o(()=>e[25]||(e[25]=[n(" Lista de postulaciones recibidas para esta convocatoria. ")])),_:1})]),_:1}),a(t(g),null,{default:o(()=>[s("div",zt,[a(t(tt),null,{default:o(()=>[a(t(et),null,{default:o(()=>[a(t(D),null,{default:o(()=>[a(t(y),null,{default:o(()=>e[26]||(e[26]=[n("Usuario")])),_:1}),a(t(y),null,{default:o(()=>e[27]||(e[27]=[n("Estado")])),_:1}),a(t(y),null,{default:o(()=>e[28]||(e[28]=[n("Fecha Postulación")])),_:1}),a(t(y),null,{default:o(()=>e[29]||(e[29]=[n("Perfil")])),_:1}),a(t(y),null,{default:o(()=>e[30]||(e[30]=[n("Revisado por")])),_:1}),a(t(y),{class:"text-right"},{default:o(()=>e[31]||(e[31]=[n("Acciones")])),_:1})]),_:1})]),_:1}),a(t(at),null,{default:o(()=>[!r.postulaciones||r.postulaciones.length===0?(d(),_(t(D),{key:0},{default:o(()=>[a(t(p),{colspan:"6",class:"text-center text-muted-foreground py-8"},{default:o(()=>e[32]||(e[32]=[n(" No hay postulaciones para esta convocatoria. ")])),_:1})]),_:1})):k("",!0),(d(!0),m(S,null,j(r.postulaciones,l=>(d(),_(t(D),{key:l.id},{default:o(()=>[a(t(p),null,{default:o(()=>[s("div",null,[s("p",jt,i(l.usuario.name),1),s("p",Mt,i(l.usuario.email),1)])]),_:2},1024),a(t(p),null,{default:o(()=>[a(t(C),{class:F(l.estado_color)},{default:o(()=>[(d(),_(z(H(l.estado)),{class:"mr-1 h-3 w-3"})),n(" "+i(l.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),a(t(p),null,{default:o(()=>[s("p",Gt,i(l.fecha_postulacion||"Borrador"),1),s("p",Rt,i(l.created_at),1)]),_:2},1024),a(t(p),null,{default:o(()=>[l.tiene_candidatura_vinculada?(d(),_(t(C),{key:0,variant:"secondary",class:"bg-green-100 text-green-800"},{default:o(()=>[a(t(dt),{class:"mr-1 h-3 w-3"}),e[33]||(e[33]=n(" Vinculado "))]),_:1})):(d(),m("span",Wt,"No vinculado"))]),_:2},1024),a(t(p),null,{default:o(()=>[l.revisado_por?(d(),m("div",Xt,[s("p",Ht,i(l.revisado_por.name),1),s("p",Jt,i(l.fecha_revision),1)])):(d(),m("span",Kt,"Sin revisar"))]),_:2},1024),a(t(p),{class:"text-right"},{default:o(()=>[a(t(w),{variant:"outline",size:"sm",onClick:c=>t(h).get(`/admin/postulaciones/${l.id}`)},{default:o(()=>[a(t(ut),{class:"mr-2 h-4 w-4"}),e[34]||(e[34]=n(" Ver detalle "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})])])]),_:1})],64))}});export{xe as default};
