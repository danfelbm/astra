import{a as u,b as G,C as z,U as X,F as J,_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_K_7soM.js";import{_ as O}from"./AppLogo.vue_vue_type_script_setup_true_lang-Cm9O2wcI.js";import{_ as b,a as _}from"./CardContent.vue_vue_type_script_setup_true_lang-DpvJI9u6.js";import{_ as R}from"./CardDescription.vue_vue_type_script_setup_true_lang-BctLpHuq.js";import{_ as g,a as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-BppcWH6e.js";import{_ as Y,a as Z,b as V,c as y,d as ee,e as P}from"./TableHeader.vue_vue_type_script_setup_true_lang-DFYnSJxg.js";import{_ as k,a as $}from"./index-CY9j1fFa.js";import{_ as C}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BiLkY8ak.js";import{d as ae,c as se,a as x,o as n,b as s,u as e,m as te,e as t,f as i,j as d,i as m,t as o,n as A,g as r,F as I,r as le,W as ie}from"./app-Df_XpEAt.js";import{A as re}from"./arrow-left-akQJVDR5.js";import{C as T}from"./circle-check-big-CUriUECu.js";import{I as N}from"./info-c5-fVtJD.js";import{C as U}from"./clock-C1PsLs-t.js";import{M as oe}from"./map-pin-DkpdkCH0.js";import{C as E}from"./circle-x-FKlZW09T.js";import{f as h,e as D}from"./es-DfN3vIXC.js";import"./index-CrGlExaQ.js";import"./index-B1pkzvRA.js";const ne={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ue={class:"flex items-center justify-between"},de={class:"text-3xl font-bold"},me={class:"mt-2 flex items-center gap-2"},fe={class:"mt-2 space-y-1"},pe={key:0},ce={key:1},be={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},_e={class:"space-y-3"},ge={class:"flex items-center gap-2 text-sm"},ve={class:"flex items-center gap-2 text-sm"},xe={class:"flex items-center gap-2 text-sm"},we={class:"flex items-center gap-2 text-sm"},ye={class:"pt-2 border-t"},Pe={class:"text-sm font-medium"},ke={class:"text-sm text-muted-foreground"},$e={class:"space-y-2"},Ce={key:0},Ae={class:"flex items-start gap-2 text-sm"},Te={class:"text-sm"},he={class:"space-y-3"},De={class:"flex items-center gap-2"},Be={class:"text-lg font-semibold"},Fe={class:"text-lg font-semibold"},Le={class:"text-sm whitespace-pre-wrap"},ze={class:"flex items-center justify-between"},Ve={key:0,class:"flex gap-2"},Ie=["href"],ea=ae({__name:"Show",props:{asamblea:{},esParticipante:{type:Boolean},esDesuTerritorio:{type:Boolean},miParticipacion:{},participantes:{}},setup(M){const f=M,S=[{title:"Inicio",href:"/dashboard"},{title:"Asambleas",href:"/asambleas"},{title:f.asamblea.nombre,href:"#"}],{route:j}=window,q=l=>l?h(new Date(l),"PPPp",{locale:D}):"",B=l=>l?h(new Date(l),"PPP",{locale:D}):"",F=l=>l?h(new Date(l),"p",{locale:D}):"",Q=l=>{switch(l){case"moderador":return"bg-purple-100 text-purple-800";case"secretario":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=l=>{switch(l){case"moderador":return"Moderador";case"secretario":return"Secretario";default:return"Asistente"}},w=se(()=>{if(!f.participantes)return null;const l=f.participantes.filter(c=>c.tipo_participacion==="moderador").length,a=f.participantes.filter(c=>c.tipo_participacion==="secretario").length,p=f.participantes.filter(c=>c.tipo_participacion==="asistente").length,W=f.participantes.filter(c=>c.asistio).length;return{moderadores:l,secretarios:a,asistentes:p,presentes:W,total:f.participantes.length}}),H=()=>{ie.visit(j("asambleas.index"))};return(l,a)=>(n(),x(I,null,[s(e(te),{title:`Asamblea: ${l.asamblea.nombre}`},null,8,["title"]),s(K,{breadcrumbs:S},{default:t(()=>[i("div",ne,[i("div",ue,[i("div",null,[i("h1",de,o(l.asamblea.nombre),1),i("div",me,[s(e(u),{class:A(l.asamblea.estado_color)},{default:t(()=>[r(o(l.asamblea.estado_label),1)]),_:1},8,["class"]),s(e(u),{class:A(l.asamblea.tipo==="ordinaria"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800")},{default:t(()=>[r(o(l.asamblea.tipo_label),1)]),_:1},8,["class"]),l.esParticipante?(n(),d(e(u),{key:0,class:"bg-green-100 text-green-800"},{default:t(()=>[s(e(G),{class:"mr-1 h-3 w-3"}),a[0]||(a[0]=r(" Participante "))]),_:1})):m("",!0)])]),s(e(O),{variant:"outline",onClick:H},{default:t(()=>[s(e(re),{class:"mr-2 h-4 w-4"}),a[1]||(a[1]=r(" Volver "))]),_:1})]),l.esParticipante&&l.miParticipacion?(n(),d(e(k),{key:0,class:"border-green-200"},{default:t(()=>[s(e(T),{class:"h-4 w-4 text-green-600"}),s(e(C),null,{default:t(()=>a[2]||(a[2]=[r("Tu Participación")])),_:1}),s(e($),null,{default:t(()=>[i("div",fe,[i("p",null,[a[3]||(a[3]=r("Estás registrado como ")),i("strong",null,o(L(l.miParticipacion.tipo)),1),a[4]||(a[4]=r(" en esta asamblea."))]),l.miParticipacion.asistio?(n(),x("p",pe," ✓ Asistencia confirmada el "+o(q(l.miParticipacion.hora_registro)),1)):l.asamblea.estado==="en_curso"?(n(),x("p",ce," La asamblea está en curso. Tu asistencia será registrada por el moderador. ")):m("",!0)])]),_:1})]),_:1})):l.esDesuTerritorio?(n(),d(e(k),{key:1,class:"border-blue-200"},{default:t(()=>[s(e(N),{class:"h-4 w-4 text-blue-600"}),s(e(C),null,{default:t(()=>a[5]||(a[5]=[r("Asamblea de tu Territorio")])),_:1}),s(e($),null,{default:t(()=>a[6]||(a[6]=[r(" Esta es una asamblea pública de tu territorio. Puedes ver la información general pero no la lista de participantes. ")])),_:1})]),_:1})):m("",!0),i("div",be,[s(e(b),null,{default:t(()=>[s(e(g),{class:"pb-3"},{default:t(()=>[s(e(v),{class:"text-sm font-medium"},{default:t(()=>a[7]||(a[7]=[r("Fechas y Horarios")])),_:1})]),_:1}),s(e(_),null,{default:t(()=>[i("div",_e,[i("div",null,[a[8]||(a[8]=i("p",{class:"text-xs text-muted-foreground"},"Inicio",-1)),i("div",ge,[s(e(z),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,o(B(l.asamblea.fecha_inicio)),1)]),i("div",ve,[s(e(U),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,o(F(l.asamblea.fecha_inicio)),1)])]),i("div",null,[a[9]||(a[9]=i("p",{class:"text-xs text-muted-foreground"},"Fin",-1)),i("div",xe,[s(e(z),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,o(B(l.asamblea.fecha_fin)),1)]),i("div",we,[s(e(U),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,o(F(l.asamblea.fecha_fin)),1)])]),i("div",ye,[i("p",Pe,"Duración: "+o(l.asamblea.duracion),1),i("p",ke,o(l.asamblea.tiempo_restante),1)])])]),_:1})]),_:1}),s(e(b),null,{default:t(()=>[s(e(g),{class:"pb-3"},{default:t(()=>[s(e(v),{class:"text-sm font-medium"},{default:t(()=>a[10]||(a[10]=[r("Ubicación")])),_:1})]),_:1}),s(e(_),null,{default:t(()=>[i("div",$e,[l.asamblea.lugar?(n(),x("div",Ce,[a[11]||(a[11]=i("p",{class:"text-xs text-muted-foreground"},"Lugar",-1)),i("div",Ae,[s(e(oe),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),i("span",null,o(l.asamblea.lugar),1)])])):m("",!0),i("div",null,[a[12]||(a[12]=i("p",{class:"text-xs text-muted-foreground"},"Ubicación Geográfica",-1)),i("p",Te,o(l.asamblea.ubicacion_completa),1)])])]),_:1})]),_:1}),s(e(b),null,{default:t(()=>[s(e(g),{class:"pb-3"},{default:t(()=>[s(e(v),{class:"text-sm font-medium"},{default:t(()=>a[13]||(a[13]=[r("Estado de la Asamblea")])),_:1})]),_:1}),s(e(_),null,{default:t(()=>[i("div",he,[i("div",null,[a[16]||(a[16]=i("p",{class:"text-xs text-muted-foreground"},"Quórum",-1)),i("div",De,[s(e(X),{class:"h-4 w-4 text-muted-foreground"}),i("span",Be,o(l.asamblea.asistentes_count)+" / "+o(l.asamblea.quorum_minimo||"∞"),1)]),l.asamblea.alcanza_quorum?(n(),d(e(u),{key:0,class:"mt-2 bg-green-100 text-green-800"},{default:t(()=>[s(e(T),{class:"mr-1 h-3 w-3"}),a[14]||(a[14]=r(" Quórum alcanzado "))]),_:1})):l.asamblea.quorum_minimo?(n(),d(e(u),{key:1,class:"mt-2 bg-yellow-100 text-yellow-800"},{default:t(()=>[s(e(E),{class:"mr-1 h-3 w-3"}),a[15]||(a[15]=r(" Quórum no alcanzado "))]),_:1})):m("",!0)]),i("div",null,[a[17]||(a[17]=i("p",{class:"text-xs text-muted-foreground"},"Total de participantes",-1)),i("p",Fe,o(l.asamblea.participantes_count),1)])])]),_:1})]),_:1})]),l.asamblea.descripcion?(n(),d(e(b),{key:2},{default:t(()=>[s(e(g),null,{default:t(()=>[s(e(v),null,{default:t(()=>a[18]||(a[18]=[r("Descripción")])),_:1})]),_:1}),s(e(_),null,{default:t(()=>[i("p",Le,o(l.asamblea.descripcion),1)]),_:1})]),_:1})):m("",!0),l.esParticipante&&l.participantes?(n(),d(e(b),{key:3},{default:t(()=>[s(e(g),null,{default:t(()=>[i("div",ze,[i("div",null,[s(e(v),null,{default:t(()=>a[19]||(a[19]=[r("Participantes")])),_:1}),s(e(R),null,{default:t(()=>a[20]||(a[20]=[r(" Lista de participantes registrados en la asamblea ")])),_:1})]),w.value?(n(),x("div",Ve,[s(e(u),{variant:"outline"},{default:t(()=>[r(" Moderadores: "+o(w.value.moderadores),1)]),_:1}),s(e(u),{variant:"outline"},{default:t(()=>[r(" Secretarios: "+o(w.value.secretarios),1)]),_:1}),s(e(u),{variant:"outline"},{default:t(()=>[r(" Asistentes: "+o(w.value.asistentes),1)]),_:1}),s(e(u),{variant:"outline"},{default:t(()=>[r(" Presentes: "+o(w.value.presentes),1)]),_:1})])):m("",!0)])]),_:1}),s(e(_),null,{default:t(()=>[s(e(Y),null,{default:t(()=>[s(e(Z),null,{default:t(()=>[s(e(V),null,{default:t(()=>[s(e(y),null,{default:t(()=>a[21]||(a[21]=[r("Nombre")])),_:1}),s(e(y),null,{default:t(()=>a[22]||(a[22]=[r("Tipo de Participación")])),_:1}),s(e(y),null,{default:t(()=>a[23]||(a[23]=[r("Asistencia")])),_:1})]),_:1})]),_:1}),s(e(ee),null,{default:t(()=>[(n(!0),x(I,null,le(l.participantes,p=>(n(),d(e(V),{key:p.id},{default:t(()=>[s(e(P),{class:"font-medium"},{default:t(()=>[r(o(p.name),1)]),_:2},1024),s(e(P),null,{default:t(()=>[s(e(u),{class:A(Q(p.tipo_participacion))},{default:t(()=>[r(o(L(p.tipo_participacion)),1)]),_:2},1032,["class"])]),_:2},1024),s(e(P),null,{default:t(()=>[p.asistio?(n(),d(e(u),{key:0,class:"bg-green-100 text-green-800"},{default:t(()=>[s(e(T),{class:"mr-1 h-3 w-3"}),a[24]||(a[24]=r(" Presente "))]),_:1})):l.asamblea.estado==="finalizada"?(n(),d(e(u),{key:1,class:"bg-red-100 text-red-800"},{default:t(()=>[s(e(E),{class:"mr-1 h-3 w-3"}),a[25]||(a[25]=r(" Ausente "))]),_:1})):(n(),d(e(u),{key:2,variant:"outline"},{default:t(()=>a[26]||(a[26]=[r(" Pendiente ")])),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):m("",!0),l.asamblea.acta_url&&(l.esParticipante||l.asamblea.estado==="finalizada")?(n(),d(e(b),{key:4},{default:t(()=>[s(e(g),null,{default:t(()=>[s(e(v),null,{default:t(()=>a[27]||(a[27]=[r("Documentos de la Asamblea")])),_:1})]),_:1}),s(e(_),null,{default:t(()=>[i("a",{href:l.asamblea.acta_url,target:"_blank",class:"inline-flex items-center gap-2 text-blue-600 hover:underline"},[s(e(J),{class:"h-4 w-4"}),a[28]||(a[28]=r(" Ver Acta de la Asamblea "))],8,Ie)]),_:1})]),_:1})):m("",!0),!l.esParticipante&&l.esDesuTerritorio?(n(),d(e(k),{key:5},{default:t(()=>[s(e(N),{class:"h-4 w-4"}),s(e(C),null,{default:t(()=>a[29]||(a[29]=[r("Información Limitada")])),_:1}),s(e($),null,{default:t(()=>a[30]||(a[30]=[r(" Como no eres participante registrado, solo puedes ver la información general de esta asamblea. Para participar, debes ser añadido por el administrador. ")])),_:1})]),_:1})):m("",!0)])]),_:1})],64))}});export{ea as default};
