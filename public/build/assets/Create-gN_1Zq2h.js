import{d as z,C as F,k as G,a as n,o as a,b as t,u as e,m as L,e as l,f as d,P as C,g as i,h as T,i as m,n as _,t as u,F as x,r as $,j as S}from"./app-B77ccTjn.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-BvBOaTU9.js";import{_ as v}from"./createLucideIcon-DDkPG2Rx.js";import{_ as g,a as y,b as V,c as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-CTQSEJni.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-B1b37HX6.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-CS7-wUGb.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-D2xSgxzA.js";import{_ as B,a as D,b as N,c as R,d as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-CXBvmCjL.js";import{_ as I}from"./Switch.vue_vue_type_script_setup_true_lang-Bo5Mzmd-.js";import{_ as J}from"./GeographicSelector.vue_vue_type_script_setup_true_lang-l7ybE-_d.js";import{A as M}from"./arrow-left-N4OjROs_.js";import{S as q}from"./save-ClyCbAWX.js";import"./index-CUP-ao-g.js";import"./check-CNFJRLqV.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BYXXTpJk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BS2hC7Dl.js";import"./VisuallyHidden-Brv048Yl.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BBcB5kWO.js";import"./index-B8g8ZX0h.js";import"./calendar-DbxCvWy3.js";import"./index-BIYbvm3e.js";import"./map-pin-HlX81OCc.js";import"./VisuallyHiddenInput-Bg8hzY3I.js";const H={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},K={class:"flex items-center justify-between"},O={class:"grid gap-4 md:grid-cols-2"},Q={key:0,class:"text-sm text-red-600 mt-1"},W={key:0,class:"text-sm text-red-600 mt-1"},X={key:0,class:"text-sm text-red-600 mt-1"},Y={key:0,class:"text-sm text-red-600 mt-1"},Z={key:0,class:"text-sm text-red-600 mt-1"},h={class:"grid gap-4 md:grid-cols-2"},ee={key:0,class:"text-sm text-red-600 mt-1"},oe={key:0,class:"text-sm text-red-600 mt-1"},re={class:"grid gap-4 md:grid-cols-2"},te={key:0},le={class:"flex flex-col"},se={key:0,class:"text-xs text-muted-foreground"},de={key:1,class:"text-xs text-blue-600"},ie={key:0,class:"text-sm text-red-600 mt-1"},ae={key:1},ne={key:0,class:"text-sm text-red-600 mt-1"},ue={class:"flex items-center space-x-2"},me={key:0,class:"text-sm text-red-600 mt-2"},fe={class:"flex items-center justify-end space-x-2"},Le=z({__name:"Create",props:{cargos:{},roles:{},canAssignRoles:{type:Boolean}},setup(pe){const j=[{title:"Admin",href:"/admin/dashboard"},{title:"Usuarios",href:"/admin/usuarios"},{title:"Nuevo Usuario",href:"#"}],r=F({name:"",email:"",password:"",password_confirmation:"",role_id:null,cargo_id:"none",documento_identidad:"",telefono:"",direccion:"",territorio_id:null,departamento_id:null,municipio_id:null,localidad_id:null,activo:!0}),U=G({territorio_id:void 0,departamento_id:void 0,municipio_id:void 0,localidad_id:void 0}),A=f=>{U.value=f,r.territorio_id=f.territorio_id||null,r.departamento_id=f.departamento_id||null,r.municipio_id=f.municipio_id||null,r.localidad_id=f.localidad_id||null},P=()=>{r.post(route("admin.usuarios.store"))};return(f,o)=>(a(),n(x,null,[t(e(L),{title:"Crear Usuario"}),t(E,{breadcrumbs:j},{default:l(()=>[d("div",H,[d("div",K,[o[11]||(o[11]=d("div",null,[d("h1",{class:"text-3xl font-bold tracking-tight"},"Crear Usuario"),d("p",{class:"text-muted-foreground"}," Registra un nuevo usuario en el sistema ")],-1)),t(e(C),{href:f.route("admin.usuarios.index")},{default:l(()=>[t(e(v),{variant:"outline"},{default:l(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),o[10]||(o[10]=i(" Volver "))]),_:1})]),_:1},8,["href"])]),d("form",{onSubmit:T(P,["prevent"]),class:"space-y-6"},[t(e(g),null,{default:l(()=>[t(e(y),null,{default:l(()=>[t(e(V),null,{default:l(()=>o[12]||(o[12]=[i("Información Básica")])),_:1}),t(e(w),null,{default:l(()=>o[13]||(o[13]=[i(" Datos principales del usuario ")])),_:1})]),_:1}),t(e(b),{class:"space-y-4"},{default:l(()=>[d("div",O,[d("div",null,[t(e(p),{for:"name"},{default:l(()=>o[14]||(o[14]=[i("Nombre completo *")])),_:1}),t(e(c),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(r).name=s),type:"text",placeholder:"Juan Pérez",class:_({"border-red-500":e(r).errors.name})},null,8,["modelValue","class"]),e(r).errors.name?(a(),n("p",Q,u(e(r).errors.name),1)):m("",!0)]),d("div",null,[t(e(p),{for:"email"},{default:l(()=>o[15]||(o[15]=[i("Correo electrónico *")])),_:1}),t(e(c),{id:"email",modelValue:e(r).email,"onUpdate:modelValue":o[1]||(o[1]=s=>e(r).email=s),type:"email",placeholder:"juan@ejemplo.com",class:_({"border-red-500":e(r).errors.email})},null,8,["modelValue","class"]),e(r).errors.email?(a(),n("p",W,u(e(r).errors.email),1)):m("",!0)]),d("div",null,[t(e(p),{for:"documento_identidad"},{default:l(()=>o[16]||(o[16]=[i("Documento de identidad")])),_:1}),t(e(c),{id:"documento_identidad",modelValue:e(r).documento_identidad,"onUpdate:modelValue":o[2]||(o[2]=s=>e(r).documento_identidad=s),type:"text",placeholder:"12345678",class:_({"border-red-500":e(r).errors.documento_identidad})},null,8,["modelValue","class"]),e(r).errors.documento_identidad?(a(),n("p",X,u(e(r).errors.documento_identidad),1)):m("",!0)]),d("div",null,[t(e(p),{for:"telefono"},{default:l(()=>o[17]||(o[17]=[i("Teléfono")])),_:1}),t(e(c),{id:"telefono",modelValue:e(r).telefono,"onUpdate:modelValue":o[3]||(o[3]=s=>e(r).telefono=s),type:"tel",placeholder:"3001234567",class:_({"border-red-500":e(r).errors.telefono})},null,8,["modelValue","class"]),e(r).errors.telefono?(a(),n("p",Y,u(e(r).errors.telefono),1)):m("",!0)])]),d("div",null,[t(e(p),{for:"direccion"},{default:l(()=>o[18]||(o[18]=[i("Dirección")])),_:1}),t(e(c),{id:"direccion",modelValue:e(r).direccion,"onUpdate:modelValue":o[4]||(o[4]=s=>e(r).direccion=s),type:"text",placeholder:"Calle 123 #45-67",class:_({"border-red-500":e(r).errors.direccion})},null,8,["modelValue","class"]),e(r).errors.direccion?(a(),n("p",Z,u(e(r).errors.direccion),1)):m("",!0)])]),_:1})]),_:1}),t(e(g),null,{default:l(()=>[t(e(y),null,{default:l(()=>[t(e(V),null,{default:l(()=>o[19]||(o[19]=[i("Seguridad")])),_:1}),t(e(w),null,{default:l(()=>o[20]||(o[20]=[i(" Configuración de acceso y contraseña ")])),_:1})]),_:1}),t(e(b),{class:"space-y-4"},{default:l(()=>[d("div",h,[d("div",null,[t(e(p),{for:"password"},{default:l(()=>o[21]||(o[21]=[i("Contraseña *")])),_:1}),t(e(c),{id:"password",modelValue:e(r).password,"onUpdate:modelValue":o[5]||(o[5]=s=>e(r).password=s),type:"password",placeholder:"••••••••",class:_({"border-red-500":e(r).errors.password})},null,8,["modelValue","class"]),e(r).errors.password?(a(),n("p",ee,u(e(r).errors.password),1)):m("",!0)]),d("div",null,[t(e(p),{for:"password_confirmation"},{default:l(()=>o[22]||(o[22]=[i("Confirmar contraseña *")])),_:1}),t(e(c),{id:"password_confirmation",modelValue:e(r).password_confirmation,"onUpdate:modelValue":o[6]||(o[6]=s=>e(r).password_confirmation=s),type:"password",placeholder:"••••••••",class:_({"border-red-500":e(r).errors.password_confirmation})},null,8,["modelValue","class"]),e(r).errors.password_confirmation?(a(),n("p",oe,u(e(r).errors.password_confirmation),1)):m("",!0)])]),d("div",re,[f.canAssignRoles?(a(),n("div",te,[t(e(p),{for:"role_id"},{default:l(()=>o[23]||(o[23]=[i("Rol *")])),_:1}),t(e(B),{modelValue:e(r).role_id,"onUpdate:modelValue":o[7]||(o[7]=s=>e(r).role_id=s)},{default:l(()=>[t(e(D),{class:_({"border-red-500":e(r).errors.role_id})},{default:l(()=>[t(e(N),{placeholder:"Selecciona un rol"})]),_:1},8,["class"]),t(e(R),null,{default:l(()=>[(a(!0),n(x,null,$(f.roles,s=>(a(),S(e(k),{key:s.value,value:s.value},{default:l(()=>[d("div",le,[d("span",null,u(s.label),1),s.description?(a(),n("span",se,u(s.description),1)):m("",!0),s.is_system?(a(),n("span",de,"(Rol del Sistema)")):m("",!0)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.role_id?(a(),n("p",ie,u(e(r).errors.role_id),1)):m("",!0)])):(a(),n("div",ae,[t(e(p),null,{default:l(()=>o[24]||(o[24]=[i("Rol")])),_:1}),o[25]||(o[25]=d("div",{class:"p-3 bg-muted rounded-md"},[d("p",{class:"text-sm text-muted-foreground"}," Se asignará el rol por defecto al usuario ")],-1))])),d("div",null,[t(e(p),{for:"cargo_id"},{default:l(()=>o[26]||(o[26]=[i("Cargo")])),_:1}),t(e(B),{modelValue:e(r).cargo_id,"onUpdate:modelValue":o[8]||(o[8]=s=>e(r).cargo_id=s)},{default:l(()=>[t(e(D),{class:_({"border-red-500":e(r).errors.cargo_id})},{default:l(()=>[t(e(N),{placeholder:"Selecciona un cargo"})]),_:1},8,["class"]),t(e(R),null,{default:l(()=>[t(e(k),{value:"none"},{default:l(()=>o[27]||(o[27]=[i("Sin cargo")])),_:1}),(a(!0),n(x,null,$(f.cargos,s=>(a(),S(e(k),{key:s.id,value:s.id.toString()},{default:l(()=>[i(u(s.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.cargo_id?(a(),n("p",ne,u(e(r).errors.cargo_id),1)):m("",!0)])]),d("div",ue,[t(e(I),{id:"activo",checked:e(r).activo,"onUpdate:checked":o[9]||(o[9]=s=>e(r).activo=s)},null,8,["checked"]),t(e(p),{for:"activo"},{default:l(()=>o[28]||(o[28]=[i("Usuario activo")])),_:1})])]),_:1})]),_:1}),t(e(g),null,{default:l(()=>[t(e(y),null,{default:l(()=>[t(e(V),null,{default:l(()=>o[29]||(o[29]=[i("Ubicación Geográfica")])),_:1}),t(e(w),null,{default:l(()=>o[30]||(o[30]=[i(" Define la ubicación del usuario (opcional) ")])),_:1})]),_:1}),t(e(b),null,{default:l(()=>[t(J,{"model-value":U.value,"onUpdate:modelValue":A,mode:"single","show-card":!1,title:"",description:""},null,8,["model-value"]),e(r).errors.territorio_id||e(r).errors.departamento_id||e(r).errors.municipio_id||e(r).errors.localidad_id?(a(),n("div",me,u(e(r).errors.territorio_id||e(r).errors.departamento_id||e(r).errors.municipio_id||e(r).errors.localidad_id),1)):m("",!0)]),_:1})]),_:1}),d("div",fe,[t(e(C),{href:f.route("admin.usuarios.index")},{default:l(()=>[t(e(v),{variant:"outline",type:"button"},{default:l(()=>o[31]||(o[31]=[i(" Cancelar ")])),_:1})]),_:1},8,["href"]),t(e(v),{type:"submit",disabled:e(r).processing},{default:l(()=>[t(e(q),{class:"mr-2 h-4 w-4"}),o[32]||(o[32]=i(" Crear Usuario "))]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Le as default};
