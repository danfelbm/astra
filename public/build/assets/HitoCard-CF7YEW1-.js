import{_ as E,b as M,a as D,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-DozlB1PY.js";import{_ as B}from"./CardFooter.vue_vue_type_script_setup_true_lang-Cw9gQ1y7.js";import{c as b,_ as u}from"./createLucideIcon-MIg_mF3D.js";import{_ as P}from"./index-CYyE4abP.js";import{_ as V}from"./Progress.vue_vue_type_script_setup_true_lang-BXlQYfAy.js";import{_ as z,b as L}from"./index-B8ZQ7oBZ.js";import{_ as T,a as A,b as I,c as h,e as N}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-IihS8Mqq.js";import{E as H}from"./ellipsis-B23Fgsj6.js";import{P as q}from"./pen-C4qa0iIv.js";import{P as x}from"./plus-BIpQAtiE.js";import{C as O}from"./copy-BCJtg9ZO.js";import{T as S}from"./trash-2-DCkletDg.js";import{C as U}from"./calendar-days-DTkm50hi.js";import{C as F}from"./clock-Dq08RDBb.js";import{E as G}from"./eye-UAhQZ5GK.js";import{d as J,c as y,b as c,e as n,u as s,w as o,f as a,j as r,g as i,n as v,h as d,t as l,i as f}from"./app-p-SM0Ops.js";import{f as K,e as Q}from"./es-BDPlFIsO.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=b("CalendarCheckIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=b("ListTodoIcon",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Y={class:"flex items-center justify-between"},Z={class:"flex items-center space-x-3"},ee={class:"flex items-center space-x-2"},se={key:0,class:"text-sm text-muted-foreground mb-3 line-clamp-2"},te={key:1,class:"flex items-center space-x-4 text-sm text-muted-foreground mb-3"},ae={key:0,class:"flex items-center"},oe={key:1,class:"flex items-center"},ie={key:2,class:"flex items-center space-x-2 mb-3"},ne={class:"text-sm text-muted-foreground"},re={class:"space-y-2"},le={class:"flex justify-between items-center text-xs"},de={class:"font-medium"},me={key:3,class:"mt-3 flex items-center justify-between text-xs text-muted-foreground"},ce={class:"flex items-center space-x-3"},fe={key:0,class:"flex items-center"},pe={class:"w-full flex justify-between"},he=J({__name:"HitoCard",props:{hito:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageDeliverables:{type:Boolean},showActions:{type:Boolean}},emits:["view","edit","delete","duplicate","add-entregable","view-entregables"],setup(k){const p=k,w=y(()=>({pendiente:"Pendiente",en_progreso:"En Progreso",completado:"Completado",cancelado:"Cancelado"})[p.hito.estado]||p.hito.estado),$=y(()=>({pendiente:"bg-gray-400",en_progreso:"bg-blue-500 animate-pulse",completado:"bg-green-500",cancelado:"bg-red-500"})[p.hito.estado]||"bg-gray-400"),C=y(()=>({pendiente:"secondary",en_progreso:"default",completado:"success",cancelado:"destructive"})[p.hito.estado]||"secondary"),_=e=>{if(!e)return"";try{const t=typeof e=="string"?new Date(e):e;return K(t,"dd MMM yyyy",{locale:Q})}catch{return""}};return(e,t)=>(n(),c(s(E),{class:"hover:shadow-lg transition-shadow duration-200"},{default:o(()=>[a(s(D),{class:"pb-3"},{default:o(()=>[i("div",Y,[i("div",Z,[i("div",{class:v([$.value,"w-2 h-2 rounded-full"])},null,2),a(s(M),{class:"text-lg font-medium"},{default:o(()=>[d(l(e.hito.nombre),1)]),_:1})]),i("div",ee,[a(s(P),{variant:C.value,class:"text-xs"},{default:o(()=>[d(l(e.hito.estado_label||w.value),1)]),_:1},8,["variant"]),e.canEdit||e.canDelete?(n(),c(s(T),{key:0},{default:o(()=>[a(s(A),{asChild:""},{default:o(()=>[a(s(u),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:o(()=>[a(s(H),{class:"h-4 w-4"})]),_:1})]),_:1}),a(s(I),{align:"end"},{default:o(()=>[e.canEdit?(n(),c(s(h),{key:0,onClick:t[0]||(t[0]=m=>e.$emit("edit",e.hito))},{default:o(()=>[a(s(q),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=d(" Editar ",-1))]),_:1})):r("",!0),e.canManageDeliverables?(n(),c(s(h),{key:1,onClick:t[1]||(t[1]=m=>e.$emit("add-entregable",e.hito))},{default:o(()=>[a(s(x),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=d(" Añadir Entregable ",-1))]),_:1})):r("",!0),a(s(h),{onClick:t[2]||(t[2]=m=>e.$emit("duplicate",e.hito))},{default:o(()=>[a(s(O),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=d(" Duplicar ",-1))]),_:1}),e.canDelete?(n(),c(s(N),{key:2})):r("",!0),e.canDelete?(n(),c(s(h),{key:3,onClick:t[3]||(t[3]=m=>e.$emit("delete",e.hito)),class:"text-red-600"},{default:o(()=>[a(s(S),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=d(" Eliminar ",-1))]),_:1})):r("",!0)]),_:1})]),_:1})):r("",!0)])])]),_:1}),a(s(j),{class:"pb-3"},{default:o(()=>[e.hito.descripcion?(n(),f("p",se,l(e.hito.descripcion),1)):r("",!0),e.hito.fecha_inicio||e.hito.fecha_fin?(n(),f("div",te,[e.hito.fecha_inicio?(n(),f("div",ae,[a(s(U),{class:"mr-1 h-3 w-3"}),i("span",null,l(_(e.hito.fecha_inicio)),1)])):r("",!0),e.hito.fecha_fin?(n(),f("div",oe,[a(s(W),{class:"mr-1 h-3 w-3"}),i("span",null,l(_(e.hito.fecha_fin)),1)])):r("",!0)])):r("",!0),e.hito.responsable?(n(),f("div",ie,[a(s(z),{class:"h-6 w-6"},{default:o(()=>[a(s(L),{class:"text-xs"},{default:o(()=>{var m,g;return[d(l((g=(m=e.hito.responsable.name)==null?void 0:m.charAt(0))==null?void 0:g.toUpperCase()),1)]}),_:1})]),_:1}),i("span",ne,l(e.hito.responsable.name),1)])):r("",!0),i("div",re,[i("div",le,[t[10]||(t[10]=i("span",{class:"text-muted-foreground"},"Progreso",-1)),i("span",de,l(e.hito.porcentaje_completado)+"%",1)]),a(s(V),{value:e.hito.porcentaje_completado,class:"h-2"},null,8,["value"])]),e.hito.entregables&&e.hito.entregables.length>0?(n(),f("div",me,[i("div",ce,[i("span",null,l(e.hito.entregables_completados||0)+"/"+l(e.hito.total_entregables||e.hito.entregables.length)+" entregables",1)]),e.hito.dias_restantes!==null?(n(),f("div",fe,[a(s(F),{class:"mr-1 h-3 w-3"}),i("span",{class:v({"text-red-500":e.hito.dias_restantes<0,"text-orange-500":e.hito.dias_restantes<=7})},l(e.hito.dias_restantes<0?`Vencido hace ${Math.abs(e.hito.dias_restantes)} días`:`${e.hito.dias_restantes} días restantes`),3)])):r("",!0)])):r("",!0)]),_:1}),e.showActions?(n(),c(s(B),{key:0,class:"pt-3 border-t"},{default:o(()=>[i("div",pe,[a(s(u),{variant:"ghost",size:"sm",onClick:t[4]||(t[4]=m=>e.$emit("view",e.hito))},{default:o(()=>[a(s(G),{class:"mr-2 h-4 w-4"}),t[11]||(t[11]=d(" Ver detalles ",-1))]),_:1}),a(s(u),{variant:"outline",size:"sm",onClick:t[5]||(t[5]=m=>e.$emit("view-entregables",e.hito))},{default:o(()=>[a(s(X),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=d(" Entregables ",-1))]),_:1})])]),_:1})):r("",!0)]),_:1}))}}),Le=R(he,[["__scopeId","data-v-210622ae"]]);export{Le as H,X as L};
