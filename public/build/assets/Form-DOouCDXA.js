import{d as Re,r as W,C as Te,c as M,o as Ke,a as We,b as $,e as n,w as l,f as o,u as e,g as i,h as t,i as p,j as v,n as x,t as f,F as j,k as F,l as Be,m as X,p as Qe,W as Xe}from"./app-YX-Bh59c.js";import{c as Ge,_ as I}from"./createLucideIcon-6ox98eKE.js";import{_ as E,a as A,b as D,c as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-CEXipE4i.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-C5zKyXgU.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-DtRE74-R.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-dMdLaxwj.js";import{_ as H}from"./Textarea.vue_vue_type_script_setup_true_lang-T2-q2-vI.js";import{_ as z,a as k,b as w,c as U,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-SBKDcQNL.js";import{_ as C}from"./Switch.vue_vue_type_script_setup_true_lang-CWyARmgX.js";import{_ as Le,a as T}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-kZZUaYyi.js";import{_ as R}from"./DateTimePicker.vue_vue_type_script_setup_true_lang-DmOWKLs7.js";import{_ as Z,a as O}from"./index-FDFIrEGY.js";import{_ as J}from"./AlertTitle.vue_vue_type_script_setup_true_lang-C-vqnDcE.js";import{_ as Ye}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CcmHndpR.js";import{_ as he,a as ea,b as aa,c as oa,d as sa,e as la}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Cucg6Ulk.js";import{_ as ta,a as ia,b as Fe,c as Ie}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-D2TtiAOt.js";import{_ as ra}from"./DynamicFormBuilder.vue_vue_type_script_setup_true_lang-Mzoz5h6t.js";import{I as K}from"./info-KOFNApl1.js";import{L as da}from"./loader-circle-RpcFRhSb.js";import{S as He}from"./save-BTIwPzdc.js";import{A as na}from"./arrow-left-CAVa6KuC.js";import{V as Ne}from"./video-LMYb2_wL.js";import{S as ua}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-DFervepj.js";import{U as Pe}from"./users-CywUQkRS.js";import{V as ma}from"./vote-BEfr2Lma.js";import{P as pa}from"./plus-BBJItPOW.js";import{X as fa}from"./x-BHjdi3Sq.js";import"./index-CFLnPJ45.js";import"./VisuallyHidden-DDRJ2xSr.js";import"./check-4Q7VrOCL.js";import"./floating-ui.vue-XE53EvAr.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHiddenInput-DBAqBlF2.js";import"./RovingFocusItem-BuG-E1rM.js";import"./utils-mDmeAG-Q.js";import"./index-Cdcl3n2q.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-DUe9aiHp.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-B6YI2WZd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Di0cXjcY.js";import"./chevrons-up-down-Brk2-V4l.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Bf0OBuaA.js";import"./shield-D2GVlvyT.js";import"./file-text-BUyGZgIO.js";import"./calendar-DczSVdki.js";import"./briefcase-nqrHLeSj.js";import"./megaphone-DZD63zes.js";import"./user-check-BmHIsIkd.js";import"./external-link-BF5dY6Ld.js";import"./panel-left-C-sZzVb5.js";import"./index-CZ_tuZ2G.js";import"./index-BKfwd4cF.js";import"./index-BTUR61ux.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CiCJh56Q.js";import"./grip-vertical-BfNaPwga.js";import"./trash-2-DEChhXwN.js";import"./circle-alert-Dcf5wzqR.js";import"./eye-BUFvX5Ae.js";import"./git-branch-DjP56QCw.js";import"./index-D8aNryzX.js";import"./user-Ctft_uC-.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-Dk8qWq0j.js";import"./map-pin-DT8oOEor.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ge("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ge("MicIcon",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),ba={class:"space-y-2"},va={key:0,class:"text-sm text-red-500"},ga={class:"space-y-2"},xa={key:0,class:"text-sm text-red-500"},ya={class:"grid grid-cols-2 gap-4"},Va={class:"space-y-2"},za={key:0,class:"text-sm text-red-500"},ka={class:"space-y-2"},wa={class:"grid grid-cols-2 gap-4"},Ua={class:"space-y-2"},$a={key:0,class:"text-sm text-red-500"},Sa={class:"space-y-2"},Ca={key:0,class:"text-sm text-red-500"},Ma={key:1,class:"text-sm text-red-500"},ja={class:"space-y-4"},Ea={class:"flex items-center space-x-2"},Aa={key:0,class:"pl-7 space-y-2"},Da=Re({__name:"CreateVotacionModal",props:{open:{type:Boolean}},emits:["close","created"],setup(Y,{emit:m}){const B=m,N=W("basic"),G=W([]),s=Te({titulo:"",descripcion:"",categoria_id:null,formulario_config:[],fecha_inicio:"",fecha_fin:"",estado:"activa",resultados_publicos:!1,fecha_publicacion_resultados:"",timezone:"America/Bogota"}),S=M(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const y=new Date(s.fecha_fin),r=new Date(s.fecha_inicio);return y<=r?"La fecha de fin debe ser posterior a la fecha de inicio":""});Ke(async()=>{try{const y=await We.get("/api/categorias-votacion");G.value=y.data}catch(y){console.error("Error cargando categorías:",y)}});const P=()=>{s.processing||B("close")},Q=()=>{S.value||s.post(route("admin.votaciones.store.quick"),{preserveScroll:!0,onSuccess:y=>{var b;const r=(b=y.props.flash)==null?void 0:b.votacion_id;r&&B("created",r),s.reset()},onError:()=>{}})};return(y,r)=>(n(),$(e(la),{open:y.open,"onUpdate:open":P},{default:l(()=>[o(e(he),{class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:l(()=>[o(e(ea),null,{default:l(()=>[o(e(aa),null,{default:l(()=>[...r[10]||(r[10]=[t("Crear Nueva Votación",-1)])]),_:1}),o(e(oa),null,{default:l(()=>[...r[11]||(r[11]=[t(" Cree una votación rápida que se asociará automáticamente a la asamblea actual. ",-1)])]),_:1})]),_:1}),i("form",{onSubmit:Be(Q,["prevent"]),class:"space-y-6"},[o(e(ta),{modelValue:N.value,"onUpdate:modelValue":r[9]||(r[9]=b=>N.value=b),class:"w-full"},{default:l(()=>[o(e(ia),{class:"grid w-full grid-cols-2"},{default:l(()=>[o(e(Fe),{value:"basic"},{default:l(()=>[...r[12]||(r[12]=[t("Datos Básicos",-1)])]),_:1}),o(e(Fe),{value:"form"},{default:l(()=>[...r[13]||(r[13]=[t("Formulario",-1)])]),_:1})]),_:1}),o(e(Ie),{value:"basic",class:"space-y-4 mt-4"},{default:l(()=>[i("div",ba,[o(e(u),{for:"titulo",required:""},{default:l(()=>[...r[14]||(r[14]=[t("Título de la Votación",-1)])]),_:1}),o(e(V),{id:"titulo",modelValue:e(s).titulo,"onUpdate:modelValue":r[0]||(r[0]=b=>e(s).titulo=b),placeholder:"Ej: Elección de Junta Directiva 2024",class:x({"border-red-500":e(s).errors.titulo})},null,8,["modelValue","class"]),e(s).errors.titulo?(n(),p("span",va,f(e(s).errors.titulo),1)):v("",!0)]),i("div",ga,[o(e(u),{for:"descripcion"},{default:l(()=>[...r[15]||(r[15]=[t("Descripción",-1)])]),_:1}),o(e(H),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":r[1]||(r[1]=b=>e(s).descripcion=b),placeholder:"Describe brevemente el propósito de esta votación",rows:"3",class:x({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(n(),p("span",xa,f(e(s).errors.descripcion),1)):v("",!0)]),i("div",ya,[i("div",Va,[o(e(u),{for:"categoria"},{default:l(()=>[...r[16]||(r[16]=[t("Categoría",-1)])]),_:1}),o(e(z),{modelValue:e(s).categoria_id,"onUpdate:modelValue":r[2]||(r[2]=b=>e(s).categoria_id=b)},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Seleccionar categoría"})]),_:1}),o(e(U),null,{default:l(()=>[(n(!0),p(j,null,F(G.value,b=>(n(),$(e(g),{key:b.id,value:b.id.toString()},{default:l(()=>[t(f(b.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(s).errors.categoria_id?(n(),p("span",za,f(e(s).errors.categoria_id),1)):v("",!0)]),i("div",ka,[o(e(u),{for:"timezone"},{default:l(()=>[...r[17]||(r[17]=[t("Zona Horaria",-1)])]),_:1}),o(e(z),{modelValue:e(s).timezone,"onUpdate:modelValue":r[3]||(r[3]=b=>e(s).timezone=b)},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Seleccionar zona horaria"})]),_:1}),o(e(U),null,{default:l(()=>[o(e(g),{value:"America/Bogota"},{default:l(()=>[...r[18]||(r[18]=[t("Colombia (GMT-5)",-1)])]),_:1}),o(e(g),{value:"America/Mexico_City"},{default:l(()=>[...r[19]||(r[19]=[t("México (GMT-6)",-1)])]),_:1}),o(e(g),{value:"America/Buenos_Aires"},{default:l(()=>[...r[20]||(r[20]=[t("Argentina (GMT-3)",-1)])]),_:1}),o(e(g),{value:"America/Lima"},{default:l(()=>[...r[21]||(r[21]=[t("Perú (GMT-5)",-1)])]),_:1}),o(e(g),{value:"America/Santiago"},{default:l(()=>[...r[22]||(r[22]=[t("Chile (GMT-3)",-1)])]),_:1}),o(e(g),{value:"America/Caracas"},{default:l(()=>[...r[23]||(r[23]=[t("Venezuela (GMT-4)",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),i("div",wa,[i("div",Ua,[o(e(u),{for:"fecha_inicio",required:""},{default:l(()=>[...r[24]||(r[24]=[t("Fecha y Hora de Inicio",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":r[4]||(r[4]=b=>e(s).fecha_inicio=b),placeholder:"Seleccionar fecha y hora",class:x({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(n(),p("span",$a,f(e(s).errors.fecha_inicio),1)):v("",!0)]),i("div",Sa,[o(e(u),{for:"fecha_fin",required:""},{default:l(()=>[...r[25]||(r[25]=[t("Fecha y Hora de Fin",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":r[5]||(r[5]=b=>e(s).fecha_fin=b),placeholder:"Seleccionar fecha y hora",class:x({"border-red-500":e(s).errors.fecha_fin||S.value})},null,8,["modelValue","class"]),S.value?(n(),p("span",Ca,f(S.value),1)):e(s).errors.fecha_fin?(n(),p("span",Ma,f(e(s).errors.fecha_fin),1)):v("",!0)])]),i("div",ja,[i("div",Ea,[o(e(C),{id:"resultados_publicos",modelValue:e(s).resultados_publicos,"onUpdate:modelValue":r[6]||(r[6]=b=>e(s).resultados_publicos=b)},null,8,["modelValue"]),o(e(u),{for:"resultados_publicos",class:"cursor-pointer"},{default:l(()=>[...r[26]||(r[26]=[t(" Resultados públicos al finalizar ",-1)])]),_:1})]),e(s).resultados_publicos?(n(),p("div",Aa,[o(e(u),{for:"fecha_publicacion"},{default:l(()=>[...r[27]||(r[27]=[t(" Fecha de publicación de resultados (opcional) ",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_publicacion_resultados,"onUpdate:modelValue":r[7]||(r[7]=b=>e(s).fecha_publicacion_resultados=b),placeholder:"Dejar vacío para publicar al finalizar"},null,8,["modelValue"]),r[28]||(r[28]=i("p",{class:"text-xs text-muted-foreground"}," Si no especifica una fecha, los resultados se publicarán automáticamente al finalizar la votación ",-1))])):v("",!0)])]),_:1}),o(e(Ie),{value:"form",class:"space-y-4 mt-4"},{default:l(()=>[o(e(Z),null,{default:l(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:l(()=>[...r[29]||(r[29]=[t("Configuración del Formulario",-1)])]),_:1}),o(e(O),null,{default:l(()=>[...r[30]||(r[30]=[t(" Configure las preguntas que los votantes deberán responder. ",-1)])]),_:1})]),_:1}),o(ra,{modelValue:e(s).formulario_config,"onUpdate:modelValue":r[8]||(r[8]=b=>e(s).formulario_config=b),errors:e(s).errors.formulario_config},null,8,["modelValue","errors"])]),_:1})]),_:1},8,["modelValue"]),o(e(sa),null,{default:l(()=>[o(e(I),{type:"button",variant:"outline",onClick:P},{default:l(()=>[...r[31]||(r[31]=[t(" Cancelar ",-1)])]),_:1}),o(e(I),{type:"submit",disabled:e(s).processing},{default:l(()=>[e(s).processing?(n(),$(e(da),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),$(e(He),{key:1,class:"mr-2 h-4 w-4"})),r[32]||(r[32]=t(" Crear Votación ",-1))]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),qa={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},La={class:"flex items-center justify-between"},Fa={class:"text-3xl font-bold"},Ia={class:"text-muted-foreground"},Na={class:"grid gap-4 md:grid-cols-2"},Pa={class:"space-y-2"},Ra={key:0,class:"text-sm text-red-500"},Ta={class:"space-y-2"},Ba={key:0,class:"text-sm text-red-500"},Ga={class:"space-y-2"},Ha={key:0,class:"text-sm text-red-500"},Za={key:0,class:"grid gap-4 md:grid-cols-2"},Oa={class:"space-y-2"},Ja={key:0,class:"text-sm text-red-500"},Ka={class:"space-y-2"},Wa={key:0,class:"text-sm text-red-500"},Qa={class:"grid gap-4 md:grid-cols-2"},Xa={class:"space-y-2"},Ya={key:0,class:"text-sm text-red-500"},ha={class:"space-y-2"},eo={key:0,class:"text-sm text-red-500"},ao={key:1,class:"text-sm text-red-500"},oo={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},so={class:"space-y-2"},lo={class:"space-y-2"},to={class:"space-y-2"},io={class:"space-y-2"},ro={class:"space-y-2"},no={key:0,class:"text-sm text-red-500"},uo={class:"grid gap-4 md:grid-cols-2"},mo={class:"space-y-2"},po={key:0,class:"text-sm text-red-500"},fo={class:"flex items-center space-x-2 pt-8"},_o={class:"flex items-center space-x-2"},co={key:0,class:"space-y-4 pl-6 border-l-2 border-blue-200"},bo={class:"space-y-3"},vo={class:"flex items-center space-x-2"},go={class:"flex items-center space-x-2"},xo={class:"flex items-center space-x-2"},yo={key:0,class:"space-y-4"},Vo={class:"grid gap-4 md:grid-cols-2"},zo={class:"space-y-2"},ko={key:0,class:"space-y-2"},wo={class:"flex items-center gap-2 p-2 bg-green-50 rounded-md"},Uo={class:"text-xs text-muted-foreground"},$o={class:"space-y-3"},So={class:"grid gap-3 md:grid-cols-2"},Co={class:"flex items-center space-x-2"},Mo={class:"flex items-center space-x-2"},jo={class:"flex items-center space-x-2"},Eo={class:"flex items-center space-x-2"},Ao={class:"space-y-2"},Do={key:1,class:"space-y-4"},qo={class:"grid gap-4 md:grid-cols-2"},Lo={class:"space-y-2"},Fo={class:"space-y-2"},Io={class:"space-y-2"},No={class:"space-y-2"},Po={class:"space-y-4 p-4 border rounded-lg bg-gray-50"},Ro={class:"flex items-center space-x-2"},To={key:0,class:"space-y-2"},Bo={class:"grid gap-4 md:grid-cols-2"},Go={class:"space-y-2"},Ho={class:"space-y-2"},Zo={class:"space-y-2"},Oo={key:2,class:"space-y-4"},Jo={class:"space-y-2"},Ko={key:1,class:"text-sm text-red-500"},Wo={class:"flex items-center space-x-2"},Qo={key:0,class:"space-y-4"},Xo={class:"space-y-2"},Yo={class:"flex items-start space-x-2 mb-3"},ho={class:"space-y-1"},es={class:"flex items-start space-x-2"},as={class:"space-y-1"},os={class:"block bg-gray-100 p-2 rounded text-sm"},ss={class:"list-disc list-inside text-sm space-y-1"},ls={key:0},ts={key:1},is={key:1,class:"text-sm text-red-500"},rs={key:2,class:"text-sm text-red-500"},ds={class:"space-y-2"},ns={class:"flex gap-2"},us={class:"text-xs text-muted-foreground ml-2"},ms={key:0,class:"space-y-2"},ps={class:"space-y-2"},fs={class:"flex-1"},_s={class:"font-medium"},cs={class:"text-sm text-muted-foreground"},bs={class:"text-xs text-muted-foreground mt-1"},vs={key:2,class:"text-sm text-red-500"},gs={class:"flex justify-end gap-4"},Cl=Re({__name:"Form",props:{asamblea:{},territorios:{},departamentos:{},municipios:{},localidades:{},votaciones:{},asambleaVotaciones:{},canManageParticipants:{type:Boolean}},setup(Y){var ae,oe,se,le,te,ie,re,de,ne,ue,me,pe,fe,_e,ce,be,ve,ge,xe,ye,Ve,ze,ke,we,Ue,$e,Se,Ce,Me,je,Ee,Ae,De,qe;const m=Y,B=[{title:"Admin",href:"/admin/dashboard"},{title:"Asambleas",href:"/admin/asambleas"},{title:m.asamblea?"Editar":"Nueva",href:"#"}],{route:N}=window,G=M(()=>typeof window<"u"?window.location.origin:""),s=Te({nombre:((ae=m.asamblea)==null?void 0:ae.nombre)||"",descripcion:((oe=m.asamblea)==null?void 0:oe.descripcion)||"",tipo:((se=m.asamblea)==null?void 0:se.tipo)||"ordinaria",estado:((le=m.asamblea)==null?void 0:le.estado)||"programada",fecha_inicio:((te=m.asamblea)==null?void 0:te.fecha_inicio)||"",fecha_fin:((ie=m.asamblea)==null?void 0:ie.fecha_fin)||"",territorio_id:((de=(re=m.asamblea)==null?void 0:re.territorio_id)==null?void 0:de.toString())||null,departamento_id:((ue=(ne=m.asamblea)==null?void 0:ne.departamento_id)==null?void 0:ue.toString())||null,municipio_id:((pe=(me=m.asamblea)==null?void 0:me.municipio_id)==null?void 0:pe.toString())||null,localidad_id:((_e=(fe=m.asamblea)==null?void 0:fe.localidad_id)==null?void 0:_e.toString())||null,lugar:((ce=m.asamblea)==null?void 0:ce.lugar)||"",quorum_minimo:((be=m.asamblea)==null?void 0:be.quorum_minimo)||null,activo:((ve=m.asamblea)==null?void 0:ve.activo)??!0,acta_url:((ge=m.asamblea)==null?void 0:ge.acta_url)||"",zoom_enabled:((xe=m.asamblea)==null?void 0:xe.zoom_enabled)??!1,zoom_integration_type:((ye=m.asamblea)==null?void 0:ye.zoom_integration_type)||"sdk",zoom_meeting_id:((Ve=m.asamblea)==null?void 0:Ve.zoom_meeting_id)||"",zoom_meeting_password:((ze=m.asamblea)==null?void 0:ze.zoom_meeting_password)||"",zoom_occurrence_ids:((ke=m.asamblea)==null?void 0:ke.zoom_occurrence_ids)||"",zoom_prefix:((we=m.asamblea)==null?void 0:we.zoom_prefix)||"",zoom_registration_open_date:((Ue=m.asamblea)==null?void 0:Ue.zoom_registration_open_date)||"",zoom_static_message:(($e=m.asamblea)==null?void 0:$e.zoom_static_message)||"",zoom_api_message_enabled:((Se=m.asamblea)==null?void 0:Se.zoom_api_message_enabled)??!1,zoom_api_message:((Ce=m.asamblea)==null?void 0:Ce.zoom_api_message)||"",zoom_join_url:((Me=m.asamblea)==null?void 0:Me.zoom_join_url)||"",zoom_start_url:((je=m.asamblea)==null?void 0:je.zoom_start_url)||"",zoom_meeting_type:((Ee=m.asamblea)==null?void 0:Ee.zoom_meeting_type)||"scheduled",zoom_settings:((Ae=m.asamblea)==null?void 0:Ae.zoom_settings)||{host_video:!0,participant_video:!1,waiting_room:!0,mute_upon_entry:!0,auto_recording:"none"},public_participants_enabled:((De=m.asamblea)==null?void 0:De.public_participants_enabled)??!1,public_participants_mode:((qe=m.asamblea)==null?void 0:qe.public_participants_mode)||"list",votacion_ids:m.asambleaVotaciones||[]}),S=W(!1);W(m.asambleaVotaciones||[]);const P=M(()=>{if(!s.fecha_fin||!s.fecha_inicio)return"";const c=new Date(s.fecha_fin),a=new Date(s.fecha_inicio);return c<=a?"La fecha de fin debe ser posterior a la fecha de inicio":""}),Q=M(()=>s.territorio_id?m.departamentos.filter(c=>c.territorio_id===Number(s.territorio_id)):[]),y=M(()=>s.departamento_id?m.municipios.filter(c=>c.departamento_id===Number(s.departamento_id)):[]),r=M(()=>s.municipio_id?m.localidades.filter(c=>c.municipio_id===Number(s.municipio_id)):[]);X(()=>s.territorio_id,(c,a)=>{c!==a&&(s.departamento_id=null,s.municipio_id=null,s.localidad_id=null)}),X(()=>s.departamento_id,(c,a)=>{c!==a&&(s.municipio_id=null,s.localidad_id=null)}),X(()=>s.municipio_id,(c,a)=>{c!==a&&(s.localidad_id=null)});const b=c=>{s.votacion_ids.includes(c)||s.votacion_ids.push(c),S.value=!1},Ze=c=>{const a=s.votacion_ids.indexOf(c);a>-1&&s.votacion_ids.splice(a,1)},h=M(()=>!m.votaciones||!s.votacion_ids.length?[]:m.votaciones.filter(c=>s.votacion_ids.includes(c.id))),Oe=M(()=>m.votaciones?m.votaciones.filter(c=>!s.votacion_ids.includes(c.id)):[]),Je=()=>{m.asamblea?s.put(N("admin.asambleas.update",m.asamblea.id),{preserveScroll:!0,onError:()=>{}}):s.post(N("admin.asambleas.store"),{preserveScroll:!0,onError:()=>{}})},ee=()=>{Xe.visit(N("admin.asambleas.index"))};return(c,a)=>(n(),p(j,null,[o(e(Qe),{title:c.asamblea?"Editar Asamblea":"Nueva Asamblea"},null,8,["title"]),o(Ye,{breadcrumbs:B},{default:l(()=>[i("div",qa,[i("div",La,[i("div",null,[i("h1",Fa,f(c.asamblea?"Editar Asamblea":"Nueva Asamblea"),1),i("p",Ia,f(c.asamblea?"Modifica los datos de la asamblea":"Completa los datos para crear una nueva asamblea"),1)]),o(e(I),{variant:"outline",onClick:ee},{default:l(()=>[o(e(na),{class:"mr-2 h-4 w-4"}),a[37]||(a[37]=t(" Volver ",-1))]),_:1})]),i("form",{onSubmit:Be(Je,["prevent"]),class:"space-y-6"},[o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),null,{default:l(()=>[...a[38]||(a[38]=[t("Información General",-1)])]),_:1}),o(e(L),null,{default:l(()=>[...a[39]||(a[39]=[t(" Datos básicos de la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:l(()=>[i("div",Na,[i("div",Pa,[o(e(u),{for:"nombre"},{default:l(()=>[...a[40]||(a[40]=[t("Nombre *",-1)])]),_:1}),o(e(V),{id:"nombre",modelValue:e(s).nombre,"onUpdate:modelValue":a[0]||(a[0]=d=>e(s).nombre=d),placeholder:"Ej: Asamblea General Ordinaria 2024",class:x({"border-red-500":e(s).errors.nombre})},null,8,["modelValue","class"]),e(s).errors.nombre?(n(),p("span",Ra,f(e(s).errors.nombre),1)):v("",!0)]),i("div",Ta,[o(e(u),{for:"tipo"},{default:l(()=>[...a[41]||(a[41]=[t("Tipo *",-1)])]),_:1}),o(e(z),{modelValue:e(s).tipo,"onUpdate:modelValue":a[1]||(a[1]=d=>e(s).tipo=d)},{default:l(()=>[o(e(k),{class:x({"border-red-500":e(s).errors.tipo})},{default:l(()=>[o(e(w),{placeholder:"Selecciona el tipo"})]),_:1},8,["class"]),o(e(U),null,{default:l(()=>[o(e(g),{value:"ordinaria"},{default:l(()=>[...a[42]||(a[42]=[t("Ordinaria",-1)])]),_:1}),o(e(g),{value:"extraordinaria"},{default:l(()=>[...a[43]||(a[43]=[t("Extraordinaria",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.tipo?(n(),p("span",Ba,f(e(s).errors.tipo),1)):v("",!0)])]),i("div",Ga,[o(e(u),{for:"descripcion"},{default:l(()=>[...a[44]||(a[44]=[t("Descripción",-1)])]),_:1}),o(e(H),{id:"descripcion",modelValue:e(s).descripcion,"onUpdate:modelValue":a[2]||(a[2]=d=>e(s).descripcion=d),placeholder:"Describe el propósito y agenda de la asamblea...",rows:"3",class:x({"border-red-500":e(s).errors.descripcion})},null,8,["modelValue","class"]),e(s).errors.descripcion?(n(),p("span",Ha,f(e(s).errors.descripcion),1)):v("",!0)]),c.asamblea?(n(),p("div",Za,[i("div",Oa,[o(e(u),{for:"estado"},{default:l(()=>[...a[45]||(a[45]=[t("Estado",-1)])]),_:1}),o(e(z),{modelValue:e(s).estado,"onUpdate:modelValue":a[3]||(a[3]=d=>e(s).estado=d)},{default:l(()=>[o(e(k),{class:x({"border-red-500":e(s).errors.estado})},{default:l(()=>[o(e(w),{placeholder:"Selecciona el estado"})]),_:1},8,["class"]),o(e(U),null,{default:l(()=>[o(e(g),{value:"programada"},{default:l(()=>[...a[46]||(a[46]=[t("Programada",-1)])]),_:1}),o(e(g),{value:"en_curso"},{default:l(()=>[...a[47]||(a[47]=[t("En Curso",-1)])]),_:1}),o(e(g),{value:"finalizada"},{default:l(()=>[...a[48]||(a[48]=[t("Finalizada",-1)])]),_:1}),o(e(g),{value:"cancelada"},{default:l(()=>[...a[49]||(a[49]=[t("Cancelada",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.estado?(n(),p("span",Ja,f(e(s).errors.estado),1)):v("",!0)]),i("div",Ka,[o(e(u),{for:"acta_url"},{default:l(()=>[...a[50]||(a[50]=[t("URL del Acta",-1)])]),_:1}),o(e(V),{id:"acta_url",modelValue:e(s).acta_url,"onUpdate:modelValue":a[4]||(a[4]=d=>e(s).acta_url=d),placeholder:"https://ejemplo.com/acta.pdf",class:x({"border-red-500":e(s).errors.acta_url})},null,8,["modelValue","class"]),e(s).errors.acta_url?(n(),p("span",Wa,f(e(s).errors.acta_url),1)):v("",!0)])])):v("",!0)]),_:1})]),_:1}),o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),null,{default:l(()=>[...a[51]||(a[51]=[t("Fechas y Horarios",-1)])]),_:1}),o(e(L),null,{default:l(()=>[...a[52]||(a[52]=[t(" Define cuándo se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:l(()=>[i("div",Qa,[i("div",Xa,[o(e(u),{for:"fecha_inicio"},{default:l(()=>[...a[53]||(a[53]=[t("Fecha y Hora de Inicio *",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_inicio,"onUpdate:modelValue":a[5]||(a[5]=d=>e(s).fecha_inicio=d),placeholder:"Seleccionar fecha y hora de inicio",class:x({"border-red-500":e(s).errors.fecha_inicio})},null,8,["modelValue","class"]),e(s).errors.fecha_inicio?(n(),p("span",Ya,f(e(s).errors.fecha_inicio),1)):v("",!0)]),i("div",ha,[o(e(u),{for:"fecha_fin"},{default:l(()=>[...a[54]||(a[54]=[t("Fecha y Hora de Fin *",-1)])]),_:1}),o(e(R),{modelValue:e(s).fecha_fin,"onUpdate:modelValue":a[6]||(a[6]=d=>e(s).fecha_fin=d),placeholder:"Seleccionar fecha y hora de fin",class:x({"border-red-500":e(s).errors.fecha_fin||P.value})},null,8,["modelValue","class"]),P.value?(n(),p("span",eo,f(P.value),1)):e(s).errors.fecha_fin?(n(),p("span",ao,f(e(s).errors.fecha_fin),1)):v("",!0)])])]),_:1})]),_:1}),o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),null,{default:l(()=>[...a[55]||(a[55]=[t("Ubicación",-1)])]),_:1}),o(e(L),null,{default:l(()=>[...a[56]||(a[56]=[t(" Define dónde se realizará la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:l(()=>[i("div",oo,[i("div",so,[o(e(u),{for:"territorio"},{default:l(()=>[...a[57]||(a[57]=[t("Territorio",-1)])]),_:1}),o(e(z),{modelValue:e(s).territorio_id,"onUpdate:modelValue":a[7]||(a[7]=d=>e(s).territorio_id=d)},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Selecciona territorio (opcional)"})]),_:1}),o(e(U),null,{default:l(()=>[(n(!0),p(j,null,F(c.territorios,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:l(()=>[t(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",lo,[o(e(u),{for:"departamento"},{default:l(()=>[...a[58]||(a[58]=[t("Departamento",-1)])]),_:1}),o(e(z),{modelValue:e(s).departamento_id,"onUpdate:modelValue":a[8]||(a[8]=d=>e(s).departamento_id=d),disabled:!e(s).territorio_id},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Selecciona departamento (opcional)"})]),_:1}),o(e(U),null,{default:l(()=>[(n(!0),p(j,null,F(Q.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:l(()=>[t(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),i("div",to,[o(e(u),{for:"municipio"},{default:l(()=>[...a[59]||(a[59]=[t("Municipio",-1)])]),_:1}),o(e(z),{modelValue:e(s).municipio_id,"onUpdate:modelValue":a[9]||(a[9]=d=>e(s).municipio_id=d),disabled:!e(s).departamento_id},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Selecciona municipio (opcional)"})]),_:1}),o(e(U),null,{default:l(()=>[(n(!0),p(j,null,F(y.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:l(()=>[t(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]),i("div",io,[o(e(u),{for:"localidad"},{default:l(()=>[...a[60]||(a[60]=[t("Localidad",-1)])]),_:1}),o(e(z),{modelValue:e(s).localidad_id,"onUpdate:modelValue":a[10]||(a[10]=d=>e(s).localidad_id=d),disabled:!e(s).municipio_id},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Selecciona localidad (opcional)"})]),_:1}),o(e(U),null,{default:l(()=>[(n(!0),p(j,null,F(r.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:l(()=>[t(f(d.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),i("div",ro,[o(e(u),{for:"lugar"},{default:l(()=>[...a[61]||(a[61]=[t("Dirección o Lugar",-1)])]),_:1}),o(e(V),{id:"lugar",modelValue:e(s).lugar,"onUpdate:modelValue":a[11]||(a[11]=d=>e(s).lugar=d),placeholder:"Ej: Salón Principal, Calle 123 #45-67",class:x({"border-red-500":e(s).errors.lugar})},null,8,["modelValue","class"]),e(s).errors.lugar?(n(),p("span",no,f(e(s).errors.lugar),1)):v("",!0)])]),_:1})]),_:1}),o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),null,{default:l(()=>[...a[62]||(a[62]=[t("Configuración",-1)])]),_:1}),o(e(L),null,{default:l(()=>[...a[63]||(a[63]=[t(" Opciones adicionales de la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:l(()=>[i("div",uo,[i("div",mo,[o(e(u),{for:"quorum_minimo"},{default:l(()=>[...a[64]||(a[64]=[t("Quórum Mínimo",-1)])]),_:1}),o(e(V),{id:"quorum_minimo",modelValue:e(s).quorum_minimo,"onUpdate:modelValue":a[12]||(a[12]=d=>e(s).quorum_minimo=d),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"Ej: 50",class:x({"border-red-500":e(s).errors.quorum_minimo})},null,8,["modelValue","class"]),e(s).errors.quorum_minimo?(n(),p("span",po,f(e(s).errors.quorum_minimo),1)):v("",!0),a[65]||(a[65]=i("p",{class:"text-sm text-muted-foreground"}," Número mínimo de asistentes requeridos ",-1))]),i("div",fo,[o(e(C),{id:"activo",modelValue:e(s).activo,"onUpdate:modelValue":a[13]||(a[13]=d=>e(s).activo=d)},null,8,["modelValue"]),o(e(u),{for:"activo",class:"cursor-pointer"},{default:l(()=>[...a[66]||(a[66]=[t(" Asamblea Activa ",-1)])]),_:1})])])]),_:1})]),_:1}),o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),{class:"flex items-center gap-2"},{default:l(()=>[o(e(Ne),{class:"h-5 w-5"}),a[67]||(a[67]=t(" Videoconferencia ",-1))]),_:1}),o(e(L),null,{default:l(()=>[...a[68]||(a[68]=[t(" Configuración de videoconferencia con Zoom para la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:l(()=>{var d;return[i("div",_o,[o(e(C),{id:"zoom_enabled",modelValue:e(s).zoom_enabled,"onUpdate:modelValue":a[14]||(a[14]=_=>e(s).zoom_enabled=_)},null,8,["modelValue"]),o(e(u),{for:"zoom_enabled",class:"cursor-pointer"},{default:l(()=>[...a[69]||(a[69]=[t(" Habilitar videoconferencia ",-1)])]),_:1})]),e(s).zoom_enabled?(n(),p("div",co,[i("div",bo,[o(e(u),{class:"text-sm font-medium"},{default:l(()=>[...a[70]||(a[70]=[t("Tipo de Integración",-1)])]),_:1}),o(e(Le),{modelValue:e(s).zoom_integration_type,"onUpdate:modelValue":a[15]||(a[15]=_=>e(s).zoom_integration_type=_),class:"flex gap-6"},{default:l(()=>[i("div",vo,[o(e(T),{value:"sdk",id:"sdk"}),o(e(u),{for:"sdk",class:"cursor-pointer"},{default:l(()=>[...a[71]||(a[71]=[t(" SDK (Automático) ",-1)])]),_:1})]),i("div",go,[o(e(T),{value:"api",id:"api"}),o(e(u),{for:"api",class:"cursor-pointer"},{default:l(()=>[...a[72]||(a[72]=[t(" API (Manual) ",-1)])]),_:1})]),i("div",xo,[o(e(T),{value:"message",id:"message"}),o(e(u),{for:"message",class:"cursor-pointer"},{default:l(()=>[...a[73]||(a[73]=[t(" Mensaje estático ",-1)])]),_:1})])]),_:1},8,["modelValue"]),a[74]||(a[74]=i("p",{class:"text-xs text-muted-foreground"}," SDK: Reuniones generadas automáticamente. API: Configuración manual de reunión existente. Mensaje: Mostrar un mensaje personalizado. ",-1))]),e(s).zoom_integration_type==="sdk"?(n(),p("div",yo,[i("div",Vo,[i("div",zo,[o(e(u),{for:"zoom_meeting_type"},{default:l(()=>[...a[75]||(a[75]=[t("Tipo de Reunión",-1)])]),_:1}),o(e(z),{modelValue:e(s).zoom_meeting_type,"onUpdate:modelValue":a[16]||(a[16]=_=>e(s).zoom_meeting_type=_)},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w),{placeholder:"Selecciona el tipo"})]),_:1}),o(e(U),null,{default:l(()=>[o(e(g),{value:"scheduled"},{default:l(()=>[...a[76]||(a[76]=[t("Programada",-1)])]),_:1}),o(e(g),{value:"instant"},{default:l(()=>[...a[77]||(a[77]=[t("Instantánea",-1)])]),_:1}),o(e(g),{value:"recurring"},{default:l(()=>[...a[78]||(a[78]=[t("Recurrente",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[79]||(a[79]=i("p",{class:"text-sm text-muted-foreground"},' Se recomienda "Programada" para asambleas ',-1))]),(d=c.asamblea)!=null&&d.zoom_meeting_id?(n(),p("div",ko,[o(e(u),null,{default:l(()=>[...a[80]||(a[80]=[t("Estado de la Reunión",-1)])]),_:1}),i("div",wo,[o(e(Ne),{class:"h-4 w-4 text-green-600"}),a[81]||(a[81]=i("span",{class:"text-sm text-green-800"},"Reunión creada",-1))]),i("p",Uo," ID: "+f(c.asamblea.zoom_meeting_id),1)])):v("",!0)]),i("div",$o,[o(e(u),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[o(e(ua),{class:"h-4 w-4"}),a[82]||(a[82]=t(" Configuraciones de la Reunión ",-1))]),_:1}),i("div",So,[i("div",Co,[o(e(C),{id:"host_video",modelValue:e(s).zoom_settings.host_video,"onUpdate:modelValue":a[17]||(a[17]=_=>e(s).zoom_settings.host_video=_)},null,8,["modelValue"]),o(e(u),{for:"host_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:l(()=>[o(e(_a),{class:"h-3 w-3"}),a[83]||(a[83]=t(" Video del moderador ",-1))]),_:1})]),i("div",Mo,[o(e(C),{id:"participant_video",modelValue:e(s).zoom_settings.participant_video,"onUpdate:modelValue":a[18]||(a[18]=_=>e(s).zoom_settings.participant_video=_)},null,8,["modelValue"]),o(e(u),{for:"participant_video",class:"text-sm cursor-pointer flex items-center gap-1"},{default:l(()=>[o(e(Pe),{class:"h-3 w-3"}),a[84]||(a[84]=t(" Video de participantes ",-1))]),_:1})]),i("div",jo,[o(e(C),{id:"waiting_room",modelValue:e(s).zoom_settings.waiting_room,"onUpdate:modelValue":a[19]||(a[19]=_=>e(s).zoom_settings.waiting_room=_)},null,8,["modelValue"]),o(e(u),{for:"waiting_room",class:"text-sm cursor-pointer"},{default:l(()=>[...a[85]||(a[85]=[t(" Sala de espera ",-1)])]),_:1})]),i("div",Eo,[o(e(C),{id:"mute_upon_entry",modelValue:e(s).zoom_settings.mute_upon_entry,"onUpdate:modelValue":a[20]||(a[20]=_=>e(s).zoom_settings.mute_upon_entry=_)},null,8,["modelValue"]),o(e(u),{for:"mute_upon_entry",class:"text-sm cursor-pointer flex items-center gap-1"},{default:l(()=>[o(e(ca),{class:"h-3 w-3"}),a[86]||(a[86]=t(" Silenciar al entrar ",-1))]),_:1})])]),i("div",Ao,[o(e(u),{for:"auto_recording",class:"text-sm"},{default:l(()=>[...a[87]||(a[87]=[t("Grabación automática",-1)])]),_:1}),o(e(z),{modelValue:e(s).zoom_settings.auto_recording,"onUpdate:modelValue":a[21]||(a[21]=_=>e(s).zoom_settings.auto_recording=_)},{default:l(()=>[o(e(k),null,{default:l(()=>[o(e(w))]),_:1}),o(e(U),null,{default:l(()=>[o(e(g),{value:"none"},{default:l(()=>[...a[88]||(a[88]=[t("Sin grabación",-1)])]),_:1}),o(e(g),{value:"local"},{default:l(()=>[...a[89]||(a[89]=[t("Grabación local",-1)])]),_:1}),o(e(g),{value:"cloud"},{default:l(()=>[...a[90]||(a[90]=[t("Grabación en la nube",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a[91]||(a[91]=i("div",{class:"bg-blue-50 p-3 rounded-md"},[i("p",{class:"text-sm text-blue-800"},[i("strong",null,"Nota:"),t(" La reunión de Zoom se creará automáticamente cuando guardes la asamblea. Los participantes podrán acceder a la videoconferencia desde la vista de la asamblea. ")])],-1))])):v("",!0),e(s).zoom_integration_type==="api"?(n(),p("div",Do,[i("div",qo,[i("div",Lo,[o(e(u),{for:"zoom_meeting_id_api"},{default:l(()=>[...a[92]||(a[92]=[t("Meeting ID",-1)])]),_:1}),o(e(V),{id:"zoom_meeting_id_api",modelValue:e(s).zoom_meeting_id,"onUpdate:modelValue":a[22]||(a[22]=_=>e(s).zoom_meeting_id=_),placeholder:"Ej: 123456789"},null,8,["modelValue"]),a[93]||(a[93]=i("p",{class:"text-xs text-muted-foreground"}," ID de la reunión existente en Zoom ",-1))]),i("div",Fo,[o(e(u),{for:"zoom_occurrence_ids"},{default:l(()=>[...a[94]||(a[94]=[t("Occurrence IDs",-1)])]),_:1}),o(e(V),{id:"zoom_occurrence_ids",modelValue:e(s).zoom_occurrence_ids,"onUpdate:modelValue":a[23]||(a[23]=_=>e(s).zoom_occurrence_ids=_),placeholder:"Ej: 1648194360000,1648280760000"},null,8,["modelValue"]),a[95]||(a[95]=i("p",{class:"text-xs text-muted-foreground"}," IDs de ocurrencias separados por comas (opcional) ",-1))]),i("div",Io,[o(e(u),{for:"zoom_prefix"},{default:l(()=>[...a[96]||(a[96]=[t("Prefijo",-1)])]),_:1}),o(e(V),{id:"zoom_prefix",modelValue:e(s).zoom_prefix,"onUpdate:modelValue":a[24]||(a[24]=_=>e(s).zoom_prefix=_),placeholder:"Ej: CH",maxlength:"10",class:"w-24"},null,8,["modelValue"]),a[97]||(a[97]=i("p",{class:"text-xs text-muted-foreground"}," Prefijo que se añadirá al nombre en Zoom ",-1))])]),i("div",No,[o(e(u),{for:"zoom_registration_open_date"},{default:l(()=>[...a[98]||(a[98]=[t("Apertura de inscripciones",-1)])]),_:1}),o(e(R),{id:"zoom_registration_open_date",modelValue:e(s).zoom_registration_open_date,"onUpdate:modelValue":a[25]||(a[25]=_=>e(s).zoom_registration_open_date=_),placeholder:"Seleccionar fecha y hora"},null,8,["modelValue"]),a[99]||(a[99]=i("p",{class:"text-xs text-muted-foreground"}," Fecha y hora a partir de la cual los usuarios pueden generar su link personal (opcional) ",-1))]),i("div",Po,[i("div",Ro,[o(e(C),{id:"zoom_api_message_enabled",modelValue:e(s).zoom_api_message_enabled,"onUpdate:modelValue":a[26]||(a[26]=_=>e(s).zoom_api_message_enabled=_)},null,8,["modelValue"]),o(e(u),{for:"zoom_api_message_enabled",class:"cursor-pointer"},{default:l(()=>[...a[100]||(a[100]=[t(" Mostrar mensaje personalizado encima del enlace ",-1)])]),_:1})]),e(s).zoom_api_message_enabled?(n(),p("div",To,[o(e(u),{for:"zoom_api_message"},{default:l(()=>[...a[101]||(a[101]=[t("Mensaje a mostrar",-1)])]),_:1}),o(e(H),{id:"zoom_api_message",modelValue:e(s).zoom_api_message,"onUpdate:modelValue":a[27]||(a[27]=_=>e(s).zoom_api_message=_),placeholder:"Escriba aquí el mensaje que se mostrará encima del enlace de Zoom...",rows:"4",class:"min-h-[100px]"},null,8,["modelValue"]),a[102]||(a[102]=i("p",{class:"text-xs text-muted-foreground"}," Este mensaje aparecerá destacado encima del botón de generar/acceder al enlace de Zoom. ",-1))])):v("",!0)]),i("div",Bo,[i("div",Go,[o(e(u),{for:"zoom_meeting_password_api"},{default:l(()=>[...a[103]||(a[103]=[t("Contraseña de la Reunión",-1)])]),_:1}),o(e(V),{id:"zoom_meeting_password_api",modelValue:e(s).zoom_meeting_password,"onUpdate:modelValue":a[28]||(a[28]=_=>e(s).zoom_meeting_password=_),placeholder:"Contraseña (opcional)"},null,8,["modelValue"])]),i("div",Ho,[o(e(u),{for:"zoom_join_url"},{default:l(()=>[...a[104]||(a[104]=[t("Join URL",-1)])]),_:1}),o(e(V),{id:"zoom_join_url",modelValue:e(s).zoom_join_url,"onUpdate:modelValue":a[29]||(a[29]=_=>e(s).zoom_join_url=_),placeholder:"https://zoom.us/j/123456789"},null,8,["modelValue"])])]),i("div",Zo,[o(e(u),{for:"zoom_start_url"},{default:l(()=>[...a[105]||(a[105]=[t("Start URL",-1)])]),_:1}),o(e(V),{id:"zoom_start_url",modelValue:e(s).zoom_start_url,"onUpdate:modelValue":a[30]||(a[30]=_=>e(s).zoom_start_url=_),placeholder:"https://zoom.us/s/123456789"},null,8,["modelValue"]),a[106]||(a[106]=i("p",{class:"text-xs text-muted-foreground"}," URL para iniciar la reunión (para moderadores) ",-1))]),a[107]||(a[107]=i("div",{class:"bg-orange-50 p-3 rounded-md"},[i("p",{class:"text-sm text-orange-800"},[i("strong",null,"Modo API:"),t(" Los campos se completan manualmente. Los usuarios verán un botón para generar su link personal de acceso a la reunión. ")])],-1))])):v("",!0),e(s).zoom_integration_type==="message"?(n(),p("div",Oo,[i("div",Jo,[o(e(u),{for:"zoom_static_message"},{default:l(()=>[...a[108]||(a[108]=[t("Mensaje a mostrar",-1)])]),_:1}),o(e(H),{id:"zoom_static_message",modelValue:e(s).zoom_static_message,"onUpdate:modelValue":a[31]||(a[31]=_=>e(s).zoom_static_message=_),placeholder:"Escriba aquí el mensaje que se mostrará en lugar de la videoconferencia...",rows:"5",class:"min-h-[120px]"},null,8,["modelValue"]),a[109]||(a[109]=i("p",{class:"text-xs text-muted-foreground"}," Este mensaje se mostrará a los usuarios en el espacio donde normalmente aparecería la videoconferencia. ",-1))]),a[110]||(a[110]=i("div",{class:"bg-blue-50 p-3 rounded-md"},[i("p",{class:"text-sm text-blue-800"},[i("strong",null,"Modo Mensaje:"),t(" En lugar de una videoconferencia, los usuarios verán el mensaje personalizado que configure aquí. ")])],-1))])):v("",!0)])):v("",!0),e(s).errors.zoom_enabled?(n(),p("span",Ko,f(e(s).errors.zoom_enabled),1)):v("",!0)]}),_:1})]),_:1}),o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),null,{default:l(()=>[o(e(Pe),{class:"inline-block mr-2 h-5 w-5"}),a[111]||(a[111]=t(" Consulta Pública de Participantes ",-1))]),_:1}),o(e(L),null,{default:l(()=>[...a[112]||(a[112]=[t(" Configure el acceso público sin autenticación para consultar participantes de la asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-6"},{default:l(()=>[i("div",Wo,[o(e(C),{id:"public_participants",modelValue:e(s).public_participants_enabled,"onUpdate:modelValue":a[32]||(a[32]=d=>e(s).public_participants_enabled=d)},null,8,["modelValue"]),o(e(u),{for:"public_participants"},{default:l(()=>[...a[113]||(a[113]=[t(" Habilitar consulta pública de participantes (sin autenticación) ",-1)])]),_:1})]),e(s).public_participants_enabled?(n(),p("div",Qo,[i("div",Xo,[o(e(u),null,{default:l(()=>[...a[114]||(a[114]=[t("Modo de visualización pública",-1)])]),_:1}),o(e(Le),{modelValue:e(s).public_participants_mode,"onUpdate:modelValue":a[33]||(a[33]=d=>e(s).public_participants_mode=d)},{default:l(()=>[i("div",Yo,[o(e(T),{value:"list",id:"mode_list"}),i("div",ho,[o(e(u),{for:"mode_list",class:"font-medium cursor-pointer"},{default:l(()=>[...a[115]||(a[115]=[t(" Modo Listado ",-1)])]),_:1}),a[116]||(a[116]=i("p",{class:"text-sm text-muted-foreground"}," Muestra tabla completa con filtros avanzados. Los visitantes pueden ver: nombre, departamento, municipio y localidad de todos los participantes. ",-1))])]),i("div",es,[o(e(T),{value:"search",id:"mode_search"}),i("div",as,[o(e(u),{for:"mode_search",class:"font-medium cursor-pointer"},{default:l(()=>[...a[117]||(a[117]=[t(" Modo Búsqueda ",-1)])]),_:1}),a[118]||(a[118]=i("p",{class:"text-sm text-muted-foreground"}," Solo muestra un campo de búsqueda. Los visitantes pueden buscar por nombre, cédula o correo, y ver únicamente si la persona es o no participante. ",-1))])])]),_:1},8,["modelValue"])]),o(e(Z),null,{default:l(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:l(()=>[...a[119]||(a[119]=[t("URL Pública",-1)])]),_:1}),o(e(O),null,{default:l(()=>{var d;return[a[120]||(a[120]=i("p",{class:"mb-2"},"Los participantes estarán disponibles públicamente en:",-1)),i("code",os,f(G.value)+"/asambleas/"+f(((d=c.asamblea)==null?void 0:d.id)||"{id}")+"/participantes-publico ",1),a[121]||(a[121]=i("p",{class:"mt-2 text-xs"}," Esta URL será accesible sin necesidad de autenticación cuando la asamblea esté activa. ",-1))]}),_:1})]),_:1}),o(e(Z),{variant:"outline"},{default:l(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:l(()=>[...a[122]||(a[122]=[t("Información de Privacidad",-1)])]),_:1}),o(e(O),null,{default:l(()=>[i("ul",ss,[e(s).public_participants_mode==="list"?(n(),p("li",ls," En modo listado, NO se mostrarán: correo electrónico, teléfono, documento de identidad, ni información de asistencia. ")):(n(),p("li",ts," En modo búsqueda, solo se confirmará si la persona es participante o no. No se revelará ningún dato personal adicional. ")),a[123]||(a[123]=i("li",null,"Los datos expuestos cumplen con las políticas de privacidad.",-1))])]),_:1})]),_:1})])):v("",!0),e(s).errors.public_participants_enabled?(n(),p("span",is,f(e(s).errors.public_participants_enabled),1)):v("",!0),e(s).errors.public_participants_mode?(n(),p("span",rs,f(e(s).errors.public_participants_mode),1)):v("",!0)]),_:1})]),_:1}),o(e(E),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(D),{class:"flex items-center gap-2"},{default:l(()=>[o(e(ma),{class:"h-5 w-5"}),a[124]||(a[124]=t(" Votaciones Asociadas ",-1))]),_:1}),o(e(L),null,{default:l(()=>[...a[125]||(a[125]=[t(" Vincule votaciones existentes o cree nuevas votaciones para esta asamblea ",-1)])]),_:1})]),_:1}),o(e(q),{class:"space-y-4"},{default:l(()=>[i("div",ds,[o(e(u),null,{default:l(()=>[...a[126]||(a[126]=[t("Vincular votaciones existentes",-1)])]),_:1}),i("div",ns,[o(e(z),{"model-value":"","onUpdate:modelValue":a[34]||(a[34]=d=>d&&!e(s).votacion_ids.includes(Number(d))&&e(s).votacion_ids.push(Number(d)))},{default:l(()=>[o(e(k),{class:"flex-1"},{default:l(()=>[o(e(w),{placeholder:"Seleccionar votación para agregar..."})]),_:1}),o(e(U),null,{default:l(()=>[(n(!0),p(j,null,F(Oe.value,d=>(n(),$(e(g),{key:d.id,value:d.id.toString()},{default:l(()=>[t(f(d.titulo)+" ",1),i("span",us," ("+f(d.estado)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),o(e(I),{type:"button",onClick:a[35]||(a[35]=d=>S.value=!0),variant:"outline"},{default:l(()=>[o(e(pa),{class:"h-4 w-4 mr-2"}),a[127]||(a[127]=t(" Crear nueva ",-1))]),_:1})])]),h.value.length>0?(n(),p("div",ms,[o(e(u),null,{default:l(()=>[...a[128]||(a[128]=[t("Votaciones vinculadas",-1)])]),_:1}),i("div",ps,[(n(!0),p(j,null,F(h.value,d=>(n(),p("div",{key:d.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 dark:bg-gray-900"},[i("div",fs,[i("div",_s,f(d.titulo),1),i("div",cs,f(d.descripcion),1),i("div",bs," Estado: "+f(d.estado)+" | Inicio: "+f(new Date(d.fecha_inicio).toLocaleDateString())+" | Fin: "+f(new Date(d.fecha_fin).toLocaleDateString()),1)]),o(e(I),{type:"button",onClick:_=>Ze(d.id),variant:"ghost",size:"sm"},{default:l(()=>[o(e(fa),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]))),128))])])):(n(),$(e(Z),{key:1},{default:l(()=>[o(e(K),{class:"h-4 w-4"}),o(e(J),null,{default:l(()=>[...a[129]||(a[129]=[t("Sin votaciones vinculadas",-1)])]),_:1}),o(e(O),null,{default:l(()=>[...a[130]||(a[130]=[t(" Esta asamblea no tiene votaciones asociadas. Puede vincular votaciones existentes o crear nuevas. ",-1)])]),_:1})]),_:1})),e(s).errors.votacion_ids?(n(),p("span",vs,f(e(s).errors.votacion_ids),1)):v("",!0)]),_:1})]),_:1}),i("div",gs,[o(e(I),{type:"button",variant:"outline",onClick:ee},{default:l(()=>[...a[131]||(a[131]=[t(" Cancelar ",-1)])]),_:1}),o(e(I),{type:"submit",disabled:e(s).processing},{default:l(()=>[o(e(He),{class:"mr-2 h-4 w-4"}),t(" "+f(c.asamblea?"Actualizar":"Crear")+" Asamblea ",1)]),_:1},8,["disabled"])])],32)]),S.value?(n(),$(Da,{key:0,open:S.value,onClose:a[36]||(a[36]=d=>S.value=!1),onCreated:b},null,8,["open"])):v("",!0)]),_:1})],64))}});export{Cl as default};
