import{a as x,b as k,c as C,_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dpl1EP6e.js";import{_ as p}from"./index-MuREUf8q.js";import{_ as g}from"./createLucideIcon-0y3HvBb2.js";import{d as j,c as y,b as S,e as i,w as n,f as s,u as o,g as e,i as l,j as c,h as m,t as a,P as z,n as u,s as B}from"./app-CbA_dzrH.js";import{C as _}from"./calendar-BOFnEXb6.js";import{D}from"./dollar-sign-CHkcv1fe.js";import{U as P}from"./user-BnDczykq.js";import{C as V}from"./circle-alert-CfNQ3Vlu.js";import{F as E}from"./file-text-DINmkRZl.js";import{E as N}from"./eye-CuQC-PD5.js";import{S as A}from"./square-pen-CVrov98_.js";const F={class:"flex items-start justify-between"},T={class:"flex-1"},U={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},q={key:0,class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},I={class:"grid grid-cols-2 gap-3 text-sm"},L={class:"flex items-center gap-2"},G={class:"ml-1 font-medium"},H={class:"flex items-center gap-2"},J={class:"ml-1 font-medium"},K={key:0,class:"flex items-center gap-2"},M={class:"font-medium"},O={key:1,class:"flex items-center gap-2"},Q={class:"truncate"},R={key:1,class:"flex items-center gap-2"},W={key:2},X={class:"flex justify-between text-xs text-gray-600 mb-1"},Y={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Z={class:"flex items-center justify-between"},tt={key:0,class:"flex gap-2"},ut=j({__name:"ContratoCard",props:{contrato:{},showProyecto:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0}},setup(h){const d=h,v=y(()=>({borrador:"bg-gray-100 text-gray-800",activo:"bg-green-100 text-green-800",finalizado:"bg-blue-100 text-blue-800",cancelado:"bg-red-100 text-red-800"})[d.contrato.estado]||"bg-gray-100 text-gray-800"),b=y(()=>d.contrato.estado==="cancelado"?"bg-red-500":d.contrato.estado==="finalizado"?"bg-blue-500":d.contrato.esta_vencido?"bg-red-500":d.contrato.esta_proximo_vencer?"bg-yellow-500":"bg-green-500"),f=t=>t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"-";return(t,r)=>(i(),S(o($),{class:"hover:shadow-lg transition-shadow duration-300 cursor-pointer"},{default:n(()=>[s(o(x),null,{default:n(()=>[e("div",F,[e("div",T,[s(o(k),{class:"text-lg font-semibold mb-1"},{default:n(()=>[m(a(t.contrato.nombre),1)]),_:1}),t.showProyecto&&t.contrato.proyecto?(i(),l("div",U,[s(o(z),{href:`/admin/proyectos/${t.contrato.proyecto.id}`,class:"hover:text-primary transition-colors"},{default:n(()=>[m(a(t.contrato.proyecto.nombre),1)]),_:1},8,["href"])])):c("",!0)]),s(o(p),{class:u(v.value)},{default:n(()=>[m(a(t.contrato.estado),1)]),_:1},8,["class"])])]),_:1}),s(o(C),{class:"space-y-4"},{default:n(()=>[t.contrato.descripcion?(i(),l("p",q,a(t.contrato.descripcion),1)):c("",!0),e("div",I,[e("div",L,[s(o(_),{class:"h-4 w-4 text-gray-400"}),e("div",null,[r[2]||(r[2]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Inicio:",-1)),e("span",G,a(f(t.contrato.fecha_inicio)),1)])]),e("div",H,[s(o(_),{class:"h-4 w-4 text-gray-400"}),e("div",null,[r[3]||(r[3]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Fin:",-1)),e("span",J,a(f(t.contrato.fecha_fin)),1)])]),t.contrato.monto_formateado?(i(),l("div",K,[s(o(D),{class:"h-4 w-4 text-gray-400"}),e("span",M,a(t.contrato.monto_formateado),1)])):c("",!0),t.contrato.responsable?(i(),l("div",O,[s(o(P),{class:"h-4 w-4 text-gray-400"}),e("span",Q,a(t.contrato.responsable.name),1)])):c("",!0)]),t.contrato.esta_vencido||t.contrato.esta_proximo_vencer?(i(),l("div",R,[s(o(V),{class:u(["h-4 w-4",t.contrato.esta_vencido?"text-red-500":"text-yellow-500"])},null,8,["class"]),e("span",{class:u(["text-sm font-medium",t.contrato.esta_vencido?"text-red-600":"text-yellow-600"])},a(t.contrato.esta_vencido?"Contrato vencido":`Vence en ${t.contrato.dias_restantes} dÃ­as`),3)])):c("",!0),t.contrato.estado==="activo"&&t.contrato.porcentaje_transcurrido!==void 0?(i(),l("div",W,[e("div",X,[r[4]||(r[4]=e("span",null,"Progreso",-1)),e("span",null,a(t.contrato.porcentaje_transcurrido)+"%",1)]),e("div",Y,[e("div",{class:u([b.value,"h-2 rounded-full transition-all duration-300"]),style:B({width:`${t.contrato.porcentaje_transcurrido}%`})},null,6)])])):c("",!0),e("div",Z,[s(o(p),{variant:"outline",class:"text-xs"},{default:n(()=>[s(o(E),{class:"h-3 w-3 mr-1"}),m(" "+a(t.contrato.tipo),1)]),_:1}),t.showActions?(i(),l("div",tt,[s(o(g),{size:"sm",variant:"ghost",onClick:r[0]||(r[0]=w=>t.$inertia.get(`/admin/contratos/${t.contrato.id}`))},{default:n(()=>[s(o(N),{class:"h-4 w-4"})]),_:1}),s(o(g),{size:"sm",variant:"ghost",onClick:r[1]||(r[1]=w=>t.$inertia.get(`/admin/contratos/${t.contrato.id}/edit`))},{default:n(()=>[s(o(A),{class:"h-4 w-4"})]),_:1})])):c("",!0)])]),_:1})]),_:1}))}});export{ut as _};
