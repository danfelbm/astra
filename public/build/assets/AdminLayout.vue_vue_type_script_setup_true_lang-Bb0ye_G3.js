import{u as D,_ as oe,a as ce,b as de,c as ue,d as pe,e as fe,L as me,S as q,f as he,g as be,h as ve,i as _e,j as ge}from"./useFlashMessages-DpsFm_CL.js";import{c as G,a as x,_ as ae,b as xe}from"./createLucideIcon-CdUYcD1o.js";import{d as v,i as h,b as f,Q as U,f as e,U as g,w as t,e as s,y as ye,g as p,n as w,m as r,c as M,a9 as O,aa as we,F as S,h as k,t as y,x as B,k as F,v as N,M as E,r as se,j as V,s as $e}from"./app-CIcuE56E.js";import{_ as ke,a as Ce,b as Se}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DjXyH0DH.js";import{O as H}from"./index-B250FkFy.js";import{_ as Me,a as Te,b as te,c as ie,d as ne,e as ze,f as W,g as J}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Df-DDrQV.js";import{C as Ae}from"./chevron-right-BWaDAISw.js";import{C as Be}from"./chevrons-up-down-Djh8iZFY.js";import{_ as Ie}from"./AppLogo.vue_vue_type_script_setup_true_lang-BdwzZaIx.js";import{F as Q,T as Pe,a as Ue}from"./target-CRr5y7c4.js";import{U as Z}from"./users-Dv4PfADe.js";import{S as je}from"./shield-Dg0q3WaS.js";import{V as K}from"./vote-DYetLuDy.js";import{F as Ee}from"./folder-open-Dk8PHrIL.js";import{S as X}from"./send-bqREL6SY.js";import{F as Y}from"./file-text-CXFkIWfL.js";import{B as Fe}from"./briefcase-fuXoLsil.js";import{C as Ve}from"./calendar-Cdg04Wl4.js";import{M as Le}from"./megaphone-Dt877yPb.js";import{U as qe}from"./user-check-BKKK32tP.js";import{C as Ne}from"./clipboard-list-DU9F4t3E.js";import{M as De}from"./mail-D33S6t7r.js";import{M as Ge}from"./message-square-Dba9Lr_A.js";import{E as He}from"./external-link-Dm5egPSa.js";import{P as Re}from"./panel-left-C_XXmozK.js";import{_ as A}from"./index-DIn4rQoT.js";import{C as Oe}from"./SelectValue.vue_vue_type_script_setup_true_lang-QHc75ruE.js";import{C as We}from"./check-B-Ov-yXN.js";import{_ as Je}from"./index-DQp1kWgI.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=G("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=G("MessagesSquareIcon",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=G("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),Ke={class:"flex h-full w-full flex-col"},Xe=["data-state","data-collapsible","data-variant","data-side"],Ye={"data-sidebar":"sidebar",class:"flex h-full w-full max-w-[256px] flex-col bg-sidebar text-sidebar-foreground group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},ea=v({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(a){const n=a,{isMobile:i,state:l,openMobile:u,setOpenMobile:_}=D();return(o,d)=>a.collapsible==="none"?(r(),h("div",U({key:0,class:e(x)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n.class)},o.$attrs),[g(o.$slots,"default")],16)):e(i)?(r(),f(oe,U({key:1,open:e(u)},o.$attrs,{"onUpdate:open":e(_)}),{default:t(()=>[s(ce,{"data-sidebar":"sidebar","data-mobile":"true",side:a.side,class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:ye({"--sidebar-width":e(de)})},{default:t(()=>[p("div",Ke,[g(o.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):(r(),h("div",{key:2,class:"group peer hidden md:block","data-state":e(l),"data-collapsible":e(l)==="collapsed"?a.collapsible:"","data-variant":a.variant,"data-side":a.side},[p("div",{class:w(e(x)("relative h-svh w-[256px] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","group-data-[collapsible=icon]:w-[64px]"))},null,2),p("div",U({class:e(x)("fixed inset-y-0 z-10 hidden h-svh w-[256px] transition-[left,right,width] duration-200 ease-linear md:flex overflow-hidden",a.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[-256px]":"right-0 group-data-[collapsible=offcanvas]:right-[-256px]","group-data-[collapsible=icon]:w-[64px]",a.variant!=="floating"&&a.variant!=="inset"?"group-data-[side=left]:border-r group-data-[side=right]:border-l":"",n.class)},o.$attrs),[p("div",Ye,[g(o.$slots,"default")])],16)],8,Xe))}}),aa=v({__name:"SidebarContent",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("div",{"data-sidebar":"content",class:w(e(x)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n.class))},[g(i.$slots,"default")],2))}}),sa=v({__name:"SidebarFooter",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("div",{"data-sidebar":"footer",class:w(e(x)("flex flex-col gap-2 p-2",n.class))},[g(i.$slots,"default")],2))}}),re=v({__name:"SidebarGroup",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("div",{"data-sidebar":"group",class:w(e(x)("relative flex w-full min-w-0 flex-col p-2",n.class))},[g(i.$slots,"default")],2))}}),ta=v({__name:"SidebarGroupContent",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("div",{"data-sidebar":"group-content",class:w(e(x)("w-full text-sm",n.class))},[g(i.$slots,"default")],2))}}),ia=v({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const n=a;return(i,l)=>(r(),f(e(H),{"data-sidebar":"group-label",as:a.as,"as-child":a.asChild,class:w(e(x)("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n.class))},{default:t(()=>[g(i.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),na=v({__name:"SidebarHeader",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("div",{"data-sidebar":"header",class:w(e(x)("flex flex-col gap-2 p-2",n.class))},[g(i.$slots,"default")],2))}}),L=v({__name:"SidebarMenu",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("ul",{"data-sidebar":"menu",class:w(e(x)("flex w-full min-w-0 flex-col gap-1",n.class))},[g(i.$slots,"default")],2))}}),ee=v({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(a){const n=a;return(i,l)=>(r(),f(e(H),U({"data-sidebar":"menu-button","data-size":a.size,"data-active":a.isActive,class:e(x)(e(da)({variant:a.variant,size:a.size}),n.class),as:a.as,"as-child":a.asChild},i.$attrs),{default:t(()=>[g(i.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),I=v({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(a){const n=a,{isMobile:i,state:l}=D(),u=M(()=>{const{tooltip:_,...o}=n;return o});return(_,o)=>a.tooltip?(r(),f(ke,{key:1},{default:t(()=>[s(Ce,{"as-child":""},{default:t(()=>[s(ee,O(we({...u.value,..._.$attrs})),{default:t(()=>[g(_.$slots,"default")]),_:3},16)]),_:3}),s(Se,{side:"right",align:"center",hidden:e(l)!=="collapsed"||e(i)},{default:t(()=>[typeof a.tooltip=="string"?(r(),h(S,{key:0},[k(y(a.tooltip),1)],64)):(r(),f(B(a.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(r(),f(ee,O(U({key:0},{...u.value,..._.$attrs})),{default:t(()=>[g(_.$slots,"default")]),_:3},16))}}),j=v({__name:"SidebarMenuItem",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("li",{"data-sidebar":"menu-item",class:w(e(x)("group/menu-item relative overflow-hidden",n.class))},[g(i.$slots,"default")],2))}}),ra=v({__name:"SidebarMenuSub",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("ul",{"data-sidebar":"menu-sub",class:w(e(x)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5 overflow-hidden","group-data-[collapsible=icon]:hidden",n.class))},[g(i.$slots,"default")],2))}}),la=v({__name:"SidebarMenuSubButton",props:{asChild:{type:Boolean},as:{default:"a"},size:{default:"md"},isActive:{type:Boolean},class:{}},setup(a){const n=a;return(i,l)=>(r(),f(e(H),{"data-sidebar":"menu-sub-button",as:a.as,"as-child":a.asChild,"data-size":a.size,"data-active":a.isActive,class:w(e(x)("flex h-7 w-full min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>span:last-child]:min-w-0 [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a.size==="sm"&&"text-xs",a.size==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n.class))},{default:t(()=>[g(i.$slots,"default")]),_:3},8,["as","as-child","data-size","data-active","class"]))}}),oa=v({__name:"SidebarMenuSubItem",props:{class:{}},setup(a){const n=a;return(i,l)=>(r(),h("li",{class:w(e(x)("min-w-0 overflow-hidden",n.class))},[g(i.$slots,"default")],2))}}),ca=v({__name:"SidebarTrigger",props:{class:{}},setup(a){const n=a,{toggleSidebar:i}=D();return(l,u)=>(r(),f(ae,{"data-sidebar":"trigger",variant:"ghost",size:"icon",class:w(e(x)("h-7 w-7",n.class)),onClick:e(i)},{default:t(()=>[s(e(Re)),u[0]||(u[0]=p("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),da=xe("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ua=["href"],pa=v({__name:"NavFooter",props:{items:{},class:{}},setup(a){return(n,i)=>(r(),f(e(re),{class:w(`group-data-[collapsible=icon]:p-0 ${n.$props.class||""}`)},{default:t(()=>[s(e(ta),null,{default:t(()=>[s(e(L),null,{default:t(()=>[(r(!0),h(S,null,F(a.items,l=>(r(),f(e(j),{key:l.title},{default:t(()=>[l.isInternal?(r(),f(e(I),{key:0,class:"text-sidebar-foreground/70 hover:text-sidebar-foreground cursor-pointer","as-child":""},{default:t(()=>[s(e(N),{href:l.url||l.href},{default:t(()=>[(r(),f(B(l.icon))),p("span",null,y(l.title),1)]),_:2},1032,["href"])]),_:2},1024)):(r(),f(e(I),{key:1,class:"text-sidebar-foreground/70 hover:text-sidebar-foreground","as-child":""},{default:t(()=>[p("a",{href:l.href||l.url,target:"_blank",rel:"noopener noreferrer"},[(r(),f(B(l.icon))),p("span",null,y(l.title),1)],8,ua)]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["class"]))}}),fa={class:"block truncate flex-1 min-w-0"},ma=v({__name:"NavMain",props:{items:{}},setup(a){const n=a,i=E(),l=se({}),u=o=>o?i.url===o||i.url.startsWith(o+"/"):!1,_=o=>o.url&&u(o.url)?!0:o.items?o.items.some(d=>u(d.url)):!1;return n.items.forEach(o=>{o.isCollapsible&&_(o)&&(l.value[o.title]=!0)}),(o,d)=>(r(),f(e(re),{class:"px-2 py-0"},{default:t(()=>[s(e(ia),null,{default:t(()=>[...d[0]||(d[0]=[k("Sistema de Votaciones",-1)])]),_:1}),s(e(L),null,{default:t(()=>[(r(!0),h(S,null,F(a.items,b=>(r(),h(S,{key:b.title},[b.isCollapsible&&b.items?(r(),f(e(j),{key:0},{default:t(()=>[s(e(Me),{open:l.value[b.title],"onUpdate:open":c=>l.value[b.title]=c,"default-open":_(b)},{default:t(()=>[s(e(ue),{"as-child":""},{default:t(()=>[s(e(I),{class:"w-full","is-active":_(b)},{default:t(()=>[(r(),f(B(b.icon))),p("span",null,y(b.title),1),s(e(Ae),{class:w(["ml-auto transition-transform",{"rotate-90":l.value[b.title]}])},null,8,["class"])]),_:2},1032,["is-active"])]),_:2},1024),s(e(Te),null,{default:t(()=>[s(e(ra),null,{default:t(()=>[(r(!0),h(S,null,F(b.items,c=>(r(),f(e(oa),{key:c.title},{default:t(()=>[s(e(la),{"as-child":"","is-active":u(c.url)},{default:t(()=>[s(e(N),{href:c.url,class:"flex items-center gap-2 w-full min-w-0 overflow-hidden"},{default:t(()=>[(r(),f(B(c.icon),{class:"h-4 w-4 shrink-0"})),p("span",fa,y(c.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["open","onUpdate:open","default-open"])]),_:2},1024)):(r(),f(e(j),{key:1},{default:t(()=>[s(e(I),{"as-child":"","is-active":u(b.url)},{default:t(()=>[s(e(N),{href:b.url},{default:t(()=>[(r(),f(B(b.icon))),p("span",null,y(b.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))],64))),128))]),_:1})]),_:1}))}}),ha=v({__name:"NavUser",setup(a){const i=E().props.auth.user;return(l,u)=>(r(),f(e(L),null,{default:t(()=>[s(e(j),null,{default:t(()=>[s(e(te),null,{default:t(()=>[s(e(ie),{"as-child":""},{default:t(()=>[s(e(I),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:t(()=>[s(pe,{user:e(i)},null,8,["user"]),s(e(Be),{class:"ml-auto size-4"})]),_:1})]),_:1}),s(e(ne),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"bottom",align:"end","side-offset":4},{default:t(()=>[s(fe,{user:e(i)},null,8,["user"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),ba=v({__name:"AppSidebar",setup(a){const n=E(),i=n.props.auth.user;n.props.auth.roles;const l=n.props.auth.permissions||[],u=n.props.auth.allowedModules||[],_=n.props.auth.isSuperAdmin||!1;n.props.auth.isAdmin;const o=n.props.auth.hasAdministrativeRole||!1,d=m=>_?!0:l.includes(m)||l.includes("*"),b=()=>_,c=m=>_||u.includes("*")?!0:u.includes(m),R=M(()=>{const m=[];if(m.push({title:"Dashboard",url:o?"/admin/dashboard":"/miembro/dashboard",icon:me}),b()&&(m.push({title:"Tenants",url:"/admin/tenants",icon:P}),m.push({title:"Territorios",url:"/admin/territorios",icon:Q}),m.push({title:"Configuración Global",url:"/admin/configuracion-global",icon:q})),o&&!b()){d("users.view")&&c("users")&&m.push({title:"Usuarios",url:"/admin/usuarios",icon:Z}),d("segments.view")&&c("segments")&&m.push({title:"Segmentos",url:"/admin/segments",icon:Pe}),d("roles.view")&&c("roles")&&m.push({title:"Roles y Permisos",url:"/admin/roles",icon:je});const C=[];d("formularios.view")&&c("formularios")&&C.push({title:"Formularios",url:"/admin/formularios",icon:Y}),C.length>0&&m.push({title:"CRM",icon:Ze,isCollapsible:!0,items:C});const $=[];d("cargos.view")&&c("cargos")&&$.push({title:"Cargos",url:"/admin/cargos",icon:Fe}),d("periodos.view")&&c("periodos")&&$.push({title:"Periodos Electorales",url:"/admin/periodos-electorales",icon:Ve}),d("convocatorias.view")&&c("convocatorias")&&$.push({title:"Convocatorias",url:"/admin/convocatorias",icon:Le}),d("candidaturas.view")&&c("candidaturas")&&$.push({title:"Candidaturas",url:"/admin/candidaturas",icon:qe}),d("postulaciones.view")&&c("postulaciones")&&$.push({title:"Postulaciones",url:"/admin/postulaciones",icon:Ne}),$.length>0&&m.push({title:"Elecciones",icon:K,isCollapsible:!0,items:$}),d("asambleas.view")&&c("asambleas")&&m.push({title:"Asambleas",url:"/admin/asambleas",icon:Z}),d("votaciones.view")&&c("votaciones")&&m.push({title:"Votaciones",url:"/admin/votaciones",icon:K});const T=[];d("proyectos.view")&&c("proyectos")&&T.push({title:"Proyectos",url:"/admin/proyectos",icon:Q}),d("proyectos.manage_fields")&&c("proyectos")&&T.push({title:"Campos Personalizados",url:"/admin/campos-personalizados",icon:q}),d("categorias_etiquetas.view")&&c("proyectos")&&T.push({title:"Categorías de Etiquetas",url:"/admin/categorias-etiquetas",icon:Ue}),d("contratos.view")&&c("proyectos")&&T.push({title:"Contratos",url:"/admin/contratos",icon:Y}),T.length>0&&m.push({title:"Proyectos",icon:Ee,isCollapsible:!0,items:T});const z=[];d("campanas.plantillas.view")&&(z.push({title:"Plantillas Email",url:"/admin/campanas/plantillas-email",icon:De}),z.push({title:"Plantillas WhatsApp",url:"/admin/campanas/plantillas-whatsapp",icon:Ge})),d("campanas.view")&&(z.push({title:"Campañas",url:"/admin/campanas",icon:X}),z.push({title:"Grupos WhatsApp",url:"/admin/whatsapp-groups",icon:Qe})),z.length>0&&m.push({title:"Campañas",icon:X,isCollapsible:!0,items:z}),d("settings.view")&&m.push({title:"Configuración",url:"/admin/configuracion",icon:q})}return m}),le=M(()=>{var C;const m=[];return o&&((C=i==null?void 0:i.roles)!=null&&C.some($=>$.name==="user"))&&m.push({title:"Cambiar a Vista Usuario",url:"/miembro/dashboard",icon:He,isInternal:!0}),m});return(m,C)=>(r(),h(S,null,[s(e(ea),{collapsible:"icon",variant:"inset"},{default:t(()=>[s(e(na),null,{default:t(()=>[s(e(L),null,{default:t(()=>[s(e(j),null,{default:t(()=>[s(e(I),{size:"lg"},{default:t(()=>[s(Ie)]),_:1})]),_:1})]),_:1})]),_:1}),s(e(aa),null,{default:t(()=>[s(ma,{items:R.value},null,8,["items"])]),_:1}),s(e(sa),null,{default:t(()=>[s(pa,{items:le.value},null,8,["items"]),s(ha)]),_:1})]),_:1}),g(m.$slots,"default")],64))}}),va={key:0,class:"flex items-center gap-2"},_a={class:"flex flex-col items-start text-left"},ga={class:"text-sm font-medium"},xa={class:"flex items-center gap-1"},ya={class:"flex items-center justify-between"},wa={key:0,class:"max-h-60 overflow-y-auto"},$a={class:"flex items-start gap-3 flex-1"},ka={class:"mt-1"},Ca={class:"flex-1"},Sa={class:"font-medium text-sm"},Ma={class:"text-xs text-muted-foreground"},Ta={class:"flex items-center gap-1 mt-1"},za={key:0,class:"mt-1"},Aa={key:1,class:"p-3 text-sm text-muted-foreground text-center"},Ba={href:"/admin/tenants",class:"flex items-center gap-2"},Ia={key:1,class:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg"},Pa={class:"flex flex-col text-left"},Ua={class:"text-sm font-medium"},ja=v({__name:"TenantSelector",props:{currentTenant:{},availableTenants:{},isSuperAdmin:{type:Boolean}},setup(a){const n=a,i=se(!1),l=M(()=>n.currentTenant&&{basic:"secondary",professional:"default",enterprise:"destructive"}[n.currentTenant.subscription_plan]||"outline"),u=M(()=>n.currentTenant?{basic:"Básico",professional:"Profesional",enterprise:"Empresarial"}[n.currentTenant.subscription_plan]||n.currentTenant.subscription_plan:""),_=async o=>{if(!(!n.isSuperAdmin||i.value)){i.value=!0;try{await $e.post("/admin/tenants/switch",{tenant_id:o},{preserveState:!0,onFinish:()=>{i.value=!1,window.location.reload()},onError:()=>{i.value=!1}})}catch(d){console.error("Error switching tenant:",d),i.value=!1}}};return(o,d)=>a.isSuperAdmin&&a.currentTenant?(r(),h("div",va,[s(e(te),null,{default:t(()=>[s(e(ie),{asChild:""},{default:t(()=>[s(e(ae),{variant:"ghost",class:"flex items-center gap-2 h-auto py-2 px-3"},{default:t(()=>[s(e(P),{class:"h-4 w-4"}),p("div",_a,[p("span",ga,y(a.currentTenant.name),1),p("div",xa,[s(e(A),{variant:l.value,class:"text-xs px-1 py-0"},{default:t(()=>[k(y(u.value),1)]),_:1},8,["variant"]),s(e(A),{variant:a.currentTenant.active?"default":"secondary",class:"text-xs px-1 py-0"},{default:t(()=>[k(y(a.currentTenant.active?"Activo":"Inactivo"),1)]),_:1},8,["variant"])])]),s(e(Oe),{class:"h-4 w-4 opacity-50"})]),_:1})]),_:1}),s(e(ne),{align:"end",class:"w-80"},{default:t(()=>{var b;return[s(e(ze),null,{default:t(()=>[p("div",ya,[d[1]||(d[1]=p("span",null,"Cambiar Organización",-1)),s(e(A),{variant:"outline",class:"text-xs"},{default:t(()=>[...d[0]||(d[0]=[k(" Super Admin ",-1)])]),_:1})])]),_:1}),s(e(W)),(b=a.availableTenants)!=null&&b.length?(r(),h("div",wa,[(r(!0),h(S,null,F(a.availableTenants,c=>(r(),f(e(J),{key:c.id,onClick:R=>_(c.id),disabled:i.value||c.id===a.currentTenant.id,class:"flex items-start justify-between p-3 cursor-pointer"},{default:t(()=>[p("div",$a,[p("div",ka,[s(e(P),{class:"h-4 w-4 text-muted-foreground"})]),p("div",Ca,[p("p",Sa,y(c.name),1),p("p",Ma,y(c.subdomain),1),p("div",Ta,[s(e(A),{variant:c.subscription_plan==="enterprise"?"destructive":c.subscription_plan==="professional"?"default":"secondary",class:"text-xs px-1 py-0"},{default:t(()=>[k(y(c.subscription_plan),1)]),_:2},1032,["variant"]),s(e(A),{variant:c.active?"default":"secondary",class:"text-xs px-1 py-0"},{default:t(()=>[k(y(c.active?"Activo":"Inactivo"),1)]),_:2},1032,["variant"])])]),c.id===a.currentTenant.id?(r(),h("div",za,[s(e(We),{class:"h-4 w-4 text-primary"})])):V("",!0)])]),_:2},1032,["onClick","disabled"]))),128))])):(r(),h("div",Aa," No hay otros tenants disponibles ")),s(e(W)),s(e(J),{asChild:""},{default:t(()=>[p("a",Ba,[s(e(P),{class:"h-4 w-4"}),d[2]||(d[2]=k(" Gestionar Tenants ",-1))])]),_:1})]}),_:1})]),_:1})])):a.currentTenant?(r(),h("div",Ia,[s(e(P),{class:"h-4 w-4 text-muted-foreground"}),p("div",Pa,[p("span",Ua,y(a.currentTenant.name),1),s(e(A),{variant:l.value,class:"text-xs w-fit"},{default:t(()=>[k(y(u.value),1)]),_:1},8,["variant"])])])):V("",!0)}}),Ea={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-border px-3 sm:px-6 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 md:px-4"},Fa={class:"flex items-center gap-2 flex-1 min-w-0"},Va={class:"flex items-center gap-4 shrink-0"},La=v({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]}},setup(a){var _,o;const n=E();n.props.auth.user;const i=n.props.auth.isSuperAdmin||!1,l=(_=n.props.tenant)==null?void 0:_.current,u=(o=n.props.tenant)==null?void 0:o.available;return(d,b)=>(r(),h("header",Ea,[p("div",Fa,[s(e(ca),{class:"-ml-1 shrink-0"}),a.breadcrumbs.length>0?(r(),f(e(he),{key:0,items:a.breadcrumbs,class:"flex-1 min-w-0"},null,8,["items"])):V("",!0)]),p("div",Va,[s(ja,{isSuperAdmin:e(i),currentTenant:e(l),availableTenants:e(u)},null,8,["isSuperAdmin","currentTenant","availableTenants"])])]))}}),hs=v({__name:"AdminLayout",props:{breadcrumbs:{default:()=>[]}},setup(a){const n=E(),i=M(()=>{var u;return(u=n.props.auth)==null?void 0:u.user});be();const l=M(()=>i.value?!i.value.nombre||!i.value.documento_identidad||!i.value.territorio_id||!i.value.departamento_id||!i.value.municipio_id||!i.value.telefono:!1);return(u,_)=>(r(),f(ge,{variant:"sidebar"},{default:t(()=>[s(ba),s(ve,{variant:"sidebar"},{default:t(()=>[s(La,{breadcrumbs:a.breadcrumbs},null,8,["breadcrumbs"]),g(u.$slots,"default")]),_:3}),l.value&&!u.$page.url.startsWith("/admin/usuarios")?(r(),f(_e,{key:0,show:!1})):V("",!0),s(e(Je),{duration:6e3,"rich-colors":"","close-button":""})]),_:3}))}});export{P as B,hs as _};
