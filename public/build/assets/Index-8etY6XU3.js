import{d as R,k,a as u,o as n,b as s,u as e,m as X,e as t,f as o,g as i,A as Y,t as d,i as m,F as b,r as V,j as C,n as p,P as L,W as Z}from"./app-CirNizQj.js";import{a as f,C as N,U as ee,_ as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-BmAYuZlb.js";import{_ as P}from"./AppLogo.vue_vue_type_script_setup_true_lang-NRMucCFh.js";import{_ as y,a as h}from"./CardContent.vue_vue_type_script_setup_true_lang-BJBpkIUo.js";import{_ as T,a as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-BtS_RhrN.js";import{_ as te}from"./Input.vue_vue_type_script_setup_true_lang-C4ZIs3_M.js";import{_ as S,a as H,b as z,c as D,d as c}from"./SelectValue.vue_vue_type_script_setup_true_lang-DIL0h1pW.js";import{_ as ae,a as le,b as q,c as I}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BRiXWdMQ.js";import{S as K}from"./search-BQN0QXEf.js";import{E as oe}from"./eye-DaCvvVbZ.js";import{C as re}from"./clock-BcXlQKvV.js";import{M as A}from"./map-pin-DRpw-byl.js";import{C as ie}from"./circle-check-big-QTePR7PN.js";import{f as O,e as W}from"./es-DfN3vIXC.js";import"./index-DSiUnYxm.js";import"./index-BnDWf2ZJ.js";import"./usePrimitiveElement-BltmeUoo.js";import"./createContext-Cdt0UC3Z.js";import"./Collection-CYfMil3H.js";import"./useForwardExpose-DR3OS9Yu.js";import"./useNonce--lBE5Vxj.js";import"./chevron-up-BK4TsHD8.js";import"./handleAndDispatchCustomEvent-CYpUamdb.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-CmjSmtz9.js";import"./VisuallyHidden-D2B7K860.js";import"./RovingFocusItem-D8xxWxa9.js";const de={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ne={class:"grid gap-4 md:grid-cols-4"},ue={class:"relative"},me={class:"flex gap-2"},ce={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},pe={class:"flex items-start justify-between"},fe={class:"space-y-1"},_e={class:"flex gap-2"},ge={key:0,class:"text-sm text-muted-foreground line-clamp-2"},xe={class:"space-y-2 text-sm"},ve={class:"flex items-center gap-2"},be={class:"flex items-center gap-2"},ye={key:0,class:"flex items-center gap-2"},he={class:"line-clamp-1"},we={key:1,class:"pt-2 border-t"},ke={class:"flex items-center justify-between"},Ce={class:"pt-2 text-sm font-medium"},$e={key:0,class:"col-span-full"},Ve={key:0,class:"mt-6 flex items-center justify-between"},Pe={class:"text-sm text-muted-foreground"},Te={class:"flex gap-2"},Me=["innerHTML"],Ae={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},Be={class:"space-y-1"},Ee={class:"flex gap-2"},Ue={key:0,class:"text-sm text-muted-foreground line-clamp-2"},Fe={class:"space-y-2 text-sm"},je={class:"flex items-center gap-2"},Le={key:0,class:"flex items-center gap-2"},Ne={class:"line-clamp-2"},Se={key:0,class:"col-span-full"},cs=R({__name:"Index",props:{asambleas:{},asambleasPublicas:{},filters:{}},setup(Q){const $=Q,G=[{title:"Inicio",href:"/dashboard"},{title:"Asambleas",href:"/asambleas"}],{route:B}=window,_=k($.filters.search||""),g=k($.filters.estado||"all"),x=k($.filters.tipo||"all"),E=k("mis-asambleas"),U=r=>r?O(new Date(r),"PPP",{locale:W}):"",F=r=>r?O(new Date(r),"p",{locale:W}):"",v=()=>{const r={};_.value&&(r.search=_.value),g.value!=="all"&&(r.estado=g.value),x.value!=="all"&&(r.tipo=x.value),Z.get(B("asambleas.index"),r,{preserveState:!0,preserveScroll:!0})},J=()=>{_.value="",g.value="all",x.value="all",v()},j=r=>{switch(r){case"moderador":return{class:"bg-purple-100 text-purple-800",text:"Moderador"};case"secretario":return{class:"bg-blue-100 text-blue-800",text:"Secretario"};default:return{class:"bg-gray-100 text-gray-800",text:"Asistente"}}},w=r=>r==="ordinaria"?{class:"bg-blue-100 text-blue-800",text:"Ordinaria"}:{class:"bg-purple-100 text-purple-800",text:"Extraordinaria"};return(r,l)=>(n(),u(b,null,[s(e(X),{title:"Asambleas"}),s(se,{breadcrumbs:G},{default:t(()=>[o("div",de,[l[21]||(l[21]=o("div",null,[o("h1",{class:"text-3xl font-bold"},"Asambleas"),o("p",{class:"text-muted-foreground"}," Consulta las asambleas donde participas y las disponibles en tu territorio ")],-1)),s(e(y),null,{default:t(()=>[s(e(T),null,{default:t(()=>[s(e(M),null,{default:t(()=>l[4]||(l[4]=[i("Filtros")])),_:1})]),_:1}),s(e(h),null,{default:t(()=>[o("div",ne,[o("div",ue,[s(e(K),{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s(e(te),{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=a=>_.value=a),placeholder:"Buscar por nombre...",class:"pl-8",onKeyup:Y(v,["enter"])},null,8,["modelValue"])]),s(e(S),{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=a=>g.value=a),"onUpdate:value":v},{default:t(()=>[s(e(H),null,{default:t(()=>[s(e(z),{placeholder:"Estado"})]),_:1}),s(e(D),null,{default:t(()=>[s(e(c),{value:"all"},{default:t(()=>l[5]||(l[5]=[i("Todos los estados")])),_:1}),s(e(c),{value:"programada"},{default:t(()=>l[6]||(l[6]=[i("Programada")])),_:1}),s(e(c),{value:"en_curso"},{default:t(()=>l[7]||(l[7]=[i("En Curso")])),_:1}),s(e(c),{value:"finalizada"},{default:t(()=>l[8]||(l[8]=[i("Finalizada")])),_:1}),s(e(c),{value:"cancelada"},{default:t(()=>l[9]||(l[9]=[i("Cancelada")])),_:1})]),_:1})]),_:1},8,["modelValue"]),s(e(S),{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=a=>x.value=a),"onUpdate:value":v},{default:t(()=>[s(e(H),null,{default:t(()=>[s(e(z),{placeholder:"Tipo"})]),_:1}),s(e(D),null,{default:t(()=>[s(e(c),{value:"all"},{default:t(()=>l[10]||(l[10]=[i("Todos los tipos")])),_:1}),s(e(c),{value:"ordinaria"},{default:t(()=>l[11]||(l[11]=[i("Ordinaria")])),_:1}),s(e(c),{value:"extraordinaria"},{default:t(()=>l[12]||(l[12]=[i("Extraordinaria")])),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",me,[s(e(P),{onClick:v},{default:t(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),l[13]||(l[13]=i(" Buscar "))]),_:1}),s(e(P),{variant:"outline",onClick:J},{default:t(()=>l[14]||(l[14]=[i(" Limpiar ")])),_:1})])])]),_:1})]),_:1}),s(e(ae),{modelValue:E.value,"onUpdate:modelValue":l[3]||(l[3]=a=>E.value=a),class:"flex-1"},{default:t(()=>[s(e(le),null,{default:t(()=>[s(e(q),{value:"mis-asambleas"},{default:t(()=>[i(" Mis Asambleas ("+d(r.asambleas.total)+") ",1)]),_:1}),s(e(q),{value:"asambleas-publicas"},{default:t(()=>[i(" Asambleas de mi Territorio ("+d(r.asambleasPublicas.length)+") ",1)]),_:1})]),_:1}),s(e(I),{value:"mis-asambleas",class:"mt-4"},{default:t(()=>[o("div",ce,[(n(!0),u(b,null,V(r.asambleas.data,a=>(n(),C(e(y),{key:a.id},{default:t(()=>[s(e(T),null,{default:t(()=>[o("div",pe,[o("div",fe,[s(e(M),{class:"text-lg"},{default:t(()=>[i(d(a.nombre),1)]),_:2},1024),o("div",_e,[s(e(f),{class:p(a.estado_color)},{default:t(()=>[i(d(a.estado_label),1)]),_:2},1032,["class"]),s(e(f),{class:p(w(a.tipo).class)},{default:t(()=>[i(d(w(a.tipo).text),1)]),_:2},1032,["class"])])]),s(e(L),{href:e(B)("asambleas.show",a.id)},{default:t(()=>[s(e(P),{variant:"ghost",size:"sm"},{default:t(()=>[s(e(oe),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])])]),_:2},1024),s(e(h),{class:"space-y-4"},{default:t(()=>[a.descripcion?(n(),u("p",ge,d(a.descripcion),1)):m("",!0),o("div",xe,[o("div",ve,[s(e(N),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,d(U(a.fecha_inicio)),1)]),o("div",be,[s(e(re),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,d(F(a.fecha_inicio))+" - "+d(F(a.fecha_fin)),1)]),a.lugar?(n(),u("div",ye,[s(e(A),{class:"h-4 w-4 text-muted-foreground"}),o("span",he,d(a.lugar),1)])):m("",!0)]),a.mi_participacion?(n(),u("div",we,[o("div",ke,[s(e(f),{class:p(j(a.mi_participacion.tipo).class)},{default:t(()=>[i(d(j(a.mi_participacion.tipo).text),1)]),_:2},1032,["class"]),a.mi_participacion.asistio?(n(),C(e(f),{key:0,class:"bg-green-100 text-green-800"},{default:t(()=>[s(e(ie),{class:"mr-1 h-3 w-3"}),l[15]||(l[15]=i(" Asististe "))]),_:1})):m("",!0)])])):m("",!0),o("div",Ce,d(a.tiempo_restante),1)]),_:2},1024)]),_:2},1024))),128)),r.asambleas.data.length===0?(n(),u("div",$e,[s(e(y),null,{default:t(()=>[s(e(h),{class:"flex flex-col items-center justify-center py-12"},{default:t(()=>[s(e(ee),{class:"h-12 w-12 text-muted-foreground mb-4"}),l[16]||(l[16]=o("p",{class:"text-lg font-medium text-muted-foreground"}," No tienes asambleas asignadas ",-1)),l[17]||(l[17]=o("p",{class:"text-sm text-muted-foreground mt-1"}," Cuando seas añadido como participante, aparecerán aquí ",-1))]),_:1})]),_:1})])):m("",!0)]),r.asambleas.last_page>1?(n(),u("div",Ve,[o("p",Pe," Mostrando "+d((r.asambleas.current_page-1)*r.asambleas.per_page+1)+" a "+d(Math.min(r.asambleas.current_page*r.asambleas.per_page,r.asambleas.total))+" de "+d(r.asambleas.total)+" asambleas ",1),o("div",Te,[(n(!0),u(b,null,V(r.asambleas.links,a=>(n(),u(b,{key:a.label},[a.url?(n(),C(e(L),{key:0,href:a.url,class:p(["px-3 py-1 text-sm border rounded",a.active?"bg-primary text-primary-foreground":"bg-background hover:bg-accent"]),innerHTML:a.label},null,8,["href","class","innerHTML"])):(n(),u("span",{key:1,class:p(["px-3 py-1 text-sm border rounded","bg-muted text-muted-foreground cursor-not-allowed"]),innerHTML:a.label},null,8,Me))],64))),128))])])):m("",!0)]),_:1}),s(e(I),{value:"asambleas-publicas",class:"mt-4"},{default:t(()=>[o("div",Ae,[(n(!0),u(b,null,V(r.asambleasPublicas,a=>(n(),C(e(y),{key:a.id},{default:t(()=>[s(e(T),null,{default:t(()=>[o("div",Be,[s(e(M),{class:"text-lg"},{default:t(()=>[i(d(a.nombre),1)]),_:2},1024),o("div",Ee,[s(e(f),{class:p(a.estado_color)},{default:t(()=>[i(d(a.estado_label),1)]),_:2},1032,["class"]),s(e(f),{class:p(w(a.tipo).class)},{default:t(()=>[i(d(w(a.tipo).text),1)]),_:2},1032,["class"])])])]),_:2},1024),s(e(h),{class:"space-y-4"},{default:t(()=>[a.descripcion?(n(),u("p",Ue,d(a.descripcion),1)):m("",!0),o("div",Fe,[o("div",je,[s(e(N),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,d(U(a.fecha_inicio)),1)]),a.lugar?(n(),u("div",Le,[s(e(A),{class:"h-4 w-4 text-muted-foreground"}),o("span",Ne,d(a.ubicacion_completa),1)])):m("",!0)]),l[18]||(l[18]=o("div",{class:"pt-2 border-t"},[o("p",{class:"text-sm text-muted-foreground"}," Asamblea pública de tu territorio ")],-1))]),_:2},1024)]),_:2},1024))),128)),r.asambleasPublicas.length===0?(n(),u("div",Se,[s(e(y),null,{default:t(()=>[s(e(h),{class:"flex flex-col items-center justify-center py-12"},{default:t(()=>[s(e(A),{class:"h-12 w-12 text-muted-foreground mb-4"}),l[19]||(l[19]=o("p",{class:"text-lg font-medium text-muted-foreground"}," No hay asambleas públicas en tu territorio ",-1)),l[20]||(l[20]=o("p",{class:"text-sm text-muted-foreground mt-1"}," Cuando se programen asambleas en tu ubicación, aparecerán aquí ",-1))]),_:1})]),_:1})])):m("",!0)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{cs as default};
