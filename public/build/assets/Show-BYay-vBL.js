import{_ as T}from"./UserLayout.vue_vue_type_script_setup_true_lang-BhgMeW85.js";import{d as A,i as n,e as i,f as r,u as s,p as F,w as a,g as o,b as x,j as m,P as _,h as d,t as l,q as N,n as v,F as w,k as I}from"./app-CNcf-zdV.js";import{_ as u,a as g,b as f,c as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-DhL5ChM3.js";import{_ as b}from"./createLucideIcon-DgLLtpTc.js";import{_ as C}from"./index-s_YMJFqv.js";import{_ as L}from"./Progress.vue_vue_type_script_setup_true_lang-CIVpzJ8O.js";import{E as M}from"./EtiquetaDisplay-BrbaTZWq.js";import{A as E}from"./arrow-left-qPIiRNis.js";import{S as $}from"./square-pen-Def0jsxb.js";import{F as R}from"./zap-B3vRugs_.js";import{a as U,T as G}from"./target-Bzh15SE9.js";import{C as P}from"./circle-alert-BWYDLxj9.js";import{C as j}from"./calendar-DAAYlVnm.js";import{C as H}from"./clock-Bv_E-7na.js";import{U as J}from"./user-DzTPpMzP.js";import{B as K,C as O}from"./circle-pause-w8dqj3kE.js";import{C as Q}from"./circle-check-big-CiofKZcV.js";import{C as W}from"./circle-play-CqHcPDjI.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-D8koaehi.js";import"./index-C53AKuaZ.js";import"./floating-ui.vue-g3wBdaGy.js";import"./x-arLKReWz.js";import"./Input.vue_vue_type_script_setup_true_lang-CXr4ucc6.js";import"./index-BfcJxwg-.js";import"./index-DoUjDw3v.js";import"./shield-Ds2U7D9u.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BBJrNP3L.js";import"./chevron-right-CoIj8tGl.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CS3Y7RjP.js";import"./VisuallyHidden-BMJ7uEAj.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Bt0xndJV.js";import"./check-N9bkD0I5.js";import"./nullish-CHIgUVhi.js";import"./Label.vue_vue_type_script_setup_true_lang-BFduy937.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-D-RM_gVc.js";import"./index-UZehIf0x.js";import"./map-pin-CODmF8A6.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Bowse19S.js";import"./square-check-big-Bm9Ph3yD.js";import"./file-text-VjUXoo3d.js";import"./users-BCniY5Uo.js";import"./folder-open-Bl1zn-Xz.js";import"./index-DraxJDKZ.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CxYPgAQ2.js";import"./trending-up-cr0lmCPe.js";import"./award-Bw1tM6WA.js";import"./hash-PJNBOiW2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"flex h-full flex-1 flex-col rounded-xl p-4"},Y={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Z={class:"flex items-center gap-4"},tt={class:"text-2xl font-bold text-gray-900 dark:text-white"},et={key:0,class:"text-gray-600 dark:text-gray-400 mt-1"},st={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ot={class:"lg:col-span-2 space-y-6"},rt={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},at={class:"flex items-center gap-3"},lt={class:"flex items-center gap-3"},it={key:0,class:"flex items-center gap-3"},nt={class:"space-y-2"},dt={class:"flex justify-between text-sm"},mt={class:"font-medium"},pt={key:1,class:"p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800"},ct={class:"flex items-center gap-2"},ut={class:"text-sm font-medium text-orange-900 dark:text-orange-100"},gt={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ft={class:"flex items-start gap-3"},yt={class:"font-medium"},xt={key:0,class:"flex items-start gap-3"},_t={class:"font-medium"},bt={key:0,class:"mt-4 pt-4 border-t flex items-center gap-3"},kt={class:"font-medium ml-2"},vt={class:"space-y-3"},ht={class:"text-sm text-gray-600 dark:text-gray-400"},wt={class:"font-medium text-right"},Ct={class:"space-y-6"},Et={key:0,class:"flex items-center gap-3"},$t={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},Pt={class:"font-medium"},jt={class:"text-xs text-gray-500"},Dt={key:1,class:"text-gray-500"},Vt={key:0},qt={class:"font-medium"},zt={class:"text-xs text-gray-500"},Bt={class:"text-sm"},je=A({__name:"Show",props:{proyecto:{},canEdit:{type:Boolean}},setup(D){const h=D,V=t=>({planificacion:G,en_progreso:W,pausado:O,completado:Q,cancelado:K})[t]||P,q=t=>({planificacion:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",en_progreso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pausado:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[t]||"bg-gray-100 text-gray-800",z=t=>({baja:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",media:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",alta:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critica:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[t]||"bg-gray-100 text-gray-800",c=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),B=t=>{if(!t)return null;const e=Math.ceil((new Date(t).getTime()-new Date().getTime())/(1e3*60*60*24));return e<0?{texto:`Vencido hace ${Math.abs(e)} días`,urgente:!0}:e===0?{texto:"Vence hoy",urgente:!0}:e===1?{texto:"Vence mañana",urgente:!0}:e<=7?{texto:`${e} días restantes`,urgente:!0}:{texto:`${e} días restantes`,urgente:!1}},p=h.proyecto.fecha_fin?B(h.proyecto.fecha_fin):null,S=t=>{if(!t.valor)return"-";switch(t.campo_personalizado.tipo){case"checkbox":return t.valor==="1"||t.valor===!0?"Sí":"No";case"date":return c(t.valor);default:return t.valor}};return(t,e)=>(i(),n(w,null,[r(s(F),{title:`Mi Proyecto: ${t.proyecto.nombre}`},null,8,["title"]),r(T,null,{default:a(()=>[o("div",X,[o("div",Y,[o("div",Z,[r(s(_),{href:"/miembro/mis-proyectos"},{default:a(()=>[r(s(b),{variant:"ghost",size:"sm"},{default:a(()=>[r(s(E),{class:"mr-2 h-4 w-4"}),e[0]||(e[0]=d(" Volver ",-1))]),_:1})]),_:1}),o("div",null,[o("h1",tt,l(t.proyecto.nombre),1),t.proyecto.descripcion?(i(),n("p",et,l(t.proyecto.descripcion),1)):m("",!0)])]),t.canEdit?(i(),x(s(_),{key:0,href:`/miembro/mis-proyectos/${t.proyecto.id}/edit`},{default:a(()=>[r(s(b),null,{default:a(()=>[r(s($),{class:"mr-2 h-4 w-4"}),e[1]||(e[1]=d(" Editar Proyecto ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),o("div",st,[o("div",ot,[r(s(u),null,{default:a(()=>[r(s(g),null,{default:a(()=>[r(s(f),null,{default:a(()=>[...e[2]||(e[2]=[d("Estado del Proyecto",-1)])]),_:1})]),_:1}),r(s(y),{class:"space-y-4"},{default:a(()=>[o("div",rt,[o("div",at,[(i(),x(N(V(t.proyecto.estado)),{class:"h-5 w-5 text-gray-500"})),e[3]||(e[3]=o("span",{class:"font-medium"},"Estado:",-1)),r(s(C),{class:v(q(t.proyecto.estado))},{default:a(()=>[d(l(t.proyecto.estado_label),1)]),_:1},8,["class"])]),o("div",lt,[r(s(R),{class:"h-5 w-5 text-gray-500"}),e[4]||(e[4]=o("span",{class:"font-medium"},"Prioridad:",-1)),r(s(C),{class:v(z(t.proyecto.prioridad))},{default:a(()=>[d(l(t.proyecto.prioridad_label),1)]),_:1},8,["class"])])]),t.proyecto.etiquetas&&t.proyecto.etiquetas.length>0?(i(),n("div",it,[r(s(U),{class:"h-5 w-5 text-gray-500"}),e[5]||(e[5]=o("span",{class:"font-medium"},"Etiquetas:",-1)),r(M,{etiquetas:t.proyecto.etiquetas,"max-visible":5,size:"sm"},null,8,["etiquetas"])])):m("",!0),o("div",nt,[o("div",dt,[e[6]||(e[6]=o("span",{class:"text-gray-600 dark:text-gray-400"},"Progreso del proyecto",-1)),o("span",mt,l(t.proyecto.porcentaje_completado)+"%",1)]),r(s(L),{value:t.proyecto.porcentaje_completado,class:"h-3"},null,8,["value"]),e[7]||(e[7]=o("p",{class:"text-xs text-gray-500"}," Calculado automáticamente según las fechas ",-1))]),s(p)&&s(p).urgente?(i(),n("div",pt,[o("div",ct,[r(s(P),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"}),o("span",ut,l(s(p).texto),1)])])):m("",!0)]),_:1})]),_:1}),r(s(u),null,{default:a(()=>[r(s(g),null,{default:a(()=>[r(s(f),null,{default:a(()=>[...e[8]||(e[8]=[d("Cronograma",-1)])]),_:1})]),_:1}),r(s(y),null,{default:a(()=>[o("div",gt,[o("div",ft,[r(s(j),{class:"h-5 w-5 text-gray-500 mt-0.5"}),o("div",null,[e[9]||(e[9]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de inicio",-1)),o("p",yt,l(c(t.proyecto.fecha_inicio)),1)])]),t.proyecto.fecha_fin?(i(),n("div",xt,[r(s(j),{class:"h-5 w-5 text-gray-500 mt-0.5"}),o("div",null,[e[10]||(e[10]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Fecha de fin",-1)),o("p",_t,l(c(t.proyecto.fecha_fin)),1),s(p)?(i(),n("p",{key:0,class:v(["text-xs mt-1",s(p).urgente?"text-orange-600":"text-gray-500"])},l(s(p).texto),3)):m("",!0)])])):m("",!0)]),t.proyecto.duracion_dias?(i(),n("div",bt,[r(s(H),{class:"h-5 w-5 text-gray-500"}),o("div",null,[e[11]||(e[11]=o("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Duración estimada:",-1)),o("span",kt,l(t.proyecto.duracion_dias)+" días",1)])])):m("",!0)]),_:1})]),_:1}),t.proyecto.campos_personalizados&&t.proyecto.campos_personalizados.length>0?(i(),x(s(u),{key:0},{default:a(()=>[r(s(g),null,{default:a(()=>[r(s(f),null,{default:a(()=>[...e[12]||(e[12]=[d("Información Adicional",-1)])]),_:1})]),_:1}),r(s(y),null,{default:a(()=>[o("div",vt,[(i(!0),n(w,null,I(t.proyecto.campos_personalizados,k=>(i(),n("div",{key:k.id,class:"flex justify-between py-2 border-b last:border-b-0"},[o("span",ht,l(k.campo_personalizado.nombre),1),o("span",wt,l(S(k)),1)]))),128))])]),_:1})]),_:1})):m("",!0)]),o("div",Ct,[r(s(u),null,{default:a(()=>[r(s(g),null,{default:a(()=>[r(s(f),null,{default:a(()=>[...e[13]||(e[13]=[d("Información del Proyecto",-1)])]),_:1})]),_:1}),r(s(y),{class:"space-y-4"},{default:a(()=>[o("div",null,[e[14]||(e[14]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Responsable",-1)),t.proyecto.responsable?(i(),n("div",Et,[o("div",$t,[r(s(J),{class:"h-5 w-5 text-gray-500"})]),o("div",null,[o("p",Pt,l(t.proyecto.responsable.name),1),o("p",jt,l(t.proyecto.responsable.email),1)])])):(i(),n("p",Dt,"Sin asignar"))]),t.proyecto.creador?(i(),n("div",Vt,[e[15]||(e[15]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Creado por",-1)),o("p",qt,l(t.proyecto.creador.name),1),o("p",zt,l(c(t.proyecto.created_at)),1)])):m("",!0),o("div",null,[e[16]||(e[16]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Última actualización",-1)),o("p",Bt,l(c(t.proyecto.updated_at)),1)])]),_:1})]),_:1}),r(s(u),null,{default:a(()=>[r(s(g),null,{default:a(()=>[r(s(f),null,{default:a(()=>[...e[17]||(e[17]=[d("Acciones",-1)])]),_:1})]),_:1}),r(s(y),{class:"space-y-2"},{default:a(()=>[r(s(_),{href:"/miembro/mis-proyectos",class:"block"},{default:a(()=>[r(s(b),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[r(s(E),{class:"mr-2 h-4 w-4"}),e[18]||(e[18]=d(" Volver al listado ",-1))]),_:1})]),_:1}),t.canEdit?(i(),x(s(_),{key:0,href:`/miembro/mis-proyectos/${t.proyecto.id}/edit`,class:"block"},{default:a(()=>[r(s(b),{variant:"outline",class:"w-full justify-start"},{default:a(()=>[r(s($),{class:"mr-2 h-4 w-4"}),e[19]||(e[19]=d(" Editar proyecto ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),_:1})]),_:1})])])])]),_:1})],64))}});export{je as default};
