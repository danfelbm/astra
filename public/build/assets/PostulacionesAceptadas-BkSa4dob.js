import{_ as B}from"./index-CMn-shes.js";import{c as F,_ as w}from"./createLucideIcon-CYGqxGZ-.js";import{a as L,b as S,c as q,_ as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-B6TzwI-a.js";import{_ as I}from"./CardDescription.vue_vue_type_script_setup_true_lang-CSFhE41I.js";import{_ as H,a as Q,b as k,c as f,d as R,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-CAJfCort.js";import{a as Z,_ as J}from"./index-BcdHKot4.js";import{_ as K}from"./AlertTitle.vue_vue_type_script_setup_true_lang-DztRimA-.js";import{_}from"./Skeleton.vue_vue_type_script_setup_true_lang-B_jhEsNf.js";import{_ as O,C as W}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-s9YqXbEX.js";import{d as X,k as g,c as Y,p as ee,a as u,o as c,b as a,f as o,u as e,m as te,e as s,g as l,j as b,i as C,t as d,F as ae,r as se,P as oe,q as le}from"./app-CWwwNt3G.js";import{u as ie}from"./useGeographicFilters-fkQJvBav.js";import{A as ne}from"./arrow-left-B8AI2Yl2.js";import{I as re}from"./info-Bmdoglfb.js";import{S as de}from"./search-BmbYlvIa.js";import{C as V}from"./circle-check-big-Df-ETKT6.js";import{U as ce}from"./users-DWOxtz6J.js";import{B as pe}from"./briefcase-FTzzlp-v.js";import{M as ue}from"./map-pin-BM1tyrfv.js";import{C as me}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-FMzhBrMz.js";import{f as fe,e as _e}from"./es-DfN3vIXC.js";import"./index-q0XNljsS.js";import"./Input.vue_vue_type_script_setup_true_lang-yj7-d7AZ.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-X-Ey77Ew.js";import"./VisuallyHidden-CC1T6Mtv.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-ut_BKIxz.js";import"./check-CQlGkbKe.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-DyYo1rpQ.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DLnEords.js";import"./calendar-m8SEPsWf.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-DJGKEhhi.js";import"./loader-circle-7wIscy8d.js";import"./trash-2-ByFXxmLQ.js";import"./plus-DmOsdfYz.js";import"./history-2GBjGqPe.js";import"./save-BNgeVFU2.js";import"./circle-alert-bRjx1fxm.js";import"./index-yoAtM8gA.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=F("AwardIcon",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=F("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=F("FileCheckIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),xe={class:"min-h-screen bg-gray-50"},he={class:"bg-white shadow-sm border-b"},ye={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},we={class:"flex items-start justify-between"},ke={class:"flex flex-col gap-4"},be={class:"flex items-center gap-3"},Ce={href:"/"},Fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},$e={class:"flex items-center justify-between"},Pe={key:0,class:"space-y-4"},Me={key:1,class:"overflow-x-auto"},Ae={class:"flex items-center gap-2"},Ne={class:"max-w-[200px]"},Be={class:"font-medium truncate"},Le={key:0,class:"flex items-center gap-1"},Se={class:"text-sm"},qe={key:1,class:"text-gray-400 text-sm"},ze={key:0,class:"flex items-center gap-1"},Ie={class:"text-sm"},Ve={key:1,class:"text-gray-400 text-sm"},je={class:"flex items-center gap-1"},Ue={class:"text-sm truncate max-w-[200px]"},De={class:"text-sm"},Ee={class:"flex flex-col items-center gap-2 text-muted-foreground"},Te={key:2,class:"mt-6 flex items-center justify-between"},Ge={class:"text-sm text-muted-foreground"},He={class:"flex gap-2"},Qe={class:"flex items-center gap-2"},Re={class:"text-sm"},Ze={class:"mt-6 text-center text-sm text-gray-500"},Je={class:"mt-1"},Lt=X({__name:"PostulacionesAceptadas",props:{filterFieldsConfig:{}},setup(U){const D=U,y=g([]),r=g({current_page:1,last_page:1,per_page:50,total:0,from:0,to:0}),v=g(!1),$=g({}),P=g(D.filterFieldsConfig||[]),M=ie({prefix:"users.",endpoints:{territorios:`${window.location.origin}/api/public/geographic/territorios`,departamentos:`${window.location.origin}/api/public/geographic/departamentos`,municipios:`${window.location.origin}/api/public/geographic/municipios`,localidades:`${window.location.origin}/api/public/geographic/localidades`}}),E=Y(()=>({fields:[...P.value||[],...M.generateFilterFields()],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre, cédula o convocatoria...",quickSearchFields:["users.name","users.documento_identidad","convocatorias.nombre"],maxNestingLevel:1,allowSaveFilters:!1})),A=i=>{if(!i)return"No disponible";try{return fe(new Date(i),"dd/MM/yyyy",{locale:_e})}catch{return i}},T=i=>{const t=[];return i.localidad&&t.push(i.localidad),i.municipio&&t.push(i.municipio),i.departamento&&t.push(i.departamento),i.territorio&&t.push(i.territorio),t.length>0?t.join(", "):"No especificada"},x=async(i={},t=1)=>{var n;v.value=!0;try{const h={...i,page:t},p=await le.get("/public-api/postulaciones-aceptadas",{params:h});y.value=p.data.postulaciones.data,r.value={current_page:p.data.postulaciones.current_page,last_page:p.data.postulaciones.last_page,per_page:p.data.postulaciones.per_page,total:p.data.postulaciones.total,from:p.data.postulaciones.from,to:p.data.postulaciones.to},p.data.filterFieldsConfig&&(P.value=p.data.filterFieldsConfig)}catch(h){console.error("Error cargando postulaciones:",h),((n=h.response)==null?void 0:n.status)===404&&(window.location.href="/")}finally{v.value=!1}},G=i=>{$.value=i,x(i,1)},N=i=>{x($.value,i)};return ee(async()=>{await M.initialize(),x()}),(i,t)=>(c(),u("div",null,[a(e(te),{title:"Postulaciones Aceptadas"}),o("div",xe,[o("div",he,[o("div",ye,[o("div",we,[o("div",ke,[o("div",be,[a(e(j),{class:"h-8 w-8 text-green-600"}),t[2]||(t[2]=o("h1",{class:"text-2xl font-bold text-gray-900"}," Postulaciones Aceptadas ",-1))]),t[3]||(t[3]=o("p",{class:"text-gray-600"}," Consulta pública de postulaciones aprobadas a convocatorias ",-1))]),o("a",Ce,[a(e(w),{variant:"outline",size:"sm"},{default:s(()=>[a(e(ne),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=l(" Volver al inicio "))]),_:1})])])])]),o("div",Fe,[a(e(J),{class:"mb-6"},{default:s(()=>[a(e(re),{class:"h-4 w-4"}),a(e(K),null,{default:s(()=>t[5]||(t[5]=[l("Información Pública")])),_:1}),a(e(Z),null,{default:s(()=>t[6]||(t[6]=[l(" Esta página muestra únicamente las postulaciones que han sido aceptadas. La información mostrada es de carácter público y cumple con las políticas de privacidad. ")])),_:1})]),_:1}),a(e(z),{class:"mb-6"},{default:s(()=>[a(e(L),null,{default:s(()=>[a(e(S),null,{default:s(()=>[a(e(de),{class:"inline-block mr-2 h-5 w-5"}),t[7]||(t[7]=l(" Filtros de Búsqueda "))]),_:1}),a(e(I),null,{default:s(()=>t[8]||(t[8]=[l(" Utiliza los filtros para encontrar postulaciones específicas ")])),_:1})]),_:1}),a(e(q),null,{default:s(()=>[a(O,{config:E.value,onApply:G,onClear:x},null,8,["config"])]),_:1})]),_:1}),a(e(z),null,{default:s(()=>[a(e(L),null,{default:s(()=>[o("div",$e,[o("div",null,[a(e(S),null,{default:s(()=>[a(e(V),{class:"inline-block mr-2 h-5 w-5 text-green-600"}),t[9]||(t[9]=l(" Listado de Postulaciones Aceptadas "))]),_:1}),v.value?C("",!0):(c(),b(e(I),{key:0},{default:s(()=>[l(d(r.value.total)+" "+d(r.value.total===1?"postulación encontrada":"postulaciones encontradas"),1)]),_:1}))]),a(e(B),{variant:"outline",class:"bg-green-50 text-green-700 border-green-300"},{default:s(()=>[a(e(V),{class:"h-3 w-3 mr-1"}),t[10]||(t[10]=l(" Todas Aceptadas "))]),_:1})])]),_:1}),a(e(q),null,{default:s(()=>[v.value?(c(),u("div",Pe,[a(e(_),{class:"h-12 w-full"}),a(e(_),{class:"h-12 w-full"}),a(e(_),{class:"h-12 w-full"}),a(e(_),{class:"h-12 w-full"}),a(e(_),{class:"h-12 w-full"})])):(c(),u("div",Me,[a(e(H),null,{default:s(()=>[a(e(Q),null,{default:s(()=>[a(e(k),null,{default:s(()=>[a(e(f),null,{default:s(()=>t[11]||(t[11]=[l("Postulante")])),_:1}),a(e(f),null,{default:s(()=>t[12]||(t[12]=[l("Convocatoria")])),_:1}),a(e(f),null,{default:s(()=>t[13]||(t[13]=[l("Cargo")])),_:1}),a(e(f),null,{default:s(()=>t[14]||(t[14]=[l("Periodo")])),_:1}),a(e(f),null,{default:s(()=>t[15]||(t[15]=[l("Ubicación")])),_:1}),a(e(f),{class:"text-center"},{default:s(()=>t[16]||(t[16]=[l("Fecha Postulación")])),_:1}),a(e(f),{class:"text-center"},{default:s(()=>t[17]||(t[17]=[l("Fecha Aceptación")])),_:1})]),_:1})]),_:1}),a(e(R),null,{default:s(()=>[(c(!0),u(ae,null,se(y.value,n=>(c(),b(e(k),{key:n.id},{default:s(()=>[a(e(m),{class:"font-medium"},{default:s(()=>[o("div",Ae,[a(e(ce),{class:"h-4 w-4 text-gray-400"}),l(" "+d(n.postulante.nombre),1)])]),_:2},1024),a(e(m),null,{default:s(()=>[o("div",Ne,[o("p",Be,d(n.convocatoria.nombre),1)])]),_:2},1024),a(e(m),null,{default:s(()=>[n.convocatoria.cargo?(c(),u("div",Le,[a(e(pe),{class:"h-4 w-4 text-gray-400"}),o("span",Se,d(n.convocatoria.cargo),1)])):(c(),u("span",qe,"No especificado"))]),_:2},1024),a(e(m),null,{default:s(()=>[n.convocatoria.periodo?(c(),u("div",ze,[a(e(ge),{class:"h-4 w-4 text-gray-400"}),o("span",Ie,d(n.convocatoria.periodo),1)])):(c(),u("span",Ve,"No especificado"))]),_:2},1024),a(e(m),null,{default:s(()=>[o("div",je,[a(e(ue),{class:"h-4 w-4 text-gray-400 flex-shrink-0"}),o("span",Ue,d(T(n.ubicacion)),1)])]),_:2},1024),a(e(m),{class:"text-center"},{default:s(()=>[o("span",De,d(A(n.fecha_postulacion)),1)]),_:2},1024),a(e(m),{class:"text-center"},{default:s(()=>[a(e(B),{variant:"outline",class:"bg-green-50 text-green-700 border-green-300"},{default:s(()=>[a(e(ve),{class:"h-3 w-3 mr-1"}),l(" "+d(A(n.fecha_aceptacion)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),y.value.length===0?(c(),b(e(k),{key:0},{default:s(()=>[a(e(m),{colspan:7,class:"text-center py-8"},{default:s(()=>[o("div",Ee,[a(e(j),{class:"h-8 w-8"}),t[18]||(t[18]=o("p",null,"No se encontraron postulaciones con los filtros aplicados",-1))])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})])),r.value.last_page>1?(c(),u("div",Te,[o("p",Ge," Mostrando "+d(r.value.from||0)+" a "+d(r.value.to||0)+" de "+d(r.value.total)+" postulaciones ",1),o("div",He,[a(e(w),{variant:"outline",size:"sm",disabled:r.value.current_page===1,onClick:t[0]||(t[0]=n=>N(r.value.current_page-1))},{default:s(()=>[a(e(W),{class:"h-4 w-4"}),t[19]||(t[19]=l(" Anterior "))]),_:1},8,["disabled"]),o("div",Qe,[o("span",Re," Página "+d(r.value.current_page)+" de "+d(r.value.last_page),1)]),a(e(w),{variant:"outline",size:"sm",disabled:r.value.current_page===r.value.last_page,onClick:t[1]||(t[1]=n=>N(r.value.current_page+1))},{default:s(()=>[t[20]||(t[20]=l(" Siguiente ")),a(e(me),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):C("",!0)]),_:1})]),_:1}),o("div",Ze,[t[24]||(t[24]=o("p",null,"La información mostrada es de carácter público y cumple con las políticas de privacidad.",-1)),o("p",Je,[t[22]||(t[22]=l(" Para más información sobre el proceso de postulación, ")),a(e(oe),{href:"/login",class:"text-blue-600 hover:underline"},{default:s(()=>t[21]||(t[21]=[l("inicie sesión")])),_:1}),t[23]||(t[23]=l(". "))])])])])]))}});export{Lt as default};
