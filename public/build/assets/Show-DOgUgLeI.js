import{j as u,q as G,_ as b,a as _,b as g,c as v,C as z,M as X,U as J,F as K,i as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-BiuZv-rN.js";import{_ as R}from"./AppLogo.vue_vue_type_script_setup_true_lang-Bn5oxIkJ.js";import{_ as Y}from"./CardDescription.vue_vue_type_script_setup_true_lang-1CVcEGN4.js";import{_ as Z,a as ee,b as V,c as y,d as ae,e as P}from"./TableHeader.vue_vue_type_script_setup_true_lang-nvIp4MsR.js";import{_ as k,a as $}from"./index-DPhBulJM.js";import{_ as C}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BM20_zIU.js";import{d as se,c as te,a as x,o,b as s,u as e,m as le,e as t,f as i,j as d,i as m,t as n,n as A,g as r,F as I,r as ie,W as re}from"./app-4t2VTe2f.js";import{A as ne}from"./arrow-left-BXfVMCfF.js";import{C as T}from"./circle-check-big-83S9W48o.js";import{I as N}from"./info-BYXpQdDX.js";import{C as U}from"./clock-CgW8ifdm.js";import{C as j}from"./circle-x-C8H1xdST.js";import{f as h,e as D}from"./es-DfN3vIXC.js";import"./Label.vue_vue_type_script_setup_true_lang-BkQa8lcw.js";import"./index-Cy6lZN_9.js";import"./VisuallyHidden-ZAUWImTZ.js";const oe={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ue={class:"flex items-center justify-between"},de={class:"text-3xl font-bold"},me={class:"mt-2 flex items-center gap-2"},fe={class:"mt-2 space-y-1"},pe={key:0},ce={key:1},be={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},_e={class:"space-y-3"},ge={class:"flex items-center gap-2 text-sm"},ve={class:"flex items-center gap-2 text-sm"},xe={class:"flex items-center gap-2 text-sm"},we={class:"flex items-center gap-2 text-sm"},ye={class:"pt-2 border-t"},Pe={class:"text-sm font-medium"},ke={class:"text-sm text-muted-foreground"},$e={class:"space-y-2"},Ce={key:0},Ae={class:"flex items-start gap-2 text-sm"},Te={class:"text-sm"},he={class:"space-y-3"},De={class:"flex items-center gap-2"},Be={class:"text-lg font-semibold"},Fe={class:"text-lg font-semibold"},Le={class:"text-sm whitespace-pre-wrap"},ze={class:"flex items-center justify-between"},Ve={key:0,class:"flex gap-2"},Ie=["href"],Ye=se({__name:"Show",props:{asamblea:{},esParticipante:{type:Boolean},esDesuTerritorio:{type:Boolean},miParticipacion:{},participantes:{}},setup(q){const f=q,E=[{title:"Inicio",href:"/dashboard"},{title:"Asambleas",href:"/asambleas"},{title:f.asamblea.nombre,href:"#"}],{route:M}=window,S=l=>l?h(new Date(l),"PPPp",{locale:D}):"",B=l=>l?h(new Date(l),"PPP",{locale:D}):"",F=l=>l?h(new Date(l),"p",{locale:D}):"",Q=l=>{switch(l){case"moderador":return"bg-purple-100 text-purple-800";case"secretario":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=l=>{switch(l){case"moderador":return"Moderador";case"secretario":return"Secretario";default:return"Asistente"}},w=te(()=>{if(!f.participantes)return null;const l=f.participantes.filter(c=>c.tipo_participacion==="moderador").length,a=f.participantes.filter(c=>c.tipo_participacion==="secretario").length,p=f.participantes.filter(c=>c.tipo_participacion==="asistente").length,W=f.participantes.filter(c=>c.asistio).length;return{moderadores:l,secretarios:a,asistentes:p,presentes:W,total:f.participantes.length}}),H=()=>{re.visit(M("asambleas.index"))};return(l,a)=>(o(),x(I,null,[s(e(le),{title:`Asamblea: ${l.asamblea.nombre}`},null,8,["title"]),s(O,{breadcrumbs:E},{default:t(()=>[i("div",oe,[i("div",ue,[i("div",null,[i("h1",de,n(l.asamblea.nombre),1),i("div",me,[s(e(u),{class:A(l.asamblea.estado_color)},{default:t(()=>[r(n(l.asamblea.estado_label),1)]),_:1},8,["class"]),s(e(u),{class:A(l.asamblea.tipo==="ordinaria"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800")},{default:t(()=>[r(n(l.asamblea.tipo_label),1)]),_:1},8,["class"]),l.esParticipante?(o(),d(e(u),{key:0,class:"bg-green-100 text-green-800"},{default:t(()=>[s(e(G),{class:"mr-1 h-3 w-3"}),a[0]||(a[0]=r(" Participante "))]),_:1})):m("",!0)])]),s(e(R),{variant:"outline",onClick:H},{default:t(()=>[s(e(ne),{class:"mr-2 h-4 w-4"}),a[1]||(a[1]=r(" Volver "))]),_:1})]),l.esParticipante&&l.miParticipacion?(o(),d(e(k),{key:0,class:"border-green-200"},{default:t(()=>[s(e(T),{class:"h-4 w-4 text-green-600"}),s(e(C),null,{default:t(()=>a[2]||(a[2]=[r("Tu Participación")])),_:1}),s(e($),null,{default:t(()=>[i("div",fe,[i("p",null,[a[3]||(a[3]=r("Estás registrado como ")),i("strong",null,n(L(l.miParticipacion.tipo)),1),a[4]||(a[4]=r(" en esta asamblea."))]),l.miParticipacion.asistio?(o(),x("p",pe," ✓ Asistencia confirmada el "+n(S(l.miParticipacion.hora_registro)),1)):l.asamblea.estado==="en_curso"?(o(),x("p",ce," La asamblea está en curso. Tu asistencia será registrada por el moderador. ")):m("",!0)])]),_:1})]),_:1})):l.esDesuTerritorio?(o(),d(e(k),{key:1,class:"border-blue-200"},{default:t(()=>[s(e(N),{class:"h-4 w-4 text-blue-600"}),s(e(C),null,{default:t(()=>a[5]||(a[5]=[r("Asamblea de tu Territorio")])),_:1}),s(e($),null,{default:t(()=>a[6]||(a[6]=[r(" Esta es una asamblea pública de tu territorio. Puedes ver la información general pero no la lista de participantes. ")])),_:1})]),_:1})):m("",!0),i("div",be,[s(e(b),null,{default:t(()=>[s(e(_),{class:"pb-3"},{default:t(()=>[s(e(g),{class:"text-sm font-medium"},{default:t(()=>a[7]||(a[7]=[r("Fechas y Horarios")])),_:1})]),_:1}),s(e(v),null,{default:t(()=>[i("div",_e,[i("div",null,[a[8]||(a[8]=i("p",{class:"text-xs text-muted-foreground"},"Inicio",-1)),i("div",ge,[s(e(z),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,n(B(l.asamblea.fecha_inicio)),1)]),i("div",ve,[s(e(U),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,n(F(l.asamblea.fecha_inicio)),1)])]),i("div",null,[a[9]||(a[9]=i("p",{class:"text-xs text-muted-foreground"},"Fin",-1)),i("div",xe,[s(e(z),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,n(B(l.asamblea.fecha_fin)),1)]),i("div",we,[s(e(U),{class:"h-4 w-4 text-muted-foreground"}),i("span",null,n(F(l.asamblea.fecha_fin)),1)])]),i("div",ye,[i("p",Pe,"Duración: "+n(l.asamblea.duracion),1),i("p",ke,n(l.asamblea.tiempo_restante),1)])])]),_:1})]),_:1}),s(e(b),null,{default:t(()=>[s(e(_),{class:"pb-3"},{default:t(()=>[s(e(g),{class:"text-sm font-medium"},{default:t(()=>a[10]||(a[10]=[r("Ubicación")])),_:1})]),_:1}),s(e(v),null,{default:t(()=>[i("div",$e,[l.asamblea.lugar?(o(),x("div",Ce,[a[11]||(a[11]=i("p",{class:"text-xs text-muted-foreground"},"Lugar",-1)),i("div",Ae,[s(e(X),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),i("span",null,n(l.asamblea.lugar),1)])])):m("",!0),i("div",null,[a[12]||(a[12]=i("p",{class:"text-xs text-muted-foreground"},"Ubicación Geográfica",-1)),i("p",Te,n(l.asamblea.ubicacion_completa),1)])])]),_:1})]),_:1}),s(e(b),null,{default:t(()=>[s(e(_),{class:"pb-3"},{default:t(()=>[s(e(g),{class:"text-sm font-medium"},{default:t(()=>a[13]||(a[13]=[r("Estado de la Asamblea")])),_:1})]),_:1}),s(e(v),null,{default:t(()=>[i("div",he,[i("div",null,[a[16]||(a[16]=i("p",{class:"text-xs text-muted-foreground"},"Quórum",-1)),i("div",De,[s(e(J),{class:"h-4 w-4 text-muted-foreground"}),i("span",Be,n(l.asamblea.asistentes_count)+" / "+n(l.asamblea.quorum_minimo||"∞"),1)]),l.asamblea.alcanza_quorum?(o(),d(e(u),{key:0,class:"mt-2 bg-green-100 text-green-800"},{default:t(()=>[s(e(T),{class:"mr-1 h-3 w-3"}),a[14]||(a[14]=r(" Quórum alcanzado "))]),_:1})):l.asamblea.quorum_minimo?(o(),d(e(u),{key:1,class:"mt-2 bg-yellow-100 text-yellow-800"},{default:t(()=>[s(e(j),{class:"mr-1 h-3 w-3"}),a[15]||(a[15]=r(" Quórum no alcanzado "))]),_:1})):m("",!0)]),i("div",null,[a[17]||(a[17]=i("p",{class:"text-xs text-muted-foreground"},"Total de participantes",-1)),i("p",Fe,n(l.asamblea.participantes_count),1)])])]),_:1})]),_:1})]),l.asamblea.descripcion?(o(),d(e(b),{key:2},{default:t(()=>[s(e(_),null,{default:t(()=>[s(e(g),null,{default:t(()=>a[18]||(a[18]=[r("Descripción")])),_:1})]),_:1}),s(e(v),null,{default:t(()=>[i("p",Le,n(l.asamblea.descripcion),1)]),_:1})]),_:1})):m("",!0),l.esParticipante&&l.participantes?(o(),d(e(b),{key:3},{default:t(()=>[s(e(_),null,{default:t(()=>[i("div",ze,[i("div",null,[s(e(g),null,{default:t(()=>a[19]||(a[19]=[r("Participantes")])),_:1}),s(e(Y),null,{default:t(()=>a[20]||(a[20]=[r(" Lista de participantes registrados en la asamblea ")])),_:1})]),w.value?(o(),x("div",Ve,[s(e(u),{variant:"outline"},{default:t(()=>[r(" Moderadores: "+n(w.value.moderadores),1)]),_:1}),s(e(u),{variant:"outline"},{default:t(()=>[r(" Secretarios: "+n(w.value.secretarios),1)]),_:1}),s(e(u),{variant:"outline"},{default:t(()=>[r(" Asistentes: "+n(w.value.asistentes),1)]),_:1}),s(e(u),{variant:"outline"},{default:t(()=>[r(" Presentes: "+n(w.value.presentes),1)]),_:1})])):m("",!0)])]),_:1}),s(e(v),null,{default:t(()=>[s(e(Z),null,{default:t(()=>[s(e(ee),null,{default:t(()=>[s(e(V),null,{default:t(()=>[s(e(y),null,{default:t(()=>a[21]||(a[21]=[r("Nombre")])),_:1}),s(e(y),null,{default:t(()=>a[22]||(a[22]=[r("Tipo de Participación")])),_:1}),s(e(y),null,{default:t(()=>a[23]||(a[23]=[r("Asistencia")])),_:1})]),_:1})]),_:1}),s(e(ae),null,{default:t(()=>[(o(!0),x(I,null,ie(l.participantes,p=>(o(),d(e(V),{key:p.id},{default:t(()=>[s(e(P),{class:"font-medium"},{default:t(()=>[r(n(p.name),1)]),_:2},1024),s(e(P),null,{default:t(()=>[s(e(u),{class:A(Q(p.tipo_participacion))},{default:t(()=>[r(n(L(p.tipo_participacion)),1)]),_:2},1032,["class"])]),_:2},1024),s(e(P),null,{default:t(()=>[p.asistio?(o(),d(e(u),{key:0,class:"bg-green-100 text-green-800"},{default:t(()=>[s(e(T),{class:"mr-1 h-3 w-3"}),a[24]||(a[24]=r(" Presente "))]),_:1})):l.asamblea.estado==="finalizada"?(o(),d(e(u),{key:1,class:"bg-red-100 text-red-800"},{default:t(()=>[s(e(j),{class:"mr-1 h-3 w-3"}),a[25]||(a[25]=r(" Ausente "))]),_:1})):(o(),d(e(u),{key:2,variant:"outline"},{default:t(()=>a[26]||(a[26]=[r(" Pendiente ")])),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):m("",!0),l.asamblea.acta_url&&(l.esParticipante||l.asamblea.estado==="finalizada")?(o(),d(e(b),{key:4},{default:t(()=>[s(e(_),null,{default:t(()=>[s(e(g),null,{default:t(()=>a[27]||(a[27]=[r("Documentos de la Asamblea")])),_:1})]),_:1}),s(e(v),null,{default:t(()=>[i("a",{href:l.asamblea.acta_url,target:"_blank",class:"inline-flex items-center gap-2 text-blue-600 hover:underline"},[s(e(K),{class:"h-4 w-4"}),a[28]||(a[28]=r(" Ver Acta de la Asamblea "))],8,Ie)]),_:1})]),_:1})):m("",!0),!l.esParticipante&&l.esDesuTerritorio?(o(),d(e(k),{key:5},{default:t(()=>[s(e(N),{class:"h-4 w-4"}),s(e(C),null,{default:t(()=>a[29]||(a[29]=[r("Información Limitada")])),_:1}),s(e($),null,{default:t(()=>a[30]||(a[30]=[r(" Como no eres participante registrado, solo puedes ver la información general de esta asamblea. Para participar, debes ser añadido por el administrador. ")])),_:1})]),_:1})):m("",!0)])]),_:1})],64))}});export{Ye as default};
