import{_ as B}from"./index-D9cSDYZw.js";import{c as be,_ as x}from"./createLucideIcon-CtoO_Kiv.js";import{_ as J,c as K}from"./CardTitle.vue_vue_type_script_setup_true_lang-l03Rvke8.js";import{_ as R}from"./Label.vue_vue_type_script_setup_true_lang-dAqUlvBp.js";import{_ as he,a as ye,b as G,c as k,d as ke,e as w}from"./TableHeader.vue_vue_type_script_setup_true_lang-RJeosXWc.js";import{a as X,b as Q,c as Y,_ as we}from"./AdminLayout.vue_vue_type_script_setup_true_lang-s8UCj-v6.js";import{d as H,i as m,j as b,e as i,g as t,F as L,k as D,b as h,u as s,W as le,w as a,G as Ce,H as $e,I as Se,J as Ee,r as v,m as Ae,c as je,f as o,p as Ne,h as l,P as Te,t as r,n as Pe}from"./app-MhRkZYda.js";import{_ as Me}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-GKXP10cl.js";import{e as Z,_ as ee,a as te,b as se,c as oe,d as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BtbY9BuF.js";import{_ as W}from"./Checkbox.vue_vue_type_script_setup_true_lang-CfSurkQy.js";import{H as qe}from"./index-CKzDzxRj.js";import{M as F}from"./mail-D2iFew9f.js";import{S as U}from"./send-B-3fqeSw.js";import{S as Fe}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-D128fxVw.js";import{I as Le}from"./info-Co3Y9UqI.js";import{U as Re}from"./user-check-TX_Nop_V.js";import{E as We}from"./eye-CSWGUBTC.js";import{E as Ie}from"./external-link-D5LXOYvq.js";import{C as ne}from"./circle-alert-Crskc4s_.js";import{M as re}from"./message-square-DqgXAPvJ.js";import"./index-D1N0p-74.js";import"./Input.vue_vue_type_script_setup_true_lang-BIqg1Ebh.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-ZZIvmMj6.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BqmWBxIU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-CLygI0q1.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-ZgmtTIfd.js";import"./chevrons-up-down-B_e-HSmn.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DoAxHmi0.js";import"./target-B9U4ycgp.js";import"./users-jwOqaBj3.js";import"./shield-C7We-wCE.js";import"./vote-BbOfLgcg.js";import"./folder-open-CJtFOPOB.js";import"./file-text-CSf3KGSt.js";import"./briefcase-BhQcV9fE.js";import"./calendar-G1jntOAT.js";import"./megaphone-l3pQSHwh.js";import"./panel-left-Bv2yObtj.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Cw5PJOxU.js";import"./VisuallyHidden-ClD0DDsS.js";import"./check-DIKoOxln.js";import"./floating-ui.vue-Jtid5Cir.js";import"./nullish-CHIgUVhi.js";import"./index-DhGDRjjN.js";import"./index-C4AhATEj.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-TWLMKxTH.js";import"./DialogTrigger-CwezgcQI.js";import"./useKbd-kRIii9yh.js";import"./chevron-left-DjWDS8D5.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-Bt1CH-vI.js";import"./es-nEe0wmoQ.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-bQI3aUMn.js";import"./loader-circle-Dpwo_WT3.js";import"./x-DDu6o8kn.js";import"./trash-2-BhEX4Sbt.js";import"./plus-qawNJpnW.js";import"./search-CWj5t0jZ.js";import"./filter--DnCHEbM.js";import"./history-SeIzCpoy.js";import"./save-BCqaoal8.js";import"./index-CGlb_uG-.js";import"./user-ByVghZe9.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-ZdbDwAbT.js";import"./map-pin-B5DXokRd.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=be("UsersRoundIcon",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),Ue={key:0,class:"mt-6 flex justify-center"},De={class:"flex items-center gap-2"},He=["innerHTML"],Oe=H({__name:"Pagination",props:{links:{}},setup(y){const c=f=>({"pagination.previous":"&laquo; Anterior","pagination.next":"Siguiente &raquo;","&laquo; Previous":"&laquo; Anterior","Next &raquo;":"Siguiente &raquo;",Previous:"Anterior",Next:"Siguiente","...":"..."})[f]||f,C=f=>{f&&le.get(f)};return(f,I)=>f.links&&f.links.length>3?(i(),m("div",Ue,[t("div",De,[(i(!0),m(L,null,D(f.links,g=>(i(),m(L,{key:g.label},[g.url?(i(),h(s(x),{key:0,variant:g.active?"default":"outline",size:"sm",onClick:O=>C(g.url),innerHTML:c(g.label)},null,8,["variant","onClick","innerHTML"])):(i(),m("span",{key:1,class:"px-3 py-1 text-sm text-muted-foreground cursor-not-allowed",innerHTML:c(g.label)},null,8,He))],64))),128))])])):b("",!0)}}),ie=H({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(y){const c=y;return(C,f)=>(i(),h(s(qe),$e(Se(c)),{default:a(()=>[Ce(C.$slots,"default")]),_:3},16))}});function Ve(y){if(!y)return"";const c=document.createElement("DIV");return c.innerHTML=y,(c.textContent||c.innerText||"").trim()}const ze={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Je={class:"flex items-center justify-between"},Ke={class:"flex gap-3 items-center"},Ge={key:0,class:"mb-4"},Xe={class:"flex items-start gap-3"},Qe={class:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30"},Ye={class:"flex-1"},Ze={class:"flex items-center gap-2"},et={class:"text-sm text-blue-700 dark:text-blue-300 mt-1"},tt={key:0,class:"mt-2 flex flex-wrap gap-2"},st={class:"font-medium"},ot={class:"ml-1 opacity-75"},at={key:0,class:"text-center py-8"},nt={key:1,class:"rounded-md border"},rt={class:"font-medium"},it={class:"text-sm text-muted-foreground"},lt={class:"text-xs text-muted-foreground"},dt={key:0},ut={class:"font-medium text-sm"},ct={key:1,class:"text-sm text-muted-foreground"},mt={key:0},ft={class:"text-sm"},pt={class:"text-xs text-muted-foreground"},_t={key:1,class:"text-sm text-muted-foreground"},vt={class:"text-sm"},gt={key:0,class:"max-w-xs space-y-1"},xt={class:"text-sm text-blue-800 dark:text-blue-200 truncate"},bt={class:"flex items-center gap-2"},ht={key:0,class:"text-xs text-muted-foreground"},yt={key:1,class:"text-sm text-muted-foreground"},kt=["href"],wt={class:"space-y-6"},Ct={class:"bg-orange-50 border border-orange-200 rounded-lg p-4"},$t={class:"flex items-center gap-2 mb-3"},St={class:"grid grid-cols-2 gap-3 text-sm"},Et={class:"flex justify-between"},At={class:"font-medium text-orange-900"},jt={class:"flex justify-between"},Nt={class:"font-medium text-orange-900"},Tt={class:"flex justify-between"},Pt={class:"font-medium text-orange-900"},Mt={class:"flex justify-between"},qt={class:"font-medium text-red-700"},Ft={class:"space-y-4"},Lt={class:"space-y-3"},Rt={class:"flex items-center space-x-3"},Wt={class:"flex items-center gap-2"},It={class:"text-sm text-muted-foreground ml-1"},Bt={class:"flex items-center space-x-3"},Ut={class:"flex items-center gap-2"},Dt={class:"text-sm text-muted-foreground ml-1"},Ht={class:"space-y-6"},Ot={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Vt={class:"flex items-center gap-2 mb-3"},zt={class:"grid grid-cols-2 gap-3 text-sm"},Jt={class:"flex justify-between"},Kt={class:"font-medium text-blue-900"},Gt={class:"flex justify-between"},Xt={class:"font-medium text-blue-900"},Qt={class:"flex justify-between"},Yt={class:"font-medium text-blue-900"},Zt={class:"flex justify-between"},es={class:"font-medium text-red-700"},ts={class:"space-y-4"},ss={class:"space-y-3"},os={class:"flex items-center space-x-3"},as={class:"flex items-center gap-2"},ns={class:"text-sm text-muted-foreground ml-1"},rs={class:"flex items-center space-x-3"},is={class:"flex items-center gap-2"},ls={class:"text-sm text-muted-foreground ml-1"},yo=H({__name:"Index",props:{candidaturas:{},filters:{},filterFieldsConfig:{},segmentInfo:{}},setup(y){var V,z;const c=y,C=Ee(),f=((V=C.props.auth)==null?void 0:V.permissions)||[],I=((z=C.props.auth)==null?void 0:z.isSuperAdmin)||!1,g=d=>I?!0:f.includes(d)||f.includes("*"),O=[{title:"Admin",href:"/admin/dashboard"},{title:"Candidaturas",href:"#"}],de=v({estado:c.filters.estado||"null",search:c.filters.search||""});Ae(de,d=>{const e=Object.entries(d).reduce((u,[n,q])=>(u[n]=q==="null"?"":q,u),{});le.get("/admin/candidaturas",e,{preserveState:!0,replace:!0})},{deep:!0});const ue={fields:c.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre, email o documento...",quickSearchFields:["user.name","user.email","user.documento_identidad"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:j}=window,ce=je(()=>({quickSearch:c.filters.search||"",rootGroup:c.filters.advanced_filters?JSON.parse(c.filters.advanced_filters):void 0})),me=v("todos"),fe=()=>{var d;if(c.filters.advanced_filters)try{const u=(d=JSON.parse(c.filters.advanced_filters).conditions)==null?void 0:d.find(n=>n.field==="candidaturas.estado"&&n.operator==="equals");if(u)return u.value}catch{}return"todos"};me.value=fe();const N=v(!1),T=v(!1),$=v(!1),S=v(!1),p=v({total_borradores:0,con_email:0,con_telefono:0,sin_email:0,sin_telefono:0}),P=v(!1),M=v(!1),E=v(!1),A=v(!1),_=v({total_pendientes:0,con_email:0,con_telefono:0,sin_email:0,sin_telefono:0}),pe=d=>new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_e=async()=>{try{const e=await(await fetch(j("admin.candidaturas.estadisticas-borradores"))).json();p.value=e,$.value=!1,S.value=!1,N.value=!0}catch(d){console.error("Error cargando estadísticas:",d),alert("Error cargando estadísticas de candidaturas en borrador")}},ve=async()=>{try{E.value=!1,A.value=!1;const e=await(await fetch(j("admin.candidaturas.estadisticas-pendientes"))).json();_.value=e,P.value=!0}catch(d){console.error("Error cargando estadísticas:",d),alert("Error cargando estadísticas de candidaturas pendientes")}},ge=async()=>{var d;if(!E.value&&!A.value){alert("Debes seleccionar al menos un tipo de notificación (email o WhatsApp)");return}M.value=!0;try{const u=await(await fetch(j("admin.candidaturas.enviar-notificaciones"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""},body:JSON.stringify({incluir_email:E.value,incluir_whatsapp:A.value})})).json();u.success?(P.value=!1,alert(`Notificaciones enviadas exitosamente!

• Candidaturas procesadas: ${u.contadores.total_candidaturas}
• Correos programados: ${u.contadores.emails_enviados}
• WhatsApps programados: ${u.contadores.whatsapps_enviados}
• Errores: ${u.contadores.errores}

Los mensajes se están enviando en segundo plano respetando los límites de velocidad configurados.`)):alert(`Error: ${u.message}`)}catch(e){console.error("Error enviando notificaciones:",e),alert("Error enviando notificaciones. Por favor intenta de nuevo.")}finally{M.value=!1}},xe=async()=>{var d;if(!$.value&&!S.value){alert("Debes seleccionar al menos un tipo de recordatorio (email o WhatsApp)");return}T.value=!0;try{const u=await(await fetch(j("admin.candidaturas.enviar-recordatorios"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""},body:JSON.stringify({incluir_email:$.value,incluir_whatsapp:S.value})})).json();u.success?(N.value=!1,alert(`Recordatorios enviados exitosamente!

• Candidaturas procesadas: ${u.contadores.total_candidaturas}
• Correos programados: ${u.contadores.emails_enviados}
• WhatsApps programados: ${u.contadores.whatsapps_enviados}
• Errores: ${u.contadores.errores}

Los mensajes se están enviando en segundo plano respetando los límites de velocidad configurados.`)):alert(`Error: ${u.message}`)}catch(e){console.error("Error enviando recordatorios:",e),alert("Error enviando recordatorios. Por favor intenta de nuevo.")}finally{T.value=!1}};return(d,e)=>(i(),m(L,null,[o(s(Ne),{title:"Candidaturas"}),o(we,{breadcrumbs:O},{default:a(()=>{var u;return[t("div",ze,[t("div",Je,[e[12]||(e[12]=t("div",null,[t("h1",{class:"text-3xl font-bold"},"Candidaturas"),t("p",{class:"text-muted-foreground"}," Revisa y gestiona los perfiles de candidatura de los usuarios ")],-1)),t("div",Ke,[e[11]||(e[11]=t("div",{class:"h-8 w-px bg-border"},null,-1)),g("candidaturas.notificaciones")?(i(),h(s(x),{key:0,onClick:ve,variant:"outline",class:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 hover:border-blue-300"},{default:a(()=>[o(s(F),{class:"mr-2 h-4 w-4"}),e[8]||(e[8]=l(" Notificaciones ",-1))]),_:1})):b("",!0),g("candidaturas.recordatorios")?(i(),h(s(x),{key:1,onClick:_e,variant:"outline",class:"bg-orange-50 border-orange-200 text-orange-700 hover:bg-orange-100 hover:border-orange-300"},{default:a(()=>[o(s(U),{class:"mr-2 h-4 w-4"}),e[9]||(e[9]=l(" Recordatorios ",-1))]),_:1})):b("",!0),g("candidaturas.configuracion")?(i(),h(s(Te),{key:2,href:"/admin/candidaturas/configuracion"},{default:a(()=>[o(s(x),null,{default:a(()=>[o(s(Fe),{class:"mr-2 h-4 w-4"}),e[10]||(e[10]=l(" Configuración ",-1))]),_:1})]),_:1})):b("",!0)])]),(u=c.segmentInfo)!=null&&u.applied?(i(),m("div",Ge,[o(s(J),{class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/20"},{default:a(()=>[o(s(K),{class:"p-4"},{default:a(()=>[t("div",Xe,[t("div",Qe,[o(s(Be),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),t("div",Ye,[t("div",Ze,[e[14]||(e[14]=t("h3",{class:"font-semibold text-sm text-blue-900 dark:text-blue-100"}," Filtro de Segmento Activo ",-1)),o(s(ie),null,{default:a(()=>[o(s(X),null,{default:a(()=>[o(s(Q),null,{default:a(()=>[o(s(Le),{class:"h-4 w-4 text-blue-600 dark:text-blue-400"})]),_:1}),o(s(Y),null,{default:a(()=>[...e[13]||(e[13]=[t("p",{class:"max-w-xs"}," Tu rol tiene un segmento asignado que filtra automáticamente los datos que puedes ver. Los filtros adicionales se aplicarán sobre este conjunto de datos. ",-1)])]),_:1})]),_:1})]),_:1})]),t("p",et,r(c.segmentInfo.message),1),c.segmentInfo.segments.length>0?(i(),m("div",tt,[(i(!0),m(L,null,D(c.segmentInfo.segments,n=>(i(),h(s(B),{key:n.id,variant:"secondary",class:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},{default:a(()=>[t("span",st,r(n.name),1),t("span",ot,"("+r(n.user_count)+" usuarios)",1)]),_:2},1024))),128))])):b("",!0)])])]),_:1})]),_:1})])):b("",!0),o(Me,{config:ue,route:s(j)("admin.candidaturas.index"),"initial-filters":ce.value},null,8,["route","initial-filters"]),o(s(J),null,{default:a(()=>[o(s(K),{class:"pt-6"},{default:a(()=>[d.candidaturas.data.length===0?(i(),m("div",at,[o(s(Re),{class:"mx-auto h-12 w-12 text-muted-foreground"}),e[15]||(e[15]=t("h3",{class:"mt-4 text-lg font-medium"},"No hay candidaturas",-1)),e[16]||(e[16]=t("p",{class:"text-muted-foreground"},"No se encontraron candidaturas con los filtros aplicados.",-1))])):(i(),m("div",nt,[o(s(he),null,{default:a(()=>[o(s(ye),null,{default:a(()=>[o(s(G),null,{default:a(()=>[o(s(k),null,{default:a(()=>[...e[17]||(e[17]=[l("Usuario",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[18]||(e[18]=[l("Convocatoria",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[19]||(e[19]=[l("Estado",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[20]||(e[20]=[l("Datos Completados",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[21]||(e[21]=[l("Actualizado",-1)])]),_:1}),o(s(k),null,{default:a(()=>[...e[22]||(e[22]=[l("Comentarios",-1)])]),_:1}),o(s(k),{class:"text-right"},{default:a(()=>[...e[23]||(e[23]=[l("Acciones",-1)])]),_:1})]),_:1})]),_:1}),o(s(ke),null,{default:a(()=>[(i(!0),m(L,null,D(d.candidaturas.data,n=>(i(),h(s(G),{key:n.id},{default:a(()=>[o(s(w),null,{default:a(()=>[t("div",null,[t("p",rt,r(n.usuario.name),1),t("p",it,r(n.usuario.email),1),t("p",lt,r(n.usuario.documento_identidad||"Sin documento"),1)])]),_:2},1024),o(s(w),null,{default:a(()=>[n.convocatoria?(i(),m("div",dt,[t("p",ut,r(n.convocatoria.nombre),1)])):(i(),m("span",ct,"Sin convocatoria"))]),_:2},1024),o(s(w),null,{default:a(()=>[o(s(B),{class:Pe(n.estado_color)},{default:a(()=>[l(r(n.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),o(s(w),null,{default:a(()=>[n.total_campos>0?(i(),m("div",mt,[t("p",ft,r(n.campos_llenados)+" / "+r(n.total_campos),1),t("p",pt," ("+r(n.porcentaje_completado)+"%) ",1)])):(i(),m("span",_t,"Sin configuración"))]),_:2},1024),o(s(w),null,{default:a(()=>[t("p",vt,r(pe(n.updated_at)),1)]),_:2},1024),o(s(w),null,{default:a(()=>{var q;return[n.comentario_actual||n.comentarios_admin?(i(),m("div",gt,[t("p",xt,r(s(Ve)(((q=n.comentario_actual)==null?void 0:q.comentario)||n.comentarios_admin||"")),1),t("div",bt,[n.comentario_actual?(i(),m("span",ht,r(n.comentario_actual.fecha_relativa),1)):b("",!0),n.total_comentarios&&n.total_comentarios>1?(i(),h(s(B),{key:1,variant:"secondary",class:"text-xs"},{default:a(()=>[l(" +"+r(n.total_comentarios-1)+" más ",1)]),_:2},1024)):b("",!0)])])):(i(),m("span",yt,"-"))]}),_:2},1024),o(s(w),{class:"text-right"},{default:a(()=>[o(s(ie),null,{default:a(()=>[o(s(X),null,{default:a(()=>[o(s(Q),{asChild:""},{default:a(()=>[t("a",{href:`/admin/candidaturas/${n.id}`,target:"_blank",rel:"noopener noreferrer"},[o(s(x),{variant:"outline",size:"sm"},{default:a(()=>[o(s(We),{class:"mr-2 h-4 w-4"}),e[24]||(e[24]=l(" Ver candidatura ",-1)),o(s(Ie),{class:"ml-1 h-3 w-3"})]),_:1})],8,kt)]),_:2},1024),o(s(Y),null,{default:a(()=>[...e[25]||(e[25]=[t("p",null,"Abrir en nueva ventana",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),o(Oe,{links:d.candidaturas.links},null,8,["links"])]),_:1})]),_:1}),o(s(Z),{open:N.value,"onUpdate:open":e[3]||(e[3]=n=>N.value=n)},{default:a(()=>[o(s(ee),{class:"sm:max-w-md"},{default:a(()=>[o(s(te),null,{default:a(()=>[o(s(se),{class:"flex items-center gap-2"},{default:a(()=>[o(s(U),{class:"h-5 w-5 text-orange-600"}),e[26]||(e[26]=l(" Enviar Recordatorios Masivos ",-1))]),_:1}),o(s(oe),null,{default:a(()=>[...e[27]||(e[27]=[l(" Envía recordatorios por correo y/o WhatsApp a todas las candidaturas en estado borrador. ",-1)])]),_:1})]),_:1}),t("div",wt,[t("div",Ct,[t("div",$t,[o(s(ne),{class:"h-5 w-5 text-orange-600"}),e[28]||(e[28]=t("h3",{class:"font-medium text-orange-900"},"Candidaturas en Borrador",-1))]),t("div",St,[t("div",Et,[e[29]||(e[29]=t("span",{class:"text-orange-700"},"Total en borrador:",-1)),t("span",At,r(p.value.total_borradores),1)]),t("div",jt,[e[30]||(e[30]=t("span",{class:"text-orange-700"},"Con email:",-1)),t("span",Nt,r(p.value.con_email),1)]),t("div",Tt,[e[31]||(e[31]=t("span",{class:"text-orange-700"},"Con teléfono:",-1)),t("span",Pt,r(p.value.con_telefono),1)]),t("div",Mt,[e[32]||(e[32]=t("span",{class:"text-red-600"},"Sin contacto:",-1)),t("span",qt,r(Math.max(0,p.value.total_borradores-Math.max(p.value.con_email,p.value.con_telefono))),1)])])]),t("div",Ft,[e[35]||(e[35]=t("h4",{class:"font-medium text-gray-900"},"Selecciona los tipos de recordatorio:",-1)),t("div",Lt,[t("div",Rt,[o(s(W),{id:"include-email",checked:$.value,"onUpdate:checked":e[0]||(e[0]=n=>$.value=n),disabled:p.value.con_email===0},null,8,["checked","disabled"]),t("div",Wt,[o(s(F),{class:"h-4 w-4 text-blue-600"}),o(s(R),{for:"include-email",class:"flex-1"},{default:a(()=>[e[33]||(e[33]=l(" Correo electrónico ",-1)),t("span",It," ("+r(p.value.con_email)+" candidaturas) ",1)]),_:1})])]),t("div",Bt,[o(s(W),{id:"include-whatsapp",checked:S.value,"onUpdate:checked":e[1]||(e[1]=n=>S.value=n),disabled:p.value.con_telefono===0},null,8,["checked","disabled"]),t("div",Ut,[o(s(re),{class:"h-4 w-4 text-green-600"}),o(s(R),{for:"include-whatsapp",class:"flex-1"},{default:a(()=>[e[34]||(e[34]=l(" WhatsApp ",-1)),t("span",Dt," ("+r(p.value.con_telefono)+" candidaturas) ",1)]),_:1})])])])]),e[36]||(e[36]=t("div",{class:"text-xs text-muted-foreground bg-gray-50 border border-gray-200 rounded p-3"},[t("p",{class:"mb-1"},"• Los mensajes se envían respetando los límites de velocidad configurados"),t("p",{class:"mb-1"},"• Emails: 2 por segundo | WhatsApp: 5 por segundo"),t("p",null,"• El proceso se ejecuta en segundo plano")],-1))]),o(s(ae),null,{default:a(()=>[o(s(x),{variant:"outline",onClick:e[2]||(e[2]=n=>N.value=!1),disabled:T.value},{default:a(()=>[...e[37]||(e[37]=[l(" Cancelar ",-1)])]),_:1},8,["disabled"]),o(s(x),{onClick:xe,disabled:T.value||p.value.total_borradores===0||!$.value&&!S.value,class:"bg-orange-600 hover:bg-orange-700"},{default:a(()=>[o(s(U),{class:"mr-2 h-4 w-4"}),l(" "+r(T.value?"Enviando...":`Enviar Recordatorios (${p.value.total_borradores})`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),o(s(Z),{open:P.value,"onUpdate:open":e[7]||(e[7]=n=>P.value=n)},{default:a(()=>[o(s(ee),{class:"sm:max-w-md"},{default:a(()=>[o(s(te),null,{default:a(()=>[o(s(se),{class:"flex items-center gap-2"},{default:a(()=>[o(s(F),{class:"h-5 w-5 text-blue-600"}),e[38]||(e[38]=l(" Enviar Notificaciones de Estado ",-1))]),_:1}),o(s(oe),null,{default:a(()=>[...e[39]||(e[39]=[l(" Envía notificaciones por correo y/o WhatsApp a todas las candidaturas en estado pendiente de revisión. ",-1)])]),_:1})]),_:1}),t("div",Ht,[t("div",Ot,[t("div",Vt,[o(s(ne),{class:"h-5 w-5 text-blue-600"}),e[40]||(e[40]=t("h3",{class:"font-medium text-blue-900"},"Candidaturas Pendientes de Revisión",-1))]),t("div",zt,[t("div",Jt,[e[41]||(e[41]=t("span",{class:"text-blue-700"},"Total pendientes:",-1)),t("span",Kt,r(_.value.total_pendientes),1)]),t("div",Gt,[e[42]||(e[42]=t("span",{class:"text-blue-700"},"Con email:",-1)),t("span",Xt,r(_.value.con_email),1)]),t("div",Qt,[e[43]||(e[43]=t("span",{class:"text-blue-700"},"Con teléfono:",-1)),t("span",Yt,r(_.value.con_telefono),1)]),t("div",Zt,[e[44]||(e[44]=t("span",{class:"text-red-600"},"Sin contacto:",-1)),t("span",es,r(Math.max(0,_.value.total_pendientes-Math.max(_.value.con_email,_.value.con_telefono))),1)])])]),t("div",ts,[e[47]||(e[47]=t("h4",{class:"font-medium text-gray-900"},"Selecciona los tipos de notificación:",-1)),t("div",ss,[t("div",os,[o(s(W),{id:"include-email-notif",checked:E.value,"onUpdate:checked":e[4]||(e[4]=n=>E.value=n),disabled:_.value.con_email===0},null,8,["checked","disabled"]),t("div",as,[o(s(F),{class:"h-4 w-4 text-blue-600"}),o(s(R),{for:"include-email-notif",class:"flex-1"},{default:a(()=>[e[45]||(e[45]=l(" Correo electrónico ",-1)),t("span",ns," ("+r(_.value.con_email)+" candidaturas) ",1)]),_:1})])]),t("div",rs,[o(s(W),{id:"include-whatsapp-notif",checked:A.value,"onUpdate:checked":e[5]||(e[5]=n=>A.value=n),disabled:_.value.con_telefono===0},null,8,["checked","disabled"]),t("div",is,[o(s(re),{class:"h-4 w-4 text-green-600"}),o(s(R),{for:"include-whatsapp-notif",class:"flex-1"},{default:a(()=>[e[46]||(e[46]=l(" WhatsApp ",-1)),t("span",ls," ("+r(_.value.con_telefono)+" candidaturas) ",1)]),_:1})])])])]),e[48]||(e[48]=t("div",{class:"text-xs text-muted-foreground bg-gray-50 border border-gray-200 rounded p-3"},[t("p",{class:"mb-1"},"• Se notificará que la candidatura fue recibida exitosamente"),t("p",{class:"mb-1"},"• Emails: 2 por segundo | WhatsApp: 5 por segundo"),t("p",null,"• El proceso se ejecuta en segundo plano")],-1))]),o(s(ae),null,{default:a(()=>[o(s(x),{variant:"outline",onClick:e[6]||(e[6]=n=>P.value=!1),disabled:M.value},{default:a(()=>[...e[49]||(e[49]=[l(" Cancelar ",-1)])]),_:1},8,["disabled"]),o(s(x),{onClick:ge,disabled:M.value||_.value.total_pendientes===0||!E.value&&!A.value,class:"bg-blue-600 hover:bg-blue-700"},{default:a(()=>[o(s(F),{class:"mr-2 h-4 w-4"}),l(" "+r(M.value?"Enviando...":`Enviar Notificaciones (${_.value.total_pendientes})`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]}),_:1})],64))}});export{yo as default};
