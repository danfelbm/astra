import{d as P,b as V,e as c,w as t,g as s,f as a,u as l,h as e,i as B,j as M,t as r,W as d}from"./app-B7JHmzZ3.js";import{_ as w}from"./UserLayout.vue_vue_type_script_setup_true_lang-DM9Y_09m.js";import{_ as u,a as f,b as _,c as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-xUjjE8IK.js";import{_ as b}from"./createLucideIcon-fGeWyvG_.js";import{_ as v}from"./index-rxln-YzF.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-fFAFaom6.js";import{_ as z}from"./Progress.vue_vue_type_script_setup_true_lang-Dj630CNs.js";import{t as y}from"./index-B0ovTKfR.js";import{f as N,e as O}from"./es-BDPlFIsO.js";import{p as x}from"./parseISO-DFjB8F03.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-ySvG0ZHb.js";import"./index-BQ475Ea3.js";import"./floating-ui.vue-BEmTabXm.js";import"./x-FK84Jhx-.js";import"./Input.vue_vue_type_script_setup_true_lang-B6w5yMA0.js";import"./index-CBze1Ugy.js";import"./index-BmRuyn_S.js";import"./shield-Dtwt_JCC.js";import"./user-DJF4-usS.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CNoi2SIi.js";import"./chevron-right-CaXva2pS.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-ViHLnL4d.js";import"./VisuallyHidden-C5pU9xhK.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-lnv0J55m.js";import"./check-BGitBu-W.js";import"./nullish-CHIgUVhi.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CpNLwog-.js";import"./circle-alert-C_k_uumx.js";import"./map-pin-DCQWz_w1.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CLZMVAKW.js";import"./square-check-big-BONr3KdB.js";import"./file-text-C_id9aKI.js";import"./users-gG9q0EaO.js";import"./folder-open-B8-1f72n.js";import"./index-UQLhyimN.js";const D={class:"text-xl font-semibold"},E={class:"py-6 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"grid md:grid-cols-3 gap-6"},W={class:"md:col-span-2 space-y-6"},A={class:"space-y-4"},T={class:"grid grid-cols-2 gap-4"},q={key:0,class:"mt-6 flex gap-2"},F={class:"font-medium"},G={class:"text-sm text-gray-600"},Po=P({__name:"Show",props:{obligacion:{},contrato:{},canComplete:{type:Boolean}},setup(C){const m=C,$=o=>o?N(x(o),"dd MMM yyyy",{locale:O}):"Sin fecha",S=o=>({cumplida:"success",vencida:"destructive",en_progreso:"default"})[o]||"secondary",j=()=>{const o=prompt("Porcentaje de avance (0-100):",String(m.obligacion.porcentaje_cumplimiento));o&&d.put(route("miembro.mis-obligaciones.actualizar-progreso",m.obligacion.id),{porcentaje_cumplimiento:parseInt(o)},{onSuccess:()=>y.success("Progreso actualizado")})},k=()=>{confirm("¿Marcar como cumplida?")&&d.post(route("miembro.mis-obligaciones.completar",m.obligacion.id),{},{onSuccess:()=>y.success("Obligación completada")})};return(o,i)=>(c(),V(w,{title:o.obligacion.titulo},{header:t(()=>[s("h2",D,r(o.obligacion.titulo),1)]),default:t(()=>[s("div",E,[s("div",I,[s("div",W,[a(l(u),null,{default:t(()=>[a(l(f),null,{default:t(()=>[a(l(_),null,{default:t(()=>[...i[0]||(i[0]=[e("Información de la Obligación",-1)])]),_:1})]),_:1}),a(l(g),null,{default:t(()=>[s("div",A,[s("div",null,[a(l(n),null,{default:t(()=>[...i[1]||(i[1]=[e("Descripción",-1)])]),_:1}),s("p",null,r(o.obligacion.descripcion||"Sin descripción"),1)]),s("div",T,[s("div",null,[a(l(n),null,{default:t(()=>[...i[2]||(i[2]=[e("Estado",-1)])]),_:1}),a(l(v),{variant:S(o.obligacion.estado)},{default:t(()=>[e(r(o.obligacion.estado_label),1)]),_:1},8,["variant"])]),s("div",null,[a(l(n),null,{default:t(()=>[...i[3]||(i[3]=[e("Prioridad",-1)])]),_:1}),a(l(v),null,{default:t(()=>[e(r(o.obligacion.prioridad_label),1)]),_:1})]),s("div",null,[a(l(n),null,{default:t(()=>[...i[4]||(i[4]=[e("Vencimiento",-1)])]),_:1}),s("p",null,r($(o.obligacion.fecha_vencimiento)),1)]),s("div",null,[a(l(n),null,{default:t(()=>[...i[5]||(i[5]=[e("Progreso",-1)])]),_:1}),a(l(z),{value:o.obligacion.porcentaje_cumplimiento},null,8,["value"])])])]),o.canComplete&&o.obligacion.estado!=="cumplida"?(c(),B("div",q,[a(l(b),{onClick:j},{default:t(()=>[...i[6]||(i[6]=[e("Actualizar Progreso",-1)])]),_:1}),a(l(b),{variant:"success",onClick:k},{default:t(()=>[...i[7]||(i[7]=[e("Marcar como Cumplida",-1)])]),_:1})])):M("",!0)]),_:1})]),_:1})]),s("div",null,[a(l(u),null,{default:t(()=>[a(l(f),null,{default:t(()=>[a(l(_),null,{default:t(()=>[...i[8]||(i[8]=[e("Contrato",-1)])]),_:1})]),_:1}),a(l(g),null,{default:t(()=>{var p;return[s("p",F,r(o.contrato.nombre),1),s("p",G,r((p=o.contrato.proyecto)==null?void 0:p.nombre),1)]}),_:1})]),_:1})])])])]),_:1},8,["title"]))}});export{Po as default};
