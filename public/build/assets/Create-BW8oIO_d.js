import{d as B,C as F,r as j,i as n,e as l,f as o,u as e,p as N,w as a,g as d,l as I,b as k,j as u,h as s,n as b,t as f,F as P,k as A,W as D}from"./app-CR-2XB3C.js";import{_ as G}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BeDoGI8L.js";import{_ as C,a as M,b as T,c as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-CXc292e6.js";import{_ as q}from"./createLucideIcon-DpqMcHcs.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-87jkhHIN.js";import{_ as W}from"./Textarea.vue_vue_type_script_setup_true_lang-D6RuC5gj.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-CTFOyKy8.js";import{_ as v,a as g,b as x,c as V,d as m}from"./SelectValue.vue_vue_type_script_setup_true_lang-e9C0UTAB.js";import{_ as L}from"./CamposPersonalizadosForm.vue_vue_type_script_setup_true_lang-KUzaSQ9x.js";import{E as R}from"./EtiquetaSelector-BJfZZV0W.js";import{t as S}from"./index-DEPFt58J.js";import{a as X}from"./target-PRmdjiaM.js";import{X as H}from"./x-BtC0hBQf.js";import{S as J}from"./save-fZDcFWE3.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-Ert7fISp.js";import"./index-BZs2h2K_.js";import"./floating-ui.vue-BhiDC_BV.js";import"./index-E07s-QL0.js";import"./shield-4oMICjJq.js";import"./user-DHtFWwAY.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang--Zg1QsWs.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Dfpf6sX3.js";import"./VisuallyHidden-BWbUvSRY.js";import"./index-B_J_AOJU.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-y6H-OSrV.js";import"./circle-alert-Ce-R__0b.js";import"./map-pin-CH_1kWrL.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-D_zYDN4Z.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-D4bt_NVp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-DnobICLq.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DspZ-Okb.js";import"./users-2q8ym3rK.js";import"./vote-BGunVfqa.js";import"./folder-open-B73Z5LJI.js";import"./send-DrZ9C7tM.js";import"./file-text-bOjPW4fi.js";import"./briefcase-VNV3HxYQ.js";import"./calendar-K2tiWc-j.js";import"./megaphone-B1ul-h89.js";import"./user-check-DqzH6i1N.js";import"./mail-mHQkAKOp.js";import"./message-square-CKxkeyaY.js";import"./external-link-BksJeFVg.js";import"./panel-left-C66hQ-oC.js";import"./index-Bv2D6OQs.js";import"./check-COi2Akip.js";import"./index-CuEHpEfT.js";import"./nullish-CHIgUVhi.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-geKRIMEf.js";import"./RadioGroupItem.vue_vue_type_script_setup_true_lang-CVDje9ww.js";import"./RovingFocusItem-BgrS3e4F.js";import"./utils-BnohqtMo.js";import"./VisuallyHiddenInput-y0SKat9x.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BfwY53vC.js";import"./index-DML-TSey.js";import"./search-BvkZDDxZ.js";import"./plus-DafQFHWU.js";import"./zap-w8N3d7cs.js";import"./trending-up-1khf_RXT.js";import"./award-xKikvbvv.js";import"./hash-QSQRCUjq.js";const K={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},O={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={key:0,class:"mt-1 text-sm text-red-600"},h={key:0,class:"mt-1 text-sm text-red-600"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},re={key:0,class:"mt-1 text-sm text-red-600"},oe={key:0,class:"mt-1 text-sm text-red-600"},te={key:0,class:"mt-1 text-sm text-red-600"},ae={key:0},se={key:0,class:"mt-1 text-sm text-red-600"},_r=B({__name:"Create",props:{usuarios:{},camposPersonalizados:{},categorias:{}},setup(ie){const w=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:"Crear Proyecto",href:"/admin/proyectos/create"}],t=F({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",estado:"planificacion",prioridad:"media",responsable_id:null,etiquetas:[],campos_personalizados:{}}),_=j(!1),U=()=>{_.value=!0,t.post("/admin/proyectos",{preserveScroll:!0,onSuccess:()=>{S.success("Proyecto creado exitosamente")},onError:p=>{S.error("Error al crear el proyecto"),console.error(p)},onFinish:()=>{_.value=!1}})},z=()=>{D.visit("/admin/proyectos")},E=p=>{t.campos_personalizados=p};return(p,r)=>(l(),n(P,null,[o(e(N),{title:"Crear Proyecto"}),o(G,{breadcrumbs:w},{default:a(()=>[d("div",K,[r[28]||(r[28]=d("div",{class:"flex items-center justify-between"},[d("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Crear Proyecto ")],-1)),d("form",{onSubmit:I(U,["prevent"]),class:"space-y-6"},[o(e(C),null,{default:a(()=>[o(e(M),null,{default:a(()=>[o(e(T),null,{default:a(()=>[...r[8]||(r[8]=[s("Información Básica",-1)])]),_:1})]),_:1}),o(e($),{class:"space-y-4"},{default:a(()=>[d("div",null,[o(e(c),{for:"nombre"},{default:a(()=>[...r[9]||(r[9]=[s("Nombre del Proyecto *",-1)])]),_:1}),o(e(y),{id:"nombre",modelValue:e(t).nombre,"onUpdate:modelValue":r[0]||(r[0]=i=>e(t).nombre=i),type:"text",placeholder:"Ingrese el nombre del proyecto",class:b({"border-red-500":e(t).errors.nombre}),required:""},null,8,["modelValue","class"]),e(t).errors.nombre?(l(),n("p",O,f(e(t).errors.nombre),1)):u("",!0)]),d("div",null,[o(e(c),{for:"descripcion"},{default:a(()=>[...r[10]||(r[10]=[s("Descripción",-1)])]),_:1}),o(e(W),{id:"descripcion",modelValue:e(t).descripcion,"onUpdate:modelValue":r[1]||(r[1]=i=>e(t).descripcion=i),placeholder:"Ingrese una descripción del proyecto",rows:"4",class:b({"border-red-500":e(t).errors.descripcion})},null,8,["modelValue","class"]),e(t).errors.descripcion?(l(),n("p",Q,f(e(t).errors.descripcion),1)):u("",!0)]),d("div",Y,[d("div",null,[o(e(c),{for:"fecha_inicio"},{default:a(()=>[...r[11]||(r[11]=[s("Fecha de Inicio *",-1)])]),_:1}),o(e(y),{id:"fecha_inicio",modelValue:e(t).fecha_inicio,"onUpdate:modelValue":r[2]||(r[2]=i=>e(t).fecha_inicio=i),type:"date",class:b({"border-red-500":e(t).errors.fecha_inicio}),required:""},null,8,["modelValue","class"]),e(t).errors.fecha_inicio?(l(),n("p",Z,f(e(t).errors.fecha_inicio),1)):u("",!0)]),d("div",null,[o(e(c),{for:"fecha_fin"},{default:a(()=>[...r[12]||(r[12]=[s("Fecha de Fin",-1)])]),_:1}),o(e(y),{id:"fecha_fin",modelValue:e(t).fecha_fin,"onUpdate:modelValue":r[3]||(r[3]=i=>e(t).fecha_fin=i),type:"date",min:e(t).fecha_inicio,class:b({"border-red-500":e(t).errors.fecha_fin})},null,8,["modelValue","min","class"]),e(t).errors.fecha_fin?(l(),n("p",h,f(e(t).errors.fecha_fin),1)):u("",!0)])]),d("div",ee,[d("div",null,[o(e(c),{for:"estado"},{default:a(()=>[...r[13]||(r[13]=[s("Estado *",-1)])]),_:1}),o(e(v),{modelValue:e(t).estado,"onUpdate:modelValue":r[4]||(r[4]=i=>e(t).estado=i)},{default:a(()=>[o(e(g),null,{default:a(()=>[o(e(x),{placeholder:"Seleccione el estado"})]),_:1}),o(e(V),null,{default:a(()=>[o(e(m),{value:"planificacion"},{default:a(()=>[...r[14]||(r[14]=[s("Planificación",-1)])]),_:1}),o(e(m),{value:"en_progreso"},{default:a(()=>[...r[15]||(r[15]=[s("En Progreso",-1)])]),_:1}),o(e(m),{value:"pausado"},{default:a(()=>[...r[16]||(r[16]=[s("Pausado",-1)])]),_:1}),o(e(m),{value:"completado"},{default:a(()=>[...r[17]||(r[17]=[s("Completado",-1)])]),_:1}),o(e(m),{value:"cancelado"},{default:a(()=>[...r[18]||(r[18]=[s("Cancelado",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(t).errors.estado?(l(),n("p",re,f(e(t).errors.estado),1)):u("",!0)]),d("div",null,[o(e(c),{for:"prioridad"},{default:a(()=>[...r[19]||(r[19]=[s("Prioridad *",-1)])]),_:1}),o(e(v),{modelValue:e(t).prioridad,"onUpdate:modelValue":r[5]||(r[5]=i=>e(t).prioridad=i)},{default:a(()=>[o(e(g),null,{default:a(()=>[o(e(x),{placeholder:"Seleccione la prioridad"})]),_:1}),o(e(V),null,{default:a(()=>[o(e(m),{value:"baja"},{default:a(()=>[...r[20]||(r[20]=[s("Baja",-1)])]),_:1}),o(e(m),{value:"media"},{default:a(()=>[...r[21]||(r[21]=[s("Media",-1)])]),_:1}),o(e(m),{value:"alta"},{default:a(()=>[...r[22]||(r[22]=[s("Alta",-1)])]),_:1}),o(e(m),{value:"critica"},{default:a(()=>[...r[23]||(r[23]=[s("Crítica",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(t).errors.prioridad?(l(),n("p",oe,f(e(t).errors.prioridad),1)):u("",!0)])]),d("div",null,[o(e(c),{for:"responsable_id"},{default:a(()=>[...r[24]||(r[24]=[s("Responsable",-1)])]),_:1}),o(e(v),{modelValue:e(t).responsable_id,"onUpdate:modelValue":r[6]||(r[6]=i=>e(t).responsable_id=i)},{default:a(()=>[o(e(g),null,{default:a(()=>[o(e(x),{placeholder:"Seleccione un responsable"})]),_:1}),o(e(V),null,{default:a(()=>[o(e(m),{value:"0"},{default:a(()=>[...r[25]||(r[25]=[s("Sin asignar",-1)])]),_:1}),(l(!0),n(P,null,A(p.usuarios,i=>(l(),k(e(m),{key:i.id,value:i.id},{default:a(()=>[s(f(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(t).errors.responsable_id?(l(),n("p",te,f(e(t).errors.responsable_id),1)):u("",!0)]),p.categorias&&p.categorias.length>0?(l(),n("div",ae,[o(e(c),{class:"flex items-center gap-2 mb-2"},{default:a(()=>[o(e(X),{class:"h-4 w-4"}),r[26]||(r[26]=s(" Etiquetas ",-1))]),_:1}),o(R,{modelValue:e(t).etiquetas,"onUpdate:modelValue":r[7]||(r[7]=i=>e(t).etiquetas=i),categorias:p.categorias,"max-etiquetas":10,placeholder:"Seleccionar etiquetas para el proyecto...",description:"Puedes asignar hasta 10 etiquetas para categorizar este proyecto"},null,8,["modelValue","categorias"]),e(t).errors.etiquetas?(l(),n("p",se,f(e(t).errors.etiquetas),1)):u("",!0)])):u("",!0)]),_:1})]),_:1}),p.camposPersonalizados.length>0?(l(),k(L,{key:0,campos:p.camposPersonalizados,valores:{},errors:e(t).errors,onUpdate:E},null,8,["campos","errors"])):u("",!0),o(e(C),null,{default:a(()=>[o(e($),{class:"flex justify-end gap-4 pt-6"},{default:a(()=>[o(e(q),{type:"button",variant:"outline",onClick:z,disabled:_.value},{default:a(()=>[o(e(H),{class:"mr-2 h-4 w-4"}),r[27]||(r[27]=s(" Cancelar ",-1))]),_:1},8,["disabled"]),o(e(q),{type:"submit",disabled:_.value||e(t).processing},{default:a(()=>[o(e(J),{class:"mr-2 h-4 w-4"}),s(" "+f(_.value?"Guardando...":"Guardar Proyecto"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})],32)])]),_:1})],64))}});export{_r as default};
