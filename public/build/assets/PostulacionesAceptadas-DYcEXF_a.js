import{_ as T}from"./index-Djr-AE8L.js";import{c as j,_ as w}from"./createLucideIcon-DHV2dMd2.js";import{a as A,b as B,c as N,_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-B83fxqkD.js";import{_ as S}from"./CardDescription.vue_vue_type_script_setup_true_lang-DsA6hK1m.js";import{_ as G,a as Q,b as k,c as f,d as R,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-DUpXzCTq.js";import{a as H,_ as J}from"./index-DXSXwA9y.js";import{_ as K}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BnP9xN8q.js";import{_}from"./Skeleton.vue_vue_type_script_setup_true_lang-noY7_rpJ.js";import{_ as O}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-oyj0776g.js";import{d as W,k as g,c as X,p as Y,a as u,o as d,b as e,f as o,u as a,m as Z,e as s,g as l,j as b,i as C,t as c,F as tt,r as at,P as et,q as st}from"./app-o0VcnfvT.js";import{u as ot}from"./useGeographicFilters-BaddGDnQ.js";import{A as lt}from"./arrow-left-DdTyrpmI.js";import{I as it}from"./info-DtfVIoZM.js";import{S as rt}from"./search-BAZRNgUc.js";import{C as z}from"./circle-check-big-CLyvYKRs.js";import{U as nt}from"./users-C6pYsYmu.js";import{B as dt}from"./briefcase-_GQULPTE.js";import{M as ct}from"./map-pin-D0bJVCbX.js";import{C as pt}from"./chevron-left-2ZgXN7z7.js";import{C as ut}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Bx2c5sC2.js";import"./index-DzXh5xdq.js";import"./Input.vue_vue_type_script_setup_true_lang-WPXtkr_n.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-wJtPPtPO.js";import"./index-CQK0tQuB.js";import"./floating-ui.vue-B7OURiaf.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DdTTQIRe.js";import"./VisuallyHidden-CvCQINmH.js";import"./PopperContent-CuoIICBD.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BKOHoo5T.js";import"./check-K7jA5jiq.js";import"./nullish-CHIgUVhi.js";import"./x-Bk6mROj6.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-CfvoSxtZ.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-zslY25lE.js";import"./es-BRx6Co7f.js";import"./calendar-DcMtuu5p.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-CIVrWGNw.js";import"./loader-circle-DWf46yOF.js";import"./trash-2-D5Vn7H2C.js";import"./plus-DY78Hq4y.js";import"./history-Acl6VWXg.js";import"./save-FYehvNks.js";import"./circle-alert-E7ND0NcF.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=j("AwardIcon",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=j("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),ft={class:"min-h-screen bg-gray-50"},_t={class:"bg-white shadow-sm border-b"},gt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},vt={class:"flex items-start justify-between"},xt={class:"flex flex-col gap-4"},ht={class:"flex items-center gap-3"},yt={href:"/"},wt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},kt={class:"flex items-center justify-between"},bt={key:0,class:"space-y-4"},Ct={key:1,class:"overflow-x-auto"},$t={class:"flex items-center gap-2"},Ft={class:"max-w-[200px]"},Pt={class:"font-medium truncate"},Mt={key:0,class:"flex items-center gap-1"},At={class:"text-sm"},Bt={key:1,class:"text-gray-400 text-sm"},Nt={key:0,class:"flex items-center gap-1"},Lt={class:"text-sm"},St={key:1,class:"text-gray-400 text-sm"},zt={class:"flex items-center gap-1"},It={class:"text-sm truncate max-w-[200px]"},jt={class:"flex flex-col items-center gap-2 text-muted-foreground"},qt={key:2,class:"mt-6 flex items-center justify-between"},Ut={class:"text-sm text-muted-foreground"},Vt={class:"flex gap-2"},Dt={class:"flex items-center gap-2"},Et={class:"text-sm"},Tt={class:"mt-6 text-center text-sm text-gray-500"},Gt={class:"mt-1"},Sa=W({__name:"PostulacionesAceptadas",props:{filterFieldsConfig:{}},setup(q){const U=q,y=g([]),r=g({current_page:1,last_page:1,per_page:50,total:0,from:0,to:0}),v=g(!1),$=g({}),F=g(U.filterFieldsConfig||[]),P=ot({prefix:"users.",endpoints:{territorios:`${window.location.origin}/api/public/geographic/territorios`,departamentos:`${window.location.origin}/api/public/geographic/departamentos`,municipios:`${window.location.origin}/api/public/geographic/municipios`,localidades:`${window.location.origin}/api/public/geographic/localidades`}}),V=X(()=>({fields:[...F.value||[],...P.generateFilterFields()],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre, cédula o convocatoria...",quickSearchFields:["users.name","users.documento_identidad","convocatorias.nombre"],maxNestingLevel:1,allowSaveFilters:!1})),D=i=>{const t=[];return i.localidad&&t.push(i.localidad),i.municipio&&t.push(i.municipio),i.departamento&&t.push(i.departamento),i.territorio&&t.push(i.territorio),t.length>0?t.join(", "):"No especificada"},x=async(i={},t=1)=>{var n;v.value=!0;try{const h={...i,page:t},p=await st.get("/public-api/postulaciones-aceptadas",{params:h});y.value=p.data.postulaciones.data,r.value={current_page:p.data.postulaciones.current_page,last_page:p.data.postulaciones.last_page,per_page:p.data.postulaciones.per_page,total:p.data.postulaciones.total,from:p.data.postulaciones.from,to:p.data.postulaciones.to},p.data.filterFieldsConfig&&(F.value=p.data.filterFieldsConfig)}catch(h){console.error("Error cargando postulaciones:",h),((n=h.response)==null?void 0:n.status)===404&&(window.location.href="/")}finally{v.value=!1}},E=i=>{$.value=i,x(i,1)},M=i=>{x($.value,i)};return Y(async()=>{await P.initialize(),x()}),(i,t)=>(d(),u("div",null,[e(a(Z),{title:"Postulaciones Aceptadas"}),o("div",ft,[o("div",_t,[o("div",gt,[o("div",vt,[o("div",xt,[o("div",ht,[e(a(I),{class:"h-8 w-8 text-green-600"}),t[2]||(t[2]=o("h1",{class:"text-2xl font-bold text-gray-900"}," Postulaciones Aceptadas ",-1))]),t[3]||(t[3]=o("p",{class:"text-gray-600"}," Consulta pública de postulaciones aprobadas a convocatorias ",-1))]),o("a",yt,[e(a(w),{variant:"outline",size:"sm"},{default:s(()=>[e(a(lt),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=l(" Volver al inicio ",-1))]),_:1})])])])]),o("div",wt,[e(a(J),{class:"mb-6"},{default:s(()=>[e(a(it),{class:"h-4 w-4"}),e(a(K),null,{default:s(()=>[...t[5]||(t[5]=[l("Información Pública",-1)])]),_:1}),e(a(H),null,{default:s(()=>[...t[6]||(t[6]=[l(" Esta página muestra únicamente las postulaciones que han sido aceptadas. La información mostrada es de carácter público y cumple con las políticas de privacidad. ",-1)])]),_:1})]),_:1}),e(a(L),{class:"mb-6"},{default:s(()=>[e(a(A),null,{default:s(()=>[e(a(B),null,{default:s(()=>[e(a(rt),{class:"inline-block mr-2 h-5 w-5"}),t[7]||(t[7]=l(" Filtros de Búsqueda ",-1))]),_:1}),e(a(S),null,{default:s(()=>[...t[8]||(t[8]=[l(" Utiliza los filtros para encontrar postulaciones específicas ",-1)])]),_:1})]),_:1}),e(a(N),null,{default:s(()=>[e(O,{config:V.value,onApply:E,onClear:x},null,8,["config"])]),_:1})]),_:1}),e(a(L),null,{default:s(()=>[e(a(A),null,{default:s(()=>[o("div",kt,[o("div",null,[e(a(B),null,{default:s(()=>[e(a(z),{class:"inline-block mr-2 h-5 w-5 text-green-600"}),t[9]||(t[9]=l(" Listado de Postulaciones Aceptadas ",-1))]),_:1}),v.value?C("",!0):(d(),b(a(S),{key:0},{default:s(()=>[l(c(r.value.total)+" "+c(r.value.total===1?"postulación encontrada":"postulaciones encontradas"),1)]),_:1}))]),e(a(T),{variant:"outline",class:"bg-green-50 text-green-700 border-green-300"},{default:s(()=>[e(a(z),{class:"h-3 w-3 mr-1"}),t[10]||(t[10]=l(" Todas Aceptadas ",-1))]),_:1})])]),_:1}),e(a(N),null,{default:s(()=>[v.value?(d(),u("div",bt,[e(a(_),{class:"h-12 w-full"}),e(a(_),{class:"h-12 w-full"}),e(a(_),{class:"h-12 w-full"}),e(a(_),{class:"h-12 w-full"}),e(a(_),{class:"h-12 w-full"})])):(d(),u("div",Ct,[e(a(G),null,{default:s(()=>[e(a(Q),null,{default:s(()=>[e(a(k),null,{default:s(()=>[e(a(f),null,{default:s(()=>[...t[11]||(t[11]=[l("Postulante",-1)])]),_:1}),e(a(f),null,{default:s(()=>[...t[12]||(t[12]=[l("Convocatoria",-1)])]),_:1}),e(a(f),null,{default:s(()=>[...t[13]||(t[13]=[l("Cargo",-1)])]),_:1}),e(a(f),null,{default:s(()=>[...t[14]||(t[14]=[l("Periodo",-1)])]),_:1}),e(a(f),null,{default:s(()=>[...t[15]||(t[15]=[l("Ubicación",-1)])]),_:1})]),_:1})]),_:1}),e(a(R),null,{default:s(()=>[(d(!0),u(tt,null,at(y.value,n=>(d(),b(a(k),{key:n.id},{default:s(()=>[e(a(m),{class:"font-medium"},{default:s(()=>[o("div",$t,[e(a(nt),{class:"h-4 w-4 text-gray-400"}),l(" "+c(n.postulante.nombre),1)])]),_:2},1024),e(a(m),null,{default:s(()=>[o("div",Ft,[o("p",Pt,c(n.convocatoria.nombre),1)])]),_:2},1024),e(a(m),null,{default:s(()=>[n.convocatoria.cargo?(d(),u("div",Mt,[e(a(dt),{class:"h-4 w-4 text-gray-400"}),o("span",At,c(n.convocatoria.cargo),1)])):(d(),u("span",Bt,"No especificado"))]),_:2},1024),e(a(m),null,{default:s(()=>[n.convocatoria.periodo?(d(),u("div",Nt,[e(a(mt),{class:"h-4 w-4 text-gray-400"}),o("span",Lt,c(n.convocatoria.periodo),1)])):(d(),u("span",St,"No especificado"))]),_:2},1024),e(a(m),null,{default:s(()=>[o("div",zt,[e(a(ct),{class:"h-4 w-4 text-gray-400 flex-shrink-0"}),o("span",It,c(D(n.ubicacion)),1)])]),_:2},1024)]),_:2},1024))),128)),y.value.length===0?(d(),b(a(k),{key:0},{default:s(()=>[e(a(m),{colspan:5,class:"text-center py-8"},{default:s(()=>[o("div",jt,[e(a(I),{class:"h-8 w-8"}),t[16]||(t[16]=o("p",null,"No se encontraron postulaciones con los filtros aplicados",-1))])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})])),r.value.last_page>1?(d(),u("div",qt,[o("p",Ut," Mostrando "+c(r.value.from||0)+" a "+c(r.value.to||0)+" de "+c(r.value.total)+" postulaciones ",1),o("div",Vt,[e(a(w),{variant:"outline",size:"sm",disabled:r.value.current_page===1,onClick:t[0]||(t[0]=n=>M(r.value.current_page-1))},{default:s(()=>[e(a(pt),{class:"h-4 w-4"}),t[17]||(t[17]=l(" Anterior ",-1))]),_:1},8,["disabled"]),o("div",Dt,[o("span",Et," Página "+c(r.value.current_page)+" de "+c(r.value.last_page),1)]),e(a(w),{variant:"outline",size:"sm",disabled:r.value.current_page===r.value.last_page,onClick:t[1]||(t[1]=n=>M(r.value.current_page+1))},{default:s(()=>[t[18]||(t[18]=l(" Siguiente ",-1)),e(a(ut),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):C("",!0)]),_:1})]),_:1}),o("div",Tt,[t[22]||(t[22]=o("p",null,"La información mostrada es de carácter público y cumple con las políticas de privacidad.",-1)),o("p",Gt,[t[20]||(t[20]=l(" Para más información sobre el proceso de postulación, ",-1)),e(a(et),{href:"/login",class:"text-blue-600 hover:underline"},{default:s(()=>[...t[19]||(t[19]=[l("inicie sesión",-1)])]),_:1}),t[21]||(t[21]=l(". ",-1))])])])])]))}});export{Sa as default};
