import{c as $,_ as g}from"./createLucideIcon-KBqbhxXl.js";import{_ as w}from"./index-CBG0Dxc6.js";import{C as j}from"./circle-alert-VjwGmEyY.js";import{C as E}from"./circle-x-DHRlEs6N.js";import{C as P}from"./circle-check-big-Bc7p1dMw.js";import{C as I}from"./clock-DQbpIyMi.js";import{d as z,b as d,e as o,u as s,n as R,w as u,j as l,h as v,q as S,t as m,i as c,g as a,f as i,s as C,F as B,k as M,W as b}from"./app-BMyT8npG.js";import{L as U}from"./loader-circle-CXxpg-3P.js";import{C as N}from"./calendar-BhQnpxaC.js";import{C as D}from"./circle-check-Bu5aQJ4a.js";import{U as W}from"./users-C3Sf9FM4.js";import{V as A}from"./vote-B1OhdZRu.js";import{E as F}from"./eye-CC06bo2c.js";import{f as H,e as L}from"./es-BRx6Co7f.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=$("ChartNoAxesColumnIcon",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=$("CirclePlayIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=$("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),O=z({__name:"VotacionStatus",props:{estado:{},small:{type:Boolean,default:!1}},setup(_){const y=_,e=()=>{switch(y.estado){case"activa":return"success";case"pendiente":return"warning";case"finalizada":return"secondary";case"cancelada":return"destructive";case"inactiva":default:return"outline"}},r=()=>{switch(y.estado){case"activa":return q;case"pendiente":return I;case"finalizada":return P;case"cancelada":return E;case"inactiva":default:return j}},f=()=>{switch(y.estado){case"activa":return"Activa";case"pendiente":return"Pendiente";case"finalizada":return"Finalizada";case"cancelada":return"Cancelada";case"inactiva":return"Inactiva";default:return y.estado}};return(k,V)=>(o(),d(s(w),{variant:e(),class:R([k.small?"text-xs px-2 py-0.5":"text-sm px-3 py-1","font-medium"])},{default:u(()=>[k.small?l("",!0):(o(),d(S(r()),{key:0,class:"h-3 w-3 mr-1"})),v(" "+m(f()),1)]),_:1},8,["variant","class"]))}}),T={key:0,class:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 rounded-lg flex items-center justify-center z-10"},X={class:"flex flex-col items-center space-y-2"},Y={class:"flex justify-between items-start mb-3"},J={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-2"},K={key:1,class:"mb-2"},Q={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"},Z={key:2,class:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2"},ee={class:"text-sm text-gray-500 dark:text-gray-400 space-y-1 mb-4"},te={class:"flex items-center gap-1"},se={class:"flex items-center gap-1"},ae={class:"flex flex-wrap gap-2 mb-4"},oe={class:"flex gap-2"},re=z({__name:"VotacionCard",props:{votacion:{},canVote:{type:Boolean,default:!0},canViewResults:{type:Boolean,default:!0},canViewOwnVote:{type:Boolean,default:!0}},emits:["votar","ver-voto","ver-resultados"],setup(_){const y=e=>H(new Date(e),"dd/MM/yyyy HH:mm",{locale:L});return(e,r)=>(o(),c("div",{class:R(["relative bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200",{"opacity-75":e.votacion.vote_processing}])},[e.votacion.vote_processing?(o(),c("div",T,[a("div",X,[i(s(U),{class:"h-8 w-8 animate-spin text-primary-600"}),r[3]||(r[3]=a("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Firmando digitalmente... ",-1))])])):l("",!0),a("div",Y,[a("h3",J,m(e.votacion.titulo),1),i(O,{estado:e.votacion.estado_visual,small:!0},null,8,["estado"])]),e.votacion.categoria?(o(),c("div",K,[a("span",Q,m(e.votacion.categoria.nombre),1)])):l("",!0),e.votacion.descripcion?(o(),c("p",Z,m(e.votacion.descripcion),1)):l("",!0),a("div",ee,[a("div",te,[i(s(N),{class:"h-4 w-4"}),a("span",null,"Inicio: "+m(y(e.votacion.fecha_inicio)),1)]),a("div",se,[i(s(I),{class:"h-4 w-4"}),a("span",null,"Fin: "+m(y(e.votacion.fecha_fin)),1)])]),a("div",ae,[e.votacion.ya_voto?(o(),d(s(w),{key:0,variant:"success"},{default:u(()=>[i(s(D),{class:"h-3 w-3 mr-1"}),r[4]||(r[4]=v(" Ya votaste ",-1))]),_:1})):l("",!0),e.votacion.resultados_visibles?(o(),d(s(w),{key:1,variant:"secondary"},{default:u(()=>[i(s(x),{class:"h-3 w-3 mr-1"}),r[5]||(r[5]=v(" Resultados disponibles ",-1))]),_:1})):l("",!0),e.votacion.votantes_count?(o(),d(s(w),{key:2,variant:"outline"},{default:u(()=>[i(s(W),{class:"h-3 w-3 mr-1"}),v(" "+m(e.votacion.votantes_count)+" participantes ",1)]),_:1})):l("",!0)]),a("div",oe,[C(e.$slots,"actions",{votacion:e.votacion},()=>[e.votacion.puede_votar&&e.canVote?(o(),d(s(g),{key:0,onClick:r[0]||(r[0]=f=>e.$emit("votar",e.votacion)),size:"sm",class:"flex-1"},{default:u(()=>[i(s(A),{class:"h-4 w-4 mr-1"}),r[6]||(r[6]=v(" Votar ",-1))]),_:1})):l("",!0),e.votacion.puede_ver_voto&&e.canViewOwnVote?(o(),d(s(g),{key:1,onClick:r[1]||(r[1]=f=>e.$emit("ver-voto",e.votacion)),variant:"outline",size:"sm",class:"flex-1"},{default:u(()=>[i(s(F),{class:"h-4 w-4 mr-1"}),r[7]||(r[7]=v(" Mi voto ",-1))]),_:1})):l("",!0),e.votacion.resultados_visibles&&e.canViewResults?(o(),d(s(g),{key:2,onClick:r[2]||(r[2]=f=>e.$emit("ver-resultados",e.votacion)),variant:"outline",size:"sm",class:"flex-1"},{default:u(()=>[i(s(x),{class:"h-4 w-4 mr-1"}),r[8]||(r[8]=v(" Resultados ",-1))]),_:1})):l("",!0)])])],2))}}),ne={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ie={key:1,class:"space-y-3"},le={class:"flex items-center justify-between"},de={class:"flex-1"},ce={class:"flex items-start gap-4"},ue={class:"flex-1"},me={class:"text-base font-semibold text-gray-900 dark:text-gray-100"},ve={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},ye={class:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400"},pe={class:"flex items-center gap-1"},fe={class:"flex items-center gap-2"},ge={class:"ml-4 flex items-center gap-2"},ke={key:2,class:"text-center py-12"},we={class:"mx-auto h-12 w-12 text-gray-400"},he={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Fe=z({__name:"VotacionGrid",props:{votaciones:{},viewMode:{default:"grid"},canVote:{type:Boolean,default:!0},canViewResults:{type:Boolean,default:!0},canViewOwnVote:{type:Boolean,default:!0},emptyMessage:{}},emits:["votar","ver-voto","ver-resultados"],setup(_,{emit:y}){const e=y,r=t=>H(new Date(t),"dd/MM/yyyy HH:mm",{locale:L}),f=t=>{e("votar",t),e("votar")||b.visit(route("user.votaciones.votar",t.id))},k=t=>{e("ver-voto",t),e("ver-voto")||b.visit(route("user.votaciones.mi-voto",t.id))},V=t=>{e("ver-resultados",t),e("ver-resultados")||b.visit(route("user.votaciones.resultados",t.id))};return(t,p)=>(o(),c("div",null,[t.viewMode==="grid"?(o(),c("div",ne,[(o(!0),c(B,null,M(t.votaciones,n=>(o(),d(re,{key:n.id,votacion:n,"can-vote":t.canVote,"can-view-results":t.canViewResults,"can-view-own-vote":t.canViewOwnVote,onVotar:f,onVerVoto:k,onVerResultados:V},{actions:u(({votacion:h})=>[C(t.$slots,"card-actions",{votacion:h})]),_:2},1032,["votacion","can-vote","can-view-results","can-view-own-vote"]))),128))])):t.viewMode==="list"?(o(),c("div",ie,[(o(!0),c(B,null,M(t.votaciones,n=>(o(),c("div",{key:n.id,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},[a("div",le,[a("div",de,[a("div",ce,[a("div",ue,[a("h3",me,m(n.titulo),1),n.descripcion?(o(),c("p",ve,m(n.descripcion),1)):l("",!0),a("div",ye,[a("span",pe,[i(s(N),{class:"h-3.5 w-3.5"}),v(" "+m(r(n.fecha_inicio)),1)]),p[0]||(p[0]=a("span",null,"â†’",-1)),a("span",null,m(r(n.fecha_fin)),1)])]),a("div",fe,[i(O,{estado:n.estado_visual},null,8,["estado"]),n.ya_voto?(o(),d(s(w),{key:0,variant:"success"},{default:u(()=>[i(s(D),{class:"h-3 w-3 mr-1"}),p[1]||(p[1]=v(" Votado ",-1))]),_:1})):l("",!0)])])]),a("div",ge,[C(t.$slots,"list-actions",{votacion:n},()=>[n.puede_votar&&t.canVote?(o(),d(s(g),{key:0,onClick:h=>f(n),size:"sm"},{default:u(()=>[i(s(A),{class:"h-4 w-4 mr-1"}),p[2]||(p[2]=v(" Votar ",-1))]),_:2},1032,["onClick"])):l("",!0),n.puede_ver_voto&&t.canViewOwnVote?(o(),d(s(g),{key:1,onClick:h=>k(n),variant:"outline",size:"sm"},{default:u(()=>[i(s(F),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):l("",!0),n.resultados_visibles&&t.canViewResults?(o(),d(s(g),{key:2,onClick:h=>V(n),variant:"outline",size:"sm"},{default:u(()=>[i(s(x),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):l("",!0)])])])]))),128))])):l("",!0),!t.votaciones||t.votaciones.length===0?(o(),c("div",ke,[a("div",we,[i(s(G),{class:"h-12 w-12"})]),p[3]||(p[3]=a("h3",{class:"mt-2 text-sm font-semibold text-gray-900 dark:text-gray-100"}," No hay votaciones ",-1)),a("p",he,m(t.emptyMessage||"No se encontraron votaciones disponibles."),1)])):l("",!0)]))}});export{Fe as _};
