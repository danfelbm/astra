import{_ as P}from"./GuestLayout.vue_vue_type_script_setup_true_lang-B7F2KBw0.js";import{d as M,r as h,p as k,i as n,e as s,f as t,q as B,w as l,g as o,j as T,h as x,t as u,m as i,F as y,k as $,b as C,v as N,s as E}from"./app-CSUPqSMz.js";import{_ as p,c as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-ByNoy_Y2.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-qz7OskJt.js";import{_ as H,a as q,b as D,c as z,d as v}from"./SelectValue.vue_vue_type_script_setup_true_lang-B0zCjsGc.js";import{_ as b}from"./createLucideIcon-Bpd7Lz21.js";import{_ as U}from"./ProyectoCard.vue_vue_type_script_setup_true_lang-BuU6s_Mu.js";import{S as A}from"./search-B7koysji.js";import{F as I}from"./filter-VfceoQwC.js";import{F}from"./folder-open-BSPHF0Yp.js";import"./index-D10GpyFo.js";import"./index-DuDiNkIE.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-SopszEwA.js";import"./index-DHUnTxeJ.js";import"./VisuallyHidden-CoJfAQ5l.js";import"./check-BJXe_xaF.js";import"./floating-ui.vue-D3TvU6_4.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-jkynRoLn.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-BXSw5JN1.js";import"./index-BVK128az.js";import"./Progress.vue_vue_type_script_setup_true_lang-CqOhE0r-.js";import"./EtiquetaDisplay-kUObL_lj.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BbhS97tF.js";import"./chevron-right-BplIK_Zm.js";import"./layers-BlgIQi3d.js";import"./zap-D8lUvzIT.js";import"./target-DIcFC4_y.js";import"./trending-up-DWMM69_i.js";import"./award-D7V3O9zZ.js";import"./hash-B3xzfByi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./calendar-DrKaZ9qm.js";import"./user-B3paekYl.js";import"./clock-Bx7kf3Hn.js";import"./arrow-right-ukwZOwPh.js";const O={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8"},G={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"flex flex-col sm:flex-row gap-4"},K={class:"relative flex-1"},Q={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"},R={class:"flex items-center justify-between"},W={class:"text-2xl font-bold"},X={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-yellow-600"},Z={class:"flex items-center justify-between"},ee={class:"text-2xl font-bold text-green-600"},te={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},se={key:1},oe={class:"flex flex-col items-center justify-center text-center"},le={key:2,class:"flex justify-center gap-2 mt-8"},ae={key:3,class:"text-center text-sm text-gray-500 mt-4"},Ue=M({__name:"Index",props:{proyectos:{},filters:{}},setup(d){const g=d,m=h(g.filters.search||""),c=h(g.filters.estado||""),_=()=>{E.get("/proyectos-publicos",{search:m.value,estado:c.value},{preserveState:!0,preserveScroll:!0,replace:!0})};let w;k(m,()=>{clearTimeout(w),w=setTimeout(()=>{_()},500)}),k(c,()=>{_()});const V=r=>({en_progreso:"En Progreso",completado:"Completado"})[r]||r,j=r=>({baja:"Baja",media:"Media",alta:"Alta",critica:"Crítica"})[r]||r,L=g.proyectos.data.map(r=>({...r,estado_label:V(r.estado),prioridad_label:j(r.prioridad),porcentaje_completado:r.estado==="completado"?100:50,duracion_dias:r.fecha_fin?Math.ceil((new Date(r.fecha_fin).getTime()-new Date(r.fecha_inicio).getTime())/(1e3*60*60*24)):null}));return(r,e)=>(i(),n(y,null,[s(t(B),{title:"Proyectos Públicos"}),s(P,null,{default:l(()=>[o("div",O,[o("div",G,[e[14]||(e[14]=o("div",{class:"text-center mb-8"},[o("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Proyectos en Curso "),o("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Conoce los proyectos que estamos desarrollando ")],-1)),s(t(p),{class:"mb-8"},{default:l(()=>[s(t(f),{class:"p-6"},{default:l(()=>[o("div",J,[o("div",K,[s(t(A),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s(t(S),{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),type:"text",placeholder:"Buscar proyectos...",class:"pl-10"},null,8,["modelValue"])]),s(t(H),{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=a=>c.value=a)},{default:l(()=>[s(t(q),{class:"w-full sm:w-[180px]"},{default:l(()=>[s(t(D),{placeholder:"Todos los estados"})]),_:1}),s(t(z),null,{default:l(()=>[s(t(v),{value:"all"},{default:l(()=>[...e[3]||(e[3]=[x("Todos",-1)])]),_:1}),s(t(v),{value:"en_progreso"},{default:l(()=>[...e[4]||(e[4]=[x("En Progreso",-1)])]),_:1}),s(t(v),{value:"completado"},{default:l(()=>[...e[5]||(e[5]=[x("Completados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(t(b),{variant:"outline",onClick:e[2]||(e[2]=a=>{m.value="",c.value="",_()})},{default:l(()=>[s(t(I),{class:"mr-2 h-4 w-4"}),e[6]||(e[6]=x(" Limpiar ",-1))]),_:1})])]),_:1})]),_:1}),o("div",Q,[s(t(p),null,{default:l(()=>[s(t(f),{class:"p-6"},{default:l(()=>[o("div",R,[o("div",null,[e[7]||(e[7]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total de Proyectos",-1)),o("p",W,u(d.proyectos.total),1)]),s(t(F),{class:"h-8 w-8 text-blue-500"})])]),_:1})]),_:1}),s(t(p),null,{default:l(()=>[s(t(f),{class:"p-6"},{default:l(()=>[o("div",X,[o("div",null,[e[8]||(e[8]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"En Progreso",-1)),o("p",Y,u(d.proyectos.data.filter(a=>a.estado==="en_progreso").length),1)]),e[9]||(e[9]=o("div",{class:"h-8 w-8 rounded-full bg-yellow-100 dark:bg-yellow-900"},null,-1))])]),_:1})]),_:1}),s(t(p),null,{default:l(()=>[s(t(f),{class:"p-6"},{default:l(()=>[o("div",Z,[o("div",null,[e[10]||(e[10]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Completados",-1)),o("p",ee,u(d.proyectos.data.filter(a=>a.estado==="completado").length),1)]),e[11]||(e[11]=o("div",{class:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900"},null,-1))])]),_:1})]),_:1})]),d.proyectos.data.length>0?(i(),n("div",te,[(i(!0),n(y,null,$(t(L),a=>(i(),n("div",{key:a.id},[s(U,{proyecto:a,"show-actions":!1},null,8,["proyecto"])]))),128))])):(i(),n("div",se,[s(t(p),null,{default:l(()=>[s(t(f),{class:"py-16"},{default:l(()=>[o("div",oe,[s(t(F),{class:"h-16 w-16 text-gray-400 mb-4"}),e[12]||(e[12]=o("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No hay proyectos públicos disponibles ",-1)),e[13]||(e[13]=o("p",{class:"text-gray-500 max-w-md"}," No se encontraron proyectos que coincidan con los filtros seleccionados. ",-1))])]),_:1})]),_:1})])),d.proyectos.last_page>1?(i(),n("div",le,[(i(!0),n(y,null,$(d.proyectos.links,a=>(i(),n(y,{key:a.label},[a.url?(i(),C(t(N),{key:0,href:a.url,"preserve-state":"","preserve-scroll":""},{default:l(()=>[s(t(b),{variant:a.active?"default":"outline",size:"sm",innerHTML:a.label},null,8,["variant","innerHTML"])]),_:2},1032,["href"])):(i(),C(t(b),{key:1,variant:"outline",size:"sm",disabled:"",innerHTML:a.label},null,8,["innerHTML"]))],64))),128))])):T("",!0),d.proyectos.total>0?(i(),n("div",ae," Mostrando "+u(d.proyectos.data.length)+" de "+u(d.proyectos.total)+" proyectos públicos ",1)):T("",!0)])])]),_:1})],64))}});export{Ue as default};
