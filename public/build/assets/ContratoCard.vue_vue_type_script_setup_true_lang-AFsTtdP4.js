import{a as k,b as C,c as $,_ as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-BXCLwqRH.js";import{_ as y}from"./index-DgRiAzms.js";import{_ as x}from"./createLucideIcon-CHf_Lxma.js";import{d as S,c as h,b as z,w as r,e as o,f as a,g as e,i,j as l,h as f,t as s,v as B,n as u,y as D,m as c}from"./app-CkhVWdHG.js";import{C as v}from"./calendar-DY2SJR6W.js";import{D as V}from"./dollar-sign-DHler1S1.js";import{U as E}from"./user-CeelOWF7.js";import{C as N}from"./circle-alert-C7lqUy5m.js";import{F as P}from"./file-text-D16wxmF-.js";import{E as p}from"./eye-Bsf55Z8m.js";import{S as A}from"./square-pen-5xtJLdpS.js";const F={class:"flex items-start justify-between"},T={class:"flex-1"},U={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},q={key:0,class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},I={class:"grid grid-cols-2 gap-3 text-sm"},L={class:"flex items-center gap-2"},G={class:"ml-1 font-medium"},H={class:"flex items-center gap-2"},J={class:"ml-1 font-medium"},K={key:0,class:"flex items-center gap-2"},M={class:"font-medium"},O={key:1,class:"flex items-center gap-2"},Q={class:"truncate"},R={key:1,class:"flex items-center gap-2"},W={key:2},X={class:"flex justify-between text-xs text-gray-600 mb-1"},Y={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Z={class:"flex items-center justify-between"},tt={key:0,class:"flex gap-2"},ft=S({__name:"ContratoCard",props:{contrato:{},showProyecto:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0}},setup(t){const m=t,b=h(()=>({borrador:"bg-gray-100 text-gray-800",activo:"bg-green-100 text-green-800",finalizado:"bg-blue-100 text-blue-800",cancelado:"bg-red-100 text-red-800"})[m.contrato.estado]||"bg-gray-100 text-gray-800"),w=h(()=>m.contrato.estado==="cancelado"?"bg-red-500":m.contrato.estado==="finalizado"?"bg-blue-500":m.contrato.esta_vencido?"bg-red-500":m.contrato.esta_proximo_vencer?"bg-yellow-500":"bg-green-500"),g=d=>d?new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"-";return(d,n)=>(c(),z(a(j),{class:"hover:shadow-lg transition-shadow duration-300 cursor-pointer"},{default:r(()=>[o(a(k),null,{default:r(()=>[e("div",F,[e("div",T,[o(a(C),{class:"text-lg font-semibold mb-1"},{default:r(()=>[f(s(t.contrato.nombre),1)]),_:1}),t.showProyecto&&t.contrato.proyecto?(c(),i("div",U,[o(a(B),{href:`/admin/proyectos/${t.contrato.proyecto.id}`,class:"hover:text-primary transition-colors"},{default:r(()=>[f(s(t.contrato.proyecto.nombre),1)]),_:1},8,["href"])])):l("",!0)]),o(a(y),{class:u(b.value)},{default:r(()=>[f(s(t.contrato.estado),1)]),_:1},8,["class"])])]),_:1}),o(a($),{class:"space-y-4"},{default:r(()=>[t.contrato.descripcion?(c(),i("p",q,s(t.contrato.descripcion),1)):l("",!0),e("div",I,[e("div",L,[o(a(v),{class:"h-4 w-4 text-gray-400"}),e("div",null,[n[2]||(n[2]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Inicio:",-1)),e("span",G,s(g(t.contrato.fecha_inicio)),1)])]),e("div",H,[o(a(v),{class:"h-4 w-4 text-gray-400"}),e("div",null,[n[3]||(n[3]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Fin:",-1)),e("span",J,s(g(t.contrato.fecha_fin)),1)])]),t.contrato.monto_formateado?(c(),i("div",K,[o(a(V),{class:"h-4 w-4 text-gray-400"}),e("span",M,s(t.contrato.monto_formateado),1)])):l("",!0),t.contrato.responsable?(c(),i("div",O,[o(a(E),{class:"h-4 w-4 text-gray-400"}),e("span",Q,s(t.contrato.responsable.name),1)])):l("",!0)]),t.contrato.esta_vencido||t.contrato.esta_proximo_vencer?(c(),i("div",R,[o(a(N),{class:u(["h-4 w-4",t.contrato.esta_vencido?"text-red-500":"text-yellow-500"])},null,8,["class"]),e("span",{class:u(["text-sm font-medium",t.contrato.esta_vencido?"text-red-600":"text-yellow-600"])},s(t.contrato.esta_vencido?"Contrato vencido":`Vence en ${t.contrato.dias_restantes} dÃ­as`),3)])):l("",!0),t.contrato.estado==="activo"&&t.contrato.porcentaje_transcurrido!==void 0?(c(),i("div",W,[e("div",X,[n[4]||(n[4]=e("span",null,"Progreso",-1)),e("span",null,s(t.contrato.porcentaje_transcurrido)+"%",1)]),e("div",Y,[e("div",{class:u([w.value,"h-2 rounded-full transition-all duration-300"]),style:D({width:`${t.contrato.porcentaje_transcurrido}%`})},null,6)])])):l("",!0),e("div",Z,[o(a(y),{variant:"outline",class:"text-xs"},{default:r(()=>[o(a(P),{class:"h-3 w-3 mr-1"}),f(" "+s(t.contrato.tipo),1)]),_:1}),t.showActions?(c(),i("div",tt,[o(a(x),{size:"sm",variant:"ghost",onClick:n[0]||(n[0]=_=>d.$inertia.get(`/admin/contratos/${t.contrato.id}`))},{default:r(()=>[o(a(p),{class:"h-4 w-4"})]),_:1}),o(a(x),{size:"sm",variant:"ghost",onClick:n[1]||(n[1]=_=>d.$inertia.get(`/admin/contratos/${t.contrato.id}/edit`))},{default:r(()=>[o(a(A),{class:"h-4 w-4"})]),_:1})])):l("",!0)])]),_:1})]),_:1}))}});export{ft as _};
