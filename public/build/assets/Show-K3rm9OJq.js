import{d as x,b as _,e as n,w as i,g as s,f as a,j as p,u as o,h as m,t as l,W as P,P as w,i as g,F as $,k as C}from"./app-BxMQdeji.js";import{_ as S}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CiEBtCld.js";import{_ as B}from"./createLucideIcon-C-UWYrfi.js";import{_ as d,a as u,b as f,c}from"./CardTitle.vue_vue_type_script_setup_true_lang-BnCOEwdG.js";import{_ as D}from"./Label.vue_vue_type_script_setup_true_lang-Cv61jd0z.js";import{u as I,O as N}from"./ObligacionTree-DqmHkXKR.js";import{P as O}from"./paperclip-BJwPpZCJ.js";import{P as V}from"./pencil-Zx7PKTzd.js";import{f as A,e as E}from"./es-BDPlFIsO.js";import{p as H}from"./parseISO-DFjB8F03.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-HaYR--Vk.js";import"./index-DyBffbvj.js";import"./floating-ui.vue-8MwpQwna.js";import"./x-CtZ-Yk1L.js";import"./Input.vue_vue_type_script_setup_true_lang-BlmtfhYq.js";import"./index-gViH2lvq.js";import"./index-CniBkxSN.js";import"./shield-BWgGyosQ.js";import"./user-y-oKgZ0r.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CwQxj27i.js";import"./chevron-right-Fu6i2V5H.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-XGwxgqGh.js";import"./VisuallyHidden-BU7kxpuH.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-C_cC4TmA.js";import"./check-Df8aIUSG.js";import"./nullish-CHIgUVhi.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-Rc0j_Ts0.js";import"./index-uuqfgDZR.js";import"./circle-alert----6uGyB.js";import"./map-pin-BSO3mLrr.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-vmsnnBVQ.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-D23-rq2T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-3z313Cuu.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CtZNhcn0.js";import"./tag-DPKMgGKR.js";import"./users-CvN1Zex9.js";import"./target-DGdssVnK.js";import"./vote-BLA5af_M.js";import"./folder-open-B7m9IzBm.js";import"./send-oS9jU0xl.js";import"./file-text-BnGFyr0l.js";import"./briefcase-WEKIfwBg.js";import"./calendar-DgdSvpAx.js";import"./megaphone-4hd08Cg7.js";import"./user-check-B_HPyobX.js";import"./mail-DqZLMO2Y.js";import"./message-square-DEtIPXL4.js";import"./external-link-B-I99Qkx.js";import"./panel-left-CpkWwX9C.js";import"./index-BV26-s10.js";import"./index-De6-LhcB.js";import"./Separator.vue_vue_type_script_setup_true_lang-CueonzSX.js";import"./TooltipProvider.vue_vue_type_script_setup_true_lang-BqidMNOM.js";import"./circle-Ce0gP_g9.js";import"./layers-C2WRDaYL.js";import"./plus-Blz5-OLA.js";import"./trash-2-CWeupkIm.js";import"./loader-circle-DBrkq7WX.js";const M={class:"flex justify-between"},z={class:"text-xl font-semibold"},F={class:"flex gap-2"},T={class:"py-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},G={class:"md:col-span-2 space-y-6"},L={class:"mt-1"},q={class:"space-y-6"},J={class:"font-medium"},K={class:"text-sm text-gray-600 mt-1"},Q={class:"space-y-2"},R=["href"],U={class:"text-xs text-gray-500"},X={key:0},Y={class:"text-xs text-gray-500"},Z={key:1},oo={class:"text-xs text-gray-500"},nt=x({__name:"Show",props:{obligacion:{},contrato:{}},setup(to){const{hasPermission:y}=I(),b=t=>{if(!t)return"Sin fecha";try{return A(H(t),"dd MMM yyyy HH:mm",{locale:E})}catch{return t}};return(t,e)=>(n(),_(S,{title:t.obligacion.titulo},{header:i(()=>[s("div",M,[s("h2",z,l(t.obligacion.titulo),1),s("div",F,[o(y)("obligaciones.edit")?(n(),_(o(w),{key:0,href:t.route("admin.obligaciones.edit",t.obligacion.id)},{default:i(()=>[a(o(B),{variant:"outline"},{default:i(()=>[a(o(V),{class:"h-4 w-4 mr-1"}),e[1]||(e[1]=m(" Editar",-1))]),_:1})]),_:1},8,["href"])):p("",!0)])])]),default:i(()=>{var h,v;return[s("div",T,[s("div",W,[s("div",G,[a(o(d),null,{default:i(()=>[a(o(u),null,{default:i(()=>[a(o(f),null,{default:i(()=>[...e[2]||(e[2]=[m("Información General",-1)])]),_:1})]),_:1}),a(o(c),{class:"space-y-4"},{default:i(()=>[s("div",null,[a(o(D),null,{default:i(()=>[...e[3]||(e[3]=[m("Descripción",-1)])]),_:1}),s("p",L,l(t.obligacion.descripcion||"Sin descripción"),1)])]),_:1})]),_:1}),(h=t.obligacion.hijos)!=null&&h.length?(n(),_(o(d),{key:0},{default:i(()=>[a(o(u),null,{default:i(()=>[a(o(f),null,{default:i(()=>[...e[4]||(e[4]=[m("Obligaciones Hijas",-1)])]),_:1})]),_:1}),a(o(c),null,{default:i(()=>[a(N,{obligaciones:t.obligacion.hijos,contratoId:t.obligacion.contrato_id,editable:o(y)("obligaciones.edit"),onEdit:e[0]||(e[0]=r=>o(P).visit(t.route("admin.obligaciones.edit",r.id)))},null,8,["obligaciones","contratoId","editable"])]),_:1})]),_:1})):p("",!0)]),s("div",q,[a(o(d),null,{default:i(()=>[a(o(u),null,{default:i(()=>[a(o(f),null,{default:i(()=>[...e[5]||(e[5]=[m("Detalles del Contrato",-1)])]),_:1})]),_:1}),a(o(c),null,{default:i(()=>{var r;return[a(o(w),{href:t.route("admin.contratos.show",t.contrato.id),class:"hover:underline"},{default:i(()=>[s("h3",J,l(t.contrato.nombre),1)]),_:1},8,["href"]),s("p",K,l((r=t.contrato.proyecto)==null?void 0:r.nombre),1)]}),_:1})]),_:1}),(v=t.obligacion.archivos_adjuntos)!=null&&v.length?(n(),_(o(d),{key:0},{default:i(()=>[a(o(u),null,{default:i(()=>[a(o(f),null,{default:i(()=>[...e[6]||(e[6]=[m("Archivos Adjuntos",-1)])]),_:1})]),_:1}),a(o(c),null,{default:i(()=>[s("div",Q,[(n(!0),g($,null,C(t.obligacion.archivos_adjuntos,r=>(n(),g("div",{key:r.ruta,class:"flex items-center gap-2"},[a(o(O),{class:"h-4 w-4"}),s("a",{href:r.ruta,target:"_blank",class:"hover:underline text-sm"},l(r.nombre_original),9,R)]))),128))])]),_:1})]),_:1})):p("",!0),a(o(d),null,{default:i(()=>[a(o(u),null,{default:i(()=>[a(o(f),null,{default:i(()=>[...e[7]||(e[7]=[m("Auditoría",-1)])]),_:1})]),_:1}),a(o(c),{class:"text-sm space-y-2"},{default:i(()=>{var r,k,j;return[s("div",null,[e[8]||(e[8]=s("span",{class:"text-gray-600"},"Creado por:",-1)),s("p",null,l(((r=t.obligacion.creador)==null?void 0:r.name)||"Sistema"),1),s("p",U,l(b(t.obligacion.created_at)),1)]),t.obligacion.updated_at?(n(),g("div",X,[e[9]||(e[9]=s("span",{class:"text-gray-600"},"Última actualización:",-1)),s("p",null,l(((k=t.obligacion.actualizador)==null?void 0:k.name)||"Sistema"),1),s("p",Y,l(b(t.obligacion.updated_at)),1)])):p("",!0),t.obligacion.cumplido_at?(n(),g("div",Z,[e[10]||(e[10]=s("span",{class:"text-gray-600"},"Cumplido por:",-1)),s("p",null,l(((j=t.obligacion.cumplido_por_usuario)==null?void 0:j.name)||"Sistema"),1),s("p",oo,l(b(t.obligacion.cumplido_at)),1)])):p("",!0)]}),_:1})]),_:1})])])])]}),_:1},8,["title"]))}});export{nt as default};
