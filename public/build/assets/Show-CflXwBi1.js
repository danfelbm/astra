import{_ as te}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CCPW6MDq.js";import{d as ae,r as V,p as se,s as h,c as j,i as _,e as a,f as t,q as oe,w as s,g as i,t as u,b,j as c,v as ie,h as n,m,n as D,F as T,k as le,y as re}from"./app-B7PnGMAV.js";import{_ as g,a as $,b as w,c as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dn6Y_7jM.js";import{_ as ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-VOU9gGEk.js";import{_ as k}from"./createLucideIcon-DI6U3gwA.js";import{_ as E}from"./index-BTD9fiCJ.js";import{_ as de}from"./Progress.vue_vue_type_script_setup_true_lang-2o3N4wR2.js";import{_ as ue,a as me,b as C,c as P}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DvH9xjCG.js";import{_ as ce,a as fe,b as pe,c as be,d as ge,e as ve,f as he,g as ye}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-4f_l857Q.js";import{_ as xe}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CtD5Lgvt.js";import{t as y}from"./index-UPtpLtaq.js";import{_ as _e,a as $e}from"./EntregablesFilters.vue_vue_type_script_setup_true_lang-DjpKvvF0.js";import{_ as we,a as Ee}from"./ActivityLog.vue_vue_type_script_setup_true_lang-6G19QGpp.js";import{_ as ke}from"./CamposPersonalizadosDisplay.vue_vue_type_script_setup_true_lang-DieJhexJ.js";import{_ as Ce}from"./ComentariosPanel.vue_vue_type_script_setup_true_lang-CJkkmuos.js";import{A as Pe}from"./arrow-left-C-0FRaCo.js";import{S as ze}from"./square-pen-DIFQNOp6.js";import{C as Se}from"./copy-BwpcXbKB.js";import{T as Ve}from"./trash-2-ufHImNLu.js";import{T as je,a as De}from"./target-CjPz38v3.js";import{C as Me}from"./clock-C6h25bnn.js";import{F as N}from"./file-text-CmH6cCEi.js";import{C as Fe}from"./calendar-C6eInWsE.js";import{U as He}from"./user-Dmzg3JAl.js";import{P as A}from"./plus-BQz4addL.js";import{f as I,e as L}from"./es-BDPlFIsO.js";import{p as B}from"./parseISO-DFjB8F03.js";import"./useFlashMessages-D8oQ7xAJ.js";import"./index-zcIEMK_p.js";import"./floating-ui.vue-6tmejOIW.js";import"./x-C1SerbTX.js";import"./Input.vue_vue_type_script_setup_true_lang-8PRhBqBe.js";import"./index-B5fuxkzl.js";import"./index-Dy_wxwuH.js";import"./shield-CyyIK3c5.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BAQIV-m0.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CIqxaMm-.js";import"./VisuallyHidden-DXdD7FDa.js";import"./check-C7H_WJFk.js";import"./chevron-right-BJKzZMx4.js";import"./house-MEKTV7b6.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Caz8PVl-.js";import"./Label.vue_vue_type_script_setup_true_lang-DoPMf_am.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-D0XSn-jc.js";import"./circle-alert-DiJEEPwx.js";import"./map-pin-B9Y2wyZT.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DLfucYog.js";import"./chevrons-up-down-C55qC9J3.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DBCC99-F.js";import"./folder-Dx3fvsQR.js";import"./users-pLklPB45.js";import"./vote-weccJEOZ.js";import"./folder-open-BhmZXeXX.js";import"./send-BT9HlZj_.js";import"./briefcase-YhdK0qb2.js";import"./megaphone-DKPMsaFq.js";import"./user-check-BUYsv34n.js";import"./clipboard-list-ClT2fIoC.js";import"./mail-Dr9oHWOp.js";import"./message-square-DMKhvwiP.js";import"./external-link-CjNpfxsJ.js";import"./panel-left-ac_SXWd7.js";import"./index-pWXyAkin.js";import"./RovingFocusItem-CNp8eBA4.js";import"./utils-Di3kMv5P.js";import"./DialogTrigger-x63PwZNL.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-Cx28ZkFK.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CxTKmN-7.js";import"./Switch.vue_vue_type_script_setup_true_lang-BOdpIi2s.js";import"./VisuallyHiddenInput-H0BpJTxi.js";import"./ComentarioContextoInput.vue_vue_type_script_setup_true_lang-D7RzPvL2.js";import"./RichTextEditor-CgKeW41O.js";import"./italic-DeeJFFxg.js";import"./list-CP2SepB6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FileUploadField.vue_vue_type_script_setup_true_lang-CfLD0_Ov.js";import"./useFileUpload-Be7g_0zd.js";import"./upload-Da0zqzr7.js";import"./file-BFXMmnGr.js";import"./eye-D3-WG7cb.js";import"./download-eWUEZUGA.js";import"./paperclip-BDmDneaf.js";import"./circle-x-BuGY1ft8.js";import"./circle-check-big-BKNqQUxA.js";import"./loader-circle-BPKpLMPu.js";import"./circle-check-CdGJku8a.js";import"./filter-CEQhqhF7.js";import"./search-BSZyVR2q.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-C5t5baIS.js";import"./arrow-right-BPrvzWjL.js";import"./Skeleton.vue_vue_type_script_setup_true_lang-DxMhrzj-.js";import"./image-De4SlgHg.js";import"./ellipsis-BRoX07Fg.js";import"./chevron-left-C1L4p-pO.js";const Te={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Ne={class:"flex items-center justify-between"},Ae={class:"text-2xl font-bold"},Ie={class:"text-muted-foreground"},Le={class:"flex items-center gap-2"},Be={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-5"},Ue={class:"text-2xl font-bold"},qe={class:"text-2xl font-bold"},Re={class:"text-xs text-muted-foreground"},Oe={class:"text-sm font-medium"},Ge={class:"text-sm font-medium"},Je={key:0,class:"text-xs text-muted-foreground"},Ke={key:0},Qe={class:"text-sm text-muted-foreground whitespace-pre-wrap"},We={class:"grid gap-4 md:grid-cols-2"},Xe={class:"text-sm text-muted-foreground"},Ye={class:"text-sm text-muted-foreground"},Ze={class:"text-sm text-muted-foreground"},et={class:"space-y-2"},tt={class:"flex items-center justify-between text-sm"},at={class:"flex items-center justify-between text-sm"},st={class:"flex items-center justify-between text-sm"},ot={class:"flex items-center gap-2"},it={class:"flex flex-wrap gap-2"},lt={class:"space-y-3"},rt={key:0},nt={class:"text-sm text-muted-foreground"},dt={key:1},ut={class:"grid gap-4 md:grid-cols-2 text-sm"},mt={class:"font-medium"},ct={class:"font-medium"},ft={key:0},pt={class:"font-medium"},bt={key:1},gt={class:"font-medium"},vt={class:"flex justify-between items-center"},is=ae({__name:"Show",props:{hito:{},proyecto:{},canEdit:{type:Boolean},canDelete:{type:Boolean},canManageEntregables:{type:Boolean},estadisticas:{},actividades:{},usuariosActividades:{},camposPersonalizados:{},valoresCamposPersonalizados:{}},setup(o){const d=o,U=[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:d.proyecto.nombre,href:`/admin/proyectos/${d.proyecto.id}`},{title:"Hitos",href:`/admin/proyectos/${d.proyecto.id}/hitos`},{title:d.hito.nombre,href:"#"}],q=["detalles","entregables","comentarios","actividad"],z=V((()=>{const e=new URLSearchParams(window.location.search).get("tab");return e&&q.includes(e)?e:"detalles"})());se(z,l=>{const e=`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}?tab=${l}`;h.get(e,{},{preserveState:!0,preserveScroll:!0,replace:!0,only:[]})});const p=V({usuario_id:null,tipo_entidad:null,tipo_accion:null,fecha_inicio:null,fecha_fin:null}),f=V({search:null,estado:null,prioridad:null,responsable_id:null,fecha_inicio:null,fecha_fin:null}),R=()=>{h.visit(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/edit`)},O=()=>{h.delete(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}`,{onSuccess:()=>{y.success("Hito eliminado exitosamente")},onError:()=>{y.error("Error al eliminar el hito")}})},G=()=>{h.post(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/duplicar`,{},{onSuccess:()=>{y.success("Hito duplicado exitosamente")},onError:()=>{y.error("Error al duplicar el hito")}})},M=()=>{h.visit(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables/create`)},J=l=>{h.visit(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables/${l.id}`)},K=l=>{h.visit(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables/${l.id}/edit`)},Q=l=>{h.delete(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables/${l.id}`,{onSuccess:()=>{y.success("Entregable eliminado exitosamente")},onError:()=>{y.error("Error al eliminar el entregable")}})},W=l=>{h.post(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables/${l.id}/completar`,{},{onSuccess:()=>{y.success("Entregable completado exitosamente")},onError:()=>{y.error("Error al completar el entregable")}})},X=l=>{h.post(`/admin/proyectos/${d.proyecto.id}/hitos/${d.hito.id}/entregables/${l.id}/actualizar-estado`,{estado:"en_progreso"},{onSuccess:()=>{y.success("Entregable marcado como en progreso")},onError:()=>{y.error("Error al actualizar el estado")}})},F=l=>({pendiente:"bg-gray-100 text-gray-800",en_progreso:"bg-blue-100 text-blue-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[l]||"bg-gray-100 text-gray-800",S=l=>l?I(B(l),"dd MMM yyyy",{locale:L}):"No definida",H=l=>l?I(B(l),"dd MMM yyyy 'a las' HH:mm",{locale:L}):"No definida",Y=j(()=>{let l=d.hito.entregables||[];if(f.value.search){const e=f.value.search.toLowerCase();l=l.filter(r=>r.nombre.toLowerCase().includes(e)||r.descripcion&&r.descripcion.toLowerCase().includes(e))}return f.value.estado&&(l=l.filter(e=>e.estado===f.value.estado)),f.value.prioridad&&(l=l.filter(e=>e.prioridad===f.value.prioridad)),f.value.responsable_id&&(l=l.filter(e=>{var r;return((r=e.responsable)==null?void 0:r.id)===f.value.responsable_id})),(f.value.fecha_inicio||f.value.fecha_fin)&&(l=l.filter(e=>{if(!e.fecha_fin)return!1;const r=new Date(e.fecha_fin);if(f.value.fecha_inicio){const x=new Date(f.value.fecha_inicio);if(r<x)return!1}if(f.value.fecha_fin){const x=new Date(f.value.fecha_fin);if(x.setHours(23,59,59,999),r>x)return!1}return!0})),l}),Z=j(()=>{const l=new Map;return(d.hito.entregables||[]).forEach(e=>{var r;(r=e.responsable)!=null&&r.id&&l.set(e.responsable.id,{id:e.responsable.id,name:e.responsable.name,email:e.responsable.email})}),Array.from(l.values())}),ee=j(()=>{let l=d.actividades||[];return p.value.usuario_id&&(l=l.filter(e=>{var r;return((r=e.causer)==null?void 0:r.id)===p.value.usuario_id})),p.value.tipo_entidad&&(l=l.filter(e=>e.subject_type===p.value.tipo_entidad)),p.value.tipo_accion&&(l=l.filter(e=>e.event===p.value.tipo_accion)),(p.value.fecha_inicio||p.value.fecha_fin)&&(l=l.filter(e=>{const r=new Date(e.created_at);if(p.value.fecha_inicio){const x=new Date(p.value.fecha_inicio);if(r<x)return!1}if(p.value.fecha_fin){const x=new Date(p.value.fecha_fin);if(x.setHours(23,59,59,999),r>x)return!1}return!0})),l});return(l,e)=>(m(),_(T,null,[a(t(oe),{title:`Hito: ${o.hito.nombre}`},null,8,["title"]),a(te,{breadcrumbs:U},{default:s(()=>[i("div",Te,[i("div",Ne,[i("div",null,[i("h1",Ae,u(o.hito.nombre),1),i("p",Ie,"Proyecto: "+u(o.proyecto.nombre),1)]),i("div",Le,[a(t(ie),{href:`/admin/proyectos/${o.proyecto.id}/hitos`},{default:s(()=>[a(t(k),{variant:"outline",size:"sm"},{default:s(()=>[a(t(Pe),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=n(" Volver ",-1))]),_:1})]),_:1},8,["href"]),o.canEdit?(m(),b(t(k),{key:0,onClick:R,size:"sm",variant:"outline"},{default:s(()=>[a(t(ze),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=n(" Editar ",-1))]),_:1})):c("",!0),a(t(k),{onClick:G,size:"sm",variant:"outline"},{default:s(()=>[a(t(Se),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=n(" Duplicar ",-1))]),_:1}),o.canDelete?(m(),b(t(ce),{key:1},{default:s(()=>[a(t(xe),{asChild:""},{default:s(()=>[a(t(k),{variant:"destructive",size:"sm"},{default:s(()=>[a(t(Ve),{class:"h-4 w-4 mr-2"}),e[6]||(e[6]=n(" Eliminar ",-1))]),_:1})]),_:1}),a(t(fe),null,{default:s(()=>[a(t(pe),null,{default:s(()=>[a(t(be),null,{default:s(()=>[...e[7]||(e[7]=[n("¿Estás seguro?",-1)])]),_:1}),a(t(ge),null,{default:s(()=>[...e[8]||(e[8]=[n(" Esta acción no se puede deshacer. Se eliminará permanentemente el hito y todos sus entregables asociados. ",-1)])]),_:1})]),_:1}),a(t(ve),null,{default:s(()=>[a(t(he),null,{default:s(()=>[...e[9]||(e[9]=[n("Cancelar",-1)])]),_:1}),a(t(ye),{onClick:O},{default:s(()=>[...e[10]||(e[10]=[n(" Eliminar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):c("",!0)])]),i("div",Be,[a(t(g),null,{default:s(()=>[a(t($),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[a(t(w),{class:"text-sm font-medium"},{default:s(()=>[...e[11]||(e[11]=[n("Estado",-1)])]),_:1}),a(t(je),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),a(t(v),null,{default:s(()=>[a(t(E),{class:D([F(o.hito.estado),"mt-1"])},{default:s(()=>[n(u(o.hito.estado),1)]),_:1},8,["class"])]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t($),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[a(t(w),{class:"text-sm font-medium"},{default:s(()=>[...e[12]||(e[12]=[n("Progreso",-1)])]),_:1}),a(t(Me),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),a(t(v),null,{default:s(()=>[i("div",Ue,u(o.hito.porcentaje_completado)+"%",1),a(t(de),{"model-value":o.hito.porcentaje_completado,class:"mt-2 h-1"},null,8,["model-value"])]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t($),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[a(t(w),{class:"text-sm font-medium"},{default:s(()=>[...e[13]||(e[13]=[n("Entregables",-1)])]),_:1}),a(t(N),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),a(t(v),null,{default:s(()=>[i("div",qe,u(o.estadisticas.total_entregables),1),i("p",Re,u(o.estadisticas.entregables_completados)+" completados ",1)]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t($),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[a(t(w),{class:"text-sm font-medium"},{default:s(()=>[...e[14]||(e[14]=[n("Fecha Fin",-1)])]),_:1}),a(t(Fe),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),a(t(v),null,{default:s(()=>[i("div",Oe,u(S(o.hito.fecha_fin)),1),o.estadisticas.dias_restantes!==null?(m(),_("p",{key:0,class:D(["text-xs",o.estadisticas.esta_vencido?"text-red-600":"text-muted-foreground"])},u(o.estadisticas.esta_vencido?`Vencido hace ${Math.abs(o.estadisticas.dias_restantes)} días`:`${o.estadisticas.dias_restantes} días restantes`),3)):c("",!0)]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t($),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[a(t(w),{class:"text-sm font-medium"},{default:s(()=>[...e[15]||(e[15]=[n("Responsable",-1)])]),_:1}),a(t(He),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),a(t(v),null,{default:s(()=>{var r;return[i("div",Ge,u(((r=o.hito.responsable)==null?void 0:r.name)||"Sin asignar"),1),o.hito.responsable?(m(),_("p",Je,u(o.hito.responsable.email),1)):c("",!0)]}),_:1})]),_:1})]),a(t(ue),{modelValue:z.value,"onUpdate:modelValue":e[2]||(e[2]=r=>z.value=r),class:"flex-1"},{default:s(()=>[a(t(me),null,{default:s(()=>[a(t(C),{value:"detalles"},{default:s(()=>[...e[16]||(e[16]=[n("Detalles",-1)])]),_:1}),a(t(C),{value:"entregables"},{default:s(()=>[e[17]||(e[17]=n(" Entregables ",-1)),a(t(E),{variant:"secondary",class:"ml-2"},{default:s(()=>[n(u(o.estadisticas.total_entregables),1)]),_:1})]),_:1}),a(t(C),{value:"comentarios"},{default:s(()=>[e[18]||(e[18]=n(" Comentarios ",-1)),o.hito.total_comentarios>0?(m(),b(t(E),{key:0,variant:"secondary",class:"ml-2"},{default:s(()=>[n(u(o.hito.total_comentarios),1)]),_:1})):c("",!0)]),_:1}),a(t(C),{value:"actividad"},{default:s(()=>[...e[19]||(e[19]=[n("Actividad",-1)])]),_:1})]),_:1}),a(t(P),{value:"detalles",class:"space-y-4"},{default:s(()=>[a(t(g),null,{default:s(()=>[a(t($),null,{default:s(()=>[a(t(w),null,{default:s(()=>[...e[20]||(e[20]=[n("Información General",-1)])]),_:1})]),_:1}),a(t(v),{class:"space-y-4"},{default:s(()=>[o.hito.descripcion?(m(),_("div",Ke,[e[21]||(e[21]=i("h3",{class:"font-semibold mb-2"},"Descripción",-1)),i("p",Qe,u(o.hito.descripcion),1)])):c("",!0),i("div",We,[i("div",null,[e[22]||(e[22]=i("h3",{class:"font-semibold mb-2"},"Fecha de Inicio",-1)),i("p",Xe,u(S(o.hito.fecha_inicio)),1)]),i("div",null,[e[23]||(e[23]=i("h3",{class:"font-semibold mb-2"},"Fecha de Fin",-1)),i("p",Ye,u(S(o.hito.fecha_fin)),1)]),i("div",null,[e[24]||(e[24]=i("h3",{class:"font-semibold mb-2"},"Orden",-1)),i("p",Ze,u(o.hito.orden),1)]),i("div",null,[e[25]||(e[25]=i("h3",{class:"font-semibold mb-2"},"Estado",-1)),a(t(E),{class:D(F(o.hito.estado))},{default:s(()=>[n(u(o.hito.estado),1)]),_:1},8,["class"])])]),i("div",null,[e[29]||(e[29]=i("h3",{class:"font-semibold mb-2"},"Resumen de Entregables",-1)),i("div",et,[i("div",tt,[e[26]||(e[26]=i("span",{class:"text-muted-foreground"},"Pendientes",-1)),a(t(E),{variant:"outline"},{default:s(()=>[n(u(o.estadisticas.entregables_pendientes),1)]),_:1})]),i("div",at,[e[27]||(e[27]=i("span",{class:"text-muted-foreground"},"En Progreso",-1)),a(t(E),{variant:"outline",class:"bg-blue-50"},{default:s(()=>[n(u(o.estadisticas.entregables_en_progreso),1)]),_:1})]),i("div",st,[e[28]||(e[28]=i("span",{class:"text-muted-foreground"},"Completados",-1)),a(t(E),{variant:"outline",class:"bg-green-50"},{default:s(()=>[n(u(o.estadisticas.entregables_completados),1)]),_:1})])])])]),_:1})]),_:1}),o.hito.etiquetas&&o.hito.etiquetas.length>0?(m(),b(t(g),{key:0},{default:s(()=>[a(t($),null,{default:s(()=>[i("div",ot,[a(t(De),{class:"h-5 w-5"}),a(t(w),null,{default:s(()=>[...e[30]||(e[30]=[n("Etiquetas",-1)])]),_:1})]),a(t(ne),null,{default:s(()=>[...e[31]||(e[31]=[n(" Etiquetas asignadas a este hito para su organización y categorización ",-1)])]),_:1})]),_:1}),a(t(v),null,{default:s(()=>[i("div",it,[(m(!0),_(T,null,le(o.hito.etiquetas,r=>(m(),b(t(E),{key:r.id,variant:"outline",class:"px-3 py-1.5",style:re({borderColor:r.color||"#94a3b8",color:r.color||"#64748b",backgroundColor:`${r.color}15`||"#f1f5f9"})},{default:s(()=>[n(u(r.nombre),1)]),_:2},1032,["style"]))),128))])]),_:1})]),_:1})):c("",!0),o.hito.parent_id||o.hito.ruta_completa?(m(),b(t(g),{key:1},{default:s(()=>[a(t($),null,{default:s(()=>[a(t(w),null,{default:s(()=>[...e[32]||(e[32]=[n("Jerarquía",-1)])]),_:1})]),_:1}),a(t(v),null,{default:s(()=>[i("div",lt,[o.hito.ruta_completa?(m(),_("div",rt,[e[33]||(e[33]=i("h3",{class:"font-semibold mb-2"},"Ruta Completa",-1)),i("p",nt,u(o.hito.ruta_completa),1)])):c("",!0),o.hito.nivel!==void 0?(m(),_("div",dt,[e[34]||(e[34]=i("h3",{class:"font-semibold mb-2"},"Nivel",-1)),a(t(E),{variant:"outline"},{default:s(()=>[n("Nivel "+u(o.hito.nivel),1)]),_:1})])):c("",!0)])]),_:1})]),_:1})):c("",!0),o.camposPersonalizados&&o.camposPersonalizados.length>0?(m(),b(ke,{key:2,campos:o.camposPersonalizados,"valores-campos":o.valoresCamposPersonalizados,descripcion:"Información adicional específica del hito",columns:2},null,8,["campos","valores-campos"])):c("",!0),a(t(g),null,{default:s(()=>[a(t($),null,{default:s(()=>[a(t(w),null,{default:s(()=>[...e[35]||(e[35]=[n("Información del Sistema",-1)])]),_:1})]),_:1}),a(t(v),null,{default:s(()=>[i("div",ut,[i("div",null,[e[36]||(e[36]=i("span",{class:"text-muted-foreground"},"Creado el:",-1)),i("p",mt,u(H(o.hito.created_at)),1)]),i("div",null,[e[37]||(e[37]=i("span",{class:"text-muted-foreground"},"Última actualización:",-1)),i("p",ct,u(H(o.hito.updated_at)),1)]),o.hito.created_by_usuario?(m(),_("div",ft,[e[38]||(e[38]=i("span",{class:"text-muted-foreground"},"Creado por:",-1)),i("p",pt,u(o.hito.created_by_usuario.name),1)])):c("",!0),o.hito.updated_by_usuario?(m(),_("div",bt,[e[39]||(e[39]=i("span",{class:"text-muted-foreground"},"Actualizado por:",-1)),i("p",gt,u(o.hito.updated_by_usuario.name),1)])):c("",!0)])]),_:1})]),_:1})]),_:1}),a(t(P),{value:"entregables",class:"space-y-4"},{default:s(()=>[i("div",vt,[e[41]||(e[41]=i("h2",{class:"text-lg font-semibold"},"Lista de Entregables",-1)),o.canManageEntregables?(m(),b(t(k),{key:0,onClick:M,size:"sm"},{default:s(()=>[a(t(A),{class:"h-4 w-4 mr-2"}),e[40]||(e[40]=n(" Nuevo Entregable ",-1))]),_:1})):c("",!0)]),o.hito.entregables&&o.hito.entregables.length>0?(m(),b(_e,{key:0,modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=r=>f.value=r),usuarios:Z.value},null,8,["modelValue","usuarios"])):c("",!0),a(t(g),null,{default:s(()=>[a(t(v),{class:"p-0"},{default:s(()=>[a($e,{entregables:Y.value,"proyecto-id":o.proyecto.id,"hito-id":o.hito.id,"can-edit":o.canManageEntregables,"can-delete":o.canManageEntregables,"can-complete":o.canManageEntregables,"show-checkbox":!1,onView:J,onEdit:K,onDelete:Q,onComplete:W,onMarkInProgress:X},null,8,["entregables","proyecto-id","hito-id","can-edit","can-delete","can-complete"])]),_:1})]),_:1}),!o.hito.entregables||o.hito.entregables.length===0?(m(),b(t(g),{key:1},{default:s(()=>[a(t(v),{class:"text-center py-8"},{default:s(()=>[a(t(N),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e[43]||(e[43]=i("p",{class:"text-muted-foreground mb-4"},"No hay entregables asignados a este hito",-1)),o.canManageEntregables?(m(),b(t(k),{key:0,onClick:M,variant:"outline"},{default:s(()=>[a(t(A),{class:"h-4 w-4 mr-2"}),e[42]||(e[42]=n(" Crear Primer Entregable ",-1))]),_:1})):c("",!0)]),_:1})]),_:1})):c("",!0)]),_:1}),a(t(P),{value:"comentarios",class:"space-y-4"},{default:s(()=>[a(Ce,{"commentable-type":"hitos","commentable-id":o.hito.id,"can-create":o.canEdit},null,8,["commentable-id","can-create"])]),_:1}),a(t(P),{value:"actividad",class:"space-y-4"},{default:s(()=>[o.actividades&&o.actividades.length>0?(m(),b(we,{key:0,modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=r=>p.value=r),usuarios:o.usuariosActividades,"context-level":"hito"},null,8,["modelValue","usuarios"])):c("",!0),a(Ee,{activities:ee.value,title:"Historial de Actividad",description:"Registro de cambios y actividades del hito y sus entregables","empty-message":"No hay actividad registrada"},null,8,["activities"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{is as default};
