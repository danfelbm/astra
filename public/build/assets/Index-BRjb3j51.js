import{d as X,k,a as u,o as n,b as s,u as e,m as Y,e as l,f as o,g as i,y as Z,t as d,i as c,F as b,r as P,j as C,P as T,n as f,W as ee}from"./app-2iTeOa9n.js";import{_ as N,a as S,b as j,c as H,d as m,e as p,C as z,U as se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D5Fr6g0s.js";import{_ as D}from"./createLucideIcon-CVN7nJ0z.js";import{_ as h,a as M,b as B,c as y}from"./index-D8xSMwQO.js";import{a as te}from"./Label.vue_vue_type_script_setup_true_lang-CbiKy8_G.js";import{_ as ae,a as le,b as q,c as I}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CAEVQ3b_.js";import{M as A,_ as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-DS5NaayA.js";import{S as K}from"./search-BACcXNFl.js";import{C as re}from"./clock-Dx_sm8WL.js";import{C as ie}from"./circle-check-big-CCT7S5k5.js";import{E as O}from"./eye-DFOaw_-e.js";import{f as W,e as Q}from"./es-DfN3vIXC.js";import"./VisuallyHidden-CJ3Oqunl.js";import"./index-lxfuibjm.js";import"./RovingFocusItem-HimdiINz.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-ByAP-422.js";const de={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ne={class:"grid gap-4 md:grid-cols-4"},ue={class:"relative"},ce={class:"flex gap-2"},me={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},fe={class:"space-y-1"},pe={class:"flex gap-2"},_e={key:0,class:"text-sm text-muted-foreground line-clamp-2"},ge={class:"space-y-2 text-sm"},xe={class:"flex items-center gap-2"},ve={class:"flex items-center gap-2"},be={key:0,class:"flex items-center gap-2"},he={class:"line-clamp-1"},ye={key:1,class:"pt-2 border-t"},we={class:"flex items-center justify-between"},ke={class:"pt-2 text-sm font-medium"},Ce={class:"pt-3 border-t"},Ve={class:"inline-flex items-center gap-2 text-sm font-medium text-primary"},$e={key:0,class:"col-span-full"},Pe={key:0,class:"mt-6 flex items-center justify-between"},Te={class:"text-sm text-muted-foreground"},Me={class:"flex gap-2"},Be=["innerHTML"],Ae={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},Ee={class:"space-y-1"},Ue={class:"flex gap-2"},Fe={key:0,class:"text-sm text-muted-foreground line-clamp-2"},Le={class:"space-y-2 text-sm"},Ne={class:"flex items-center gap-2"},Se={key:0,class:"flex items-center gap-2"},je={class:"line-clamp-2"},He={class:"pt-3 border-t"},ze={class:"inline-flex items-center gap-2 text-sm font-medium text-primary"},De={key:0,class:"col-span-full"},ls=X({__name:"Index",props:{asambleas:{},asambleasPublicas:{},filters:{}},setup(G){const V=G,J=[{title:"Inicio",href:"/dashboard"},{title:"Asambleas",href:"/asambleas"}],{route:$}=window,_=k(V.filters.search||""),g=k(V.filters.estado||"all"),x=k(V.filters.tipo||"all"),E=k("mis-asambleas"),U=r=>r?W(new Date(r),"PPP",{locale:Q}):"",F=r=>r?W(new Date(r),"p",{locale:Q}):"",v=()=>{const r={};_.value&&(r.search=_.value),g.value!=="all"&&(r.estado=g.value),x.value!=="all"&&(r.tipo=x.value),ee.get($("asambleas.index"),r,{preserveState:!0,preserveScroll:!0})},R=()=>{_.value="",g.value="all",x.value="all",v()},L=r=>{switch(r){case"moderador":return{class:"bg-purple-100 text-purple-800",text:"Moderador"};case"secretario":return{class:"bg-blue-100 text-blue-800",text:"Secretario"};default:return{class:"bg-gray-100 text-gray-800",text:"Asistente"}}},w=r=>r==="ordinaria"?{class:"bg-blue-100 text-blue-800",text:"Ordinaria"}:{class:"bg-purple-100 text-purple-800",text:"Extraordinaria"};return(r,t)=>(n(),u(b,null,[s(e(Y),{title:"Asambleas"}),s(oe,{breadcrumbs:J},{default:l(()=>[o("div",de,[t[23]||(t[23]=o("div",null,[o("h1",{class:"text-3xl font-bold"},"Asambleas"),o("p",{class:"text-muted-foreground"}," Consulta las asambleas donde participas y las disponibles en tu territorio ")],-1)),s(e(h),null,{default:l(()=>[s(e(M),null,{default:l(()=>[s(e(B),null,{default:l(()=>t[4]||(t[4]=[i("Filtros")])),_:1})]),_:1}),s(e(y),null,{default:l(()=>[o("div",ne,[o("div",ue,[s(e(K),{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s(e(te),{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=a=>_.value=a),placeholder:"Buscar por nombre...",class:"pl-8",onKeyup:Z(v,["enter"])},null,8,["modelValue"])]),s(e(N),{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=a=>g.value=a),"onUpdate:value":v},{default:l(()=>[s(e(S),null,{default:l(()=>[s(e(j),{placeholder:"Estado"})]),_:1}),s(e(H),null,{default:l(()=>[s(e(m),{value:"all"},{default:l(()=>t[5]||(t[5]=[i("Todos los estados")])),_:1}),s(e(m),{value:"programada"},{default:l(()=>t[6]||(t[6]=[i("Programada")])),_:1}),s(e(m),{value:"en_curso"},{default:l(()=>t[7]||(t[7]=[i("En Curso")])),_:1}),s(e(m),{value:"finalizada"},{default:l(()=>t[8]||(t[8]=[i("Finalizada")])),_:1}),s(e(m),{value:"cancelada"},{default:l(()=>t[9]||(t[9]=[i("Cancelada")])),_:1})]),_:1})]),_:1},8,["modelValue"]),s(e(N),{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=a=>x.value=a),"onUpdate:value":v},{default:l(()=>[s(e(S),null,{default:l(()=>[s(e(j),{placeholder:"Tipo"})]),_:1}),s(e(H),null,{default:l(()=>[s(e(m),{value:"all"},{default:l(()=>t[10]||(t[10]=[i("Todos los tipos")])),_:1}),s(e(m),{value:"ordinaria"},{default:l(()=>t[11]||(t[11]=[i("Ordinaria")])),_:1}),s(e(m),{value:"extraordinaria"},{default:l(()=>t[12]||(t[12]=[i("Extraordinaria")])),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",ce,[s(e(D),{onClick:v},{default:l(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[13]||(t[13]=i(" Buscar "))]),_:1}),s(e(D),{variant:"outline",onClick:R},{default:l(()=>t[14]||(t[14]=[i(" Limpiar ")])),_:1})])])]),_:1})]),_:1}),s(e(ae),{modelValue:E.value,"onUpdate:modelValue":t[3]||(t[3]=a=>E.value=a),class:"flex-1"},{default:l(()=>[s(e(le),null,{default:l(()=>[s(e(q),{value:"mis-asambleas"},{default:l(()=>[i(" Mis Asambleas ("+d(r.asambleas.total)+") ",1)]),_:1}),s(e(q),{value:"asambleas-publicas"},{default:l(()=>[i(" Asambleas de mi Territorio ("+d(r.asambleasPublicas.length)+") ",1)]),_:1})]),_:1}),s(e(I),{value:"mis-asambleas",class:"mt-4"},{default:l(()=>[o("div",me,[(n(!0),u(b,null,P(r.asambleas.data,a=>(n(),C(e(T),{key:a.id,href:e($)("asambleas.show",a.id),class:"block transition-transform hover:scale-[1.02]"},{default:l(()=>[s(e(h),{class:"h-full hover:shadow-lg transition-shadow cursor-pointer"},{default:l(()=>[s(e(M),null,{default:l(()=>[o("div",fe,[s(e(B),{class:"text-lg"},{default:l(()=>[i(d(a.nombre),1)]),_:2},1024),o("div",pe,[s(e(p),{class:f(a.estado_color)},{default:l(()=>[i(d(a.estado_label),1)]),_:2},1032,["class"]),s(e(p),{class:f(w(a.tipo).class)},{default:l(()=>[i(d(w(a.tipo).text),1)]),_:2},1032,["class"])])])]),_:2},1024),s(e(y),{class:"space-y-4"},{default:l(()=>[a.descripcion?(n(),u("p",_e,d(a.descripcion),1)):c("",!0),o("div",ge,[o("div",xe,[s(e(z),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,d(U(a.fecha_inicio)),1)]),o("div",ve,[s(e(re),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,d(F(a.fecha_inicio))+" - "+d(F(a.fecha_fin)),1)]),a.lugar?(n(),u("div",be,[s(e(A),{class:"h-4 w-4 text-muted-foreground"}),o("span",he,d(a.lugar),1)])):c("",!0)]),a.mi_participacion?(n(),u("div",ye,[o("div",we,[s(e(p),{class:f(L(a.mi_participacion.tipo).class)},{default:l(()=>[i(d(L(a.mi_participacion.tipo).text),1)]),_:2},1032,["class"]),a.mi_participacion.asistio?(n(),C(e(p),{key:0,class:"bg-green-100 text-green-800"},{default:l(()=>[s(e(ie),{class:"mr-1 h-3 w-3"}),t[15]||(t[15]=i(" Asististe "))]),_:1})):c("",!0)])])):c("",!0),o("div",ke,d(a.tiempo_restante),1),o("div",Ce,[o("div",Ve,[t[16]||(t[16]=i(" Ver detalles ")),s(e(O),{class:"h-4 w-4"})])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128)),r.asambleas.data.length===0?(n(),u("div",$e,[s(e(h),null,{default:l(()=>[s(e(y),{class:"flex flex-col items-center justify-center py-12"},{default:l(()=>[s(e(se),{class:"h-12 w-12 text-muted-foreground mb-4"}),t[17]||(t[17]=o("p",{class:"text-lg font-medium text-muted-foreground"}," No tienes asambleas asignadas ",-1)),t[18]||(t[18]=o("p",{class:"text-sm text-muted-foreground mt-1"}," Cuando seas añadido como participante, aparecerán aquí ",-1))]),_:1})]),_:1})])):c("",!0)]),r.asambleas.last_page>1?(n(),u("div",Pe,[o("p",Te," Mostrando "+d((r.asambleas.current_page-1)*r.asambleas.per_page+1)+" a "+d(Math.min(r.asambleas.current_page*r.asambleas.per_page,r.asambleas.total))+" de "+d(r.asambleas.total)+" asambleas ",1),o("div",Me,[(n(!0),u(b,null,P(r.asambleas.links,a=>(n(),u(b,{key:a.label},[a.url?(n(),C(e(T),{key:0,href:a.url,class:f(["px-3 py-1 text-sm border rounded",a.active?"bg-primary text-primary-foreground":"bg-background hover:bg-accent"]),innerHTML:a.label},null,8,["href","class","innerHTML"])):(n(),u("span",{key:1,class:f(["px-3 py-1 text-sm border rounded","bg-muted text-muted-foreground cursor-not-allowed"]),innerHTML:a.label},null,8,Be))],64))),128))])])):c("",!0)]),_:1}),s(e(I),{value:"asambleas-publicas",class:"mt-4"},{default:l(()=>[o("div",Ae,[(n(!0),u(b,null,P(r.asambleasPublicas,a=>(n(),C(e(T),{key:a.id,href:e($)("asambleas.show",a.id),class:"block transition-transform hover:scale-[1.02]"},{default:l(()=>[s(e(h),{class:"h-full hover:shadow-lg transition-shadow cursor-pointer"},{default:l(()=>[s(e(M),null,{default:l(()=>[o("div",Ee,[s(e(B),{class:"text-lg"},{default:l(()=>[i(d(a.nombre),1)]),_:2},1024),o("div",Ue,[s(e(p),{class:f(a.estado_color)},{default:l(()=>[i(d(a.estado_label),1)]),_:2},1032,["class"]),s(e(p),{class:f(w(a.tipo).class)},{default:l(()=>[i(d(w(a.tipo).text),1)]),_:2},1032,["class"])])])]),_:2},1024),s(e(y),{class:"space-y-4"},{default:l(()=>[a.descripcion?(n(),u("p",Fe,d(a.descripcion),1)):c("",!0),o("div",Le,[o("div",Ne,[s(e(z),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,d(U(a.fecha_inicio)),1)]),a.lugar?(n(),u("div",Se,[s(e(A),{class:"h-4 w-4 text-muted-foreground"}),o("span",je,d(a.ubicacion_completa),1)])):c("",!0)]),t[20]||(t[20]=o("div",{class:"pt-2 border-t"},[o("p",{class:"text-sm text-muted-foreground"}," Asamblea pública de tu territorio ")],-1)),o("div",He,[o("div",ze,[t[19]||(t[19]=i(" Ver información ")),s(e(O),{class:"h-4 w-4"})])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128)),r.asambleasPublicas.length===0?(n(),u("div",De,[s(e(h),null,{default:l(()=>[s(e(y),{class:"flex flex-col items-center justify-center py-12"},{default:l(()=>[s(e(A),{class:"h-12 w-12 text-muted-foreground mb-4"}),t[21]||(t[21]=o("p",{class:"text-lg font-medium text-muted-foreground"}," No hay asambleas públicas en tu territorio ",-1)),t[22]||(t[22]=o("p",{class:"text-sm text-muted-foreground mt-1"}," Cuando se programen asambleas en tu ubicación, aparecerán aquí ",-1))]),_:1})]),_:1})])):c("",!0)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})],64))}});export{ls as default};
