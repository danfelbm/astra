import{_ as g}from"./index-CIou4ArP.js";import{c as $e,_ as $}from"./createLucideIcon-6vWDyCEm.js";import{_ as F,a as V,b as z,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-p6WGAgPa.js";import{_ as he}from"./CardDescription.vue_vue_type_script_setup_true_lang-mWx0rYqK.js";import{_ as we,a as Pe,b as X,c as S,d as Ce,e as C}from"./TableHeader.vue_vue_type_script_setup_true_lang-ShF6OEj0.js";import{_ as Ae,C as Y}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-DNnSG8BA.js";import{C as Se,U as Ue,_ as Ee,a as Fe,b as Ve,c as ze,d as je,e as qe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DHniAtKN.js";import{_ as Z,a as ee,b as ae,c as te,d as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-BQKO4LpK.js";import{a as Me}from"./Label.vue_vue_type_script_setup_true_lang-mwG6pVld.js";import{_ as se}from"./Checkbox.vue_vue_type_script_setup_true_lang-C35Ijtjg.js";import{M as Be,C as le,_ as De}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cf_47gA_.js";import{d as Ne,k as b,c as Te,w as ie,p as Le,a as c,o as d,b as t,u as a,m as Qe,e as s,f as n,j as y,i as v,t as p,n as H,g as o,F as G,r as oe,q as ne,W as M}from"./app-CBkZsYqr.js";import{F as Re,t as h}from"./index-CeBsZ4hz.js";import{A as He}from"./arrow-left-XUzcj4re.js";import{S as Oe}from"./square-pen-C9L9nURt.js";import{C as We}from"./clock-DF95LWWy.js";import{C as Ie}from"./circle-check-big-b9IgVtgo.js";import{C as Xe}from"./circle-x-BbS0ggC3.js";import{U as Ge}from"./user-plus-B4LsbbaF.js";import{f as Je,e as Ke}from"./es-DfN3vIXC.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang--7uAlxu9.js";import"./VisuallyHidden-D-znSfID.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-qU-W48Tb.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-Bp2i9_hd.js";import"./loader-circle-DUdJcY9s.js";import"./trash-2-Ddg76Kq0.js";import"./plus-4aY9xPyv.js";import"./search-CKz2rSmX.js";import"./check-KyVs8Ehn.js";import"./history-HP3BggXg.js";import"./save-BL3VqC8o.js";import"./index-C9rEjJX_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-BYIQYSEr.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C7NbC8Sg.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=$e("UserMinusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ze={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ea={class:"flex items-center justify-between"},aa={class:"text-3xl font-bold"},ta={class:"mt-2 flex items-center gap-2"},sa={class:"flex gap-2"},la={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},ia={class:"space-y-2"},oa={class:"flex items-center gap-2 text-sm"},na={class:"flex items-center gap-2 text-sm"},ra={class:"text-sm font-medium"},da={class:"space-y-2"},ua={class:"flex items-center gap-2 text-sm"},pa={class:"text-sm text-muted-foreground"},ca={class:"space-y-2"},ma={class:"flex items-center gap-2"},fa={class:"text-2xl font-bold"},_a={class:"text-sm"},va={class:"flex items-center justify-between"},ga={key:0,class:"flex gap-2"},ba={key:0,class:"mb-4"},ya={key:1,class:"flex justify-center py-8"},xa={key:0,class:"flex items-center gap-2"},ka={class:"relative"},$a={key:0,class:"absolute inset-0 flex items-center justify-center"},ha={key:0,class:"text-green-600 transition-all duration-300"},wa={key:1,class:"text-gray-400 transition-all duration-300"},Pa={key:1},Ca={key:0},Aa={key:1},Sa={class:"flex justify-end gap-2"},Ua={key:3,class:"flex items-center justify-between mt-4"},Ea={class:"text-sm text-muted-foreground"},Fa={key:0,class:"flex items-center space-x-2"},Va={class:"text-sm"},za=["href"],ja={class:"space-y-4"},qa={class:"grid gap-4 md:grid-cols-2"},Ma={class:"max-h-96 overflow-y-auto border rounded-lg p-4"},Ba={key:0,class:"flex justify-center py-8"},Da={key:1},Na=["for"],Ta={class:"text-sm font-medium"},La={class:"text-xs text-muted-foreground"},Qa={key:0},Ra={key:1},Ha={key:0,class:"mt-4 flex justify-center gap-2"},Oa={class:"flex items-center px-2 text-sm"},Wa={key:2,class:"text-center text-muted-foreground py-4"},Ia={class:"flex items-center justify-between w-full"},Xa={key:0,class:"text-sm text-muted-foreground"},Ga={class:"flex gap-2"},Ft=Ne({__name:"Show",props:{asamblea:{},puede_gestionar_participantes:{type:Boolean},filterFieldsConfig:{}},setup(re){const w=re,de=[{title:"Admin",href:"/admin/dashboard"},{title:"Asambleas",href:"/admin/asambleas"},{title:w.asamblea.nombre,href:"#"}],{route:P}=window,_=b([]),f=b({current_page:1,last_page:1,per_page:20,total:0,from:0,to:0}),O=b(!1),T=b({}),ue={fields:w.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o email...",quickSearchFields:["users.name","users.email"],maxNestingLevel:1,allowSaveFilters:!1,debounceTime:500,autoApply:!1},A=b(!1),B=b([]),x=b(null),k=b([]),L=b("asistente"),U=b(""),W=b(!1),J=b(!1),E=b(null),pe=i=>i?Je(new Date(i),"PPPpp",{locale:Ke}):"",ce=i=>{switch(i){case"moderador":return"bg-purple-100 text-purple-800";case"secretario":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Q=Te(()=>{const i=_.value.filter(u=>{var m;return((m=u.pivot)==null?void 0:m.tipo_participacion)==="moderador"}).length,e=_.value.filter(u=>{var m;return((m=u.pivot)==null?void 0:m.tipo_participacion)==="secretario"}).length,l=_.value.filter(u=>{var m;return((m=u.pivot)==null?void 0:m.tipo_participacion)==="asistente"}).length,r=_.value.filter(u=>{var m;return((m=u.pivot)==null?void 0:m.asistio)===!0}).length;return{moderadores:i,secretarios:e,asistentes:l,presentes:r,total:f.value.total||0}}),D=async(i=1,e={})=>{O.value=!0;try{const l={page:i,...e},r=await ne.get(P("admin.asambleas.participantes-list",w.asamblea.id),{params:l});_.value=r.data.participantes.data.map(u=>({...u,pivot:{tenant_id:u.tenant_id,tipo_participacion:u.tipo_participacion||"asistente",asistio:u.asistio===1||u.asistio===!0||u.asistio==="1",hora_registro:u.hora_registro}})),f.value={current_page:r.data.participantes.current_page,last_page:r.data.participantes.last_page,per_page:r.data.participantes.per_page,total:r.data.participantes.total,from:r.data.participantes.from,to:r.data.participantes.to}}catch(l){console.error("Error cargando participantes:",l)}finally{O.value=!1}},K=i=>{D(i,T.value)},me=i=>{T.value=i,D(1,i)},fe=()=>{T.value={},D(1,{})},R=async(i=1)=>{W.value=!0;try{const e=await ne.get(P("admin.asambleas.manage-participantes",w.asamblea.id),{params:{search:U.value,page:i}});e.data.participantes_disponibles.data?(B.value=e.data.participantes_disponibles.data,x.value={current_page:e.data.participantes_disponibles.current_page,last_page:e.data.participantes_disponibles.last_page,total:e.data.participantes_disponibles.total}):B.value=[]}catch(e){console.error("Error buscando participantes:",e),h.error("Error al buscar participantes",{description:"Por favor intenta nuevamente",duration:3e3}),B.value=[]}finally{W.value=!1}},_e=()=>{A.value=!0,J.value||(J.value=!0,R())};let I=null;ie(U,()=>{I&&clearTimeout(I),I=setTimeout(()=>{A.value&&R()},500)}),ie(A,i=>{i||(k.value=[],U.value="",L.value="asistente")});const ve=()=>{if(k.value.length===0)return;const i=k.value.length;M.post(P("admin.asambleas.manage-participantes",w.asamblea.id),{participante_ids:k.value,tipo_participacion:L.value},{preserveScroll:!0,preserveState:!0,only:[],onSuccess:()=>{A.value=!1,h.success(`${i} participante(s) añadido(s) exitosamente`,{duration:2e3}),D(f.value.current_page,T.value)},onError:()=>{h.error("Error al añadir participantes",{description:"Por favor intenta nuevamente",duration:3e3})}})},ge=i=>{const e=_.value.find(m=>m.id===i),l=(e==null?void 0:e.name)||"Participante";if(!confirm(`¿Estás seguro de remover a ${l} de la asamblea?`))return;const r=_.value.findIndex(m=>m.id===i),u=_.value[r];r!==-1&&(_.value.splice(r,1),f.value.total-=1),M.delete(P("admin.asambleas.manage-participantes",w.asamblea.id),{data:{participante_id:i},preserveScroll:!0,preserveState:!0,only:[],onSuccess:()=>{h.success(`${l} removido de la asamblea`,{duration:2e3})},onError:()=>{u&&r!==-1&&(_.value.splice(r,0,u),f.value.total+=1),h.error("Error al remover participante",{duration:3e3})}})},be=(i,e)=>{var m;const l=_.value.find(N=>N.id===i),r=(l==null?void 0:l.name)||"Participante",u=(m=l==null?void 0:l.pivot)==null?void 0:m.tipo_participacion;l&&l.pivot&&(l.pivot.tipo_participacion=e),M.put(P("admin.asambleas.manage-participantes",w.asamblea.id),{participante_id:i,tipo_participacion:e},{preserveScroll:!0,preserveState:!0,only:[],onSuccess:()=>{const N=e.charAt(0).toUpperCase()+e.slice(1);h.success(`${r} asignado como ${N}`,{duration:2e3})},onError:()=>{l&&l.pivot&&u&&(l.pivot.tipo_participacion=u),h.error("Error al actualizar el tipo de participación",{duration:3e3})}})},ye=(i,e)=>{if(E.value===i)return;E.value=i;const l=_.value.find(u=>u.id===i),r=(l==null?void 0:l.name)||"Participante";l&&l.pivot&&(l.pivot.asistio,l.pivot.asistio=e,e?l.pivot.hora_registro=new Date().toISOString():l.pivot.hora_registro=null),M.put(P("admin.asambleas.manage-participantes",w.asamblea.id),{participante_id:i,asistio:e},{preserveScroll:!0,preserveState:!0,only:[],onSuccess:()=>{e?h.success(`${r} marcado como presente`,{duration:2e3}):h.info(`${r} marcado como ausente`,{duration:2e3})},onError:()=>{l&&l.pivot&&(l.pivot.asistio=!e,l.pivot.hora_registro=null),h.error("Error al actualizar la asistencia",{description:"Por favor intenta nuevamente",duration:3e3})},onFinish:()=>{E.value=null}})},xe=()=>{M.visit(P("admin.asambleas.edit",w.asamblea.id))},ke=()=>{M.visit(P("admin.asambleas.index"))};return Le(()=>{D()}),(i,e)=>(d(),c(G,null,[t(a(Qe),{title:`Asamblea: ${i.asamblea.nombre}`},null,8,["title"]),t(De,{breadcrumbs:de},{default:s(()=>[n("div",Ze,[n("div",ea,[n("div",null,[n("h1",aa,p(i.asamblea.nombre),1),n("div",ta,[t(a(g),{class:H(i.asamblea.estado_color)},{default:s(()=>[o(p(i.asamblea.estado_label),1)]),_:1},8,["class"]),t(a(g),{class:H(i.asamblea.tipo==="ordinaria"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800")},{default:s(()=>[o(p(i.asamblea.tipo_label),1)]),_:1},8,["class"]),i.asamblea.activo?(d(),y(a(g),{key:0,class:"bg-green-100 text-green-800"},{default:s(()=>e[8]||(e[8]=[o(" Activa ")])),_:1})):(d(),y(a(g),{key:1,class:"bg-red-100 text-red-800"},{default:s(()=>e[9]||(e[9]=[o(" Inactiva ")])),_:1}))])]),n("div",sa,[t(a($),{variant:"outline",onClick:ke},{default:s(()=>[t(a(He),{class:"mr-2 h-4 w-4"}),e[10]||(e[10]=o(" Volver "))]),_:1}),t(a($),{onClick:xe},{default:s(()=>[t(a(Oe),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=o(" Editar "))]),_:1})])]),n("div",la,[t(a(F),null,{default:s(()=>[t(a(V),{class:"pb-3"},{default:s(()=>[t(a(z),{class:"text-sm font-medium"},{default:s(()=>e[12]||(e[12]=[o("Fechas")])),_:1})]),_:1}),t(a(j),null,{default:s(()=>[n("div",ia,[n("div",oa,[t(a(Se),{class:"h-4 w-4 text-muted-foreground"}),n("span",null,p(i.asamblea.rango_fechas),1)]),n("div",na,[t(a(We),{class:"h-4 w-4 text-muted-foreground"}),n("span",null,"Duración: "+p(i.asamblea.duracion),1)]),n("p",ra,p(i.asamblea.tiempo_restante),1)])]),_:1})]),_:1}),t(a(F),null,{default:s(()=>[t(a(V),{class:"pb-3"},{default:s(()=>[t(a(z),{class:"text-sm font-medium"},{default:s(()=>e[13]||(e[13]=[o("Ubicación")])),_:1})]),_:1}),t(a(j),null,{default:s(()=>[n("div",da,[n("div",ua,[t(a(Be),{class:"h-4 w-4 text-muted-foreground"}),n("span",null,p(i.asamblea.lugar||"No especificado"),1)]),n("p",pa,p(i.asamblea.ubicacion_completa),1)])]),_:1})]),_:1}),t(a(F),null,{default:s(()=>[t(a(V),{class:"pb-3"},{default:s(()=>[t(a(z),{class:"text-sm font-medium"},{default:s(()=>e[14]||(e[14]=[o("Quórum")])),_:1})]),_:1}),t(a(j),null,{default:s(()=>[n("div",ca,[n("div",ma,[t(a(Ue),{class:"h-4 w-4 text-muted-foreground"}),n("span",fa,p(i.asamblea.asistentes_count)+" / "+p(i.asamblea.quorum_minimo||"∞"),1)]),i.asamblea.alcanza_quorum?(d(),y(a(g),{key:0,class:"bg-green-100 text-green-800"},{default:s(()=>[t(a(Ie),{class:"mr-1 h-3 w-3"}),e[15]||(e[15]=o(" Quórum alcanzado "))]),_:1})):i.asamblea.quorum_minimo?(d(),y(a(g),{key:1,class:"bg-yellow-100 text-yellow-800"},{default:s(()=>[t(a(Xe),{class:"mr-1 h-3 w-3"}),e[16]||(e[16]=o(" Quórum no alcanzado "))]),_:1})):v("",!0)])]),_:1})]),_:1})]),i.asamblea.descripcion?(d(),y(a(F),{key:0},{default:s(()=>[t(a(V),null,{default:s(()=>[t(a(z),null,{default:s(()=>e[17]||(e[17]=[o("Descripción")])),_:1})]),_:1}),t(a(j),null,{default:s(()=>[n("p",_a,p(i.asamblea.descripcion),1)]),_:1})]),_:1})):v("",!0),t(Ae,{config:ue,onApply:me,onClear:fe}),t(a(F),null,{default:s(()=>[t(a(V),null,{default:s(()=>[n("div",va,[n("div",null,[t(a(z),null,{default:s(()=>e[18]||(e[18]=[o("Participantes")])),_:1}),t(a(he),null,{default:s(()=>[o(p(i.asamblea.participantes_count)+" participantes registrados ",1)]),_:1})]),_.value.length>0?(d(),c("div",ga,[t(a(g),{variant:"outline"},{default:s(()=>[o(" Moderadores: "+p(Q.value.moderadores),1)]),_:1}),t(a(g),{variant:"outline"},{default:s(()=>[o(" Secretarios: "+p(Q.value.secretarios),1)]),_:1}),t(a(g),{variant:"outline"},{default:s(()=>[o(" Asistentes: "+p(Q.value.asistentes),1)]),_:1}),t(a(g),{variant:"outline"},{default:s(()=>[o(" Presentes: "+p(Q.value.presentes),1)]),_:1})])):v("",!0)])]),_:1}),t(a(j),null,{default:s(()=>[i.puede_gestionar_participantes?(d(),c("div",ba,[t(a($),{onClick:_e},{default:s(()=>[t(a(Ge),{class:"mr-2 h-4 w-4"}),e[19]||(e[19]=o(" Añadir Participantes "))]),_:1})])):v("",!0),O.value?(d(),c("div",ya,e[20]||(e[20]=[n("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),y(a(we),{key:2},{default:s(()=>[t(a(Pe),null,{default:s(()=>[t(a(X),null,{default:s(()=>[t(a(S),null,{default:s(()=>e[21]||(e[21]=[o("Nombre")])),_:1}),t(a(S),null,{default:s(()=>e[22]||(e[22]=[o("Email")])),_:1}),t(a(S),null,{default:s(()=>e[23]||(e[23]=[o("Tipo de Participación")])),_:1}),t(a(S),null,{default:s(()=>e[24]||(e[24]=[o("Asistencia")])),_:1}),t(a(S),null,{default:s(()=>e[25]||(e[25]=[o("Hora de Registro")])),_:1}),t(a(S),null,{default:s(()=>e[26]||(e[26]=[o("Registrado por")])),_:1}),i.puede_gestionar_participantes?(d(),y(a(S),{key:0,class:"text-right"},{default:s(()=>e[27]||(e[27]=[o("Acciones")])),_:1})):v("",!0)]),_:1})]),_:1}),t(a(Ce),null,{default:s(()=>[(d(!0),c(G,null,oe(_.value,l=>(d(),y(a(X),{key:l.id},{default:s(()=>[t(a(C),{class:"font-medium"},{default:s(()=>[o(p(l.name),1)]),_:2},1024),t(a(C),null,{default:s(()=>[o(p(l.email),1)]),_:2},1024),t(a(C),null,{default:s(()=>{var r;return[t(a(g),{class:H(ce(((r=l.pivot)==null?void 0:r.tipo_participacion)||"asistente"))},{default:s(()=>{var u;return[o(p(((u=l.pivot)==null?void 0:u.tipo_participacion)||"asistente"),1)]}),_:2},1032,["class"])]}),_:2},1024),t(a(C),null,{default:s(()=>{var r,u,m;return[i.puede_gestionar_participantes&&i.asamblea.estado==="en_curso"?(d(),c("div",xa,[n("div",ka,[t(a(se),{checked:((r=l.pivot)==null?void 0:r.asistio)||!1,disabled:E.value===l.id,"onUpdate:checked":N=>ye(l.id,N),class:H(E.value===l.id?"opacity-50":"")},null,8,["checked","disabled","onUpdate:checked","class"]),E.value===l.id?(d(),c("div",$a,e[28]||(e[28]=[n("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"},null,-1)]))):v("",!0)]),(u=l.pivot)!=null&&u.asistio?(d(),c("span",ha," Presente ")):(d(),c("span",wa," Ausente "))])):(d(),c("div",Pa,[(m=l.pivot)!=null&&m.asistio?(d(),y(a(g),{key:0,class:"bg-green-100 text-green-800"},{default:s(()=>e[29]||(e[29]=[o(" Presente ")])),_:1})):(d(),y(a(g),{key:1,variant:"outline"},{default:s(()=>e[30]||(e[30]=[o(" Ausente ")])),_:1}))]))]}),_:2},1024),t(a(C),null,{default:s(()=>{var r;return[o(p((r=l.pivot)!=null&&r.hora_registro?pe(l.pivot.hora_registro):"-"),1)]}),_:2},1024),t(a(C),null,{default:s(()=>{var r;return[(r=l.pivot)!=null&&r.updated_by?(d(),c("span",Ca,p(l.pivot.updated_by===l.id?"Auto-registro":l.pivot.updated_by_name||"Admin"),1)):(d(),c("span",Aa,"-"))]}),_:2},1024),i.puede_gestionar_participantes?(d(),y(a(C),{key:0,class:"text-right"},{default:s(()=>{var r;return[n("div",Sa,[t(a(Z),{"model-value":((r=l.pivot)==null?void 0:r.tipo_participacion)||"asistente","onUpdate:modelValue":u=>be(l.id,u)},{default:s(()=>[t(a(ee),{class:"w-32"},{default:s(()=>[t(a(ae))]),_:1}),t(a(te),null,{default:s(()=>[t(a(q),{value:"asistente"},{default:s(()=>e[31]||(e[31]=[o("Asistente")])),_:1}),t(a(q),{value:"moderador"},{default:s(()=>e[32]||(e[32]=[o("Moderador")])),_:1}),t(a(q),{value:"secretario"},{default:s(()=>e[33]||(e[33]=[o("Secretario")])),_:1})]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"]),t(a($),{variant:"ghost",size:"sm",onClick:u=>ge(l.id)},{default:s(()=>[t(a(Ye),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]}),_:2},1024)):v("",!0)]),_:2},1024))),128)),_.value.length===0?(d(),y(a(X),{key:0},{default:s(()=>[t(a(C),{colspan:"6",class:"text-center py-8"},{default:s(()=>e[34]||(e[34]=[n("p",{class:"text-muted-foreground"},"No hay participantes registrados",-1)])),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})),f.value.total>0?(d(),c("div",Ua,[n("div",Ea," Mostrando "+p(f.value.from)+" a "+p(f.value.to)+" de "+p(f.value.total)+" resultados ",1),f.value.last_page>1?(d(),c("div",Fa,[t(a($),{variant:"outline",size:"sm",disabled:f.value.current_page===1,onClick:e[0]||(e[0]=l=>K(f.value.current_page-1))},{default:s(()=>[t(a(Y),{class:"h-4 w-4"}),e[35]||(e[35]=o(" Anterior "))]),_:1},8,["disabled"]),n("div",Va," Página "+p(f.value.current_page)+" de "+p(f.value.last_page),1),t(a($),{variant:"outline",size:"sm",disabled:f.value.current_page===f.value.last_page,onClick:e[1]||(e[1]=l=>K(f.value.current_page+1))},{default:s(()=>[e[36]||(e[36]=o(" Siguiente ")),t(a(le),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):v("",!0)])):v("",!0)]),_:1})]),_:1}),i.asamblea.acta_url?(d(),y(a(F),{key:1},{default:s(()=>[t(a(V),null,{default:s(()=>[t(a(z),null,{default:s(()=>e[37]||(e[37]=[o("Acta de la Asamblea")])),_:1})]),_:1}),t(a(j),null,{default:s(()=>[n("a",{href:i.asamblea.acta_url,target:"_blank",class:"flex items-center gap-2 text-blue-600 hover:underline"},[t(a(Re),{class:"h-4 w-4"}),e[38]||(e[38]=o(" Ver Acta "))],8,za)]),_:1})]),_:1})):v("",!0)]),t(a(Ee),{open:A.value,"onUpdate:open":e[7]||(e[7]=l=>A.value=l)},{default:s(()=>[t(a(Fe),{class:"max-w-2xl"},{default:s(()=>[t(a(Ve),null,{default:s(()=>[t(a(ze),null,{default:s(()=>e[39]||(e[39]=[o("Añadir Participantes")])),_:1}),t(a(je),null,{default:s(()=>e[40]||(e[40]=[o(" Selecciona los usuarios que deseas añadir como participantes de la asamblea ")])),_:1})]),_:1}),n("div",ja,[n("div",qa,[n("div",null,[e[44]||(e[44]=n("label",{class:"text-sm font-medium"},"Tipo de Participación",-1)),t(a(Z),{modelValue:L.value,"onUpdate:modelValue":e[2]||(e[2]=l=>L.value=l)},{default:s(()=>[t(a(ee),null,{default:s(()=>[t(a(ae))]),_:1}),t(a(te),null,{default:s(()=>[t(a(q),{value:"asistente"},{default:s(()=>e[41]||(e[41]=[o("Asistente")])),_:1}),t(a(q),{value:"moderador"},{default:s(()=>e[42]||(e[42]=[o("Moderador")])),_:1}),t(a(q),{value:"secretario"},{default:s(()=>e[43]||(e[43]=[o("Secretario")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[e[45]||(e[45]=n("label",{class:"text-sm font-medium"},"Buscar Usuarios",-1)),t(a(Me),{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=l=>U.value=l),placeholder:"Buscar por nombre, email, documento o teléfono...",type:"text"},null,8,["modelValue"])])]),n("div",Ma,[W.value?(d(),c("div",Ba,e[46]||(e[46]=[n("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):B.value.length>0?(d(),c("div",Da,[(d(!0),c(G,null,oe(B.value,l=>(d(),c("div",{key:l.id,class:"flex items-center space-x-2 py-2"},[t(a(se),{id:`usuario-${l.id}`,checked:k.value.includes(l.id),"onUpdate:checked":r=>{if(r)k.value.push(l.id);else{const u=k.value.indexOf(l.id);u>-1&&k.value.splice(u,1)}}},null,8,["id","checked","onUpdate:checked"]),n("label",{for:`usuario-${l.id}`,class:"flex-1 cursor-pointer"},[n("div",Ta,p(l.name),1),n("div",La,[o(p(l.email)+" ",1),l.documento_identidad?(d(),c("span",Qa," • Doc: "+p(l.documento_identidad),1)):v("",!0),l.telefono?(d(),c("span",Ra," • Tel: "+p(l.telefono),1)):v("",!0)])],8,Na)]))),128)),x.value&&x.value.last_page>1?(d(),c("div",Ha,[t(a($),{variant:"outline",size:"sm",disabled:x.value.current_page===1,onClick:e[4]||(e[4]=l=>R(x.value.current_page-1))},{default:s(()=>[t(a(Y),{class:"h-4 w-4"})]),_:1},8,["disabled"]),n("span",Oa," Página "+p(x.value.current_page)+" de "+p(x.value.last_page),1),t(a($),{variant:"outline",size:"sm",disabled:x.value.current_page===x.value.last_page,onClick:e[5]||(e[5]=l=>R(x.value.current_page+1))},{default:s(()=>[t(a(le),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):v("",!0)])):(d(),c("p",Wa,p(U.value?"No se encontraron usuarios con esa búsqueda":"Escribe para buscar usuarios disponibles"),1))])]),t(a(qe),null,{default:s(()=>[n("div",Ia,[x.value?(d(),c("span",Xa,p(x.value.total)+" usuarios disponibles ",1)):v("",!0),n("div",Ga,[t(a($),{variant:"outline",onClick:e[6]||(e[6]=l=>A.value=!1)},{default:s(()=>e[47]||(e[47]=[o(" Cancelar ")])),_:1}),t(a($),{onClick:ve,disabled:k.value.length===0},{default:s(()=>[o(" Añadir "+p(k.value.length)+" Participante(s) ",1)]),_:1},8,["disabled"])])])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ft as default};
