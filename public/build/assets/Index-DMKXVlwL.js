import{a as k,d as Z,e as ee,_ as te,B as se,c as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-C-TXGeAC.js";import{c as le,_ as c}from"./AppLogo.vue_vue_type_script_setup_true_lang-TtBKHXHP.js";import{_ as S,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-5UaTZODP.js";import{_ as q,a as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-DawTe2K_.js";import{_ as re,a as ie,b as j,c as p,d as ne,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-DMfadDvK.js";import{_ as F,a as P,b as A,c as D,d as G,e as I,f as H,g as J}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CMSigzSF.js";import{_ as O}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-C7K8h5da.js";import{d as oe,k as R,a as d,o as r,b as t,u as e,m as de,e as s,f as i,j as f,i as v,P as b,g as o,n as _,F as C,r as $,t as u,l as N,W as ue}from"./app-DUwT5XjW.js";import{_ as fe}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-CDxT1ogn.js";import{P as me}from"./plus-C_Zgpucy.js";import{G as ce}from"./git-branch-wkH7bmYS.js";import{S as E}from"./square-pen-CLP5keS7.js";import{T as W}from"./trash-2-CF8unIwz.js";import"./index-lXub5hNN.js";import"./index-S1odQ9fv.js";import"./usePrimitiveElement-DXJMmht_.js";import"./createContext-BqTg7DGM.js";import"./useForwardExpose-DCR6Fykl.js";import"./Collection-C7Tlg6fc.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-B7z30C33.js";import"./useNonce-CVR6C3wM.js";import"./chevron-up-mMt2Z1mV.js";import"./handleAndDispatchCustomEvent-CYpUamdb.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-B3_kincx.js";import"./VisuallyHidden-BH4I_bjZ.js";import"./Input.vue_vue_type_script_setup_true_lang-Bavi-x6e.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-DfN2mHkg.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-bnGfnvpd.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CStynK6i.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-B-gFw3mk.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-BpsL9h74.js";import"./search-YHCQULjN.js";import"./history-DZb0-jTg.js";import"./save-HBhGoMFp.js";import"./circle-alert-BDYdSiMf.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=le("ListIcon",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),pe={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ge={class:"flex items-center justify-between"},ve={class:"space-y-4"},xe={class:"flex gap-2"},he={key:0,class:"text-center py-8 text-muted-foreground"},ye={key:1},be={key:0,class:"text-sm text-muted-foreground"},Ce={key:0,class:"text-sm"},ke={key:1,class:"text-sm text-muted-foreground"},$e={class:"flex gap-2 justify-end"},we={key:0,class:"flex items-center justify-center mt-6"},ze={class:"flex gap-2"},Se={key:0,class:"text-center py-8 text-muted-foreground"},Ne={key:1,class:"space-y-2"},Ee={class:"flex items-center justify-between"},Be={class:"flex items-center gap-2"},Le={class:"font-medium"},Te={class:"flex gap-2"},Ve={key:0,class:"ml-6 mt-2 space-y-2"},qe={class:"flex items-center justify-between"},Me={class:"flex items-center gap-2"},je={class:"text-sm"},Fe={class:"flex gap-1"},bt=oe({__name:"Index",props:{cargos:{},arbolCargos:{},filters:{},filterFieldsConfig:{}},setup(Q){const K=Q,U=[{title:"Admin",href:"/admin/dashboard"},{title:"Cargos",href:"/admin/cargos"}],x=R(new Set),h=R("lista"),X={fields:K.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o descripción...",quickSearchFields:["nombre","descripcion"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:y}=window,B=n=>{h.value=n},L=n=>{ue.delete(`/admin/cargos/${n}`,{onSuccess:()=>{}})},Y=n=>{x.value.has(n)?x.value.delete(n):x.value.add(n)},w=n=>n?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",z=n=>n?se:ae,T=n=>n?{class:"bg-green-100 text-green-800",text:"Activo"}:{class:"bg-red-100 text-red-800",text:"Inactivo"};return(n,a)=>(r(),d(C,null,[t(e(de),{title:"Gestión de Cargos"}),t(te,{breadcrumbs:U},{default:s(()=>[i("div",pe,[i("div",ge,[a[3]||(a[3]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"Gestión de Cargos"),i("p",{class:"text-muted-foreground"}," Administra la estructura jerárquica de cargos electorales ")],-1)),t(e(b),{href:e(y)("admin.cargos.create")},{default:s(()=>[t(e(c),null,{default:s(()=>[t(e(me),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=o(" Nuevo Cargo "))]),_:1})]),_:1},8,["href"])]),i("div",ve,[t(e(S),null,{default:s(()=>[t(e(q),null,{default:s(()=>[t(e(M),{class:"flex items-center justify-between"},{default:s(()=>[a[6]||(a[6]=i("span",null,"Opciones de Visualización",-1)),i("div",xe,[t(e(c),{variant:"outline",size:"sm",class:_({"bg-primary text-primary-foreground":h.value==="lista"}),onClick:a[0]||(a[0]=l=>B("lista"))},{default:s(()=>[t(e(_e),{class:"h-4 w-4 mr-2"}),a[4]||(a[4]=o(" Vista Lista "))]),_:1},8,["class"]),t(e(c),{variant:"outline",size:"sm",class:_({"bg-primary text-primary-foreground":h.value==="arbol"}),onClick:a[1]||(a[1]=l=>B("arbol"))},{default:s(()=>[t(e(ce),{class:"h-4 w-4 mr-2"}),a[5]||(a[5]=o(" Vista Árbol "))]),_:1},8,["class"])])]),_:1})]),_:1})]),_:1}),t(fe,{config:X,route:e(y)("admin.cargos.index"),"initial-filters":{quickSearch:n.filters.search,rootGroup:n.filters.advanced_filters?JSON.parse(n.filters.advanced_filters):void 0}},null,8,["route","initial-filters"])]),h.value==="lista"?(r(),f(e(S),{key:0},{default:s(()=>[t(e(V),{class:"pt-6"},{default:s(()=>[n.cargos.total===0?(r(),d("div",he,a[7]||(a[7]=[i("p",null,"No se encontraron cargos",-1),i("p",{class:"text-sm"},"Crea el primer cargo para comenzar",-1)]))):(r(),d("div",ye,[t(e(re),null,{default:s(()=>[t(e(ie),null,{default:s(()=>[t(e(j),null,{default:s(()=>[t(e(p),null,{default:s(()=>a[8]||(a[8]=[o("Nombre")])),_:1}),t(e(p),null,{default:s(()=>a[9]||(a[9]=[o("Tipo")])),_:1}),t(e(p),null,{default:s(()=>a[10]||(a[10]=[o("Cargo Padre")])),_:1}),t(e(p),null,{default:s(()=>a[11]||(a[11]=[o("Estado")])),_:1}),t(e(p),null,{default:s(()=>a[12]||(a[12]=[o("Creado")])),_:1}),t(e(p),{class:"text-right"},{default:s(()=>a[13]||(a[13]=[o("Acciones")])),_:1})]),_:1})]),_:1}),t(e(ne),null,{default:s(()=>[(r(!0),d(C,null,$(n.cargos.data,l=>(r(),f(e(j),{key:l.id},{default:s(()=>[t(e(g),{class:"font-medium"},{default:s(()=>[i("div",null,[i("p",null,u(l.nombre),1),l.descripcion?(r(),d("p",be,u(l.descripcion),1)):v("",!0)])]),_:2},1024),t(e(g),null,{default:s(()=>[t(e(k),{class:_(w(l.es_cargo))},{default:s(()=>[(r(),f(N(z(l.es_cargo)),{class:"mr-1 h-3 w-3"})),o(" "+u(l.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),_:2},1024),t(e(g),null,{default:s(()=>[l.parent?(r(),d("span",Ce,u(l.parent.nombre),1)):(r(),d("span",ke," Raíz "))]),_:2},1024),t(e(g),null,{default:s(()=>[t(e(k),{class:_(T(l.activo).class)},{default:s(()=>[o(u(T(l.activo).text),1)]),_:2},1032,["class"])]),_:2},1024),t(e(g),{class:"text-sm text-muted-foreground"},{default:s(()=>[o(u(new Date(l.created_at).toLocaleDateString("es-ES")),1)]),_:2},1024),t(e(g),{class:"text-right"},{default:s(()=>[i("div",$e,[t(e(b),{href:e(y)("admin.cargos.edit",l.id)},{default:s(()=>[t(e(c),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(E),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),t(e(F),null,{default:s(()=>[t(e(O),{asChild:""},{default:s(()=>[t(e(c),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(W),{class:"h-4 w-4 text-destructive"})]),_:1})]),_:1}),t(e(P),null,{default:s(()=>[t(e(A),null,{default:s(()=>[t(e(D),null,{default:s(()=>a[14]||(a[14]=[o("¿Eliminar cargo?")])),_:1}),t(e(G),null,{default:s(()=>[o(' Esta acción no se puede deshacer. Se eliminará permanentemente el cargo "'+u(l.nombre)+'". ',1)]),_:2},1024)]),_:2},1024),t(e(I),null,{default:s(()=>[t(e(H),null,{default:s(()=>a[15]||(a[15]=[o("Cancelar")])),_:1}),t(e(J),{onClick:m=>L(l.id)},{default:s(()=>a[16]||(a[16]=[o(" Eliminar ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n.cargos.last_page>1?(r(),d("div",we,[i("div",ze,[(r(!0),d(C,null,$(n.cargos.links,l=>(r(),f(e(b),{key:l.label,href:l.url||"#",class:_(["px-3 py-2 text-sm rounded-md",l.active?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80",l.url?"":"opacity-50 cursor-not-allowed"]),innerHTML:l.label,disabled:!l.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):v("",!0)]))]),_:1})]),_:1})):v("",!0),h.value==="arbol"?(r(),f(e(S),{key:1},{default:s(()=>[t(e(q),null,{default:s(()=>[t(e(M),null,{default:s(()=>a[17]||(a[17]=[o("Estructura Jerárquica")])),_:1})]),_:1}),t(e(V),null,{default:s(()=>[n.arbolCargos.length===0?(r(),d("div",Se,a[18]||(a[18]=[i("p",null,"No hay cargos raíz configurados",-1),i("p",{class:"text-sm"},"Crea el primer cargo sin padre para comenzar la jerarquía",-1)]))):(r(),d("div",Ne,[(r(!0),d(C,null,$(n.arbolCargos,l=>(r(),d("div",{key:l.id,class:"border rounded-lg p-3"},[i("div",Ee,[i("div",Be,[l.children&&l.children.length>0?(r(),f(e(c),{key:0,variant:"ghost",size:"sm",onClick:m=>Y(l.id)},{default:s(()=>[x.value.has(l.id)?(r(),f(e(ee),{key:1,class:"h-4 w-4"})):(r(),f(e(Z),{key:0,class:"h-4 w-4"}))]),_:2},1032,["onClick"])):v("",!0),(r(),f(N(z(l.es_cargo)),{class:"h-4 w-4 text-muted-foreground"})),i("span",Le,u(l.nombre),1),t(e(k),{class:_([w(l.es_cargo),"text-xs"])},{default:s(()=>[o(u(l.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),i("div",Te,[t(e(b),{href:e(y)("admin.cargos.edit",l.id)},{default:s(()=>[t(e(c),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(E),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"]),t(e(F),null,{default:s(()=>[t(e(O),{asChild:""},{default:s(()=>[t(e(c),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(W),{class:"h-3 w-3 text-destructive"})]),_:1})]),_:1}),t(e(P),null,{default:s(()=>[t(e(A),null,{default:s(()=>[t(e(D),null,{default:s(()=>a[19]||(a[19]=[o("¿Eliminar cargo?")])),_:1}),t(e(G),null,{default:s(()=>[o(' Esta acción no se puede deshacer. Se eliminará permanentemente el cargo "'+u(l.nombre)+'". ',1)]),_:2},1024)]),_:2},1024),t(e(I),null,{default:s(()=>[t(e(H),null,{default:s(()=>a[20]||(a[20]=[o("Cancelar")])),_:1}),t(e(J),{onClick:m=>L(l.id)},{default:s(()=>a[21]||(a[21]=[o(" Eliminar ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),x.value.has(l.id)&&l.children?(r(),d("div",Ve,[(r(!0),d(C,null,$(l.children,m=>(r(),d("div",{key:m.id,class:"border rounded-lg p-2 bg-muted/20"},[i("div",qe,[i("div",Me,[(r(),f(N(z(m.es_cargo)),{class:"h-3 w-3 text-muted-foreground"})),i("span",je,u(m.nombre),1),t(e(k),{class:_([w(m.es_cargo),"text-xs"])},{default:s(()=>[o(u(m.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),i("div",Fe,[t(e(b),{href:e(y)("admin.cargos.edit",m.id)},{default:s(()=>[t(e(c),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(E),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"])])])]))),128))])):v("",!0)]))),128))]))]),_:1})]),_:1})):v("",!0)])]),_:1})],64))}});export{bt as default};
