const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ZoomMeeting-DQzc_6oQ.js","assets/app-DiPPUZGR.js","assets/app-BUqgN-mB.css","assets/index-BmNRtsK_.js","assets/createLucideIcon-LnFYj6W8.js","assets/AlertTitle.vue_vue_type_script_setup_true_lang-D4OItXJE.js","assets/CardTitle.vue_vue_type_script_setup_true_lang-_d2aW74W.js","assets/CardDescription.vue_vue_type_script_setup_true_lang-JUvdHu7b.js","assets/Skeleton.vue_vue_type_script_setup_true_lang-Cg44Zo1t.js","assets/loader-circle-D6kw1xtd.js","assets/circle-alert-B-dRznE0.js","assets/clock-BYIq73Do.js","assets/video-qIxajl3y.js","assets/users-BJUpMOgL.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/ZoomMeeting-CCS5_WSo.css","assets/ZoomApiMeeting-6Vmci-ee.js","assets/index-Cn3vOUme.js","assets/refresh-cw-DtIbqIAs.js","assets/info-DuOu9UCb.js","assets/circle-check-SVGpa_GO.js","assets/external-link-BXm-FZYT.js","assets/Resultados-tn0RQdqM.css"])))=>i.map(i=>d[i]);
import{r as y,d as Fe,c as I,p as Te,o as Ve,i as f,e as t,f as e,q as De,w as s,g as o,b as m,j as c,t as u,n as U,h as r,m as n,F as fe,k as Me,z as be,a as ge,s as Ne,_ as pe}from"./app-DiPPUZGR.js";import{_ as g}from"./index-CT6SjxSq.js";import{_ as J}from"./createLucideIcon-LnFYj6W8.js";import{_ as $,a as z,b as F,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-_d2aW74W.js";import{_ as Ee}from"./CardDescription.vue_vue_type_script_setup_true_lang-JUvdHu7b.js";import{_ as Le,a as Se,b as W,c as C,d as je,e as P}from"./TableHeader.vue_vue_type_script_setup_true_lang-9bcTiaTB.js";import{_ as V,a as D}from"./index-BmNRtsK_.js";import{_ as M}from"./AlertTitle.vue_vue_type_script_setup_true_lang-D4OItXJE.js";import{_ as Be,a as Ie,b as H,c as R}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-B95ZSPSk.js";import{_ as Ue}from"./Checkbox.vue_vue_type_script_setup_true_lang-uieU3FqJ.js";import{_ as qe}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-leLhizX-.js";import{_ as He}from"./UserLayout.vue_vue_type_script_setup_true_lang-3e3RDnXJ.js";import{t as Y}from"./index-Cn3vOUme.js";import{u as Re}from"./useGeographicFilters-CIW3RRvL.js";import{_ as Qe}from"./VotacionGrid.vue_vue_type_script_setup_true_lang-BvXG4uBQ.js";import{U as Ge}from"./user-check-B585m6jS.js";import{A as Oe}from"./arrow-left-D6sQ43vQ.js";import{C as ee}from"./circle-check-big-oi5u5wIZ.js";import{I as N}from"./info-DuOu9UCb.js";import{V as Ze}from"./video-qIxajl3y.js";import{V as Ke}from"./vote-Dm7_ep1l.js";import{C as ve}from"./calendar-BLraCazV.js";import{C as xe}from"./clock-BYIq73Do.js";import{M as Xe}from"./map-pin-B2Mp9G2Q.js";import{U as Je}from"./users-BJUpMOgL.js";import{C as _e}from"./circle-x-DUhYgfX8.js";import{C as We}from"./chevron-left-Cp-X-kBb.js";import{C as Ye}from"./chevron-right-C2UX4xcU.js";import{F as ea}from"./file-text-CYsSwfGk.js";import{f as Q,e as G}from"./es-BDPlFIsO.js";import"./index-By2mamON.js";import"./VisuallyHidden-ByHhx5Qq.js";import"./Input.vue_vue_type_script_setup_true_lang-BLuuHUZ8.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CTzhYuOH.js";import"./check-DVHB2ix1.js";import"./floating-ui.vue-CHbmb7gE.js";import"./RovingFocusItem-1w5Qtffm.js";import"./utils-BPw18wz4.js";import"./index-DSJGgV75.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C_pN3p-k.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Do7a5UqC.js";import"./x-pr_ySs4L.js";import"./DialogTrigger-C7xZZ58O.js";import"./useKbd-kRIii9yh.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-B3e-cB8O.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-BOfmLXUD.js";import"./loader-circle-D6kw1xtd.js";import"./trash-2-BnWvOJCC.js";import"./plus-B4JshVEs.js";import"./search-B89cOF7N.js";import"./filter-DbliC07Z.js";import"./history-BG1pOi_9.js";import"./save-DPquE1Qy.js";import"./circle-alert-B-dRznE0.js";import"./useFlashMessages-ja2zPV0O.js";import"./index-PWa2o0RG.js";import"./shield-Cb-ZCkte.js";import"./user-EcamdoZh.js";import"./Label.vue_vue_type_script_setup_true_lang-CFrXLooD.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-BDCK4yjZ.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-B6DDhhnO.js";import"./ellipsis-CUvX1d-9.js";import"./usePermissions-Dmc6loUW.js";import"./square-check-big-D_T9WsZc.js";import"./folder-open-Cxc0Sy_I.js";import"./milestone-DspdNgkJ.js";import"./index-BHNuNaDP.js";import"./circle-play-DaWvxC1H.js";import"./globe-Ca2djTnV.js";import"./circle-check-SVGpa_GO.js";import"./refresh-cw-DtIbqIAs.js";import"./eye-B1f6ZUNU.js";function aa(){const l=y(new Map);function p(A,k=300,h="default"){return(...q)=>{const L=l.value.get(h);L&&clearTimeout(L);const v=setTimeout(()=>{A(...q),l.value.delete(h)},k);l.value.set(h,v)}}function O(){l.value.forEach(A=>clearTimeout(A)),l.value.clear()}function Z(A){const k=l.value.get(A);k&&(clearTimeout(k),l.value.delete(A))}return{debounce:p,cancelAll:O,cancel:Z}}const ta={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},sa={class:"flex items-center justify-between"},la={class:"text-3xl font-bold"},ia={class:"mt-2 flex items-center gap-2"},oa={class:"mt-2 space-y-1"},ra={key:0},na={key:1},da={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},ua={class:"space-y-3"},ma={class:"flex items-center gap-2 text-sm"},ca={class:"flex items-center gap-2 text-sm"},fa={class:"flex items-center gap-2 text-sm"},ba={class:"flex items-center gap-2 text-sm"},ga={class:"pt-2 border-t"},pa={class:"text-sm font-medium"},va={class:"text-sm text-muted-foreground"},xa={class:"space-y-2"},_a={key:0},ya={class:"flex items-start gap-2 text-sm"},ka={class:"text-sm"},wa={class:"space-y-3"},Pa={key:0},Aa={class:"flex items-center gap-2"},Ca={class:"text-lg font-semibold"},ha={key:1},$a={class:"text-lg font-semibold"},za={class:"text-sm whitespace-pre-wrap"},Fa={class:"flex items-center justify-between"},Ta={key:0,class:"flex gap-2"},Va={class:"mb-4"},Da={key:0,class:"flex justify-center py-8"},Ma={key:2},Na={key:0,class:"flex items-center gap-2"},Ea={class:"relative"},La={key:0,class:"absolute inset-0 flex items-center justify-center"},Sa={key:0,class:"text-green-600 dark:text-green-400 transition-all duration-300"},ja={key:1,class:"text-gray-400 dark:text-gray-500 transition-all duration-300"},Ba={key:1},Ia={key:0},Ua={key:1},qa={key:0,class:"flex items-center justify-between mt-4"},Ha={class:"text-sm text-muted-foreground"},Ra={class:"flex items-center space-x-2"},Qa={class:"text-sm"},Ga=["href"],Oa={class:"prose prose-sm max-w-none"},Za={class:"whitespace-pre-wrap text-gray-700"},Ka={class:"space-y-4"},Xa={class:"flex justify-between items-center"},gs=Fe({__name:"Show",props:{asamblea:{},esParticipante:{type:Boolean},esDesuTerritorio:{type:Boolean},miParticipacion:{},votaciones:{},canParticipate:{type:Boolean},canViewMinutes:{type:Boolean}},setup(l){const p=l,O=be(()=>pe(()=>import("./ZoomMeeting-DQzc_6oQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),Z=be(()=>pe(()=>import("./ZoomApiMeeting-6Vmci-ee.js"),__vite__mapDeps([16,3,4,1,2,5,6,7,17,12,18,9,10,19,20,11,21,14,22]))),A=[{title:"Inicio",href:"/miembro/dashboard"},{title:"Asambleas",href:"/miembro/asambleas"},{title:p.asamblea.nombre,href:"#"}],k=y(p.esParticipante?"videoconferencia":"informacion"),h=I(()=>p.votaciones&&p.votaciones.length>0),q=y(!1),L=y(!1),v=y([]),b=y({current_page:1,last_page:1,per_page:20,total:0,from:0,to:0}),S=y(!1),ae=y({}),j=[{name:"users.name",label:"Nombre",type:"text"},{name:"users.documento_identidad",label:"Documento de Identidad",type:"text"}],te=y([...j]),se=Re({prefix:"users.",endpoints:{territorios:route("api.geographic.territorios"),departamentos:route("api.geographic.departamentos"),municipios:route("api.geographic.municipios"),localidades:route("api.geographic.localidades")}}),ye=I(()=>{const d=te.value.filter(i=>!j.some(_=>_.name===i.name));return{fields:[...j,...d,...se.generateFilterFields()],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o documento de identidad...",quickSearchFields:["users.name","users.email","users.documento_identidad"],maxNestingLevel:2,allowSaveFilters:!0,saveKey:`asamblea_${p.asamblea.id}_participantes_filters`}}),ke=d=>d?Q(new Date(d),"PPPp",{locale:G}):"",le=d=>d?Q(new Date(d),"PPP",{locale:G}):"",ie=d=>d?Q(new Date(d),"p",{locale:G}):"",we=d=>d?Q(new Date(d),"PPPp",{locale:G}):"",Pe=d=>{switch(d){case"moderador":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"secretario":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},oe=d=>{switch(d){case"moderador":return"Moderador";case"secretario":return"Secretario";default:return"Asistente"}},B=I(()=>{if(!v.value.length)return null;const d=v.value.filter(x=>x.tipo_participacion==="moderador").length,a=v.value.filter(x=>x.tipo_participacion==="secretario").length,i=v.value.filter(x=>x.tipo_participacion==="asistente").length,_=v.value.filter(x=>x.asistio).length;return{moderadores:d,secretarios:a,asistentes:i,presentes:_,total:b.value.total||0}}),K=async(d=1,a={})=>{if(!p.esParticipante){v.value=[];return}S.value=!0,ae.value=a;try{const i=await ge.get(route("user.asambleas.participantes",p.asamblea.id),{params:{page:d,...a}});if(v.value=i.data.participantes.data,b.value={current_page:i.data.participantes.current_page,last_page:i.data.participantes.last_page,per_page:i.data.participantes.per_page,total:i.data.participantes.total,from:i.data.participantes.from,to:i.data.participantes.to},i.data.filterFieldsConfig&&i.data.filterFieldsConfig.length>0){const _=i.data.filterFieldsConfig.filter(x=>!j.some(X=>X.name===x.name));te.value=[...j,..._]}}catch(i){console.error("Error cargando participantes:",i),v.value=[]}finally{S.value=!1}},re=d=>{d>=1&&d<=b.value.last_page&&K(d,ae.value)},{debounce:Ae}=aa(),ne=Ae(d=>{K(1,d)},300),E=y(null),Ce=I(()=>{var d;return((d=p.miParticipacion)==null?void 0:d.tipo)==="moderador"}),de=I(()=>Ce.value&&p.asamblea.estado==="en_curso"),he=async(d,a)=>{var me,ce;if(E.value===d)return;E.value=d;const i=v.value.find(w=>w.id===d),_=(i==null?void 0:i.name)||"Participante",x=i==null?void 0:i.asistio,X=i==null?void 0:i.hora_registro;i&&(i.asistio=a,a?i.hora_registro=new Date().toISOString():i.hora_registro=void 0);try{const w=await ge.put(route("user.asambleas.marcar-asistencia-participante",{asamblea:p.asamblea.id,participante:d}),{asistio:a});w.data.success&&(a?Y.success(`${_} marcado como presente`,{duration:2e3}):Y.info(`${_} marcado como ausente`,{duration:2e3}),w.data.participante&&i&&(i.hora_registro=w.data.participante.hora_registro,i.updated_by=w.data.participante.updated_by,i.updated_by_name=w.data.participante.updated_by_name))}catch(w){i&&(i.asistio=x??!1,i.hora_registro=X);const ze=((ce=(me=w.response)==null?void 0:me.data)==null?void 0:ce.message)||"Error al actualizar la asistencia";Y.error(ze,{description:"Por favor intenta nuevamente",duration:3e3})}finally{E.value=null}},$e=()=>{Ne.visit(route("user.asambleas.index"))};Te(k,d=>{d==="participantes"&&ue()});const ue=async()=>{!p.esParticipante||q.value||(q.value=!0,L.value||(L.value=!0,await se.initialize()),K())};return Ve(()=>{k.value==="participantes"&&ue()}),(d,a)=>(n(),f(fe,null,[t(e(De),{title:`Asamblea: ${l.asamblea.nombre}`},null,8,["title"]),t(He,{breadcrumbs:A},{default:s(()=>[o("div",ta,[o("div",sa,[o("div",null,[o("h1",la,u(l.asamblea.nombre),1),o("div",ia,[t(e(g),{class:U(l.asamblea.estado_color)},{default:s(()=>[r(u(l.asamblea.estado_label),1)]),_:1},8,["class"]),t(e(g),{class:U(l.asamblea.tipo==="ordinaria"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300")},{default:s(()=>[r(u(l.asamblea.tipo_label),1)]),_:1},8,["class"]),l.esParticipante?(n(),m(e(g),{key:0,class:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"},{default:s(()=>[t(e(Ge),{class:"mr-1 h-3 w-3"}),a[4]||(a[4]=r(" Participante ",-1))]),_:1})):c("",!0)])]),t(e(J),{variant:"outline",onClick:$e},{default:s(()=>[t(e(Oe),{class:"mr-2 h-4 w-4"}),a[5]||(a[5]=r(" Volver ",-1))]),_:1})]),l.esParticipante&&l.miParticipacion?(n(),m(e(V),{key:0,class:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/30"},{default:s(()=>[t(e(ee),{class:"h-4 w-4 text-green-600 dark:text-green-400"}),t(e(M),{class:"text-green-800 dark:text-green-200"},{default:s(()=>[...a[6]||(a[6]=[r("Tu Participación",-1)])]),_:1}),t(e(D),{class:"text-green-700 dark:text-green-300"},{default:s(()=>[o("div",oa,[o("p",null,[a[7]||(a[7]=r("Estás registrado como ",-1)),o("strong",null,u(oe(l.miParticipacion.tipo)),1),a[8]||(a[8]=r(" en esta asamblea.",-1))]),l.miParticipacion.asistio?(n(),f("p",ra," ✓ Asistencia confirmada el "+u(ke(l.miParticipacion.hora_registro)),1)):l.asamblea.estado==="en_curso"?(n(),f("p",na," La asamblea está en curso. Tu asistencia será registrada por el moderador. ")):c("",!0)])]),_:1})]),_:1})):l.esDesuTerritorio?(n(),m(e(V),{key:1,class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/50"},{default:s(()=>[t(e(N),{class:"h-4 w-4 text-blue-600 dark:text-blue-400"}),t(e(M),{class:"text-blue-800 dark:text-blue-200"},{default:s(()=>[...a[9]||(a[9]=[r("Asamblea de tu Territorio",-1)])]),_:1}),t(e(D),{class:"text-blue-700 dark:text-blue-300"},{default:s(()=>[...a[10]||(a[10]=[r(" Esta es una asamblea pública de tu territorio. Puedes ver la información general pero no la lista de participantes. ",-1)])]),_:1})]),_:1})):c("",!0),t(e(Be),{modelValue:k.value,"onUpdate:modelValue":a[3]||(a[3]=i=>k.value=i),class:"w-full"},{default:s(()=>[t(e(Ie),{class:U(["grid w-full",l.esParticipante&&h.value?"grid-cols-4":l.esParticipante?"grid-cols-3":"grid-cols-2"])},{default:s(()=>[l.esParticipante?(n(),m(e(H),{key:0,value:"videoconferencia",disabled:!l.asamblea.zoom_enabled,class:"flex items-center gap-2"},{default:s(()=>[t(e(Ze),{class:"h-4 w-4"}),a[11]||(a[11]=r(" Videoconferencia ",-1))]),_:1},8,["disabled"])):c("",!0),t(e(H),{value:"informacion"},{default:s(()=>[...a[12]||(a[12]=[r("Información",-1)])]),_:1}),t(e(H),{value:"participantes",disabled:!l.esParticipante},{default:s(()=>[...a[13]||(a[13]=[r("Participantes",-1)])]),_:1},8,["disabled"]),l.esParticipante&&h.value?(n(),m(e(H),{key:1,value:"votaciones",class:"flex items-center gap-2"},{default:s(()=>[t(e(Ke),{class:"h-4 w-4"}),a[14]||(a[14]=r(" Votaciones ",-1))]),_:1})):c("",!0)]),_:1},8,["class"]),t(e(R),{value:"informacion",class:"space-y-4 mt-6"},{default:s(()=>[o("div",da,[t(e($),null,{default:s(()=>[t(e(z),{class:"pb-3"},{default:s(()=>[t(e(F),{class:"text-sm font-medium"},{default:s(()=>[...a[15]||(a[15]=[r("Fechas y Horarios",-1)])]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[o("div",ua,[o("div",null,[a[16]||(a[16]=o("p",{class:"text-xs text-muted-foreground"},"Inicio",-1)),o("div",ma,[t(e(ve),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,u(le(l.asamblea.fecha_inicio)),1)]),o("div",ca,[t(e(xe),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,u(ie(l.asamblea.fecha_inicio)),1)])]),o("div",null,[a[17]||(a[17]=o("p",{class:"text-xs text-muted-foreground"},"Fin",-1)),o("div",fa,[t(e(ve),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,u(le(l.asamblea.fecha_fin)),1)]),o("div",ba,[t(e(xe),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,u(ie(l.asamblea.fecha_fin)),1)])]),o("div",ga,[o("p",pa,"Duración: "+u(l.asamblea.duracion),1),o("p",va,u(l.asamblea.tiempo_restante),1)])])]),_:1})]),_:1}),t(e($),null,{default:s(()=>[t(e(z),{class:"pb-3"},{default:s(()=>[t(e(F),{class:"text-sm font-medium"},{default:s(()=>[...a[18]||(a[18]=[r("Ubicación",-1)])]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[o("div",xa,[l.asamblea.lugar?(n(),f("div",_a,[a[19]||(a[19]=o("p",{class:"text-xs text-muted-foreground"},"Lugar",-1)),o("div",ya,[t(e(Xe),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),o("span",null,u(l.asamblea.lugar),1)])])):c("",!0),o("div",null,[a[20]||(a[20]=o("p",{class:"text-xs text-muted-foreground"},"Ubicación Geográfica",-1)),o("p",ka,u(l.asamblea.ubicacion_completa),1)])])]),_:1})]),_:1}),t(e($),null,{default:s(()=>[t(e(z),{class:"pb-3"},{default:s(()=>[t(e(F),{class:"text-sm font-medium"},{default:s(()=>[...a[21]||(a[21]=[r("Estado de la Asamblea",-1)])]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[o("div",wa,[l.esParticipante?(n(),f("div",Pa,[a[24]||(a[24]=o("p",{class:"text-xs text-muted-foreground"},"Quórum",-1)),o("div",Aa,[t(e(Je),{class:"h-4 w-4 text-muted-foreground"}),o("span",Ca,u(l.asamblea.asistentes_count)+" / "+u(l.asamblea.quorum_minimo||"∞"),1)]),l.asamblea.alcanza_quorum?(n(),m(e(g),{key:0,class:"mt-2 bg-green-100 text-green-800"},{default:s(()=>[t(e(ee),{class:"mr-1 h-3 w-3"}),a[22]||(a[22]=r(" Quórum alcanzado ",-1))]),_:1})):l.asamblea.quorum_minimo?(n(),m(e(g),{key:1,class:"mt-2 bg-yellow-100 text-yellow-800"},{default:s(()=>[t(e(_e),{class:"mr-1 h-3 w-3"}),a[23]||(a[23]=r(" Quórum no alcanzado ",-1))]),_:1})):c("",!0)])):(n(),f("div",ha)),o("div",null,[a[25]||(a[25]=o("p",{class:"text-xs text-muted-foreground"},"Total de participantes",-1)),o("p",$a,u(l.asamblea.participantes_count),1)])])]),_:1})]),_:1})]),l.asamblea.descripcion?(n(),m(e($),{key:0},{default:s(()=>[t(e(z),null,{default:s(()=>[t(e(F),null,{default:s(()=>[...a[26]||(a[26]=[r("Descripción",-1)])]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[o("p",za,u(l.asamblea.descripcion),1)]),_:1})]),_:1})):c("",!0)]),_:1}),t(e(R),{value:"participantes",class:"space-y-4 mt-6"},{default:s(()=>[l.esParticipante?(n(),m(e($),{key:0},{default:s(()=>[t(e(z),null,{default:s(()=>[o("div",Fa,[o("div",null,[t(e(F),null,{default:s(()=>[...a[27]||(a[27]=[r("Participantes",-1)])]),_:1}),t(e(Ee),null,{default:s(()=>[r(u(b.value.total)+" participantes registrados en la asamblea ",1)]),_:1})]),B.value?(n(),f("div",Ta,[t(e(g),{variant:"outline"},{default:s(()=>[r(" Moderadores: "+u(B.value.moderadores),1)]),_:1}),t(e(g),{variant:"outline"},{default:s(()=>[r(" Secretarios: "+u(B.value.secretarios),1)]),_:1}),t(e(g),{variant:"outline"},{default:s(()=>[r(" Asistentes: "+u(B.value.asistentes),1)]),_:1}),t(e(g),{variant:"outline"},{default:s(()=>[r(" Presentes: "+u(B.value.presentes),1)]),_:1})])):c("",!0)])]),_:1}),t(e(T),null,{default:s(()=>[o("div",Va,[t(qe,{config:ye.value,onApply:e(ne),onClear:a[0]||(a[0]=i=>e(ne)({}))},null,8,["config","onApply"])]),S.value?(n(),f("div",Da,[...a[28]||(a[28]=[o("div",{class:"text-muted-foreground"},"Cargando participantes...",-1)])])):c("",!0),!S.value&&de.value?(n(),m(e(V),{key:1,class:"mb-4 border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/50"},{default:s(()=>[t(e(N),{class:"h-4 w-4 text-blue-600 dark:text-blue-400"}),t(e(M),{class:"text-blue-800 dark:text-blue-200"},{default:s(()=>[...a[29]||(a[29]=[r("Toma de Asistencia Habilitada",-1)])]),_:1}),t(e(D),{class:"text-blue-700 dark:text-blue-300"},{default:s(()=>[...a[30]||(a[30]=[r(" Como moderador, puedes marcar la asistencia de los participantes usando los checkboxes en la tabla. ",-1)])]),_:1})]),_:1})):c("",!0),S.value?c("",!0):(n(),f("div",Ma,[t(e(Le),null,{default:s(()=>[t(e(Se),null,{default:s(()=>[t(e(W),null,{default:s(()=>[t(e(C),null,{default:s(()=>[...a[31]||(a[31]=[r("Nombre",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[32]||(a[32]=[r("Departamento",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[33]||(a[33]=[r("Municipio",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[34]||(a[34]=[r("Localidad",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[35]||(a[35]=[r("Tipo de Participación",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[36]||(a[36]=[r("Asistencia",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[37]||(a[37]=[r("Hora Registro",-1)])]),_:1}),t(e(C),null,{default:s(()=>[...a[38]||(a[38]=[r("Registrado por",-1)])]),_:1})]),_:1})]),_:1}),t(e(je),null,{default:s(()=>[(n(!0),f(fe,null,Me(v.value,i=>(n(),m(e(W),{key:i.id},{default:s(()=>[t(e(P),{class:"font-medium"},{default:s(()=>[r(u(i.name),1)]),_:2},1024),t(e(P),null,{default:s(()=>[r(u(i.departamento_nombre||"N/A"),1)]),_:2},1024),t(e(P),null,{default:s(()=>[r(u(i.municipio_nombre||"N/A"),1)]),_:2},1024),t(e(P),null,{default:s(()=>[r(u(i.localidad_nombre||"N/A"),1)]),_:2},1024),t(e(P),null,{default:s(()=>[t(e(g),{class:U(Pe(i.tipo_participacion))},{default:s(()=>[r(u(oe(i.tipo_participacion)),1)]),_:2},1032,["class"])]),_:2},1024),t(e(P),null,{default:s(()=>[de.value?(n(),f("div",Na,[o("div",Ea,[t(e(Ue),{checked:i.asistio||!1,disabled:E.value===i.id,"onUpdate:checked":_=>he(i.id,_),class:U(E.value===i.id?"opacity-50":"")},null,8,["checked","disabled","onUpdate:checked","class"]),E.value===i.id?(n(),f("div",La,[...a[39]||(a[39]=[o("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"},null,-1)])])):c("",!0)]),i.asistio?(n(),f("span",Sa," Presente ")):(n(),f("span",ja," Ausente "))])):(n(),f("div",Ba,[i.asistio?(n(),m(e(g),{key:0,class:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"},{default:s(()=>[t(e(ee),{class:"mr-1 h-3 w-3"}),a[40]||(a[40]=r(" Presente ",-1))]),_:1})):l.asamblea.estado==="finalizada"?(n(),m(e(g),{key:1,class:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},{default:s(()=>[t(e(_e),{class:"mr-1 h-3 w-3"}),a[41]||(a[41]=r(" Ausente ",-1))]),_:1})):(n(),m(e(g),{key:2,variant:"outline",class:"dark:border-gray-700 dark:text-gray-400"},{default:s(()=>[...a[42]||(a[42]=[r(" Pendiente ",-1)])]),_:1}))]))]),_:2},1024),t(e(P),null,{default:s(()=>[r(u(i.hora_registro?we(i.hora_registro):"-"),1)]),_:2},1024),t(e(P),null,{default:s(()=>[i.updated_by?(n(),f("span",Ia,u(i.updated_by===i.id?"Auto-registro":i.updated_by_name||"Admin"),1)):(n(),f("span",Ua,"-"))]),_:2},1024)]),_:2},1024))),128)),v.value.length===0?(n(),m(e(W),{key:0},{default:s(()=>[t(e(P),{colspan:8,class:"text-center py-8"},{default:s(()=>[...a[43]||(a[43]=[o("p",{class:"text-muted-foreground"},"No hay participantes registrados",-1)])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1}),b.value.last_page>1?(n(),f("div",qa,[o("div",Ha," Mostrando "+u(b.value.from)+" a "+u(b.value.to)+" de "+u(b.value.total)+" resultados ",1),o("div",Ra,[t(e(J),{variant:"outline",size:"sm",disabled:b.value.current_page===1,onClick:a[1]||(a[1]=i=>re(b.value.current_page-1))},{default:s(()=>[t(e(We),{class:"h-4 w-4"}),a[44]||(a[44]=r(" Anterior ",-1))]),_:1},8,["disabled"]),o("div",Qa," Página "+u(b.value.current_page)+" de "+u(b.value.last_page),1),t(e(J),{variant:"outline",size:"sm",disabled:b.value.current_page===b.value.last_page,onClick:a[2]||(a[2]=i=>re(b.value.current_page+1))},{default:s(()=>[a[45]||(a[45]=r(" Siguiente ",-1)),t(e(Ye),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):c("",!0)]))]),_:1})]),_:1})):c("",!0),l.asamblea.acta_url&&(l.esParticipante||l.asamblea.estado==="finalizada")?(n(),m(e($),{key:1},{default:s(()=>[t(e(z),null,{default:s(()=>[t(e(F),null,{default:s(()=>[...a[46]||(a[46]=[r("Documentos de la Asamblea",-1)])]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[o("a",{href:l.asamblea.acta_url,target:"_blank",class:"inline-flex items-center gap-2 text-blue-600 hover:underline"},[t(e(ea),{class:"h-4 w-4"}),a[47]||(a[47]=r(" Ver Acta de la Asamblea ",-1))],8,Ga)]),_:1})]),_:1})):c("",!0)]),_:1}),t(e(R),{value:"videoconferencia",class:"space-y-4 mt-6"},{default:s(()=>[l.asamblea.zoom_enabled&&l.asamblea.zoom_integration_type==="sdk"&&l.asamblea.zoom_meeting_id?(n(),m(e(O),{key:0,"asamblea-id":l.asamblea.id,"meeting-id":l.asamblea.zoom_meeting_id},null,8,["asamblea-id","meeting-id"])):l.asamblea.zoom_enabled&&l.asamblea.zoom_integration_type==="api"?(n(),m(e(Z),{key:1,"asamblea-id":l.asamblea.id},null,8,["asamblea-id"])):l.asamblea.zoom_enabled&&l.asamblea.zoom_integration_type==="message"&&l.asamblea.zoom_static_message?(n(),m(e($),{key:2},{default:s(()=>[t(e(z),null,{default:s(()=>[t(e(F),{class:"flex items-center gap-2"},{default:s(()=>[t(e(N),{class:"h-5 w-5"}),a[48]||(a[48]=r(" Información Importante ",-1))]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[o("div",Oa,[o("p",Za,u(l.asamblea.zoom_static_message),1)])]),_:1})]),_:1})):l.asamblea.zoom_enabled&&!l.asamblea.zoom_meeting_id&&l.asamblea.zoom_integration_type!=="message"?(n(),m(e(V),{key:3},{default:s(()=>[t(e(N),{class:"h-4 w-4"}),t(e(M),null,{default:s(()=>[...a[49]||(a[49]=[r("Configuración Incompleta",-1)])]),_:1}),t(e(D),null,{default:s(()=>[...a[50]||(a[50]=[r(" La videoconferencia está habilitada pero aún no está completamente configurada. ",-1)])]),_:1})]),_:1})):l.asamblea.zoom_enabled&&l.asamblea.zoom_integration_type==="message"&&!l.asamblea.zoom_static_message?(n(),m(e(V),{key:4},{default:s(()=>[t(e(N),{class:"h-4 w-4"}),t(e(M),null,{default:s(()=>[...a[51]||(a[51]=[r("Sin Mensaje Configurado",-1)])]),_:1}),t(e(D),null,{default:s(()=>[...a[52]||(a[52]=[r(" No se ha configurado un mensaje para mostrar. ",-1)])]),_:1})]),_:1})):l.asamblea.zoom_enabled?c("",!0):(n(),m(e(V),{key:5},{default:s(()=>[t(e(N),{class:"h-4 w-4"}),t(e(M),null,{default:s(()=>[...a[53]||(a[53]=[r("Videoconferencia No Habilitada",-1)])]),_:1}),t(e(D),null,{default:s(()=>[...a[54]||(a[54]=[r(" Esta asamblea no tiene videoconferencia habilitada. ",-1)])]),_:1})]),_:1}))]),_:1}),l.esParticipante&&h.value?(n(),m(e(R),{key:0,value:"votaciones",class:"space-y-4 mt-6"},{default:s(()=>[o("div",Ka,[o("div",Xa,[a[55]||(a[55]=o("div",null,[o("h3",{class:"text-lg font-semibold"},"Votaciones de la Asamblea"),o("p",{class:"text-sm text-gray-600"}," Votaciones asociadas a esta asamblea en las que puedes participar ")],-1)),t(e(g),null,{default:s(()=>[r(u(l.votaciones.length)+" votación(es)",1)]),_:1})]),t(Qe,{votaciones:l.votaciones,"can-vote":!0,"can-view-results":!1,"view-mode":"grid"},null,8,["votaciones"])])]),_:1})):c("",!0)]),_:1},8,["modelValue"]),!l.esParticipante&&l.esDesuTerritorio?(n(),m(e(V),{key:2,class:"mt-6"},{default:s(()=>[t(e(N),{class:"h-4 w-4"}),t(e(M),null,{default:s(()=>[...a[56]||(a[56]=[r("Información Limitada",-1)])]),_:1}),t(e(D),null,{default:s(()=>[...a[57]||(a[57]=[o("div",{class:"space-y-2"},[o("p",null,"Para participar completamente, debes ser añadido por el administrador.")],-1)])]),_:1})]),_:1})):c("",!0)])]),_:1})],64))}});export{gs as default};
