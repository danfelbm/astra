import{d as G,c as S,i as l,g as i,b as $,j as u,e as o,f as a,w as r,h as b,t as n,s as De,n as P,F as q,k as A,m as s,l as J,r as Ee,p as Ce,T as Te}from"./app-CC6H0n1q.js";import{a as N,b as R,c as D,_ as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-cEX4BYE9.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-oS66W6XP.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-BpqAxluk.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-S95rAL8g.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-CI7Ki7bk.js";import{_ as Be,a as Se,b as je,c as Ae,d as K}from"./SelectValue.vue_vue_type_script_setup_true_lang-2Hoc4pax.js";import{_ as Ne}from"./Textarea.vue_vue_type_script_setup_true_lang-CatedLfi.js";import{_ as Re}from"./index-BF-_iLjl.js";import{_ as ze}from"./createLucideIcon-dYX5Zc3c.js";import{C as W}from"./circle-alert-CdXWy-z_.js";import{P as Ie}from"./plus-Ds3Ob7OJ.js";import{F as Le}from"./file-text-m-9M3IAO.js";import{U as O}from"./user-BTw1JOop.js";import{a as I,_ as Q}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-BbbTmD4y.js";import{U as Fe}from"./users-diRFbZaQ.js";import{_ as we,a as Ue,b as qe}from"./index-Bsa4GyCh.js";import{_ as Ye}from"./FileUploadField.vue_vue_type_script_setup_true_lang-BbUCI1bU.js";import{u as Me,_ as Ge,a as He,b as Je}from"./useConditionalFields-Bx806IYn.js";import{_ as Ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Oe={class:"space-y-3"},Qe={class:"space-y-1.5"},We={key:0,class:"text-red-500 ml-1"},Xe={key:0,class:"text-sm text-muted-foreground"},Ze={class:"flex items-center space-x-2"},et={key:1,class:"space-y-3"},tt={class:"flex items-center space-x-2"},st={class:"flex items-center justify-between"},at={class:"flex items-center space-x-2"},lt={class:"space-y-2 text-sm"},ot={class:"flex justify-between"},rt={class:"font-medium"},dt={class:"flex justify-between"},it={class:"font-medium"},nt={key:2,class:"text-sm text-red-600"},ut=G({__name:"PerfilCandidaturaField",props:{modelValue:{},candidaturasAprobadas:{},label:{default:"Perfil de Candidatura"},description:{default:"Selecciona tu perfil de candidatura aprobado para vincular a esta postulación"},required:{type:Boolean,default:!1},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:T}){const h=t,k=T,B=S({get:()=>h.modelValue,set:_=>k("update:modelValue",_)}),v=S(()=>h.candidaturasAprobadas.length>0),w=S(()=>B.value?h.candidaturasAprobadas.find(_=>_.id===B.value):null),F=_=>{const x=_==="null"?null:parseInt(_);B.value=x};return(_,x)=>{var p;return s(),l("div",Oe,[i("div",Qe,[o(a(g),{class:"text-sm font-medium"},{default:r(()=>[b(n(t.label)+" ",1),t.required?(s(),l("span",We,"*")):u("",!0)]),_:1}),t.description?(s(),l("p",Xe,n(t.description),1)):u("",!0)]),v.value?(s(),l("div",et,[o(a(Be),{"model-value":((p=B.value)==null?void 0:p.toString())||"null","onUpdate:modelValue":F,disabled:t.disabled},{default:r(()=>[o(a(Se),{class:P(["w-full",t.error?"border-red-300":""])},{default:r(()=>[o(a(je),{placeholder:"Selecciona tu perfil de candidatura"})]),_:1},8,["class"]),o(a(Ae),null,{default:r(()=>[o(a(K),{value:"null"},{default:r(()=>[...x[4]||(x[4]=[i("div",{class:"flex items-center space-x-2"},[i("span",{class:"text-muted-foreground"},"No vincular perfil")],-1)])]),_:1}),(s(!0),l(q,null,A(t.candidaturasAprobadas,c=>(s(),$(a(K),{key:c.id,value:c.id.toString()},{default:r(()=>[i("div",tt,[o(a(O),{class:"h-4 w-4"}),i("span",null,n(c.resumen),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),w.value?(s(),$(a(j),{key:0,class:"border-green-200 bg-green-50"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[i("div",st,[i("div",at,[o(a(Le),{class:"h-5 w-5 text-green-600"}),o(a(R),{class:"text-base text-green-800"},{default:r(()=>[...x[5]||(x[5]=[b(" Perfil seleccionado ",-1)])]),_:1})]),o(a(Re),{variant:"secondary",class:"bg-green-100 text-green-800"},{default:r(()=>[...x[6]||(x[6]=[b(" Aprobado ",-1)])]),_:1})]),o(a(z),{class:"text-green-700"},{default:r(()=>[...x[7]||(x[7]=[b(" Se vinculará tu perfil de candidatura a esta postulación, preservando una copia de todos tus datos actuales. ",-1)])]),_:1})]),_:1}),o(a(D),{class:"pt-0"},{default:r(()=>[i("div",lt,[i("div",ot,[x[8]||(x[8]=i("span",{class:"text-muted-foreground"},"Versión:",-1)),i("span",rt,"v"+n(w.value.version),1)]),i("div",dt,[x[9]||(x[9]=i("span",{class:"text-muted-foreground"},"Fecha aprobación:",-1)),i("span",it,n(w.value.fecha_aprobacion),1)])])]),_:1})]),_:1})):u("",!0)])):(s(),$(a(j),{key:0,class:"border-amber-200 bg-amber-50"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[i("div",Ze,[o(a(W),{class:"h-5 w-5 text-amber-600"}),o(a(R),{class:"text-base text-amber-800"},{default:r(()=>[...x[1]||(x[1]=[b(" No tienes un perfil de candidatura aprobado ",-1)])]),_:1})]),o(a(z),{class:"text-amber-700"},{default:r(()=>[...x[2]||(x[2]=[b(" Para vincular tu perfil a esta postulación, primero necesitas crear y obtener la aprobación de tu candidatura. ",-1)])]),_:1})]),_:1}),o(a(D),{class:"pt-0"},{default:r(()=>[o(a(ze),{variant:"outline",size:"sm",class:"border-amber-300 text-amber-800 hover:bg-amber-100",onClick:x[0]||(x[0]=c=>a(De).get("/miembro/candidaturas"))},{default:r(()=>[o(a(Ie),{class:"mr-2 h-4 w-4"}),x[3]||(x[3]=b(" Crear Perfil de Candidatura ",-1))]),_:1})]),_:1})]),_:1})),t.error?(s(),l("p",nt,n(t.error),1)):u("",!0)])}}}),ct={class:"space-y-3"},mt={class:"space-y-1.5"},xt={key:0,class:"text-red-500 ml-1"},ft={key:0,class:"text-sm text-muted-foreground"},pt={class:"flex items-center space-x-2"},bt={key:1,class:"space-y-3"},vt={class:"space-y-3"},_t={key:0,class:"flex items-start space-x-3 pb-3 border-b"},yt={class:"flex items-start justify-between"},ht={class:"font-medium"},gt={key:0,class:"text-xs text-muted-foreground mt-0.5"},$t={key:1,class:"text-xs text-muted-foreground"},kt={class:"flex items-center space-x-2"},Vt={class:"space-y-3"},Ct={class:"flex items-start justify-between"},wt={class:"font-medium"},Ut={key:0,class:"text-xs text-muted-foreground mt-0.5"},qt={key:1,class:"text-xs text-muted-foreground"},Bt={key:2,class:"text-sm text-red-600"},St=G({__name:"CandidatosVotacionField",props:{modelValue:{},candidatosElegibles:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos disponibles"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:T}){const h=t,k=T,B=S(()=>h.candidatosElegibles.length>0),v=x=>{k("update:modelValue",x==="null"?null:x)},w=x=>h.multiple?Array.isArray(h.modelValue)&&h.modelValue.includes(x):h.modelValue===x,F=(x,p)=>{if(!h.multiple){k("update:modelValue",p?x:null);return}const c=Array.isArray(h.modelValue)?h.modelValue:[];let m;p?m=[...c,x]:m=c.filter(d=>d!==x),k("update:modelValue",m)},_=x=>{const p=[];return x.localidad&&p.push(x.localidad),x.municipio&&p.push(x.municipio),x.departamento&&p.push(x.departamento),x.territorio&&p.push(x.territorio),p.length>0?p.join(", "):""};return(x,p)=>(s(),l("div",ct,[i("div",mt,[o(a(g),{class:"text-sm font-medium"},{default:r(()=>[b(n(t.label)+" ",1),t.required?(s(),l("span",xt,"*")):u("",!0)]),_:1}),t.description?(s(),l("p",ft,n(t.description),1)):u("",!0)]),B.value?(s(),l("div",bt,[t.multiple?(s(),$(a(j),{key:1,class:"border"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[i("div",kt,[o(a(Fe),{class:"h-4 w-4 text-muted-foreground"}),o(a(R),{class:"text-sm"},{default:r(()=>[...p[3]||(p[3]=[b(" Candidatos disponibles ",-1)])]),_:1})]),o(a(z),{class:"text-xs"},{default:r(()=>[...p[4]||(p[4]=[b(" Puedes seleccionar múltiples candidatos ",-1)])]),_:1})]),_:1}),o(a(D),null,{default:r(()=>[i("div",Vt,[(s(!0),l(q,null,A(t.candidatosElegibles,c=>(s(),l("div",{key:c.id,class:"flex items-start space-x-3"},[o(a(M),{id:`candidato_check_${c.id}`,checked:w(c.name),"onUpdate:checked":m=>F(c.name,m),disabled:t.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(a(g),{for:`candidato_check_${c.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:r(()=>[i("div",Ct,[i("div",null,[i("p",wt,n(c.name),1),c.cargo?(s(),l("p",Ut,n(c.cargo),1)):u("",!0),_(c)?(s(),l("p",qt,n(_(c)),1)):u("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):(s(),$(a(Q),{key:0,"model-value":t.modelValue||"null","onUpdate:modelValue":v,disabled:t.disabled,class:"space-y-2"},{default:r(()=>[o(a(j),{class:"border"},{default:r(()=>[o(a(D),{class:"pt-6"},{default:r(()=>[i("div",vt,[t.mostrarVotoBlanco?(s(),l("div",_t,[o(a(I),{value:"null",id:"candidato_none"}),o(a(g),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:r(()=>[...p[2]||(p[2]=[i("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):u("",!0),(s(!0),l(q,null,A(t.candidatosElegibles,c=>(s(),l("div",{key:c.id,class:"flex items-start space-x-3 py-2"},[o(a(I),{value:c.name,id:`candidato_${c.id}`},null,8,["value","id"]),o(a(g),{for:`candidato_${c.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:r(()=>[i("div",yt,[i("div",null,[i("p",ht,n(c.name),1),c.cargo?(s(),l("p",gt,n(c.cargo),1)):u("",!0),_(c)?(s(),l("p",$t,n(_(c)),1)):u("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"]))])):(s(),$(a(j),{key:0,class:"border-amber-200 bg-amber-50"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[i("div",pt,[o(a(W),{class:"h-5 w-5 text-amber-600"}),o(a(R),{class:"text-base text-amber-800"},{default:r(()=>[...p[0]||(p[0]=[b(" No hay candidatos disponibles ",-1)])]),_:1})]),o(a(z),{class:"text-amber-700"},{default:r(()=>[...p[1]||(p[1]=[b(" No se encontraron candidatos que cumplan con los criterios configurados para esta votación. ",-1)])]),_:1})]),_:1})]),_:1})),t.error?(s(),l("p",Bt,n(t.error),1)):u("",!0)]))}}),jt={class:"space-y-3"},At={class:"space-y-1.5"},Ft={key:0,class:"text-red-500 ml-1"},Pt={key:0,class:"text-sm text-muted-foreground"},Dt={key:1,class:"text-xs text-blue-600 font-medium"},Et={class:"flex items-center space-x-2"},Tt={key:1,class:"space-y-3"},Nt={class:"space-y-3"},Rt={class:"flex items-start justify-between"},zt={class:"space-y-1"},It={class:"flex items-center gap-2"},Lt={class:"font-medium"},Yt={key:0,class:"text-xs text-muted-foreground ml-6"},Mt={key:1,class:"text-xs text-muted-foreground ml-6"},Gt={key:2,class:"text-xs text-blue-600 ml-6"},Ht={key:0,class:"flex items-start space-x-3 pt-3 border-t"},Jt={class:"flex items-center space-x-2"},Kt={class:"space-y-3"},Ot={class:"flex items-start justify-between"},Qt={class:"space-y-1"},Wt={class:"flex items-center gap-2"},Xt={class:"font-medium"},Zt={key:0,class:"text-xs text-muted-foreground ml-6"},es={key:1,class:"text-xs text-muted-foreground ml-6"},ts={key:2,class:"text-xs text-blue-600 ml-6"},ss={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},as={class:"flex flex-col sm:flex-row sm:gap-4 sm:items-start"},ls={class:"flex justify-center sm:justify-start mb-3 sm:mb-0"},os={class:"flex-1 min-w-0"},rs={class:"mb-2 sm:mb-3 text-center sm:text-left"},ds={class:"font-semibold text-sm sm:text-base leading-tight line-clamp-2"},is={key:0,class:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1"},ns={class:"space-y-1 sm:space-y-1.5 text-xs sm:text-sm"},us={key:0,class:"text-muted-foreground"},cs={class:"sm:hidden"},ms={class:"hidden sm:block text-xs"},xs={key:1,class:"text-muted-foreground"},fs={class:"text-xs line-clamp-2 sm:line-clamp-none"},ps={key:2,class:"text-blue-600 text-xs mt-1 sm:mt-2 line-clamp-2"},bs={class:"flex justify-end mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},vs={class:"text-center"},_s={class:"mt-3 sm:mt-4"},ys={key:3,class:"space-y-4"},hs={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},gs={class:"flex flex-col sm:flex-row sm:gap-4 sm:items-start"},$s={class:"flex justify-center sm:justify-start mb-3 sm:mb-0"},ks={class:"flex-1 min-w-0"},Vs={class:"mb-2 sm:mb-3 text-center sm:text-left"},Cs={class:"font-semibold text-sm sm:text-base leading-tight line-clamp-2"},ws={key:0,class:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1"},Us={class:"space-y-1 sm:space-y-1.5 text-xs sm:text-sm"},qs={key:0,class:"text-muted-foreground"},Bs={class:"sm:hidden"},Ss={class:"hidden sm:block text-xs"},js={key:1,class:"text-muted-foreground"},As={class:"text-xs line-clamp-2 sm:line-clamp-none"},Fs={key:2,class:"text-blue-600 text-xs mt-1 sm:mt-2 line-clamp-2"},Ps={class:"flex justify-end mt-3 sm:mt-4 pt-3 sm:pt-4 border-t"},Ds={key:2,class:"text-sm text-red-600"},Es=G({__name:"ConvocatoriaVotacionField",props:{modelValue:{},candidatos:{default:()=>[]},label:{default:"Seleccionar Candidato(s)"},description:{default:"Selecciona entre los candidatos aprobados de la convocatoria"},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},mostrarVotoBlanco:{type:Boolean,default:!0},error:{},disabled:{type:Boolean,default:!1},convocatoriaNombre:{},vistaPreferida:{default:"lista"}},emits:["update:modelValue"],setup(t,{emit:T}){const h=t,k=T,B=S(()=>h.candidatos.length>0),v=c=>{k("update:modelValue",c==="null"?null:c)},w=c=>h.multiple?Array.isArray(h.modelValue)&&h.modelValue.includes(c):h.modelValue===c,F=(c,m)=>{if(!h.multiple){k("update:modelValue",m?c:null);return}const d=Array.isArray(h.modelValue)?h.modelValue:[];let C;m?C=[...d,c]:C=d.filter(H=>H!==c),k("update:modelValue",C)},_=c=>{const m=[];return c.localidad&&m.push(c.localidad),c.municipio&&m.push(c.municipio),c.departamento&&m.push(c.departamento),c.territorio&&m.push(c.territorio),m.length>0?m.join(", "):""},x=c=>{var C;if(!((C=c.candidatura_snapshot)!=null&&C.formulario_data))return"";const m=c.candidatura_snapshot.formulario_data,d=[];return m.profesion&&d.push(m.profesion),m.experiencia&&d.push(`${m.experiencia} años de experiencia`),d.join(" - ")},p=c=>c.split(" ").map(m=>m[0]).join("").toUpperCase().substring(0,2);return(c,m)=>(s(),l("div",jt,[i("div",At,[o(a(g),{class:"text-sm font-medium"},{default:r(()=>[b(n(t.label)+" ",1),t.required?(s(),l("span",Ft,"*")):u("",!0)]),_:1}),t.description?(s(),l("p",Pt,n(t.description),1)):u("",!0),t.convocatoriaNombre?(s(),l("p",Dt," Convocatoria: "+n(t.convocatoriaNombre),1)):u("",!0)]),B.value?(s(),l("div",Tt,[!t.multiple&&t.vistaPreferida==="lista"?(s(),$(a(Q),{key:0,"model-value":t.modelValue,"onUpdate:modelValue":v,disabled:t.disabled,class:"space-y-2"},{default:r(()=>[o(a(j),{class:"border"},{default:r(()=>[o(a(D),{class:"pt-6"},{default:r(()=>[i("div",Nt,[(s(!0),l(q,null,A(t.candidatos,d=>(s(),l("div",{key:d.id,class:"flex items-start space-x-3 py-2"},[o(a(I),{value:d.name,id:`candidato_${d.id}`},null,8,["value","id"]),o(a(g),{for:`candidato_${d.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:r(()=>[i("div",Rt,[i("div",zt,[i("div",It,[o(a(O),{class:"h-4 w-4 text-muted-foreground"}),i("p",Lt,n(d.name),1)]),d.cargo?(s(),l("p",Yt," Cargo: "+n(d.cargo),1)):u("",!0),_(d)?(s(),l("p",Mt," Ubicación: "+n(_(d)),1)):u("",!0),x(d)?(s(),l("p",Gt,n(x(d)),1)):u("",!0)])])]),_:2},1032,["for"])]))),128)),t.mostrarVotoBlanco?(s(),l("div",Ht,[o(a(I),{value:"null",id:"candidato_none"}),o(a(g),{for:"candidato_none",class:"text-sm font-normal cursor-pointer"},{default:r(()=>[...m[6]||(m[6]=[i("span",{class:"text-muted-foreground"},"Voto en blanco",-1)])]),_:1})])):u("",!0)])]),_:1})]),_:1})]),_:1},8,["model-value","disabled"])):t.multiple&&t.vistaPreferida==="lista"?(s(),$(a(j),{key:1,class:"border"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[i("div",Jt,[o(a(Fe),{class:"h-4 w-4 text-muted-foreground"}),o(a(R),{class:"text-sm"},{default:r(()=>[...m[7]||(m[7]=[b(" Candidatos disponibles ",-1)])]),_:1})]),o(a(z),{class:"text-xs"},{default:r(()=>[...m[8]||(m[8]=[b(" Puedes seleccionar múltiples candidatos de la convocatoria ",-1)])]),_:1})]),_:1}),o(a(D),null,{default:r(()=>[i("div",Kt,[(s(!0),l(q,null,A(t.candidatos,d=>(s(),l("div",{key:d.id,class:"flex items-start space-x-3"},[o(a(M),{id:`candidato_check_${d.id}`,checked:w(d.name),"onUpdate:checked":C=>F(d.name,C),disabled:t.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(a(g),{for:`candidato_check_${d.id}`,class:"text-sm font-normal cursor-pointer flex-1"},{default:r(()=>[i("div",Ot,[i("div",Qt,[i("div",Wt,[o(a(O),{class:"h-4 w-4 text-muted-foreground"}),i("p",Xt,n(d.name),1)]),d.cargo?(s(),l("p",Zt," Cargo: "+n(d.cargo),1)):u("",!0),_(d)?(s(),l("p",es," Ubicación: "+n(_(d)),1)):u("",!0),x(d)?(s(),l("p",ts,n(x(d)),1)):u("",!0)])])]),_:2},1032,["for"])]))),128))])]),_:1})]),_:1})):u("",!0),!t.multiple&&t.vistaPreferida==="cards"?(s(),$(a(Q),{key:2,"model-value":t.modelValue,"onUpdate:modelValue":v,disabled:t.disabled,class:"space-y-4"},{default:r(()=>[i("div",ss,[(s(!0),l(q,null,A(t.candidatos,d=>(s(),$(a(j),{key:d.id,class:P(["cursor-pointer transition-all hover:shadow-md",t.modelValue===d.name?"ring-2 ring-primary":""]),onClick:C=>v(d.name)},{default:r(()=>[o(a(D),{class:"p-3 sm:p-6"},{default:r(()=>[i("div",as,[i("div",ls,[o(a(we),{class:"h-14 w-14 sm:h-20 sm:w-20"},{default:r(()=>[d.avatar_url?(s(),$(a(Ue),{key:0,src:d.avatar_url,alt:d.name},null,8,["src","alt"])):u("",!0),o(a(qe),{class:"bg-primary/10 text-primary font-semibold text-lg sm:text-2xl"},{default:r(()=>[b(n(p(d.name)),1)]),_:2},1024)]),_:2},1024)]),i("div",os,[i("div",rs,[i("p",ds,n(d.name),1),d.email?(s(),l("p",is,n(d.email),1)):u("",!0)]),i("div",ns,[d.cargo?(s(),l("p",us,[m[9]||(m[9]=i("span",{class:"font-medium hidden sm:inline"},"Cargo:",-1)),i("span",cs,n(d.cargo),1),i("span",ms,n(d.cargo),1)])):u("",!0),_(d)?(s(),l("p",xs,[m[10]||(m[10]=i("span",{class:"font-medium hidden sm:inline"},"Ubicación:",-1)),i("span",fs,n(_(d)),1)])):u("",!0),x(d)?(s(),l("p",ps,n(x(d)),1)):u("",!0)])])]),i("div",bs,[o(a(I),{value:d.name,checked:t.modelValue===d.name,onClick:m[0]||(m[0]=J(()=>{},["stop"]))},null,8,["value","checked"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),t.mostrarVotoBlanco?(s(),$(a(j),{key:0,class:P(["cursor-pointer transition-all hover:shadow-md",t.modelValue===null?"ring-2 ring-primary":""]),onClick:m[2]||(m[2]=d=>v("null"))},{default:r(()=>[o(a(D),{class:"flex items-center justify-center h-full min-h-[150px] sm:min-h-[240px] p-3 sm:p-6"},{default:r(()=>[i("div",vs,[m[11]||(m[11]=i("span",{class:"text-muted-foreground text-sm sm:text-lg"},"Voto en blanco",-1)),i("div",_s,[o(a(I),{value:"null",checked:t.modelValue===null,onClick:m[1]||(m[1]=J(()=>{},["stop"]))},null,8,["checked"])])])]),_:1})]),_:1},8,["class"])):u("",!0)])]),_:1},8,["model-value","disabled"])):t.multiple&&t.vistaPreferida==="cards"?(s(),l("div",ys,[i("div",hs,[(s(!0),l(q,null,A(t.candidatos,d=>(s(),$(a(j),{key:d.id,class:P(["cursor-pointer transition-all hover:shadow-md",w(d.name)?"ring-2 ring-primary":""]),onClick:C=>F(d.name,!w(d.name))},{default:r(()=>[o(a(D),{class:"p-3 sm:p-6"},{default:r(()=>[i("div",gs,[i("div",$s,[o(a(we),{class:"h-14 w-14 sm:h-20 sm:w-20"},{default:r(()=>[d.avatar_url?(s(),$(a(Ue),{key:0,src:d.avatar_url,alt:d.name},null,8,["src","alt"])):u("",!0),o(a(qe),{class:"bg-primary/10 text-primary font-semibold text-lg sm:text-2xl"},{default:r(()=>[b(n(p(d.name)),1)]),_:2},1024)]),_:2},1024)]),i("div",ks,[i("div",Vs,[i("p",Cs,n(d.name),1),d.email?(s(),l("p",ws,n(d.email),1)):u("",!0)]),i("div",Us,[d.cargo?(s(),l("p",qs,[m[12]||(m[12]=i("span",{class:"font-medium hidden sm:inline"},"Cargo:",-1)),i("span",Bs,n(d.cargo),1),i("span",Ss,n(d.cargo),1)])):u("",!0),_(d)?(s(),l("p",js,[m[13]||(m[13]=i("span",{class:"font-medium hidden sm:inline"},"Ubicación:",-1)),i("span",As,n(_(d)),1)])):u("",!0),x(d)?(s(),l("p",Fs,n(x(d)),1)):u("",!0)])])]),i("div",Ps,[o(a(M),{checked:w(d.name),"onUpdate:checked":C=>F(d.name,C),onClick:m[3]||(m[3]=J(()=>{},["stop"])),disabled:t.disabled},null,8,["checked","onUpdate:checked","disabled"])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])])):u("",!0)])):(s(),$(a(j),{key:0,class:"border-amber-200 bg-amber-50"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[i("div",Et,[o(a(W),{class:"h-5 w-5 text-amber-600"}),o(a(R),{class:"text-base text-amber-800"},{default:r(()=>[...m[4]||(m[4]=[b(" No hay candidatos disponibles ",-1)])]),_:1})]),o(a(z),{class:"text-amber-700"},{default:r(()=>[...m[5]||(m[5]=[b(" No se encontraron candidatos con postulaciones aprobadas para esta convocatoria. ",-1)])]),_:1})]),_:1})]),_:1})),t.error?(s(),l("p",Ds,n(t.error),1)):u("",!0)]))}}),Ts={class:"space-y-6"},Ns={key:0},Rs={class:"text-lg font-semibold"},zs={key:0,class:"text-sm text-muted-foreground"},Is={class:"space-y-4"},Ls={key:0},Ys={key:1},Ms={key:2},Gs={key:0,class:"text-red-500 ml-1"},Hs={key:0,class:"text-sm text-muted-foreground mb-2"},Js={key:1,class:"text-sm text-red-600 mt-1"},Ks={key:3},Os={key:0,class:"text-red-500 ml-1"},Qs={key:0,class:"text-sm text-muted-foreground mb-2"},Ws={key:1,class:"text-sm text-red-600 mt-1"},Xs={key:4},Zs={key:0,class:"text-red-500 ml-1"},ea={key:0,class:"text-sm text-muted-foreground mb-2"},ta={key:1,class:"text-sm text-red-600 mt-1"},sa={key:5},aa={key:0,class:"text-red-500 ml-1"},la={key:0,class:"text-sm text-muted-foreground mb-2"},oa={key:1,class:"text-sm text-red-600 mt-1"},ra={key:6},da={key:0,class:"text-red-500 ml-1"},ia={key:0,class:"text-sm text-muted-foreground mb-2"},na={key:1,class:"text-sm text-red-600 mt-1"},ua={key:7},ca={key:0,class:"text-red-500 ml-1"},ma={key:0,class:"text-sm text-muted-foreground mb-2"},xa={key:1,class:"text-sm text-red-600 mt-1"},fa={key:8},pa={key:0,class:"text-red-500 ml-1"},ba={key:0,class:"text-sm text-muted-foreground mb-2"},va={class:"space-y-2"},_a=["id","name","value","checked","onChange","disabled"],ya={key:1,class:"text-sm text-red-600 mt-1"},ha={key:9},ga={key:0,class:"text-red-500 ml-1"},$a={key:0,class:"text-sm text-muted-foreground mb-2"},ka={class:"space-y-2"},Va={key:1,class:"text-sm text-red-600 mt-1"},Ca={key:10},wa={key:11},Ua={key:12},qa={key:13},Ba={class:"list-disc list-inside space-y-1 text-sm text-amber-800"},Sa=G({__name:"DynamicFormRenderer",props:{fields:{},modelValue:{},candidaturasAprobadas:{default:()=>[]},candidaturaSeleccionada:{},candidatosElegibles:{default:()=>({})},errors:{default:()=>({})},disabled:{type:Boolean,default:!1},title:{default:"Formulario de Postulación"},description:{default:"Completa los siguientes campos para enviar tu postulación"},context:{default:"postulacion"},files:{}},emits:["update:modelValue","update:candidaturaSeleccionada","filesSelected"],setup(t,{expose:T,emit:h}){const k=t,B=h,v=S({get:()=>k.modelValue||{},set:y=>B("update:modelValue",y)}),w=S({get:()=>k.candidaturaSeleccionada,set:y=>B("update:candidaturaSeleccionada",y)});S(()=>k.fields.some(y=>y.type==="perfil_candidatura"));const F=Ee(k.fields);Ce(()=>k.fields,y=>{F.value=y},{deep:!0});const{visibleFields:_,clearHiddenFieldValues:x}=Me(F,v);Ce(_,()=>{x()});const p=(y,V)=>{const U={...v.value||{}};U[y]=V,v.value=U},c=(y,V,e)=>{const U=v.value[y]||[];let E;e?E=[...U,V]:E=U.filter(L=>L!==V),p(y,E)},m=S(()=>_.value.filter(y=>y.required).map(y=>y.id)),d=S(()=>m.value.filter(y=>{const V=_.value.find(U=>U.id===y);if((V==null?void 0:V.type)==="perfil_candidatura")return!k.candidaturaSeleccionada;const e=v.value[y];return!e||Array.isArray(e)&&e.length===0})),C=S(()=>{const y=k.fields.find(V=>V.type==="perfil_candidatura");return(y==null?void 0:y.required)||!1}),H=S(()=>d.value.length===0);return T({formularioCompleto:H,camposIncompletos:d,perfilCandidaturaRequerido:C}),(y,V)=>(s(),l("div",Ts,[t.title||t.description?(s(),l("div",Ns,[i("h3",Rs,n(t.title),1),t.description?(s(),l("p",zs,n(t.description),1)):u("",!0)])):u("",!0),i("div",Is,[o(Te,{name:"fade-field"},{default:r(()=>[(s(!0),l(q,null,A(a(_),e=>{var U,E,L,X,Z,ee,te,se,ae,le,oe,re,de,ie,ne,ue,ce,me,xe,fe,pe,be,ve,_e,ye,he,ge,$e,ke,Ve;return s(),l(q,{key:e.id},[e.type==="convocatoria"&&(t.context==="votacion"||t.context==="formulario")?(s(),l("div",Ls,[o(Es,{modelValue:v.value[e.id],"onUpdate:modelValue":f=>v.value[e.id]=f,candidatos:((U=t.candidatosElegibles[e.id])==null?void 0:U.candidatos)||[],"convocatoria-nombre":(L=(E=t.candidatosElegibles[e.id])==null?void 0:E.convocatoria)==null?void 0:L.nombre,label:e.title,description:e.description,required:e.required,multiple:((X=e.convocatoriaConfig)==null?void 0:X.multiple)||!1,"mostrar-voto-blanco":((Z=e.convocatoriaConfig)==null?void 0:Z.mostrarVotoBlanco)??!0,"vista-preferida":((ee=e.convocatoriaConfig)==null?void 0:ee.vistaPreferida)||"lista",error:t.errors[e.id],disabled:t.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos","convocatoria-nombre","label","description","required","multiple","mostrar-voto-blanco","vista-preferida","error","disabled"])])):e.type==="perfil_candidatura"?(s(),l("div",Ys,[t.context==="postulacion"?(s(),$(ut,{key:0,modelValue:w.value,"onUpdate:modelValue":V[0]||(V[0]=f=>w.value=f),"candidaturas-aprobadas":t.candidaturasAprobadas,label:e.title,description:e.description,required:e.required,error:t.errors.candidatura_id,disabled:t.disabled},null,8,["modelValue","candidaturas-aprobadas","label","description","required","error","disabled"])):t.context==="votacion"||t.context==="formulario"?(s(),$(St,{key:1,modelValue:v.value[e.id],"onUpdate:modelValue":f=>v.value[e.id]=f,"candidatos-elegibles":t.candidatosElegibles[e.id]||[],label:e.title,description:e.description,required:e.required,multiple:((te=e.perfilCandidaturaConfig)==null?void 0:te.multiple)||!1,"mostrar-voto-blanco":((se=e.perfilCandidaturaConfig)==null?void 0:se.mostrarVotoBlanco)??!0,error:t.errors[e.id],disabled:t.disabled},null,8,["modelValue","onUpdate:modelValue","candidatos-elegibles","label","description","required","multiple","mostrar-voto-blanco","error","disabled"])):u("",!0)])):e.type==="text"?(s(),l("div",Ms,[o(a(g),{for:e.id,class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",Gs,"*")):u("",!0)]),_:2},1032,["for"]),e.description?(s(),l("p",Hs,n(e.description),1)):u("",!0),o(a(Y),{id:e.id,"model-value":v.value[e.id]||"","onUpdate:modelValue":f=>p(e.id,f),placeholder:`Ingresa ${e.title.toLowerCase()}`,disabled:t.disabled,class:P([t.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",Js,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="textarea"?(s(),l("div",Ks,[o(a(g),{for:e.id,class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",Os,"*")):u("",!0)]),_:2},1032,["for"]),e.description?(s(),l("p",Qs,n(e.description),1)):u("",!0),o(a(Ne),{id:e.id,"model-value":v.value[e.id]||"","onUpdate:modelValue":f=>p(e.id,f),placeholder:`Describe ${e.title.toLowerCase()}`,disabled:t.disabled,rows:"4",class:P([t.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","placeholder","disabled","class"]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",Ws,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="number"?(s(),l("div",Xs,[o(a(g),{for:e.id,class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",Zs,"*")):u("",!0)]),_:2},1032,["for"]),e.description?(s(),l("p",ea,n(e.description),1)):u("",!0),o(a(Y),{id:e.id,type:"number","model-value":v.value[e.id]||"","onUpdate:modelValue":f=>p(e.id,f),disabled:t.disabled,min:(ae=e.numberConfig)==null?void 0:ae.min,max:(le=e.numberConfig)==null?void 0:le.max,step:((oe=e.numberConfig)==null?void 0:oe.step)||1,placeholder:e.placeholder||"",class:P([t.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","min","max","step","placeholder","class"]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",ta,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="email"?(s(),l("div",sa,[o(a(g),{for:e.id,class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",aa,"*")):u("",!0)]),_:2},1032,["for"]),e.description?(s(),l("p",la,n(e.description),1)):u("",!0),o(a(Y),{id:e.id,type:"email","model-value":v.value[e.id]||"","onUpdate:modelValue":f=>p(e.id,f),placeholder:"ejemplo@correo.com",disabled:t.disabled,class:P([t.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",oa,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="date"?(s(),l("div",ra,[o(a(g),{for:e.id,class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",da,"*")):u("",!0)]),_:2},1032,["for"]),e.description?(s(),l("p",ia,n(e.description),1)):u("",!0),o(a(Y),{id:e.id,type:"date","model-value":v.value[e.id]||"","onUpdate:modelValue":f=>p(e.id,f),disabled:t.disabled,class:P([t.errors[`formulario_data.${e.id}`]?"border-red-300":""])},null,8,["id","model-value","onUpdate:modelValue","disabled","class"]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",na,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="select"?(s(),l("div",ua,[o(a(g),{for:e.id,class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",ca,"*")):u("",!0)]),_:2},1032,["for"]),e.description?(s(),l("p",ma,n(e.description),1)):u("",!0),o(a(Be),{"model-value":v.value[e.id]||"","onUpdate:modelValue":f=>p(e.id,f),disabled:t.disabled},{default:r(()=>[o(a(Se),{class:P([t.errors[`formulario_data.${e.id}`]?"border-red-300":""])},{default:r(()=>[o(a(je),{placeholder:`Selecciona ${e.title.toLowerCase()}`},null,8,["placeholder"])]),_:2},1032,["class"]),o(a(Ae),null,{default:r(()=>[(s(!0),l(q,null,A(e.options,f=>(s(),$(a(K),{key:f,value:f},{default:r(()=>[b(n(f),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["model-value","onUpdate:modelValue","disabled"]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",xa,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="radio"?(s(),l("div",fa,[o(a(g),{class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",pa,"*")):u("",!0)]),_:2},1024),e.description?(s(),l("p",ba,n(e.description),1)):u("",!0),i("div",va,[(s(!0),l(q,null,A(e.options,f=>(s(),l("div",{key:f,class:"flex items-center space-x-2"},[i("input",{id:`${e.id}-${f}`,type:"radio",name:e.id,value:f,checked:v.value[e.id]===f,onChange:()=>p(e.id,f),disabled:t.disabled,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,40,_a),o(a(g),{for:`${e.id}-${f}`,class:"text-sm"},{default:r(()=>[b(n(f),1)]),_:2},1032,["for"])]))),128))]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",ya,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="checkbox"?(s(),l("div",ha,[o(a(g),{class:"text-sm font-medium"},{default:r(()=>[b(n(e.title)+" ",1),e.required?(s(),l("span",ga,"*")):u("",!0)]),_:2},1024),e.description?(s(),l("p",$a,n(e.description),1)):u("",!0),i("div",ka,[(s(!0),l(q,null,A(e.options,f=>(s(),l("div",{key:f,class:"flex items-center space-x-2"},[o(a(M),{id:`${e.id}-${f}`,checked:(v.value[e.id]||[]).includes(f),"onUpdate:checked":Pe=>c(e.id,f,Pe),disabled:t.disabled},null,8,["id","checked","onUpdate:checked","disabled"]),o(a(g),{for:`${e.id}-${f}`,class:"text-sm"},{default:r(()=>[b(n(f),1)]),_:2},1032,["for"])]))),128))]),t.errors[`formulario_data.${e.id}`]?(s(),l("p",Va,n(t.errors[`formulario_data.${e.id}`]),1)):u("",!0)])):e.type==="file"?(s(),l("div",Ca,[o(Ye,{"model-value":v.value[e.id]||[],"onUpdate:modelValue":f=>p(e.id,f),onFilesSelected:f=>B("filesSelected",e.id,f),label:e.title,description:e.description,required:e.required,multiple:((re=e.fileConfig)==null?void 0:re.multiple)||!1,"max-files":((de=e.fileConfig)==null?void 0:de.maxFiles)||5,"max-file-size":((ie=e.fileConfig)==null?void 0:ie.maxFileSize)||10,accept:((ne=e.fileConfig)==null?void 0:ne.accept)||".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",error:t.errors[`formulario_data.${e.id}`],disabled:t.disabled},null,8,["model-value","onUpdate:modelValue","onFilesSelected","label","description","required","multiple","max-files","max-file-size","accept","error","disabled"])])):e.type==="datepicker"?(s(),l("div",wa,[o(Ge,{"model-value":v.value[e.id]||null,"onUpdate:modelValue":f=>p(e.id,f),label:e.title,description:e.description,required:e.required,disabled:t.disabled,error:t.errors[`formulario_data.${e.id}`],"min-date":(ue=e.datepickerConfig)==null?void 0:ue.minDate,"max-date":(ce=e.datepickerConfig)==null?void 0:ce.maxDate,format:((me=e.datepickerConfig)==null?void 0:me.format)||"DD/MM/YYYY","allow-past-dates":((xe=e.datepickerConfig)==null?void 0:xe.allowPastDates)??!0,"allow-future-dates":((fe=e.datepickerConfig)==null?void 0:fe.allowFutureDates)??!0},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-date","max-date","format","allow-past-dates","allow-future-dates"])])):e.type==="disclaimer"?(s(),l("div",Ua,[o(He,{"model-value":v.value[e.id]||null,"onUpdate:modelValue":f=>p(e.id,f),label:e.title,description:e.description,required:e.required,disabled:t.disabled,error:t.errors[`formulario_data.${e.id}`],"disclaimer-text":((pe=e.disclaimerConfig)==null?void 0:pe.disclaimerText)||"","modal-title":((be=e.disclaimerConfig)==null?void 0:be.modalTitle)||"Términos y Condiciones","accept-button-text":((ve=e.disclaimerConfig)==null?void 0:ve.acceptButtonText)||"Acepto","decline-button-text":((_e=e.disclaimerConfig)==null?void 0:_e.declineButtonText)||"No acepto"},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","disclaimer-text","modal-title","accept-button-text","decline-button-text"])])):e.type==="repeater"?(s(),l("div",qa,[o(Je,{"model-value":v.value[e.id]||[],"onUpdate:modelValue":f=>p(e.id,f),label:e.title,description:e.description,required:e.required,disabled:t.disabled,error:t.errors[`formulario_data.${e.id}`],"min-items":((ye=e.repeaterConfig)==null?void 0:ye.minItems)||0,"max-items":((he=e.repeaterConfig)==null?void 0:he.maxItems)||10,"item-name":((ge=e.repeaterConfig)==null?void 0:ge.itemName)||"Elemento","add-button-text":(($e=e.repeaterConfig)==null?void 0:$e.addButtonText)||"Agregar elemento","remove-button-text":((ke=e.repeaterConfig)==null?void 0:ke.removeButtonText)||"Eliminar",fields:((Ve=e.repeaterConfig)==null?void 0:Ve.fields)||[]},null,8,["model-value","onUpdate:modelValue","label","description","required","disabled","error","min-items","max-items","item-name","add-button-text","remove-button-text","fields"])])):u("",!0)],64)}),128))]),_:1})]),t.context==="postulacion"&&d.value.length>0?(s(),$(a(j),{key:1,class:"border-amber-200 bg-amber-50"},{default:r(()=>[o(a(N),{class:"pb-3"},{default:r(()=>[o(a(R),{class:"text-base text-amber-800"},{default:r(()=>[...V[1]||(V[1]=[b(" Campos requeridos pendientes ",-1)])]),_:1}),o(a(z),{class:"text-amber-700"},{default:r(()=>[...V[2]||(V[2]=[b(" Completa los siguientes campos obligatorios antes de enviar tu postulación. ",-1)])]),_:1})]),_:1}),o(a(D),{class:"pt-0"},{default:r(()=>[i("ul",Ba,[(s(!0),l(q,null,A(d.value,e=>{var U;return s(),l("li",{key:e},n((U=t.fields.find(E=>E.id===e))==null?void 0:U.title),1)}),128))])]),_:1})]),_:1})):u("",!0)]))}}),Wa=Ke(Sa,[["__scopeId","data-v-9e518b25"]]);export{Wa as D};
