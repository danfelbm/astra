import{_ as L}from"./GuestLayout.vue_vue_type_script_setup_true_lang-C6RwBkFF.js";import{d as M,r as w,m as h,i as d,e as i,f as s,u as t,p as B,w as a,g as o,j as k,h as f,t as p,F as y,k as T,b as $,P as N,W as E}from"./app-Cuh3Sov_.js";import{_ as u,c}from"./CardTitle.vue_vue_type_script_setup_true_lang-BO_pj4R6.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-B9pczU8X.js";import{_ as H,a as D,b as q,c as z,d as x}from"./SelectValue.vue_vue_type_script_setup_true_lang-YjGMT_BY.js";import{_ as b}from"./createLucideIcon-zA0T3Uav.js";import{_ as U}from"./ProyectoCard.vue_vue_type_script_setup_true_lang-CM6K57yy.js";import{S as W}from"./search-9HtmXAyJ.js";import{F as A}from"./filter-BKg5Yb8c.js";import{F as C}from"./folder-open-ZSpYw-au.js";import"./index-SC3geNqC.js";import"./index-CzcgxyNl.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Ccv6A-0f.js";import"./index-C_dJ9DUh.js";import"./VisuallyHidden-CFxslfO1.js";import"./check-oW6ea94x.js";import"./floating-ui.vue-D8y6OT49.js";import"./nullish-CHIgUVhi.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-DK1a-7Wd.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-B92ylQyv.js";import"./index-CKwtzZC0.js";import"./Progress.vue_vue_type_script_setup_true_lang-C63NX-Y6.js";import"./EtiquetaDisplay-DmRw2eIv.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DtRVySP0.js";import"./chevron-right-DfXDTuLV.js";import"./layers-BqrGncvm.js";import"./zap-5qK_5sLh.js";import"./tag-BFxlRw5b.js";import"./trending-up-C1r6y81K.js";import"./award-Bo_rOxja.js";import"./target-DJoF4epg.js";import"./flag-gFJDQQF0.js";import"./hash-BkhtcvY2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./calendar-BZnSD-bb.js";import"./user-BSSffkWN.js";import"./clock-DYXX5iiW.js";import"./arrow-right-D1C3pSCo.js";const I={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8"},O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"flex flex-col sm:flex-row gap-4"},J={class:"relative flex-1"},K={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"},Q={class:"flex items-center justify-between"},R={class:"text-2xl font-bold"},X={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-yellow-600"},Z={class:"flex items-center justify-between"},ee={class:"text-2xl font-bold text-green-600"},te={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},se={key:1},oe={class:"flex flex-col items-center justify-center text-center"},le={key:2,class:"flex justify-center gap-2 mt-8"},ae={key:3,class:"text-center text-sm text-gray-500 mt-4"},Ie=M({__name:"Index",props:{proyectos:{},filters:{}},setup(F){const g=F,n=w(g.filters.search||""),m=w(g.filters.estado||""),_=()=>{E.get("/proyectos-publicos",{search:n.value,estado:m.value},{preserveState:!0,preserveScroll:!0,replace:!0})};let v;h(n,()=>{clearTimeout(v),v=setTimeout(()=>{_()},500)}),h(m,()=>{_()});const P=l=>({en_progreso:"En Progreso",completado:"Completado"})[l]||l,V=l=>({baja:"Baja",media:"Media",alta:"Alta",critica:"Crítica"})[l]||l,j=g.proyectos.data.map(l=>({...l,estado_label:P(l.estado),prioridad_label:V(l.prioridad),porcentaje_completado:l.estado==="completado"?100:50,duracion_dias:l.fecha_fin?Math.ceil((new Date(l.fecha_fin).getTime()-new Date(l.fecha_inicio).getTime())/(1e3*60*60*24)):null}));return(l,e)=>(i(),d(y,null,[s(t(B),{title:"Proyectos Públicos"}),s(L,null,{default:a(()=>[o("div",I,[o("div",O,[e[14]||(e[14]=o("div",{class:"text-center mb-8"},[o("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Proyectos en Curso "),o("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Conoce los proyectos que estamos desarrollando ")],-1)),s(t(u),{class:"mb-8"},{default:a(()=>[s(t(c),{class:"p-6"},{default:a(()=>[o("div",G,[o("div",J,[s(t(W),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s(t(S),{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),type:"text",placeholder:"Buscar proyectos...",class:"pl-10"},null,8,["modelValue"])]),s(t(H),{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=r=>m.value=r)},{default:a(()=>[s(t(D),{class:"w-full sm:w-[180px]"},{default:a(()=>[s(t(q),{placeholder:"Todos los estados"})]),_:1}),s(t(z),null,{default:a(()=>[s(t(x),{value:"all"},{default:a(()=>[...e[3]||(e[3]=[f("Todos",-1)])]),_:1}),s(t(x),{value:"en_progreso"},{default:a(()=>[...e[4]||(e[4]=[f("En Progreso",-1)])]),_:1}),s(t(x),{value:"completado"},{default:a(()=>[...e[5]||(e[5]=[f("Completados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(t(b),{variant:"outline",onClick:e[2]||(e[2]=r=>{n.value="",m.value="",_()})},{default:a(()=>[s(t(A),{class:"mr-2 h-4 w-4"}),e[6]||(e[6]=f(" Limpiar ",-1))]),_:1})])]),_:1})]),_:1}),o("div",K,[s(t(u),null,{default:a(()=>[s(t(c),{class:"p-6"},{default:a(()=>[o("div",Q,[o("div",null,[e[7]||(e[7]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total de Proyectos",-1)),o("p",R,p(l.proyectos.total),1)]),s(t(C),{class:"h-8 w-8 text-blue-500"})])]),_:1})]),_:1}),s(t(u),null,{default:a(()=>[s(t(c),{class:"p-6"},{default:a(()=>[o("div",X,[o("div",null,[e[8]||(e[8]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"En Progreso",-1)),o("p",Y,p(l.proyectos.data.filter(r=>r.estado==="en_progreso").length),1)]),e[9]||(e[9]=o("div",{class:"h-8 w-8 rounded-full bg-yellow-100 dark:bg-yellow-900"},null,-1))])]),_:1})]),_:1}),s(t(u),null,{default:a(()=>[s(t(c),{class:"p-6"},{default:a(()=>[o("div",Z,[o("div",null,[e[10]||(e[10]=o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Completados",-1)),o("p",ee,p(l.proyectos.data.filter(r=>r.estado==="completado").length),1)]),e[11]||(e[11]=o("div",{class:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900"},null,-1))])]),_:1})]),_:1})]),l.proyectos.data.length>0?(i(),d("div",te,[(i(!0),d(y,null,T(t(j),r=>(i(),d("div",{key:r.id},[s(U,{proyecto:r,"show-actions":!1},null,8,["proyecto"])]))),128))])):(i(),d("div",se,[s(t(u),null,{default:a(()=>[s(t(c),{class:"py-16"},{default:a(()=>[o("div",oe,[s(t(C),{class:"h-16 w-16 text-gray-400 mb-4"}),e[12]||(e[12]=o("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No hay proyectos públicos disponibles ",-1)),e[13]||(e[13]=o("p",{class:"text-gray-500 max-w-md"}," No se encontraron proyectos que coincidan con los filtros seleccionados. ",-1))])]),_:1})]),_:1})])),l.proyectos.last_page>1?(i(),d("div",le,[(i(!0),d(y,null,T(l.proyectos.links,r=>(i(),d(y,{key:r.label},[r.url?(i(),$(t(N),{key:0,href:r.url,"preserve-state":"","preserve-scroll":""},{default:a(()=>[s(t(b),{variant:r.active?"default":"outline",size:"sm",innerHTML:r.label},null,8,["variant","innerHTML"])]),_:2},1032,["href"])):(i(),$(t(b),{key:1,variant:"outline",size:"sm",disabled:"",innerHTML:r.label},null,8,["innerHTML"]))],64))),128))])):k("",!0),l.proyectos.total>0?(i(),d("div",ae," Mostrando "+p(l.proyectos.data.length)+" de "+p(l.proyectos.total)+" proyectos públicos ",1)):k("",!0)])])]),_:1})],64))}});export{Ie as default};
