import{d as X,C as I,r as k,c as Z,i as m,e as r,f as s,u as e,p as K,w as a,g as t,h as l,b as f,j as h,t as p,q as S,M as W,N as Y,F as ee}from"./app-DowrSkZp.js";import{c as F,_ as x}from"./createLucideIcon-C-PUXG7q.js";import{_ as oe}from"./index-CwOKgNTq.js";import{_ as C,a as T,b as $,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-BPp4nwHq.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-CAGWJdg3.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-CTp3W7gR.js";import{_ as te,a as z}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-BFO9Hwdv.js";import{_ as se}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BkIbkcot.js";import{S as q}from"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-CcXzwYSb.js";import{U as ae}from"./upload-BTlHojSN.js";import{X as le}from"./x-DfxQm6Vt.js";import{U as ie}from"./users-BV-CvIoZ.js";import{T as B,a as D}from"./toggle-right-Cn136BEh.js";import{C as A}from"./circle-alert-BDxHPB_Z.js";import"./index-BllGFWT-.js";import"./VisuallyHidden-xMkJjrHY.js";import"./RovingFocusItem-CpNXQ-Yb.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DgKmt-ie.js";import"./check-FcFA-yim.js";import"./floating-ui.vue-Cx7oNTBy.js";import"./nullish-CHIgUVhi.js";import"./utils-CeJ_h49A.js";import"./VisuallyHiddenInput-BPirEZHu.js";import"./index-BMhAJ4oM.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-t3WMOmHR.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BtesnwpQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BrDCKR9s.js";import"./chevrons-up-down-DaUV-FTL.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-bFxPC3sY.js";import"./shield-DR3EcWHH.js";import"./vote-DAAEzQO8.js";import"./file-text-gAnXK7-d.js";import"./calendar-DAhUnbDp.js";import"./briefcase-QRIiLiqv.js";import"./megaphone-ei-GGZMu.js";import"./user-check-v-xBkZxg.js";import"./external-link-Bu2D2FY-.js";import"./panel-left-DYkK6VA0.js";import"./index-10droM1i.js";import"./index-BuYafNGB.js";import"./index-DdMz6eiS.js";import"./user-Dza-9EKI.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-ieBzNCEG.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-DENVc4ka.js";import"./map-pin-D25DENB-.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=F("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=F("TypeIcon",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),de={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ne={class:"grid gap-4 md:grid-cols-1 max-w-4xl"},ue={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border"},me={class:"space-y-3"},ce={class:"space-y-3"},fe={class:"space-y-4"},pe={class:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4"},ge={key:0,class:"text-center"},xe={class:"mt-2 text-sm text-muted-foreground"},be={key:1,class:"relative"},_e=["src"],ve={class:"space-y-4"},ye={class:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors"},we={class:"flex-1"},ke={class:"flex items-center gap-2"},he={class:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors"},qe={class:"flex-1"},Ce={class:"border-t pt-4"},je={class:"bg-muted/50 rounded-lg p-4"},Ee={class:"flex items-center gap-3"},Le={class:"flex aspect-square size-8 items-center justify-center rounded-md text-sidebar-primary-foreground"},Ve=["src"],Ie={key:1,class:"size-5 fill-current text-white dark:text-black",viewBox:"0 0 24 24"},Se={key:0,class:"grid flex-1 text-left text-sm"},Te={class:"mb-0.5 truncate font-semibold leading-none"},$e={class:"flex justify-end pt-4 border-t"},Me={key:1,class:"text-sm text-muted-foreground"},ze={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border"},Be={class:"space-y-3"},De={class:"flex items-center justify-between"},Ae={class:"space-y-1"},Ne={key:0,class:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg"},Fe={class:"space-y-3"},Ue={class:"space-y-3"},Pe=["disabled"],Ge={key:0,class:"border-t pt-4"},Re={class:"bg-muted/50 rounded-lg p-4"},Oe={class:"flex items-start gap-3"},He={class:"flex-1"},Je={class:"font-semibold text-lg mb-2"},Qe={class:"text-sm text-muted-foreground whitespace-pre-wrap"},Xe={class:"flex justify-end pt-4 border-t"},Ze={key:1,class:"text-sm text-muted-foreground"},Ke={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border border-dashed"},We={class:"text-center py-8"},Ho=X({__name:"Configuracion",props:{configuracion:{},configuracionCandidaturas:{},canEdit:{type:Boolean}},setup(U){const d=U,P=[{title:"Admin",href:"/admin/dashboard"},{title:"Configuración",href:"/admin/configuracion"}],n=I({logo_display:d.configuracion.logo_display,logo_text:d.configuracion.logo_text,logo_file:null,remove_logo:!1}),b=k(!1),_=k(!1),v=k(),y=k(null),w=Z(()=>n.remove_logo?null:y.value?y.value:d.configuracion.logo_file?`/storage/${d.configuracion.logo_file}`:null),G=g=>{var E;const u=(E=g.target.files)==null?void 0:E[0];if(u){n.logo_file=u,n.remove_logo=!1;const L=new FileReader;L.onload=Q=>{var V;y.value=(V=Q.target)==null?void 0:V.result},L.readAsDataURL(u)}},R=()=>{n.logo_file=null,y.value=null,n.remove_logo=!0,v.value&&(v.value.value="")},O=()=>{var g;(g=v.value)==null||g.click()},H=()=>{b.value=!0,n.post(route("admin.configuracion.update"),{forceFormData:!0,onSuccess:()=>{setTimeout(()=>{window.location.reload()},1e3)},onFinish:()=>{b.value=!1}})},i=I({bloqueo_activo:d.configuracionCandidaturas.bloqueo_activo,bloqueo_titulo:d.configuracionCandidaturas.bloqueo_titulo,bloqueo_mensaje:d.configuracionCandidaturas.bloqueo_mensaje}),J=()=>{_.value=!0,i.post(route("admin.configuracion.update.candidaturas"),{onFinish:()=>{_.value=!1}})};return(g,o)=>(r(),m(ee,null,[s(e(K),{title:"Configuración"}),s(se,{breadcrumbs:P},{default:a(()=>[t("div",de,[o[33]||(o[33]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-3xl font-bold"},"Configuración del Sistema"),t("p",{class:"text-muted-foreground"}," Personaliza la apariencia y comportamiento del sistema ")])],-1)),t("div",ne,[t("div",ue,[s(e(C),{class:"border-0 shadow-none"},{default:a(()=>[s(e(T),null,{default:a(()=>[s(e($),{class:"flex items-center gap-2"},{default:a(()=>[s(e(q),{class:"h-5 w-5"}),o[5]||(o[5]=l(" Configuración del Logo ",-1))]),_:1})]),_:1}),s(e(j),{class:"space-y-6"},{default:a(()=>[t("div",me,[s(e(c),{for:"logo_text",class:"text-base font-medium"},{default:a(()=>[...o[6]||(o[6]=[l("Texto del Logo",-1)])]),_:1}),s(e(M),{id:"logo_text",modelValue:e(n).logo_text,"onUpdate:modelValue":o[0]||(o[0]=u=>e(n).logo_text=u),placeholder:"Ingresa el texto que aparecerá junto al logo",maxlength:"50",class:"max-w-md",disabled:!d.canEdit},null,8,["modelValue","disabled"]),o[7]||(o[7]=t("p",{class:"text-sm text-muted-foreground"}," Este texto aparecerá junto al logo cuando esté habilitado (máximo 50 caracteres) ",-1))]),t("div",ce,[s(e(c),{class:"text-base font-medium"},{default:a(()=>[...o[8]||(o[8]=[l("Logo Personalizado (Opcional)",-1)])]),_:1}),t("div",fe,[t("input",{ref_key:"fileInputRef",ref:v,type:"file",accept:"image/*",class:"hidden",onChange:G},null,544),t("div",pe,[w.value?(r(),m("div",be,[t("img",{src:w.value,alt:"Logo preview",class:"w-16 h-16 object-contain mx-auto rounded"},null,8,_e),d.canEdit?(r(),f(e(x),{key:0,variant:"outline",size:"sm",class:"mt-2 mx-auto block",onClick:R},{default:a(()=>[s(e(le),{class:"mr-2 h-4 w-4"}),o[12]||(o[12]=l(" Quitar ",-1))]),_:1})):h("",!0)])):(r(),m("div",ge,[s(e(ae),{class:"mx-auto h-8 w-8 text-muted-foreground"}),t("p",xe,[o[10]||(o[10]=l(" Arrastra un archivo aquí o ",-1)),s(e(x),{variant:"link",class:"p-0 h-auto",onClick:O,disabled:!d.canEdit},{default:a(()=>[...o[9]||(o[9]=[l(" selecciona uno ",-1)])]),_:1},8,["disabled"])]),o[11]||(o[11]=t("p",{class:"text-xs text-muted-foreground mt-1"}," PNG, JPG, SVG hasta 2MB ",-1))]))]),o[13]||(o[13]=t("p",{class:"text-sm text-muted-foreground"}," Si no subes un logo personalizado, se usará el logo por defecto del sistema ",-1))])]),t("div",ve,[s(e(c),{class:"text-base font-medium"},{default:a(()=>[...o[14]||(o[14]=[l("Visualización en el Sidebar",-1)])]),_:1}),s(e(te),{modelValue:e(n).logo_display,"onUpdate:modelValue":o[1]||(o[1]=u=>e(n).logo_display=u),class:"space-y-3",disabled:!d.canEdit},{default:a(()=>[t("div",ye,[s(e(z),{value:"logo_text",id:"logo_text"}),t("div",we,[s(e(c),{for:"logo_text",class:"flex items-center gap-2 font-medium cursor-pointer"},{default:a(()=>[t("div",ke,[s(e(N),{class:"h-4 w-4"}),s(e(re),{class:"h-4 w-4"})]),o[15]||(o[15]=l(" Logo + Texto ",-1))]),_:1}),o[16]||(o[16]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Muestra el logo junto con el texto personalizado ",-1))])]),t("div",he,[s(e(z),{value:"logo_only",id:"logo_only"}),t("div",qe,[s(e(c),{for:"logo_only",class:"flex items-center gap-2 font-medium cursor-pointer"},{default:a(()=>[s(e(N),{class:"h-4 w-4"}),o[17]||(o[17]=l(" Solo Logo ",-1))]),_:1}),o[18]||(o[18]=t("p",{class:"text-sm text-muted-foreground mt-1"}," Muestra únicamente el logo, sin texto ",-1))])])]),_:1},8,["modelValue","disabled"])]),t("div",Ce,[s(e(c),{class:"text-base font-medium mb-3 block"},{default:a(()=>[...o[19]||(o[19]=[l("Vista Previa",-1)])]),_:1}),t("div",je,[t("div",Ee,[t("div",Le,[w.value?(r(),m("img",{key:0,src:w.value,alt:"Logo",class:"object-contain"},null,8,Ve)):(r(),m("svg",Ie,[...o[20]||(o[20]=[t("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"},null,-1)])]))]),e(n).logo_display==="logo_text"?(r(),m("div",Se,[t("span",Te,p(e(n).logo_text),1)])):h("",!0)])])]),t("div",$e,[d.canEdit?(r(),f(e(x),{key:0,onClick:H,disabled:b.value||!e(n).isDirty,class:"min-w-32"},{default:a(()=>[s(e(q),{class:"mr-2 h-4 w-4"}),l(" "+p(b.value?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])):(r(),m("div",Me," No tienes permisos para editar la configuración "))])]),_:1})]),_:1})]),t("div",ze,[s(e(C),{class:"border-0 shadow-none"},{default:a(()=>[s(e(T),null,{default:a(()=>[s(e($),{class:"flex items-center gap-2"},{default:a(()=>[s(e(ie),{class:"h-5 w-5"}),o[21]||(o[21]=l(" Control de Candidaturas ",-1))]),_:1})]),_:1}),s(e(j),{class:"space-y-6"},{default:a(()=>[t("div",Be,[t("div",De,[t("div",Ae,[s(e(c),{class:"text-base font-medium"},{default:a(()=>[...o[22]||(o[22]=[l("Bloqueo de Candidaturas",-1)])]),_:1}),o[23]||(o[23]=t("p",{class:"text-sm text-muted-foreground"}," Cuando está activo, los usuarios no podrán crear nuevas candidaturas ni editar las que están en estado borrador ",-1))]),d.canEdit?(r(),f(e(x),{key:0,onClick:o[2]||(o[2]=u=>e(i).bloqueo_activo=!e(i).bloqueo_activo),variant:e(i).bloqueo_activo?"default":"outline",size:"sm",class:"min-w-24"},{default:a(()=>[(r(),f(S(e(i).bloqueo_activo?e(B):e(D)),{class:"mr-2 h-4 w-4"})),l(" "+p(e(i).bloqueo_activo?"Activo":"Inactivo"),1)]),_:1},8,["variant"])):(r(),f(e(oe),{key:1,variant:e(i).bloqueo_activo?"default":"secondary"},{default:a(()=>[(r(),f(S(e(i).bloqueo_activo?e(B):e(D)),{class:"mr-2 h-4 w-4"})),l(" "+p(e(i).bloqueo_activo?"Activo":"Inactivo"),1)]),_:1},8,["variant"]))]),e(i).bloqueo_activo?(r(),m("div",Ne,[s(e(A),{class:"h-5 w-5 text-yellow-600"}),o[24]||(o[24]=t("span",{class:"text-sm text-yellow-700 dark:text-yellow-400"}," El sistema de candidaturas está bloqueado. Los usuarios verán el mensaje configurado abajo. ",-1))])):h("",!0)]),t("div",Fe,[s(e(c),{for:"bloqueo_titulo",class:"text-base font-medium"},{default:a(()=>[...o[25]||(o[25]=[l(" Título del Mensaje de Bloqueo ",-1)])]),_:1}),s(e(M),{id:"bloqueo_titulo",modelValue:e(i).bloqueo_titulo,"onUpdate:modelValue":o[3]||(o[3]=u=>e(i).bloqueo_titulo=u),placeholder:"Ej: Sistema de Candidaturas Temporalmente Cerrado",maxlength:"255",class:"max-w-full",disabled:!d.canEdit},null,8,["modelValue","disabled"]),o[26]||(o[26]=t("p",{class:"text-sm text-muted-foreground"}," Este título se mostrará cuando los usuarios intenten crear o editar candidaturas ",-1))]),t("div",Ue,[s(e(c),{for:"bloqueo_mensaje",class:"text-base font-medium"},{default:a(()=>[...o[27]||(o[27]=[l(" Mensaje Detallado ",-1)])]),_:1}),W(t("textarea",{id:"bloqueo_mensaje","onUpdate:modelValue":o[4]||(o[4]=u=>e(i).bloqueo_mensaje=u),placeholder:"Ingresa el mensaje que verán los usuarios...",maxlength:"1000",rows:"4",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:!d.canEdit},null,8,Pe),[[Y,e(i).bloqueo_mensaje]]),o[28]||(o[28]=t("p",{class:"text-sm text-muted-foreground"}," Explica por qué el sistema está bloqueado y cuándo estará disponible (máximo 1000 caracteres) ",-1))]),e(i).bloqueo_activo?(r(),m("div",Ge,[s(e(c),{class:"text-base font-medium mb-3 block"},{default:a(()=>[...o[29]||(o[29]=[l("Vista Previa del Mensaje",-1)])]),_:1}),t("div",Re,[t("div",Oe,[s(e(A),{class:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5"}),t("div",He,[t("h3",Je,p(e(i).bloqueo_titulo||"Sin título"),1),t("p",Qe,p(e(i).bloqueo_mensaje||"Sin mensaje"),1)])])])])):h("",!0),o[30]||(o[30]=t("div",{class:"bg-blue-50 dark:bg-blue-950/20 rounded-lg p-4"},[t("h4",{class:"font-medium text-sm mb-2 text-blue-800 dark:text-blue-200"}," Excepciones al Bloqueo: "),t("ul",{class:"space-y-1 text-sm text-blue-700 dark:text-blue-300"},[t("li",{class:"flex items-start gap-2"},[t("span",{class:"text-blue-500 mt-0.5"},"•"),t("span",null,"Las candidaturas en estado PENDIENTE, APROBADO o RECHAZADO no se ven afectadas")]),t("li",{class:"flex items-start gap-2"},[t("span",{class:"text-blue-500 mt-0.5"},"•"),t("span",null,'Las candidaturas marcadas con "subsanar = 1" pueden editarse aunque esté el bloqueo activo')]),t("li",{class:"flex items-start gap-2"},[t("span",{class:"text-blue-500 mt-0.5"},"•"),t("span",null,"Los administradores pueden marcar candidaturas individuales para subsanación desde el panel administrativo")])])],-1)),t("div",Xe,[d.canEdit?(r(),f(e(x),{key:0,onClick:J,disabled:_.value||!e(i).isDirty,class:"min-w-32"},{default:a(()=>[s(e(q),{class:"mr-2 h-4 w-4"}),l(" "+p(_.value?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])):(r(),m("div",Ze," No tienes permisos para editar la configuración "))])]),_:1})]),_:1})]),t("div",Ke,[s(e(C),{class:"border-0 shadow-none"},{default:a(()=>[s(e(j),{class:"pt-6"},{default:a(()=>[t("div",We,[s(e(q),{class:"mx-auto h-12 w-12 text-muted-foreground/50"}),o[31]||(o[31]=t("h3",{class:"mt-4 text-lg font-medium text-muted-foreground"},"Más opciones próximamente",-1)),o[32]||(o[32]=t("p",{class:"text-sm text-muted-foreground mt-2"}," Esta sección se expandirá con más opciones de configuración en futuras actualizaciones. ",-1))])]),_:1})]),_:1})])])])]),_:1})],64))}});export{Ho as default};
