import{_ as $}from"./index-IRTTYLy9.js";import{_ as c}from"./createLucideIcon-DN0KVddD.js";import{_ as N,a as L,b as q,c as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-BGgSvmiB.js";import{_ as ee,a as se,b as A,c as p,d as te,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-CrlC7-vG.js";import{_ as j,a as D,b as G,c as H,d as J,e as M,f as O,g as R}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-GlrpAmJI.js";import{_ as W}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CUKpNmt0.js";import{_ as ae,B as le,F as re}from"./AppLayout.vue_vue_type_script_setup_true_lang-CJoJfjaD.js";import{d as ie,k as I,c as ne,a as d,o as r,b as s,u as e,m as oe,e as t,f as i,j as m,i as v,P as C,g as n,n as _,F as h,r as w,t as u,l as E,W as de}from"./app-BP0cvO6t.js";import{_ as ue}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-CTJ2YHuq.js";import{P as me}from"./plus-D5-1g0lz.js";import{L as fe}from"./list-Cod-YsAX.js";import{G as ce}from"./git-branch-CsdBfasM.js";import{S as B}from"./square-pen-laYDhPwh.js";import{T as Q}from"./trash-2-RYAqWBHg.js";import{C as _e}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C31h_kso.js";import{C as pe}from"./SelectValue.vue_vue_type_script_setup_true_lang-Wxm4vTXl.js";import"./Input.vue_vue_type_script_setup_true_lang-_b-KefYx.js";import"./VisuallyHidden-DH9QYEuE.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CYHRqWhQ.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-CV34_Trd.js";import"./index-DPFtgRKd.js";import"./check-Dw2nD4w7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-EbtR41RQ.js";import"./Label.vue_vue_type_script_setup_true_lang-CPKPM3Jk.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-ByXQmMBA.js";import"./index-Bes9iSbW.js";import"./calendar-DFQbeeUt.js";import"./map-pin-Sz2po9BI.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-CGM9fbQ3.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DWmCblQ2.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-xyCLCeuh.js";import"./loader-circle-DSvq86dw.js";import"./search-BL6OsRpV.js";import"./history-Di75QaQZ.js";import"./save-CMF08kt7.js";const ge={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ve={class:"flex items-center justify-between"},xe={class:"space-y-4"},be={class:"flex gap-2"},ye={key:0,class:"text-center py-8 text-muted-foreground"},Ce={key:1},he={key:0,class:"text-sm text-muted-foreground"},ke={key:0,class:"text-sm"},$e={key:1,class:"text-sm text-muted-foreground"},we={class:"flex gap-2 justify-end"},Se={key:0,class:"flex items-center justify-center mt-6"},ze={class:"flex gap-2"},Ne={key:0,class:"text-center py-8 text-muted-foreground"},Ee={key:1,class:"space-y-2"},Be={class:"flex items-center justify-between"},Fe={class:"flex items-center gap-2"},Te={class:"font-medium"},Ve={class:"flex gap-2"},Le={key:0,class:"ml-6 mt-2 space-y-2"},qe={class:"flex items-center justify-between"},Pe={class:"flex items-center gap-2"},Ae={class:"text-sm"},je={class:"flex gap-1"},hs=ie({__name:"Index",props:{cargos:{},arbolCargos:{},filters:{},filterFieldsConfig:{}},setup(K){const k=K,U=[{title:"Admin",href:"/admin/dashboard"},{title:"Cargos",href:"/admin/cargos"}],x=I(new Set),b=I("lista"),X={fields:k.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o descripción...",quickSearchFields:["nombre","descripcion"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:y}=window,Y=ne(()=>({quickSearch:k.filters.search||"",rootGroup:k.filters.advanced_filters?JSON.parse(k.filters.advanced_filters):void 0})),F=o=>{b.value=o},T=o=>{de.delete(`/admin/cargos/${o}`,{onSuccess:()=>{}})},Z=o=>{x.value.has(o)?x.value.delete(o):x.value.add(o)},S=o=>o?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",z=o=>o?le:re,V=o=>o?{class:"bg-green-100 text-green-800",text:"Activo"}:{class:"bg-red-100 text-red-800",text:"Inactivo"};return(o,a)=>(r(),d(h,null,[s(e(oe),{title:"Gestión de Cargos"}),s(ae,{breadcrumbs:U},{default:t(()=>[i("div",ge,[i("div",ve,[a[3]||(a[3]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"Gestión de Cargos"),i("p",{class:"text-muted-foreground"}," Administra la estructura jerárquica de cargos electorales ")],-1)),s(e(C),{href:e(y)("admin.cargos.create")},{default:t(()=>[s(e(c),null,{default:t(()=>[s(e(me),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=n(" Nuevo Cargo "))]),_:1})]),_:1},8,["href"])]),i("div",xe,[s(e(N),null,{default:t(()=>[s(e(L),null,{default:t(()=>[s(e(q),{class:"flex items-center justify-between"},{default:t(()=>[a[6]||(a[6]=i("span",null,"Opciones de Visualización",-1)),i("div",be,[s(e(c),{variant:"outline",size:"sm",class:_({"bg-primary text-primary-foreground":b.value==="lista"}),onClick:a[0]||(a[0]=l=>F("lista"))},{default:t(()=>[s(e(fe),{class:"h-4 w-4 mr-2"}),a[4]||(a[4]=n(" Vista Lista "))]),_:1},8,["class"]),s(e(c),{variant:"outline",size:"sm",class:_({"bg-primary text-primary-foreground":b.value==="arbol"}),onClick:a[1]||(a[1]=l=>F("arbol"))},{default:t(()=>[s(e(ce),{class:"h-4 w-4 mr-2"}),a[5]||(a[5]=n(" Vista Árbol "))]),_:1},8,["class"])])]),_:1})]),_:1})]),_:1}),s(ue,{config:X,route:e(y)("admin.cargos.index"),"initial-filters":Y.value},null,8,["route","initial-filters"])]),b.value==="lista"?(r(),m(e(N),{key:0},{default:t(()=>[s(e(P),{class:"pt-6"},{default:t(()=>[o.cargos.total===0?(r(),d("div",ye,a[7]||(a[7]=[i("p",null,"No se encontraron cargos",-1),i("p",{class:"text-sm"},"Crea el primer cargo para comenzar",-1)]))):(r(),d("div",Ce,[s(e(ee),null,{default:t(()=>[s(e(se),null,{default:t(()=>[s(e(A),null,{default:t(()=>[s(e(p),null,{default:t(()=>a[8]||(a[8]=[n("Nombre")])),_:1}),s(e(p),null,{default:t(()=>a[9]||(a[9]=[n("Tipo")])),_:1}),s(e(p),null,{default:t(()=>a[10]||(a[10]=[n("Cargo Padre")])),_:1}),s(e(p),null,{default:t(()=>a[11]||(a[11]=[n("Estado")])),_:1}),s(e(p),null,{default:t(()=>a[12]||(a[12]=[n("Creado")])),_:1}),s(e(p),{class:"text-right"},{default:t(()=>a[13]||(a[13]=[n("Acciones")])),_:1})]),_:1})]),_:1}),s(e(te),null,{default:t(()=>[(r(!0),d(h,null,w(o.cargos.data,l=>(r(),m(e(A),{key:l.id},{default:t(()=>[s(e(g),{class:"font-medium"},{default:t(()=>[i("div",null,[i("p",null,u(l.nombre),1),l.descripcion?(r(),d("p",he,u(l.descripcion),1)):v("",!0)])]),_:2},1024),s(e(g),null,{default:t(()=>[s(e($),{class:_(S(l.es_cargo))},{default:t(()=>[(r(),m(E(z(l.es_cargo)),{class:"mr-1 h-3 w-3"})),n(" "+u(l.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),_:2},1024),s(e(g),null,{default:t(()=>[l.parent?(r(),d("span",ke,u(l.parent.nombre),1)):(r(),d("span",$e," Raíz "))]),_:2},1024),s(e(g),null,{default:t(()=>[s(e($),{class:_(V(l.activo).class)},{default:t(()=>[n(u(V(l.activo).text),1)]),_:2},1032,["class"])]),_:2},1024),s(e(g),{class:"text-sm text-muted-foreground"},{default:t(()=>[n(u(new Date(l.created_at).toLocaleDateString("es-ES")),1)]),_:2},1024),s(e(g),{class:"text-right"},{default:t(()=>[i("div",we,[s(e(C),{href:e(y)("admin.cargos.edit",l.id)},{default:t(()=>[s(e(c),{variant:"ghost",size:"sm"},{default:t(()=>[s(e(B),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),s(e(j),null,{default:t(()=>[s(e(W),{asChild:""},{default:t(()=>[s(e(c),{variant:"ghost",size:"sm"},{default:t(()=>[s(e(Q),{class:"h-4 w-4 text-destructive"})]),_:1})]),_:1}),s(e(D),null,{default:t(()=>[s(e(G),null,{default:t(()=>[s(e(H),null,{default:t(()=>a[14]||(a[14]=[n("¿Eliminar cargo?")])),_:1}),s(e(J),null,{default:t(()=>[n(' Esta acción no se puede deshacer. Se eliminará permanentemente el cargo "'+u(l.nombre)+'". ',1)]),_:2},1024)]),_:2},1024),s(e(M),null,{default:t(()=>[s(e(O),null,{default:t(()=>a[15]||(a[15]=[n("Cancelar")])),_:1}),s(e(R),{onClick:f=>T(l.id)},{default:t(()=>a[16]||(a[16]=[n(" Eliminar ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o.cargos.last_page>1?(r(),d("div",Se,[i("div",ze,[(r(!0),d(h,null,w(o.cargos.links,l=>(r(),m(e(C),{key:l.label,href:l.url||"#",class:_(["px-3 py-2 text-sm rounded-md",l.active?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80",l.url?"":"opacity-50 cursor-not-allowed"]),innerHTML:l.label,disabled:!l.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):v("",!0)]))]),_:1})]),_:1})):v("",!0),b.value==="arbol"?(r(),m(e(N),{key:1},{default:t(()=>[s(e(L),null,{default:t(()=>[s(e(q),null,{default:t(()=>a[17]||(a[17]=[n("Estructura Jerárquica")])),_:1})]),_:1}),s(e(P),null,{default:t(()=>[o.arbolCargos.length===0?(r(),d("div",Ne,a[18]||(a[18]=[i("p",null,"No hay cargos raíz configurados",-1),i("p",{class:"text-sm"},"Crea el primer cargo sin padre para comenzar la jerarquía",-1)]))):(r(),d("div",Ee,[(r(!0),d(h,null,w(o.arbolCargos,l=>(r(),d("div",{key:l.id,class:"border rounded-lg p-3"},[i("div",Be,[i("div",Fe,[l.children&&l.children.length>0?(r(),m(e(c),{key:0,variant:"ghost",size:"sm",onClick:f=>Z(l.id)},{default:t(()=>[x.value.has(l.id)?(r(),m(e(pe),{key:1,class:"h-4 w-4"})):(r(),m(e(_e),{key:0,class:"h-4 w-4"}))]),_:2},1032,["onClick"])):v("",!0),(r(),m(E(z(l.es_cargo)),{class:"h-4 w-4 text-muted-foreground"})),i("span",Te,u(l.nombre),1),s(e($),{class:_([S(l.es_cargo),"text-xs"])},{default:t(()=>[n(u(l.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),i("div",Ve,[s(e(C),{href:e(y)("admin.cargos.edit",l.id)},{default:t(()=>[s(e(c),{variant:"ghost",size:"sm"},{default:t(()=>[s(e(B),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"]),s(e(j),null,{default:t(()=>[s(e(W),{asChild:""},{default:t(()=>[s(e(c),{variant:"ghost",size:"sm"},{default:t(()=>[s(e(Q),{class:"h-3 w-3 text-destructive"})]),_:1})]),_:1}),s(e(D),null,{default:t(()=>[s(e(G),null,{default:t(()=>[s(e(H),null,{default:t(()=>a[19]||(a[19]=[n("¿Eliminar cargo?")])),_:1}),s(e(J),null,{default:t(()=>[n(' Esta acción no se puede deshacer. Se eliminará permanentemente el cargo "'+u(l.nombre)+'". ',1)]),_:2},1024)]),_:2},1024),s(e(M),null,{default:t(()=>[s(e(O),null,{default:t(()=>a[20]||(a[20]=[n("Cancelar")])),_:1}),s(e(R),{onClick:f=>T(l.id)},{default:t(()=>a[21]||(a[21]=[n(" Eliminar ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),x.value.has(l.id)&&l.children?(r(),d("div",Le,[(r(!0),d(h,null,w(l.children,f=>(r(),d("div",{key:f.id,class:"border rounded-lg p-2 bg-muted/20"},[i("div",qe,[i("div",Pe,[(r(),m(E(z(f.es_cargo)),{class:"h-3 w-3 text-muted-foreground"})),i("span",Ae,u(f.nombre),1),s(e($),{class:_([S(f.es_cargo),"text-xs"])},{default:t(()=>[n(u(f.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),i("div",je,[s(e(C),{href:e(y)("admin.cargos.edit",f.id)},{default:t(()=>[s(e(c),{variant:"ghost",size:"sm"},{default:t(()=>[s(e(B),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"])])])]))),128))])):v("",!0)]))),128))]))]),_:1})]),_:1})):v("",!0)])]),_:1})],64))}});export{hs as default};
