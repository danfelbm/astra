import{d as ke,C as Ve,r as $,c as k,b as y,e as u,w as a,g as i,f as o,j as f,t as m,u as e,h as d,l as Ce,i as p,n as P,F as w,k as U,W as we}from"./app-BxMQdeji.js";import{_ as Ue}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CiEBtCld.js";import{_ as E,a as A,b as D,c as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-BnCOEwdG.js";import{_ as R}from"./CardDescription.vue_vue_type_script_setup_true_lang-ToL2SzCT.js";import{_ as x}from"./createLucideIcon-C-UWYrfi.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-BlmtfhYq.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-Cv61jd0z.js";import{_ as le}from"./Textarea.vue_vue_type_script_setup_true_lang-BmTqlBLA.js";import{_ as I,a as M,b as L,c as T,d as W}from"./SelectValue.vue_vue_type_script_setup_true_lang-C_cC4TmA.js";import{_ as Se,a as te}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-DSXroVnV.js";import{_ as X}from"./index-BV26-s10.js";import{_ as G,a as J,b as K}from"./index-CniBkxSN.js";import{_ as re,a as ie}from"./index-BSf8eefq.js";import{_ as ne}from"./AddUsersModal.vue_vue_type_script_setup_true_lang-35a9N8cq.js";import{u as Ee}from"./useToast-Bwb-Q3dA.js";import{C as Ae}from"./circle-check-big-C20rPwS_.js";import{F as De}from"./flag-CD6IJ2Vk.js";import{X as de}from"./x-CtZ-Yk1L.js";import{U as ue}from"./user-plus-Cm1_-_E4.js";import{C as ze}from"./circle-alert----6uGyB.js";import{A as je}from"./arrow-left-D5jKR-4B.js";import{S as Re}from"./save-C6yQR3lp.js";import{_ as Be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-HaYR--Vk.js";import"./index-DyBffbvj.js";import"./floating-ui.vue-8MwpQwna.js";import"./shield-BWgGyosQ.js";import"./user-y-oKgZ0r.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CwQxj27i.js";import"./chevron-right-Fu6i2V5H.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-XGwxgqGh.js";import"./VisuallyHidden-BU7kxpuH.js";import"./index-gViH2lvq.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-Rc0j_Ts0.js";import"./index-uuqfgDZR.js";import"./map-pin-BSO3mLrr.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-vmsnnBVQ.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-D23-rq2T.js";import"./chevrons-up-down-3z313Cuu.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CtZNhcn0.js";import"./tag-DPKMgGKR.js";import"./users-CvN1Zex9.js";import"./target-DGdssVnK.js";import"./vote-BLA5af_M.js";import"./folder-open-B7m9IzBm.js";import"./send-oS9jU0xl.js";import"./file-text-BnGFyr0l.js";import"./briefcase-WEKIfwBg.js";import"./calendar-DgdSvpAx.js";import"./megaphone-4hd08Cg7.js";import"./user-check-B_HPyobX.js";import"./mail-DqZLMO2Y.js";import"./message-square-DEtIPXL4.js";import"./external-link-B-I99Qkx.js";import"./panel-left-CpkWwX9C.js";import"./check-Df8aIUSG.js";import"./index-De6-LhcB.js";import"./nullish-CHIgUVhi.js";import"./RovingFocusItem-CUafydao.js";import"./utils-CDNySjiA.js";import"./VisuallyHiddenInput-DFI-nItV.js";import"./circle-Ce0gP_g9.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DciumQpe.js";import"./search-BH_bEnIt.js";import"./loader-circle-DBrkq7WX.js";import"./chevron-left-Bmd3sXT1.js";const Fe={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Ne={class:"text-muted-foreground mt-2"},qe={class:"grid gap-4 md:grid-cols-3"},Pe={class:"font-medium"},He={class:"font-medium"},Ie={key:0,class:"text-sm text-red-600 mt-1"},Me={key:0,class:"text-sm text-red-600 mt-1"},Le={class:"grid gap-4 md:grid-cols-2"},Te={class:"flex items-center gap-2"},We={class:"grid gap-4 md:grid-cols-2"},Xe={key:0,class:"text-sm text-red-600 mt-1"},Ge={key:0,class:"text-sm text-red-600 mt-1"},Je={class:"space-y-2"},Ke={key:0,class:"p-3 bg-muted rounded-lg flex items-center justify-between"},Oe={class:"flex items-center gap-2"},Qe={class:"font-medium"},Ye={class:"text-sm text-muted-foreground"},Ze={key:0,class:"text-sm text-red-600 mt-1"},es={class:"flex items-center justify-between mb-2"},ss={key:0,class:"space-y-2 mt-3"},os={class:"flex items-center gap-2"},as={class:"font-medium"},ls={class:"text-sm text-muted-foreground"},ts={key:1,class:"text-sm text-muted-foreground mt-3"},rs={key:2,class:"space-y-4 p-4 border rounded-lg"},is={class:"grid gap-4 md:grid-cols-3"},ns={class:"flex items-center space-x-2"},ds={class:"flex items-center space-x-2"},us={key:0,class:"space-y-2"},ms={class:"flex items-center gap-2"},ps={class:"text-sm font-medium"},cs={class:"list-disc pl-4"},fs={class:"flex justify-end gap-2"},_s=ke({__name:"Edit",props:{proyecto:{},hito:{},entregable:{},usuarios:{},usuariosAsignados:{},estados:{},prioridades:{},roles:{}},setup(me){var Z,ee;const n=me,{toast:B}=Ee(),t=Ve({nombre:n.entregable.nombre||"",descripcion:n.entregable.descripcion||"",fecha_inicio:n.entregable.fecha_inicio||"",fecha_fin:n.entregable.fecha_fin||"",estado:n.entregable.estado||"pendiente",prioridad:n.entregable.prioridad||"media",responsable_id:n.entregable.responsable_id,usuarios_asignados:n.usuariosAsignados||[],orden:n.entregable.orden||1,notas:""}),pe=$(!1),h=$(null),j=$("colaborador"),F=$(!1),N=$(!1),{route:O}=window,c=$(null),_=$(new Map);if(n.usuarios.forEach(r=>_.value.set(r.id,r)),n.entregable.responsable_id){const r=n.usuarios.find(s=>s.id===n.entregable.responsable_id);if(r)c.value=r;else{const s=n.entregable;c.value={id:n.entregable.responsable_id,name:((Z=s.responsable)==null?void 0:Z.name)||`Usuario #${n.entregable.responsable_id}`,email:((ee=s.responsable)==null?void 0:ee.email)||""},_.value.set(n.entregable.responsable_id,c.value)}}n.usuariosAsignados.forEach(r=>{var s,l,b;_.value.has(r.user_id)||_.value.set(r.user_id,{id:((s=r.user)==null?void 0:s.id)||r.user_id,name:((l=r.user)==null?void 0:l.name)||`Usuario #${r.user_id}`,email:((b=r.user)==null?void 0:b.email)||""})});const ce=k(()=>[{name:"rol",label:"Rol",type:"select",options:[{value:"colaborador",label:"Colaborador"},{value:"revisor",label:"Revisor"}],value:"colaborador",required:!0}]),fe=k(()=>{const r=t.usuarios_asignados.map(s=>s.user_id);return t.responsable_id&&r.push(t.responsable_id),r}),_e=r=>{if(r.userIds.length>0){const s=r.userIds[0];t.responsable_id=s,_.value.has(s)?c.value=_.value.get(s)||null:(c.value={id:s,name:`Usuario seleccionado (ID: ${s})`,email:"Se actualizará al guardar"},_.value.set(s,c.value))}},be=r=>{r.userIds.forEach(s=>{t.usuarios_asignados.some(b=>b.user_id===s)||(t.usuarios_asignados.push({user_id:s,rol:r.extraData.rol||"colaborador"}),_.value.has(s)||_.value.set(s,{id:s,name:`Usuario #${s}`,email:"Pendiente de actualizar"}))})},ve=k(()=>[{title:"Admin",href:"/admin/dashboard"},{title:"Proyectos",href:"/admin/proyectos"},{title:n.proyecto.nombre,href:`/admin/proyectos/${n.proyecto.id}`},{title:"Hitos",href:`/admin/proyectos/${n.proyecto.id}/hitos`},{title:n.hito.nombre,href:`/admin/proyectos/${n.proyecto.id}/hitos/${n.hito.id}`},{title:"Entregables",href:`/admin/proyectos/${n.proyecto.id}/hitos/${n.hito.id}/entregables`},{title:"Editar Entregable"}]),ge=()=>{const r={...t.data(),usuarios:t.usuarios_asignados};delete r.usuarios_asignados,t.transform(()=>r).put(`/admin/proyectos/${n.proyecto.id}/hitos/${n.hito.id}/entregables/${n.entregable.id}`,{onSuccess:()=>{B.success("Entregable actualizado correctamente")},onError:()=>{B.error("Error al actualizar el entregable")}})},ye=()=>{we.get(`/admin/proyectos/${n.proyecto.id}/hitos/${n.hito.id}/entregables`)},xe=()=>{if(!h.value)return;if(t.usuarios_asignados.some(s=>s.user_id===h.value)){B.warning("Este usuario ya está asignado");return}t.usuarios_asignados.push({user_id:h.value,rol:j.value}),h.value=null,j.value="colaborador"},Q=r=>{const s=t.usuarios_asignados.findIndex(l=>l.user_id===r);s>-1&&t.usuarios_asignados.splice(s,1)},g=r=>_.value.has(r)?_.value.get(r):n.usuarios.find(s=>s.id===r),he=k(()=>{const r=t.usuarios_asignados.map(s=>s.user_id);return t.responsable_id&&r.push(t.responsable_id),n.usuarios.filter(s=>!r.includes(s.id))}),q=k(()=>{const r=[];return t.nombre||r.push("El nombre es requerido"),t.nombre.length>255&&r.push("El nombre no puede exceder 255 caracteres"),t.fecha_inicio&&t.fecha_fin&&new Date(t.fecha_inicio)>new Date(t.fecha_fin)&&r.push("La fecha de inicio no puede ser posterior a la fecha de fin"),t.responsable_id||r.push("Debe asignar un responsable"),r}),$e=k(()=>q.value.length===0&&!t.processing),Y=k(()=>{var r;if(n.entregable.estado==="completado"&&n.entregable.completado_at){const s=new Date(n.entregable.completado_at).toLocaleDateString("es-ES"),l=((r=n.entregable.completado_por)==null?void 0:r.name)||"Usuario desconocido";return`Completado el ${s} por ${l}`}return null});return(r,s)=>(u(),y(Ue,{breadcrumbs:ve.value},{default:a(()=>[i("div",Fe,[i("div",null,[s[14]||(s[14]=i("h2",{class:"text-3xl font-bold tracking-tight"},"Editar Entregable",-1)),i("p",Ne,' Modificar el entregable "'+m(r.entregable.nombre)+'" ',1)]),Y.value?(u(),y(e(re),{key:0,class:"bg-green-50 dark:bg-green-900/20 border-green-200"},{default:a(()=>[o(e(Ae),{class:"h-4 w-4 text-green-600"}),o(e(ie),{class:"text-green-800 dark:text-green-200"},{default:a(()=>[d(m(Y.value),1)]),_:1})]),_:1})):f("",!0),o(e(E),null,{default:a(()=>[o(e(A),null,{default:a(()=>[o(e(D),{class:"text-base"},{default:a(()=>[...s[15]||(s[15]=[d("Información del Hito",-1)])]),_:1})]),_:1}),o(e(z),null,{default:a(()=>[i("div",qe,[i("div",null,[s[16]||(s[16]=i("p",{class:"text-sm text-muted-foreground"},"Hito",-1)),i("p",Pe,m(r.hito.nombre),1)]),i("div",null,[s[17]||(s[17]=i("p",{class:"text-sm text-muted-foreground"},"Estado del Hito",-1)),o(e(X),null,{default:a(()=>[d(m(r.hito.estado_label||r.hito.estado),1)]),_:1})]),i("div",null,[s[18]||(s[18]=i("p",{class:"text-sm text-muted-foreground"},"Progreso del Hito",-1)),i("p",He,m(r.hito.porcentaje_completado||0)+"%",1)])])]),_:1})]),_:1}),i("form",{onSubmit:Ce(ge,["prevent"]),class:"space-y-4"},[o(e(E),null,{default:a(()=>[o(e(A),null,{default:a(()=>[o(e(D),null,{default:a(()=>[...s[19]||(s[19]=[d("Información Básica",-1)])]),_:1}),o(e(R),null,{default:a(()=>[...s[20]||(s[20]=[d(" Datos principales del entregable ",-1)])]),_:1})]),_:1}),o(e(z),{class:"space-y-4"},{default:a(()=>[i("div",null,[o(e(v),{for:"nombre",class:"required"},{default:a(()=>[...s[21]||(s[21]=[d(" Nombre del entregable ",-1)])]),_:1}),o(e(H),{id:"nombre",modelValue:e(t).nombre,"onUpdate:modelValue":s[0]||(s[0]=l=>e(t).nombre=l),placeholder:"Ej: Documento de diseño técnico",class:P({"border-red-500":e(t).errors.nombre})},null,8,["modelValue","class"]),e(t).errors.nombre?(u(),p("p",Ie,m(e(t).errors.nombre),1)):f("",!0)]),i("div",null,[o(e(v),{for:"descripcion"},{default:a(()=>[...s[22]||(s[22]=[d(" Descripción ",-1)])]),_:1}),o(e(le),{id:"descripcion",modelValue:e(t).descripcion,"onUpdate:modelValue":s[1]||(s[1]=l=>e(t).descripcion=l),placeholder:"Describe el entregable y sus objetivos...",rows:"4",class:P({"border-red-500":e(t).errors.descripcion})},null,8,["modelValue","class"]),e(t).errors.descripcion?(u(),p("p",Me,m(e(t).errors.descripcion),1)):f("",!0)]),i("div",Le,[i("div",null,[o(e(v),{for:"estado"},{default:a(()=>[...s[23]||(s[23]=[d(" Estado ",-1)])]),_:1}),o(e(I),{modelValue:e(t).estado,"onUpdate:modelValue":s[2]||(s[2]=l=>e(t).estado=l)},{default:a(()=>[o(e(M),null,{default:a(()=>[o(e(L),{placeholder:"Seleccionar estado"})]),_:1}),o(e(T),null,{default:a(()=>[(u(!0),p(w,null,U(r.estados,l=>(u(),y(e(W),{key:l.value,value:l.value},{default:a(()=>[d(m(l.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),i("div",null,[o(e(v),{for:"prioridad"},{default:a(()=>[...s[24]||(s[24]=[d(" Prioridad ",-1)])]),_:1}),o(e(I),{modelValue:e(t).prioridad,"onUpdate:modelValue":s[3]||(s[3]=l=>e(t).prioridad=l)},{default:a(()=>[o(e(M),null,{default:a(()=>[o(e(L),{placeholder:"Seleccionar prioridad"})]),_:1}),o(e(T),null,{default:a(()=>[(u(!0),p(w,null,U(r.prioridades,l=>(u(),y(e(W),{key:l.value,value:l.value},{default:a(()=>[i("div",Te,[o(e(De),{class:P(["h-4 w-4",{"text-blue-500":l.value==="baja","text-yellow-500":l.value==="media","text-red-500":l.value==="alta"}])},null,8,["class"]),d(" "+m(l.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1}),o(e(E),null,{default:a(()=>[o(e(A),null,{default:a(()=>[o(e(D),null,{default:a(()=>[...s[25]||(s[25]=[d("Fechas",-1)])]),_:1}),o(e(R),null,{default:a(()=>[...s[26]||(s[26]=[d(" Define el período de ejecución del entregable ",-1)])]),_:1})]),_:1}),o(e(z),{class:"space-y-4"},{default:a(()=>[i("div",We,[i("div",null,[o(e(v),{for:"fecha_inicio"},{default:a(()=>[...s[27]||(s[27]=[d(" Fecha de inicio ",-1)])]),_:1}),o(e(H),{id:"fecha_inicio",modelValue:e(t).fecha_inicio,"onUpdate:modelValue":s[4]||(s[4]=l=>e(t).fecha_inicio=l),type:"date",disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.fecha_inicio?(u(),p("p",Xe,m(e(t).errors.fecha_inicio),1)):f("",!0)]),i("div",null,[o(e(v),{for:"fecha_fin"},{default:a(()=>[...s[28]||(s[28]=[d(" Fecha de fin ",-1)])]),_:1}),o(e(H),{id:"fecha_fin",modelValue:e(t).fecha_fin,"onUpdate:modelValue":s[5]||(s[5]=l=>e(t).fecha_fin=l),type:"date",disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.fecha_fin?(u(),p("p",Ge,m(e(t).errors.fecha_fin),1)):f("",!0)])])]),_:1})]),_:1}),o(e(E),null,{default:a(()=>[o(e(A),null,{default:a(()=>[o(e(D),null,{default:a(()=>[...s[29]||(s[29]=[d("Asignación",-1)])]),_:1}),o(e(R),null,{default:a(()=>[...s[30]||(s[30]=[d(" Asigna un responsable y colaboradores al entregable ",-1)])]),_:1})]),_:1}),o(e(z),{class:"space-y-4"},{default:a(()=>[i("div",null,[o(e(v),{for:"responsable",class:"required"},{default:a(()=>[...s[31]||(s[31]=[d(" Responsable principal ",-1)])]),_:1}),i("div",Je,[c.value?(u(),p("div",Ke,[i("div",Oe,[o(e(G),{class:"h-8 w-8"},{default:a(()=>[c.value.avatar?(u(),y(e(J),{key:0,src:c.value.avatar},null,8,["src"])):f("",!0),o(e(K),null,{default:a(()=>[d(m(c.value.name.substring(0,2).toUpperCase()),1)]),_:1})]),_:1}),i("div",null,[i("p",Qe,m(c.value.name),1),i("p",Ye,m(c.value.email),1)])]),o(e(x),{type:"button",variant:"ghost",size:"sm",onClick:s[6]||(s[6]=l=>{e(t).responsable_id=null,c.value=null})},{default:a(()=>[o(e(de),{class:"h-4 w-4"})]),_:1})])):f("",!0),o(e(x),{type:"button",variant:"outline",onClick:s[7]||(s[7]=l=>F.value=!0),class:"w-full"},{default:a(()=>[o(e(ue),{class:"h-4 w-4 mr-2"}),d(" "+m(c.value?"Cambiar Responsable":"Seleccionar Responsable"),1)]),_:1})]),e(t).errors.responsable_id?(u(),p("p",Ze,m(e(t).errors.responsable_id),1)):f("",!0)]),i("div",null,[i("div",es,[o(e(v),null,{default:a(()=>[...s[32]||(s[32]=[d(" Colaboradores adicionales ",-1)])]),_:1}),o(e(x),{type:"button",variant:"outline",size:"sm",onClick:s[8]||(s[8]=l=>N.value=!0)},{default:a(()=>[o(e(ue),{class:"mr-2 h-4 w-4"}),s[33]||(s[33]=d(" Agregar colaboradores ",-1))]),_:1})]),e(t).usuarios_asignados.length>0?(u(),p("div",ss,[(u(!0),p(w,null,U(e(t).usuarios_asignados,l=>{var b,V;return u(),p("div",{key:l.user_id,class:"p-3 bg-muted rounded-lg flex items-center justify-between"},[i("div",os,[o(e(G),{class:"h-8 w-8"},{default:a(()=>{var C,S;return[(C=g(l.user_id))!=null&&C.avatar?(u(),y(e(J),{key:0,src:(S=g(l.user_id))==null?void 0:S.avatar},null,8,["src"])):f("",!0),o(e(K),null,{default:a(()=>{var se,oe,ae;return[d(m(((ae=(oe=(se=g(l.user_id))==null?void 0:se.name)==null?void 0:oe.substring(0,2))==null?void 0:ae.toUpperCase())||"US"),1)]}),_:2},1024)]}),_:2},1024),i("div",null,[i("p",as,m(((b=g(l.user_id))==null?void 0:b.name)||`Usuario #${l.user_id}`),1),i("p",ls,m(((V=g(l.user_id))==null?void 0:V.email)||""),1)]),o(e(X),{variant:"outline"},{default:a(()=>[d(m(l.rol),1)]),_:2},1024)]),o(e(x),{type:"button",variant:"ghost",size:"sm",onClick:C=>Q(l.user_id)},{default:a(()=>[o(e(de),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])}),128))])):(u(),p("div",ts," No hay colaboradores asignados ")),pe.value?(u(),p("div",rs,[i("div",is,[o(e(I),{modelValue:h.value,"onUpdate:modelValue":s[9]||(s[9]=l=>h.value=l)},{default:a(()=>[o(e(M),null,{default:a(()=>[o(e(L),{placeholder:"Seleccionar usuario"})]),_:1}),o(e(T),null,{default:a(()=>[(u(!0),p(w,null,U(he.value,l=>(u(),y(e(W),{key:l.id,value:l.id},{default:a(()=>[d(m(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),o(e(Se),{modelValue:j.value,"onUpdate:modelValue":s[10]||(s[10]=l=>j.value=l),class:"flex gap-4"},{default:a(()=>[i("div",ns,[o(e(te),{value:"colaborador",id:"colaborador"}),o(e(v),{for:"colaborador"},{default:a(()=>[...s[34]||(s[34]=[d("Colaborador",-1)])]),_:1})]),i("div",ds,[o(e(te),{value:"revisor",id:"revisor"}),o(e(v),{for:"revisor"},{default:a(()=>[...s[35]||(s[35]=[d("Revisor",-1)])]),_:1})])]),_:1},8,["modelValue"]),o(e(x),{type:"button",onClick:xe,disabled:!h.value},{default:a(()=>[...s[36]||(s[36]=[d(" Agregar ",-1)])]),_:1},8,["disabled"])]),e(t).usuarios_asignados.length>0?(u(),p("div",us,[s[38]||(s[38]=i("p",{class:"text-sm font-medium text-muted-foreground"},"Usuarios asignados:",-1)),(u(!0),p(w,null,U(e(t).usuarios_asignados,l=>{var b;return u(),p("div",{key:l.user_id,class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded"},[i("div",ms,[o(e(G),{class:"h-6 w-6"},{default:a(()=>{var V,C;return[(V=g(l.user_id))!=null&&V.avatar?(u(),y(e(J),{key:0,src:(C=g(l.user_id))==null?void 0:C.avatar},null,8,["src"])):f("",!0),o(e(K),null,{default:a(()=>{var S;return[d(m((S=g(l.user_id))==null?void 0:S.name.substring(0,2).toUpperCase()),1)]}),_:2},1024)]}),_:2},1024),i("span",ps,m((b=g(l.user_id))==null?void 0:b.name),1),o(e(X),{variant:"outline"},{default:a(()=>[d(m(l.rol),1)]),_:2},1024)]),o(e(x),{type:"button",variant:"ghost",size:"sm",onClick:V=>Q(l.user_id)},{default:a(()=>[...s[37]||(s[37]=[d(" Remover ",-1)])]),_:2},1032,["onClick"])])}),128))])):f("",!0)])):f("",!0)])]),_:1})]),_:1}),o(e(E),null,{default:a(()=>[o(e(A),null,{default:a(()=>[o(e(D),null,{default:a(()=>[...s[39]||(s[39]=[d("Notas de actualización",-1)])]),_:1}),o(e(R),null,{default:a(()=>[...s[40]||(s[40]=[d(" Describe los cambios realizados (opcional) ",-1)])]),_:1})]),_:1}),o(e(z),null,{default:a(()=>[o(e(le),{modelValue:e(t).notas,"onUpdate:modelValue":s[11]||(s[11]=l=>e(t).notas=l),placeholder:"Notas sobre los cambios realizados...",rows:"4"},null,8,["modelValue"])]),_:1})]),_:1}),q.value.length>0?(u(),y(e(re),{key:0,variant:"destructive"},{default:a(()=>[o(e(ze),{class:"h-4 w-4"}),o(e(ie),null,{default:a(()=>[i("ul",cs,[(u(!0),p(w,null,U(q.value,l=>(u(),p("li",{key:l},m(l),1))),128))])]),_:1})]),_:1})):f("",!0),i("div",fs,[o(e(x),{type:"button",variant:"outline",onClick:ye},{default:a(()=>[o(e(je),{class:"mr-2 h-4 w-4"}),s[41]||(s[41]=d(" Cancelar ",-1))]),_:1}),o(e(x),{type:"submit",disabled:!$e.value},{default:a(()=>[o(e(Re),{class:"mr-2 h-4 w-4"}),d(" "+m(e(t).processing?"Actualizando...":"Actualizar Entregable"),1)]),_:1},8,["disabled"])])],32)]),o(ne,{modelValue:F.value,"onUpdate:modelValue":s[12]||(s[12]=l=>F.value=l),title:"Seleccionar Responsable Principal",description:"Selecciona el usuario que ser\\u00e1 el responsable principal del entregable","search-endpoint":e(O)("admin.proyectos.search-users"),"excluded-ids":e(t).responsable_id?[e(t).responsable_id]:[],"max-selection":1,"submit-button-text":"Seleccionar Responsable","search-placeholder":"Buscar por nombre, email, documento o tel\\u00e9fono...",onSubmit:_e},null,8,["modelValue","search-endpoint","excluded-ids"]),o(ne,{modelValue:N.value,"onUpdate:modelValue":s[13]||(s[13]=l=>N.value=l),title:"Agregar Colaboradores",description:"Selecciona los usuarios que colaborar\\u00e1n en este entregable","search-endpoint":e(O)("admin.proyectos.search-users"),"excluded-ids":fe.value,"extra-fields":ce.value,"submit-button-text":"Agregar Colaboradores","search-placeholder":"Buscar por nombre, email, documento o tel\\u00e9fono...",onSubmit:be},null,8,["modelValue","search-endpoint","excluded-ids","extra-fields"])]),_:1},8,["breadcrumbs"]))}}),Eo=Be(_s,[["__scopeId","data-v-c4694b0f"]]);export{Eo as default};
