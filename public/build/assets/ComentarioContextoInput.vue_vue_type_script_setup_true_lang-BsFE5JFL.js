import{R as w}from"./RichTextEditor-BS_71c2M.js";import{_ as y}from"./FileUploadField.vue_vue_type_script_setup_true_lang-DUYEWGxD.js";import{_ as C}from"./createLucideIcon-B8d5bW74.js";import{P as F}from"./paperclip-Dxvb9AKd.js";import{d as U,r as n,p as m,i as d,e as i,j as c,f,n as j,w as k,g as B,h,F as A,t as M,m as u}from"./app-DOAvpdpy.js";const N={class:"space-y-3"},_={key:0,class:"mt-2"},b={key:1,class:"flex items-center"},z={class:"text-xs"},T=U({__name:"ComentarioContextoInput",props:{modelValue:{default:""},placeholder:{default:"Escribe un comentario..."},rows:{default:3},showFileUpload:{type:Boolean,default:!0},uploadModule:{default:"comentarios"},uploadFieldId:{default:"archivos"}},emits:["update:modelValue","update:archivos"],setup(a,{expose:x,emit:g}){const p=a,v=g,l=n(p.modelValue),e=n([]),s=n(!1);m(()=>p.modelValue,o=>{l.value=o}),m(l,o=>{v("update:modelValue",o)}),m(e,o=>{v("update:archivos",o)},{deep:!0});const V=()=>{s.value=!s.value};return x({clear:()=>{l.value="",e.value=[],s.value=!1},getContenido:()=>l.value,getArchivos:()=>e.value,isValid:()=>l.value.replace(/<[^>]*>/g,"").trim().length>0}),(o,t)=>(u(),d("div",N,[i(w,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),placeholder:a.placeholder,rows:a.rows},null,8,["modelValue","placeholder","rows"]),a.showFileUpload&&s.value?(u(),d("div",_,[i(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),label:"Archivos adjuntos",description:"MÃ¡ximo 3 archivos de 10MB cada uno",module:a.uploadModule,"field-id":a.uploadFieldId,multiple:!0,"max-files":3,"max-file-size":10,accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx","auto-upload":!0},null,8,["modelValue","module","field-id"])])):c("",!0),a.showFileUpload?(u(),d("div",b,[i(f(C),{variant:"ghost",size:"sm",type:"button",onClick:V,class:j({"text-primary":s.value||e.value.length>0}),title:"Adjuntar archivos"},{default:k(()=>[i(f(F),{class:"h-4 w-4 mr-1"}),B("span",z,[t[2]||(t[2]=h(" Adjuntar archivos ",-1)),e.value.length>0?(u(),d(A,{key:0},[h("("+M(e.value.length)+")",1)],64)):c("",!0)])]),_:1},8,["class"])])):c("",!0)]))}});export{T as _};
