import{_ as w}from"./index-DZUQ23bj.js";import{_}from"./createLucideIcon-ADYiFz1p.js";import{_ as z,a as q,b as D,c as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-D3D16Ztn.js";import{_ as ee,a as te,b as P,c as v,d as se,e as x}from"./TableHeader.vue_vue_type_script_setup_true_lang-VWehj9vh.js";import{_ as A,a as j,b as G,c as H,d as J,e as M,f as O,g as R}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-Ce92_hjD.js";import{_ as W}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-B1SuRhlz.js";import{_ as ae}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BAX2dDyG.js";import{d as re,r as I,c as le,i as d,e as l,f as t,u as e,p as ie,w as s,g as i,b as u,j as m,P as h,h as o,n as g,F as k,k as $,t as f,q as B,W as oe}from"./app-Dt2sukkq.js";import{_ as ne}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-0Mu1_Zqy.js";import{P as de}from"./plus-C-zod1mM.js";import{L as ue}from"./list-CoVgyVD2.js";import{G as me}from"./git-branch-GA7-rWln.js";import{S as N}from"./square-pen-CgZnJT5s.js";import{T as Q}from"./trash-2-Dt0_aFzc.js";import{C as fe}from"./chevron-right-CkT1ue1I.js";import{C as ce}from"./SelectValue.vue_vue_type_script_setup_true_lang-XTf0O-lR.js";import{B as pe}from"./briefcase-CdnBkwVO.js";import{F as _e}from"./tag-euMStffd.js";import"./index-YHYyGAco.js";import"./VisuallyHidden-H3fpmsLx.js";import"./Input.vue_vue_type_script_setup_true_lang-B3JXaiF3.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-V01rVzxA.js";import"./x-BpcUsJXn.js";import"./DialogTrigger-C_fC64hN.js";import"./UpdateLocationModal.vue_vue_type_script_setup_true_lang-Dk5ovgNn.js";import"./index-DYtBqwXi.js";import"./floating-ui.vue-DhUnkJfc.js";import"./index-C_zthh-d.js";import"./shield-Cyievtug.js";import"./user-Ca0ja34E.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Ch_KWbnG.js";import"./Label.vue_vue_type_script_setup_true_lang-DCZhrf2e.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-CwNj20AO.js";import"./index-CTkeagVR.js";import"./circle-alert-Bny28mZr.js";import"./map-pin-D1rtVCPc.js";import"./CollapsibleContent.vue_vue_type_script_setup_true_lang-TmplCPgM.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BlnKZeFr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevrons-up-down-CLsbi7q1.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BcP5joWp.js";import"./users-ARKz5o5z.js";import"./target-BlHWusLl.js";import"./vote-D-ho2Upj.js";import"./folder-open-BwpEZUDw.js";import"./send-D6GePUDU.js";import"./file-text-CrhgvIVS.js";import"./calendar-CJYt0g6k.js";import"./megaphone-BWKT3hAA.js";import"./user-check-Cjdi1Rn1.js";import"./clipboard-list-DeVxPgd5.js";import"./mail-Cjqn3QRK.js";import"./message-square-CtTij58U.js";import"./external-link-GRGCmSzE.js";import"./panel-left-CvMlf3oX.js";import"./check-DzU-qwfx.js";import"./index-C5GM-A1h.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-CpG721w4.js";import"./useKbd-kRIii9yh.js";import"./chevron-left-DryFAzkJ.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-6GHC1XeN.js";import"./es-BDPlFIsO.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-DoMOPVDj.js";import"./loader-circle-A6_XgNGB.js";import"./search-BkHaPo1l.js";import"./filter-DU9mvn47.js";import"./history-Bb4lGav6.js";import"./save-CPLxPeAL.js";import"./nullish-CHIgUVhi.js";const ge={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ve={class:"flex items-center justify-between"},xe={class:"space-y-4"},ye={class:"flex gap-2"},be={key:0,class:"text-center py-8 text-muted-foreground"},Ce={key:1},he={key:0,class:"text-sm text-muted-foreground"},ke={key:0,class:"text-sm"},we={key:1,class:"text-sm text-muted-foreground"},$e={class:"flex gap-2 justify-end"},Ee={key:0,class:"flex items-center justify-center mt-6"},Se={class:"flex gap-2"},ze={key:0,class:"text-center py-8 text-muted-foreground"},Be={key:1,class:"space-y-2"},Ne={class:"flex items-center justify-between"},Fe={class:"flex items-center gap-2"},Te={class:"font-medium"},Ve={class:"flex gap-2"},qe={key:0,class:"ml-6 mt-2 space-y-2"},De={class:"flex items-center justify-between"},Le={class:"flex items-center gap-2"},Pe={class:"text-sm"},Ae={class:"flex gap-1"},es=re({__name:"Index",props:{cargos:{},arbolCargos:{},filters:{},filterFieldsConfig:{},canCreate:{type:Boolean},canEdit:{type:Boolean},canDelete:{type:Boolean}},setup(K){const c=K,U=[{title:"Admin",href:"/admin/dashboard"},{title:"Cargos",href:"/admin/cargos"}],y=I(new Set),b=I("lista"),X={fields:c.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o descripción...",quickSearchFields:["nombre","descripcion"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:C}=window,Y=le(()=>({quickSearch:c.filters.search||"",rootGroup:c.filters.advanced_filters?JSON.parse(c.filters.advanced_filters):void 0})),F=n=>{b.value=n},T=n=>{oe.delete(`/admin/cargos/${n}`,{onSuccess:()=>{}})},Z=n=>{y.value.has(n)?y.value.delete(n):y.value.add(n)},E=n=>n?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",S=n=>n?pe:_e,V=n=>n?{class:"bg-green-100 text-green-800",text:"Activo"}:{class:"bg-red-100 text-red-800",text:"Inactivo"};return(n,a)=>(l(),d(k,null,[t(e(ie),{title:"Gestión de Cargos"}),t(ae,{breadcrumbs:U},{default:s(()=>[i("div",ge,[i("div",ve,[a[3]||(a[3]=i("div",null,[i("h1",{class:"text-3xl font-bold"},"Gestión de Cargos"),i("p",{class:"text-muted-foreground"}," Administra la estructura jerárquica de cargos electorales ")],-1)),c.canCreate?(l(),u(e(h),{key:0,href:e(C)("admin.cargos.create")},{default:s(()=>[t(e(_),null,{default:s(()=>[t(e(de),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=o(" Nuevo Cargo ",-1))]),_:1})]),_:1},8,["href"])):m("",!0)]),i("div",xe,[t(e(z),null,{default:s(()=>[t(e(q),null,{default:s(()=>[t(e(D),{class:"flex items-center justify-between"},{default:s(()=>[a[6]||(a[6]=i("span",null,"Opciones de Visualización",-1)),i("div",ye,[t(e(_),{variant:"outline",size:"sm",class:g({"bg-primary text-primary-foreground":b.value==="lista"}),onClick:a[0]||(a[0]=r=>F("lista"))},{default:s(()=>[t(e(ue),{class:"h-4 w-4 mr-2"}),a[4]||(a[4]=o(" Vista Lista ",-1))]),_:1},8,["class"]),t(e(_),{variant:"outline",size:"sm",class:g({"bg-primary text-primary-foreground":b.value==="arbol"}),onClick:a[1]||(a[1]=r=>F("arbol"))},{default:s(()=>[t(e(me),{class:"h-4 w-4 mr-2"}),a[5]||(a[5]=o(" Vista Árbol ",-1))]),_:1},8,["class"])])]),_:1})]),_:1})]),_:1}),t(ne,{config:X,route:e(C)("admin.cargos.index"),"initial-filters":Y.value},null,8,["route","initial-filters"])]),b.value==="lista"?(l(),u(e(z),{key:0},{default:s(()=>[t(e(L),{class:"pt-6"},{default:s(()=>[n.cargos.total===0?(l(),d("div",be,[...a[7]||(a[7]=[i("p",null,"No se encontraron cargos",-1),i("p",{class:"text-sm"},"Crea el primer cargo para comenzar",-1)])])):(l(),d("div",Ce,[t(e(ee),null,{default:s(()=>[t(e(te),null,{default:s(()=>[t(e(P),null,{default:s(()=>[t(e(v),null,{default:s(()=>[...a[8]||(a[8]=[o("Nombre",-1)])]),_:1}),t(e(v),null,{default:s(()=>[...a[9]||(a[9]=[o("Tipo",-1)])]),_:1}),t(e(v),null,{default:s(()=>[...a[10]||(a[10]=[o("Cargo Padre",-1)])]),_:1}),t(e(v),null,{default:s(()=>[...a[11]||(a[11]=[o("Estado",-1)])]),_:1}),t(e(v),null,{default:s(()=>[...a[12]||(a[12]=[o("Creado",-1)])]),_:1}),t(e(v),{class:"text-right"},{default:s(()=>[...a[13]||(a[13]=[o("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(se),null,{default:s(()=>[(l(!0),d(k,null,$(n.cargos.data,r=>(l(),u(e(P),{key:r.id},{default:s(()=>[t(e(x),{class:"font-medium"},{default:s(()=>[i("div",null,[i("p",null,f(r.nombre),1),r.descripcion?(l(),d("p",he,f(r.descripcion),1)):m("",!0)])]),_:2},1024),t(e(x),null,{default:s(()=>[t(e(w),{class:g(E(r.es_cargo))},{default:s(()=>[(l(),u(B(S(r.es_cargo)),{class:"mr-1 h-3 w-3"})),o(" "+f(r.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),_:2},1024),t(e(x),null,{default:s(()=>[r.parent?(l(),d("span",ke,f(r.parent.nombre),1)):(l(),d("span",we," Raíz "))]),_:2},1024),t(e(x),null,{default:s(()=>[t(e(w),{class:g(V(r.activo).class)},{default:s(()=>[o(f(V(r.activo).text),1)]),_:2},1032,["class"])]),_:2},1024),t(e(x),{class:"text-sm text-muted-foreground"},{default:s(()=>[o(f(new Date(r.created_at).toLocaleDateString("es-ES")),1)]),_:2},1024),t(e(x),{class:"text-right"},{default:s(()=>[i("div",$e,[c.canEdit?(l(),u(e(h),{key:0,href:e(C)("admin.cargos.edit",r.id)},{default:s(()=>[t(e(_),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(N),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])):m("",!0),c.canDelete?(l(),u(e(A),{key:1},{default:s(()=>[t(e(W),{asChild:""},{default:s(()=>[t(e(_),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(Q),{class:"h-4 w-4 text-destructive"})]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[t(e(G),null,{default:s(()=>[t(e(H),null,{default:s(()=>[...a[14]||(a[14]=[o("¿Eliminar cargo?",-1)])]),_:1}),t(e(J),null,{default:s(()=>[o(' Esta acción no se puede deshacer. Se eliminará permanentemente el cargo "'+f(r.nombre)+'". ',1)]),_:2},1024)]),_:2},1024),t(e(M),null,{default:s(()=>[t(e(O),null,{default:s(()=>[...a[15]||(a[15]=[o("Cancelar",-1)])]),_:1}),t(e(R),{onClick:p=>T(r.id)},{default:s(()=>[...a[16]||(a[16]=[o(" Eliminar ",-1)])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):m("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n.cargos.last_page>1?(l(),d("div",Ee,[i("div",Se,[(l(!0),d(k,null,$(n.cargos.links,r=>(l(),u(e(h),{key:r.label,href:r.url||"#",class:g(["px-3 py-2 text-sm rounded-md",r.active?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80",r.url?"":"opacity-50 cursor-not-allowed"]),innerHTML:r.label,disabled:!r.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):m("",!0)]))]),_:1})]),_:1})):m("",!0),b.value==="arbol"?(l(),u(e(z),{key:1},{default:s(()=>[t(e(q),null,{default:s(()=>[t(e(D),null,{default:s(()=>[...a[17]||(a[17]=[o("Estructura Jerárquica",-1)])]),_:1})]),_:1}),t(e(L),null,{default:s(()=>[n.arbolCargos.length===0?(l(),d("div",ze,[...a[18]||(a[18]=[i("p",null,"No hay cargos raíz configurados",-1),i("p",{class:"text-sm"},"Crea el primer cargo sin padre para comenzar la jerarquía",-1)])])):(l(),d("div",Be,[(l(!0),d(k,null,$(n.arbolCargos,r=>(l(),d("div",{key:r.id,class:"border rounded-lg p-3"},[i("div",Ne,[i("div",Fe,[r.children&&r.children.length>0?(l(),u(e(_),{key:0,variant:"ghost",size:"sm",onClick:p=>Z(r.id)},{default:s(()=>[y.value.has(r.id)?(l(),u(e(ce),{key:1,class:"h-4 w-4"})):(l(),u(e(fe),{key:0,class:"h-4 w-4"}))]),_:2},1032,["onClick"])):m("",!0),(l(),u(B(S(r.es_cargo)),{class:"h-4 w-4 text-muted-foreground"})),i("span",Te,f(r.nombre),1),t(e(w),{class:g([E(r.es_cargo),"text-xs"])},{default:s(()=>[o(f(r.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),i("div",Ve,[c.canEdit?(l(),u(e(h),{key:0,href:e(C)("admin.cargos.edit",r.id)},{default:s(()=>[t(e(_),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(N),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"])):m("",!0),c.canDelete?(l(),u(e(A),{key:1},{default:s(()=>[t(e(W),{asChild:""},{default:s(()=>[t(e(_),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(Q),{class:"h-3 w-3 text-destructive"})]),_:1})]),_:1}),t(e(j),null,{default:s(()=>[t(e(G),null,{default:s(()=>[t(e(H),null,{default:s(()=>[...a[19]||(a[19]=[o("¿Eliminar cargo?",-1)])]),_:1}),t(e(J),null,{default:s(()=>[o(' Esta acción no se puede deshacer. Se eliminará permanentemente el cargo "'+f(r.nombre)+'". ',1)]),_:2},1024)]),_:2},1024),t(e(M),null,{default:s(()=>[t(e(O),null,{default:s(()=>[...a[20]||(a[20]=[o("Cancelar",-1)])]),_:1}),t(e(R),{onClick:p=>T(r.id)},{default:s(()=>[...a[21]||(a[21]=[o(" Eliminar ",-1)])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):m("",!0)])]),y.value.has(r.id)&&r.children?(l(),d("div",qe,[(l(!0),d(k,null,$(r.children,p=>(l(),d("div",{key:p.id,class:"border rounded-lg p-2 bg-muted/20"},[i("div",De,[i("div",Le,[(l(),u(B(S(p.es_cargo)),{class:"h-3 w-3 text-muted-foreground"})),i("span",Pe,f(p.nombre),1),t(e(w),{class:g([E(p.es_cargo),"text-xs"])},{default:s(()=>[o(f(p.es_cargo?"Cargo":"Categoría"),1)]),_:2},1032,["class"])]),i("div",Ae,[c.canEdit?(l(),u(e(h),{key:0,href:e(C)("admin.cargos.edit",p.id)},{default:s(()=>[t(e(_),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(N),{class:"h-3 w-3"})]),_:1})]),_:2},1032,["href"])):m("",!0)])])]))),128))])):m("",!0)]))),128))]))]),_:1})]),_:1})):m("",!0)])]),_:1})],64))}});export{es as default};
