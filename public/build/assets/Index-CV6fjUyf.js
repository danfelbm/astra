import{_ as h,C as X}from"./index-BPG4VlN2.js";import{_ as v}from"./createLucideIcon-Q-miuWTb.js";import{_ as _e,c as ve}from"./CardTitle.vue_vue_type_script_setup_true_lang-BxPt1gRE.js";import{_ as W}from"./Label.vue_vue_type_script_setup_true_lang-D7GLjgy3.js";import{_ as ge,a as xe,b as be,c as ye,d as T}from"./SelectValue.vue_vue_type_script_setup_true_lang-oLzXtXCZ.js";import{_ as he,a as we,b as G,c as b,d as Ce,e as y}from"./TableHeader.vue_vue_type_script_setup_true_lang-ezRc6Jhb.js";import{S as $e,U as ke,_ as Se}from"./AppLayout.vue_vue_type_script_setup_true_lang-D-YTHiBV.js";import{d as ne,a as u,i as L,o as d,f as s,F as B,r as le,j as O,u as t,W as U,s as Ee,k as _,w as Ae,b as a,m as Ne,e as o,g as l,P as Q,t as i,n as je}from"./app-RyCZ2ILF.js";import{F as Ve,_ as Te}from"./AdvancedFilters.vue_vue_type_script_setup_true_lang-Bc4ViR74.js";import{_ as Y,a as Z,b as ee,c as se,d as te,e as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DSxdmjGf.js";import{_ as R}from"./Checkbox.vue_vue_type_script_setup_true_lang-7Bih6woE.js";import{M as P}from"./mail-B2F9rzA0.js";import{S as z}from"./send-DMm9Hoh4.js";import{E as Pe}from"./eye-RCzGOecy.js";import{M as oe}from"./message-square-CfbfK_kM.js";import"./VisuallyHidden-D5ffZqKo.js";import"./check-thsFXrPv.js";import"./index-C6dpBjqB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GeographicSelector.vue_vue_type_script_setup_true_lang-znnCdcNo.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CLQ_rrtW.js";import"./index-D0jPjQQb.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-w0ZW8C_f.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-C2_dWvOl.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-WNkTgC4U.js";import"./es-DfN3vIXC.js";import"./DateTimePicker.vue_vue_type_script_setup_true_lang-CNUsdmSk.js";import"./loader-circle-BToJTxpo.js";import"./trash-2-CgGLawgL.js";import"./plus-BBy9eM1o.js";import"./search-Ck58_v-4.js";import"./history-CtAIGZUT.js";import"./save-BiLTpVWf.js";const qe={key:0,class:"mt-6 flex justify-center"},Fe={class:"flex items-center gap-2"},Me=["innerHTML"],We=ne({__name:"Pagination",props:{links:{}},setup(w){const f=p=>({"pagination.previous":"&laquo; Anterior","pagination.next":"Siguiente &raquo;","&laquo; Previous":"&laquo; Anterior","Next &raquo;":"Siguiente &raquo;",Previous:"Anterior",Next:"Siguiente","...":"..."})[p]||p,q=p=>{p&&U.get(p)};return(p,D)=>p.links&&p.links.length>3?(d(),u("div",qe,[s("div",Fe,[(d(!0),u(B,null,le(p.links,g=>(d(),u(B,{key:g.label},[g.url?(d(),O(t(v),{key:0,variant:g.active?"default":"outline",size:"sm",onClick:H=>q(g.url),innerHTML:f(g.label)},null,8,["variant","onClick","innerHTML"])):(d(),u("span",{key:1,class:"px-3 py-1 text-sm text-muted-foreground cursor-not-allowed",innerHTML:f(g.label)},null,8,Me))],64))),128))])])):L("",!0)}});function Re(w){if(!w)return"";const f=document.createElement("DIV");return f.innerHTML=w,(f.textContent||f.innerText||"").trim()}const Le={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Oe={class:"flex items-center justify-between"},Ue={class:"flex gap-3 items-center"},Be={class:"flex items-center gap-2"},De={class:"flex items-center gap-2"},ze={class:"flex items-center gap-2"},He={class:"flex items-center gap-2"},Je={class:"flex items-center gap-2"},Ie={key:0,class:"text-center py-8"},Ke={key:1,class:"rounded-md border"},Xe={class:"font-medium"},Ge={class:"text-sm text-muted-foreground"},Qe={key:0},Ye={class:"font-medium text-sm"},Ze={key:1,class:"text-sm text-muted-foreground"},es={key:0},ss={class:"text-sm"},ts={class:"text-xs text-muted-foreground"},as={key:1,class:"text-sm text-muted-foreground"},os={class:"text-sm"},ns={key:0,class:"max-w-xs space-y-1"},ls={class:"text-sm text-blue-800 dark:text-blue-200 truncate"},rs={class:"flex items-center gap-2"},is={key:0,class:"text-xs text-muted-foreground"},ds={key:1,class:"text-sm text-muted-foreground"},us={class:"space-y-6"},cs={class:"bg-orange-50 border border-orange-200 rounded-lg p-4"},ms={class:"flex items-center gap-2 mb-3"},fs={class:"grid grid-cols-2 gap-3 text-sm"},ps={class:"flex justify-between"},_s={class:"font-medium text-orange-900"},vs={class:"flex justify-between"},gs={class:"font-medium text-orange-900"},xs={class:"flex justify-between"},bs={class:"font-medium text-orange-900"},ys={class:"flex justify-between"},hs={class:"font-medium text-red-700"},ws={class:"space-y-4"},Cs={class:"space-y-3"},$s={class:"flex items-center space-x-3"},ks={class:"flex items-center gap-2"},Ss={class:"text-sm text-muted-foreground ml-1"},Es={class:"flex items-center space-x-3"},As={class:"flex items-center gap-2"},Ns={class:"text-sm text-muted-foreground ml-1"},js={class:"space-y-6"},Vs={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ts={class:"flex items-center gap-2 mb-3"},Ps={class:"grid grid-cols-2 gap-3 text-sm"},qs={class:"flex justify-between"},Fs={class:"font-medium text-blue-900"},Ms={class:"flex justify-between"},Ws={class:"font-medium text-blue-900"},Rs={class:"flex justify-between"},Ls={class:"font-medium text-blue-900"},Os={class:"flex justify-between"},Us={class:"font-medium text-red-700"},Bs={class:"space-y-4"},Ds={class:"space-y-3"},zs={class:"flex items-center space-x-3"},Hs={class:"flex items-center gap-2"},Js={class:"text-sm text-muted-foreground ml-1"},Is={class:"flex items-center space-x-3"},Ks={class:"flex items-center gap-2"},Xs={class:"text-sm text-muted-foreground ml-1"},Nt=ne({__name:"Index",props:{candidaturas:{},filters:{},filterFieldsConfig:{}},setup(w){var J,I;const f=w,q=Ee(),p=((J=q.props.auth)==null?void 0:J.permissions)||[],D=((I=q.props.auth)==null?void 0:I.isSuperAdmin)||!1,g=r=>D?!0:p.includes(r)||p.includes("*"),H=[{title:"Admin",href:"/admin/dashboard"},{title:"Candidaturas",href:"#"}],F=_({estado:f.filters.estado||"null",search:f.filters.search||""});Ae(F,r=>{const e=Object.entries(r).reduce((n,[x,K])=>(n[x]=K==="null"?"":K,n),{});U.get("/admin/candidaturas",e,{preserveState:!0,replace:!0})},{deep:!0});const re={fields:f.filterFieldsConfig||[],showQuickSearch:!0,quickSearchPlaceholder:"Buscar por nombre o email...",quickSearchFields:["user.name","user.email"],maxNestingLevel:2,allowSaveFilters:!0,debounceTime:500,autoApply:!1},{route:C}=window,M=_("todos"),ie=()=>{var r;if(f.filters.advanced_filters)try{const n=(r=JSON.parse(f.filters.advanced_filters).conditions)==null?void 0:r.find(x=>x.field==="candidaturas.estado"&&x.operator==="equals");if(n)return n.value}catch{}return"todos"};M.value=ie();const de=r=>{if(M.value=r,r==="todos")U.get("/admin/candidaturas",{},{preserveState:!0,replace:!0});else{const e={operator:"AND",conditions:[{field:"candidaturas.estado",operator:"equals",value:r}],groups:[]};U.get("/admin/candidaturas",{advanced_filters:JSON.stringify(e)},{preserveState:!0,replace:!0})}},$=_(!1),k=_(!1),S=_(!0),E=_(!0),c=_({total_borradores:0,con_email:0,con_telefono:0,sin_email:0,sin_telefono:0}),A=_(!1),N=_(!1),j=_(!0),V=_(!0),m=_({total_pendientes:0,con_email:0,con_telefono:0,sin_email:0,sin_telefono:0}),ue=r=>new Date(r).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ce=async()=>{try{const e=await(await fetch(C("admin.candidaturas.estadisticas-borradores"))).json();c.value=e,$.value=!0}catch(r){console.error("Error cargando estadísticas:",r),alert("Error cargando estadísticas de candidaturas en borrador")}},me=async()=>{try{const e=await(await fetch(C("admin.candidaturas.estadisticas-pendientes"))).json();m.value=e,A.value=!0}catch(r){console.error("Error cargando estadísticas:",r),alert("Error cargando estadísticas de candidaturas pendientes")}},fe=async()=>{var r;if(!j.value&&!V.value){alert("Debes seleccionar al menos un tipo de notificación (email o WhatsApp)");return}N.value=!0;try{const n=await(await fetch(C("admin.candidaturas.enviar-notificaciones"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify({incluir_email:j.value,incluir_whatsapp:V.value})})).json();n.success?(A.value=!1,alert(`Notificaciones enviadas exitosamente!

• Candidaturas procesadas: ${n.contadores.total_candidaturas}
• Correos programados: ${n.contadores.emails_enviados}
• WhatsApps programados: ${n.contadores.whatsapps_enviados}
• Errores: ${n.contadores.errores}

Los mensajes se están enviando en segundo plano respetando los límites de velocidad configurados.`)):alert(`Error: ${n.message}`)}catch(e){console.error("Error enviando notificaciones:",e),alert("Error enviando notificaciones. Por favor intenta de nuevo.")}finally{N.value=!1}},pe=async()=>{var r;if(!S.value&&!E.value){alert("Debes seleccionar al menos un tipo de recordatorio (email o WhatsApp)");return}k.value=!0;try{const n=await(await fetch(C("admin.candidaturas.enviar-recordatorios"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify({incluir_email:S.value,incluir_whatsapp:E.value})})).json();n.success?($.value=!1,alert(`Recordatorios enviados exitosamente!

• Candidaturas procesadas: ${n.contadores.total_candidaturas}
• Correos programados: ${n.contadores.emails_enviados}
• WhatsApps programados: ${n.contadores.whatsapps_enviados}
• Errores: ${n.contadores.errores}

Los mensajes se están enviando en segundo plano respetando los límites de velocidad configurados.`)):alert(`Error: ${n.message}`)}catch(e){console.error("Error enviando recordatorios:",e),alert("Error enviando recordatorios. Por favor intenta de nuevo.")}finally{k.value=!1}};return(r,e)=>(d(),u(B,null,[a(t(Ne),{title:"Candidaturas"}),a(Se,{breadcrumbs:H},{default:o(()=>[s("div",Le,[s("div",Oe,[e[18]||(e[18]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Candidaturas"),s("p",{class:"text-muted-foreground"}," Revisa y gestiona los perfiles de candidatura de los usuarios ")],-1)),s("div",Ue,[a(t(ge),{modelValue:M.value,"onUpdate:modelValue":[e[0]||(e[0]=n=>M.value=n),de]},{default:o(()=>[a(t(xe),{class:"w-[180px]"},{default:o(()=>[s("div",Be,[a(t(Ve),{class:"h-4 w-4"}),a(t(be),{placeholder:"Filtrar por estado"})])]),_:1}),a(t(ye),null,{default:o(()=>[a(t(T),{value:"todos"},{default:o(()=>e[9]||(e[9]=[s("div",{class:"flex items-center gap-2"},[s("span",{class:"font-medium"},"Todos")],-1)])),_:1}),a(t(T),{value:"pendiente"},{default:o(()=>[s("div",De,[a(t(h),{class:"bg-blue-100 text-blue-800 border-0"},{default:o(()=>e[10]||(e[10]=[l("Pendiente")])),_:1})])]),_:1}),a(t(T),{value:"borrador"},{default:o(()=>[s("div",ze,[a(t(h),{class:"bg-yellow-100 text-yellow-800 border-0"},{default:o(()=>e[11]||(e[11]=[l("Borrador")])),_:1})])]),_:1}),a(t(T),{value:"aprobado"},{default:o(()=>[s("div",He,[a(t(h),{class:"bg-green-100 text-green-800 border-0"},{default:o(()=>e[12]||(e[12]=[l("Aprobado")])),_:1})])]),_:1}),a(t(T),{value:"rechazado"},{default:o(()=>[s("div",Je,[a(t(h),{class:"bg-red-100 text-red-800 border-0"},{default:o(()=>e[13]||(e[13]=[l("Rechazado")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e[17]||(e[17]=s("div",{class:"h-8 w-px bg-border"},null,-1)),a(t(v),{onClick:me,variant:"outline",class:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 hover:border-blue-300"},{default:o(()=>[a(t(P),{class:"mr-2 h-4 w-4"}),e[14]||(e[14]=l(" Notificaciones "))]),_:1}),a(t(v),{onClick:ce,variant:"outline",class:"bg-orange-50 border-orange-200 text-orange-700 hover:bg-orange-100 hover:border-orange-300"},{default:o(()=>[a(t(z),{class:"mr-2 h-4 w-4"}),e[15]||(e[15]=l(" Recordatorios "))]),_:1}),g("candidaturas.configuracion")?(d(),O(t(Q),{key:0,href:"/admin/candidaturas/configuracion"},{default:o(()=>[a(t(v),null,{default:o(()=>[a(t($e),{class:"mr-2 h-4 w-4"}),e[16]||(e[16]=l(" Configuración "))]),_:1})]),_:1})):L("",!0)])]),a(Te,{config:re,route:t(C)("admin.candidaturas.index"),"initial-filters":{quickSearch:F.value.search,rootGroup:F.value.advanced_filters?JSON.parse(F.value.advanced_filters):void 0}},null,8,["route","initial-filters"]),a(t(_e),null,{default:o(()=>[a(t(ve),{class:"pt-6"},{default:o(()=>[r.candidaturas.data.length===0?(d(),u("div",Ie,[a(t(ke),{class:"mx-auto h-12 w-12 text-muted-foreground"}),e[19]||(e[19]=s("h3",{class:"mt-4 text-lg font-medium"},"No hay candidaturas",-1)),e[20]||(e[20]=s("p",{class:"text-muted-foreground"},"No se encontraron candidaturas con los filtros aplicados.",-1))])):(d(),u("div",Ke,[a(t(he),null,{default:o(()=>[a(t(we),null,{default:o(()=>[a(t(G),null,{default:o(()=>[a(t(b),null,{default:o(()=>e[21]||(e[21]=[l("Usuario")])),_:1}),a(t(b),null,{default:o(()=>e[22]||(e[22]=[l("Convocatoria")])),_:1}),a(t(b),null,{default:o(()=>e[23]||(e[23]=[l("Estado")])),_:1}),a(t(b),null,{default:o(()=>e[24]||(e[24]=[l("Datos Completados")])),_:1}),a(t(b),null,{default:o(()=>e[25]||(e[25]=[l("Actualizado")])),_:1}),a(t(b),null,{default:o(()=>e[26]||(e[26]=[l("Comentarios")])),_:1}),a(t(b),{class:"text-right"},{default:o(()=>e[27]||(e[27]=[l("Acciones")])),_:1})]),_:1})]),_:1}),a(t(Ce),null,{default:o(()=>[(d(!0),u(B,null,le(r.candidaturas.data,n=>(d(),O(t(G),{key:n.id},{default:o(()=>[a(t(y),null,{default:o(()=>[s("div",null,[s("p",Xe,i(n.usuario.name),1),s("p",Ge,i(n.usuario.email),1)])]),_:2},1024),a(t(y),null,{default:o(()=>[n.convocatoria?(d(),u("div",Qe,[s("p",Ye,i(n.convocatoria.nombre),1)])):(d(),u("span",Ze,"Sin convocatoria"))]),_:2},1024),a(t(y),null,{default:o(()=>[a(t(h),{class:je(n.estado_color)},{default:o(()=>[l(i(n.estado_label),1)]),_:2},1032,["class"])]),_:2},1024),a(t(y),null,{default:o(()=>[n.total_campos>0?(d(),u("div",es,[s("p",ss,i(n.campos_llenados)+" / "+i(n.total_campos),1),s("p",ts," ("+i(n.porcentaje_completado)+"%) ",1)])):(d(),u("span",as,"Sin configuración"))]),_:2},1024),a(t(y),null,{default:o(()=>[s("p",os,i(ue(n.updated_at)),1)]),_:2},1024),a(t(y),null,{default:o(()=>{var x;return[n.comentario_actual||n.comentarios_admin?(d(),u("div",ns,[s("p",ls,i(t(Re)(((x=n.comentario_actual)==null?void 0:x.comentario)||n.comentarios_admin||"")),1),s("div",rs,[n.comentario_actual?(d(),u("span",is,i(n.comentario_actual.fecha_relativa),1)):L("",!0),n.total_comentarios&&n.total_comentarios>1?(d(),O(t(h),{key:1,variant:"secondary",class:"text-xs"},{default:o(()=>[l(" +"+i(n.total_comentarios-1)+" más ",1)]),_:2},1024)):L("",!0)])])):(d(),u("span",ds,"-"))]}),_:2},1024),a(t(y),{class:"text-right"},{default:o(()=>[a(t(Q),{href:`/admin/candidaturas/${n.id}`},{default:o(()=>[a(t(v),{variant:"outline",size:"sm"},{default:o(()=>[a(t(Pe),{class:"mr-2 h-4 w-4"}),e[28]||(e[28]=l(" Ver candidatura "))]),_:1})]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),a(We,{links:r.candidaturas.links},null,8,["links"])]),_:1})]),_:1}),a(t(Y),{open:$.value,"onUpdate:open":e[4]||(e[4]=n=>$.value=n)},{default:o(()=>[a(t(Z),{class:"sm:max-w-md"},{default:o(()=>[a(t(ee),null,{default:o(()=>[a(t(se),{class:"flex items-center gap-2"},{default:o(()=>[a(t(z),{class:"h-5 w-5 text-orange-600"}),e[29]||(e[29]=l(" Enviar Recordatorios Masivos "))]),_:1}),a(t(te),null,{default:o(()=>e[30]||(e[30]=[l(" Envía recordatorios por correo y/o WhatsApp a todas las candidaturas en estado borrador. ")])),_:1})]),_:1}),s("div",us,[s("div",cs,[s("div",ms,[a(t(X),{class:"h-5 w-5 text-orange-600"}),e[31]||(e[31]=s("h3",{class:"font-medium text-orange-900"},"Candidaturas en Borrador",-1))]),s("div",fs,[s("div",ps,[e[32]||(e[32]=s("span",{class:"text-orange-700"},"Total en borrador:",-1)),s("span",_s,i(c.value.total_borradores),1)]),s("div",vs,[e[33]||(e[33]=s("span",{class:"text-orange-700"},"Con email:",-1)),s("span",gs,i(c.value.con_email),1)]),s("div",xs,[e[34]||(e[34]=s("span",{class:"text-orange-700"},"Con teléfono:",-1)),s("span",bs,i(c.value.con_telefono),1)]),s("div",ys,[e[35]||(e[35]=s("span",{class:"text-red-600"},"Sin contacto:",-1)),s("span",hs,i(Math.max(0,c.value.total_borradores-Math.max(c.value.con_email,c.value.con_telefono))),1)])])]),s("div",ws,[e[38]||(e[38]=s("h4",{class:"font-medium text-gray-900"},"Selecciona los tipos de recordatorio:",-1)),s("div",Cs,[s("div",$s,[a(t(R),{id:"include-email",modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=n=>S.value=n),disabled:c.value.con_email===0},null,8,["modelValue","disabled"]),s("div",ks,[a(t(P),{class:"h-4 w-4 text-blue-600"}),a(t(W),{for:"include-email",class:"flex-1"},{default:o(()=>[e[36]||(e[36]=l(" Correo electrónico ")),s("span",Ss," ("+i(c.value.con_email)+" candidaturas) ",1)]),_:1})])]),s("div",Es,[a(t(R),{id:"include-whatsapp",modelValue:E.value,"onUpdate:modelValue":e[2]||(e[2]=n=>E.value=n),disabled:c.value.con_telefono===0},null,8,["modelValue","disabled"]),s("div",As,[a(t(oe),{class:"h-4 w-4 text-green-600"}),a(t(W),{for:"include-whatsapp",class:"flex-1"},{default:o(()=>[e[37]||(e[37]=l(" WhatsApp ")),s("span",Ns," ("+i(c.value.con_telefono)+" candidaturas) ",1)]),_:1})])])])]),e[39]||(e[39]=s("div",{class:"text-xs text-muted-foreground bg-gray-50 border border-gray-200 rounded p-3"},[s("p",{class:"mb-1"},"• Los mensajes se envían respetando los límites de velocidad configurados"),s("p",{class:"mb-1"},"• Emails: 2 por segundo | WhatsApp: 5 por segundo"),s("p",null,"• El proceso se ejecuta en segundo plano")],-1))]),a(t(ae),null,{default:o(()=>[a(t(v),{variant:"outline",onClick:e[3]||(e[3]=n=>$.value=!1),disabled:k.value},{default:o(()=>e[40]||(e[40]=[l(" Cancelar ")])),_:1},8,["disabled"]),a(t(v),{onClick:pe,disabled:k.value||c.value.total_borradores===0||!S.value&&!E.value,class:"bg-orange-600 hover:bg-orange-700"},{default:o(()=>[a(t(z),{class:"mr-2 h-4 w-4"}),l(" "+i(k.value?"Enviando...":`Enviar Recordatorios (${c.value.total_borradores})`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),a(t(Y),{open:A.value,"onUpdate:open":e[8]||(e[8]=n=>A.value=n)},{default:o(()=>[a(t(Z),{class:"sm:max-w-md"},{default:o(()=>[a(t(ee),null,{default:o(()=>[a(t(se),{class:"flex items-center gap-2"},{default:o(()=>[a(t(P),{class:"h-5 w-5 text-blue-600"}),e[41]||(e[41]=l(" Enviar Notificaciones de Estado "))]),_:1}),a(t(te),null,{default:o(()=>e[42]||(e[42]=[l(" Envía notificaciones por correo y/o WhatsApp a todas las candidaturas en estado pendiente de revisión. ")])),_:1})]),_:1}),s("div",js,[s("div",Vs,[s("div",Ts,[a(t(X),{class:"h-5 w-5 text-blue-600"}),e[43]||(e[43]=s("h3",{class:"font-medium text-blue-900"},"Candidaturas Pendientes de Revisión",-1))]),s("div",Ps,[s("div",qs,[e[44]||(e[44]=s("span",{class:"text-blue-700"},"Total pendientes:",-1)),s("span",Fs,i(m.value.total_pendientes),1)]),s("div",Ms,[e[45]||(e[45]=s("span",{class:"text-blue-700"},"Con email:",-1)),s("span",Ws,i(m.value.con_email),1)]),s("div",Rs,[e[46]||(e[46]=s("span",{class:"text-blue-700"},"Con teléfono:",-1)),s("span",Ls,i(m.value.con_telefono),1)]),s("div",Os,[e[47]||(e[47]=s("span",{class:"text-red-600"},"Sin contacto:",-1)),s("span",Us,i(Math.max(0,m.value.total_pendientes-Math.max(m.value.con_email,m.value.con_telefono))),1)])])]),s("div",Bs,[e[50]||(e[50]=s("h4",{class:"font-medium text-gray-900"},"Selecciona los tipos de notificación:",-1)),s("div",Ds,[s("div",zs,[a(t(R),{id:"include-email-notif",modelValue:j.value,"onUpdate:modelValue":e[5]||(e[5]=n=>j.value=n),disabled:m.value.con_email===0},null,8,["modelValue","disabled"]),s("div",Hs,[a(t(P),{class:"h-4 w-4 text-blue-600"}),a(t(W),{for:"include-email-notif",class:"flex-1"},{default:o(()=>[e[48]||(e[48]=l(" Correo electrónico ")),s("span",Js," ("+i(m.value.con_email)+" candidaturas) ",1)]),_:1})])]),s("div",Is,[a(t(R),{id:"include-whatsapp-notif",modelValue:V.value,"onUpdate:modelValue":e[6]||(e[6]=n=>V.value=n),disabled:m.value.con_telefono===0},null,8,["modelValue","disabled"]),s("div",Ks,[a(t(oe),{class:"h-4 w-4 text-green-600"}),a(t(W),{for:"include-whatsapp-notif",class:"flex-1"},{default:o(()=>[e[49]||(e[49]=l(" WhatsApp ")),s("span",Xs," ("+i(m.value.con_telefono)+" candidaturas) ",1)]),_:1})])])])]),e[51]||(e[51]=s("div",{class:"text-xs text-muted-foreground bg-gray-50 border border-gray-200 rounded p-3"},[s("p",{class:"mb-1"},"• Se notificará que la candidatura fue recibida exitosamente"),s("p",{class:"mb-1"},"• Emails: 2 por segundo | WhatsApp: 5 por segundo"),s("p",null,"• El proceso se ejecuta en segundo plano")],-1))]),a(t(ae),null,{default:o(()=>[a(t(v),{variant:"outline",onClick:e[7]||(e[7]=n=>A.value=!1),disabled:N.value},{default:o(()=>e[52]||(e[52]=[l(" Cancelar ")])),_:1},8,["disabled"]),a(t(v),{onClick:fe,disabled:N.value||m.value.total_pendientes===0||!j.value&&!V.value,class:"bg-blue-600 hover:bg-blue-700"},{default:o(()=>[a(t(P),{class:"mr-2 h-4 w-4"}),l(" "+i(N.value?"Enviando...":`Enviar Notificaciones (${m.value.total_pendientes})`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{Nt as default};
