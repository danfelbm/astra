import{a as z,e as L,_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_K_7soM.js";import{_ as x}from"./AppLogo.vue_vue_type_script_setup_true_lang-Cm9O2wcI.js";import{_ as p,a as _}from"./CardContent.vue_vue_type_script_setup_true_lang-DpvJI9u6.js";import{_ as b,a as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-BppcWH6e.js";import{_ as j}from"./HistorialCandidatura.vue_vue_type_script_setup_true_lang-CK2iP9sV.js";import{d as I,k as G,c as h,a as C,o as l,b as e,u as a,m as O,e as r,f as s,j as u,i as c,n as E,l as y,t as n,g as i,P as k,F as R}from"./app-Df_XpEAt.js";import{P}from"./plus-Qgyn9Mes.js";import{C as S}from"./circle-alert-DIsU94cK.js";import{S as w}from"./square-pen-L4ZxloS7.js";import{C as D}from"./clock-C1PsLs-t.js";import{C as V}from"./circle-x-FKlZW09T.js";import{C as A}from"./circle-check-big-CUriUECu.js";import{M as T}from"./message-square-DeHGRagj.js";import{U as B}from"./user-CanKRfGD.js";import{H as X}from"./history-aENcBbn8.js";import{C as J}from"./chevron-up-CHg7eWXV.js";import"./index-CrGlExaQ.js";import"./index-B1pkzvRA.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-_ODQH6IG.js";import"./eye-DzS6W6Ng.js";const K={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Q={class:"flex items-center gap-4"},W={class:"flex-1"},Y={class:"text-xl font-semibold mb-1"},Z={class:"text-muted-foreground mb-2"},aa={key:0,class:"flex items-center gap-2"},ea={key:0,class:"text-right"},ta={class:"text-blue-700 dark:text-blue-300"},sa={key:1},ra={class:"grid gap-4 md:grid-cols-3"},da={class:"flex items-center gap-2"},ia={class:"flex items-center gap-2"},oa={class:"flex items-center gap-2"},la={class:"flex items-center gap-2"},na={class:"text-xs text-muted-foreground"},ua={class:"text-xs text-muted-foreground"},ca={class:"flex gap-1"},Ba=I({__name:"Dashboard",props:{candidatura:{},configuracion:{}},setup(M){const o=M,H=[{title:"Dashboard",href:"/dashboard"},{title:"Mi Candidatura",href:"#"}],f=G(!1),m=h(()=>!!o.candidatura),N=h(()=>{if(!o.candidatura)return P;switch(o.candidatura.estado){case"aprobado":return A;case"rechazado":return V;case"pendiente":return D;case"borrador":return w;default:return S}}),q=h(()=>{if(!o.candidatura)return"text-blue-600";switch(o.candidatura.estado){case"aprobado":return"text-green-600";case"rechazado":return"text-red-600";case"pendiente":return"text-blue-600";case"borrador":return"text-yellow-600";default:return"text-gray-600"}}),v=h(()=>{if(!o.candidatura)return{text:"Crear Perfil de Candidatura",href:"/candidaturas/create",icon:P,description:"Completa tu perfil para poder postularte a convocatorias"};if(o.candidatura.puede_editar){let d="Editar Candidatura",t="Completa o actualiza la información de tu candidatura";return o.candidatura.estado==="rechazado"?t="Corrige los aspectos señalados y reenvía tu candidatura":o.candidatura.estado==="aprobado"?(d="Editar Campos Permitidos",t="Solo puedes editar campos marcados como editables. Los cambios requerirán nueva aprobación."):o.candidatura.tiene_datos||(d="Completar Candidatura"),{text:d,href:`/candidaturas/${o.candidatura.id}/edit`,icon:w,description:t}}return null}),F=d=>new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(d,t)=>(l(),C(R,null,[e(a(O),{title:"Mi Candidatura"}),e(U,{breadcrumbs:H},{default:r(()=>{var $;return[s("div",K,[t[14]||(t[14]=s("div",{class:"flex items-center justify-between"},[s("div",null,[s("h1",{class:"text-3xl font-bold"},"Mi Candidatura"),s("p",{class:"text-muted-foreground"}," Gestiona tu perfil de candidatura para participar en convocatorias ")])],-1)),e(a(p),{class:"border-2"},{default:r(()=>[e(a(_),{class:"p-6"},{default:r(()=>[s("div",Q,[s("div",{class:E([q.value,"p-3 rounded-full bg-opacity-10"])},[(l(),u(y(N.value),{class:"h-8 w-8"}))],2),s("div",W,[s("h3",Y,n(m.value?d.candidatura.estado_label:"Sin Candidatura"),1),s("p",Z,n(m.value?`Versión ${d.candidatura.version} - Actualizada el ${F(d.candidatura.updated_at)}`:"Aún no has creado tu perfil de candidatura"),1),m.value?(l(),C("div",aa,[e(a(z),{class:E(d.candidatura.estado_color)},{default:r(()=>[i(n(d.candidatura.estado_label),1)]),_:1},8,["class"]),d.candidatura.tiene_datos?c("",!0):(l(),u(a(z),{key:0,variant:"outline",class:"bg-yellow-50 text-yellow-700"},{default:r(()=>t[1]||(t[1]=[i(" Incompleto ")])),_:1}))])):c("",!0)]),v.value?(l(),C("div",ea,[e(a(k),{href:v.value.href},{default:r(()=>[e(a(x),null,{default:r(()=>[(l(),u(y(v.value.icon),{class:"mr-2 h-4 w-4"})),i(" "+n(v.value.text),1)]),_:1})]),_:1},8,["href"])])):c("",!0)])]),_:1})]),_:1}),($=d.candidatura)!=null&&$.comentarios_admin?(l(),u(a(p),{key:0,class:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/20"},{default:r(()=>[e(a(b),null,{default:r(()=>[e(a(g),{class:"text-blue-800 dark:text-blue-200 flex items-center gap-2"},{default:r(()=>[e(a(T),{class:"h-5 w-5"}),t[2]||(t[2]=i(" Comentarios de la comisión "))]),_:1})]),_:1}),e(a(_),null,{default:r(()=>[s("p",ta,n(d.candidatura.comentarios_admin),1)]),_:1})]),_:1})):c("",!0),m.value&&f.value?(l(),C("div",sa,[e(j,{"candidatura-id":d.candidatura.id,"version-actual":d.candidatura.version},null,8,["candidatura-id","version-actual"])])):c("",!0),s("div",ra,[e(a(p),{class:"h-fit"},{default:r(()=>[e(a(b),{class:"pb-3"},{default:r(()=>[e(a(g),{class:"text-base flex items-center gap-2"},{default:r(()=>[e(a(B),{class:"h-4 w-4"}),t[3]||(t[3]=i(" Estados "))]),_:1})]),_:1}),e(a(_),{class:"space-y-2"},{default:r(()=>[s("div",da,[e(a(w),{class:"h-3 w-3 text-yellow-600"}),t[4]||(t[4]=s("p",{class:"text-xs"},[s("span",{class:"font-medium"},"Borrador:"),i(" Editable")],-1))]),s("div",ia,[e(a(D),{class:"h-3 w-3 text-blue-600"}),t[5]||(t[5]=s("p",{class:"text-xs"},[s("span",{class:"font-medium"},"Pendiente:"),i(" En revisión")],-1))]),s("div",oa,[e(a(A),{class:"h-3 w-3 text-green-600"}),t[6]||(t[6]=s("p",{class:"text-xs"},[s("span",{class:"font-medium"},"Aprobado:"),i(" Listo")],-1))]),s("div",la,[e(a(V),{class:"h-3 w-3 text-red-600"}),t[7]||(t[7]=s("p",{class:"text-xs"},[s("span",{class:"font-medium"},"Rechazado:"),i(" Corregir")],-1))])]),_:1})]),_:1}),e(a(p),{class:"h-fit"},{default:r(()=>[e(a(b),{class:"pb-3"},{default:r(()=>[e(a(g),{class:"text-base flex items-center gap-2"},{default:r(()=>[e(a(S),{class:"h-4 w-4"}),t[8]||(t[8]=i(" Configuración "))]),_:1})]),_:1}),e(a(_),{class:"space-y-2"},{default:r(()=>[s("div",null,[t[9]||(t[9]=s("p",{class:"text-xs font-medium"},"Campos:",-1)),s("p",na,n(d.configuracion.resumen),1)]),s("div",null,[t[10]||(t[10]=s("p",{class:"text-xs font-medium"},"Versión:",-1)),s("p",ua,"v"+n(d.configuracion.version),1)])]),_:1})]),_:1}),m.value?(l(),u(a(p),{key:0,class:"h-fit"},{default:r(()=>[e(a(b),{class:"pb-3"},{default:r(()=>[e(a(g),{class:"text-base"},{default:r(()=>t[11]||(t[11]=[i("Acciones")])),_:1})]),_:1}),e(a(_),{class:"space-y-2"},{default:r(()=>[e(a(x),{onClick:t[0]||(t[0]=fa=>f.value=!f.value),variant:"outline",class:"w-full"},{default:r(()=>[e(a(X),{class:"mr-2 h-4 w-4"}),i(" "+n(f.value?"Ocultar":"Mostrar")+" Historial ",1),(l(),u(y(f.value?a(J):a(L)),{class:"ml-auto h-4 w-4"}))]),_:1}),s("div",ca,[e(a(k),{href:`/candidaturas/${d.candidatura.id}`},{default:r(()=>[e(a(x),{variant:"outline",size:"sm"},{default:r(()=>[e(a(B),{class:"mr-1 h-3 w-3"}),t[12]||(t[12]=i(" Ver "))]),_:1})]),_:1},8,["href"]),d.candidatura.puede_editar?(l(),u(a(k),{key:0,href:`/candidaturas/${d.candidatura.id}/edit`},{default:r(()=>[e(a(x),{variant:"outline",size:"sm"},{default:r(()=>[e(a(w),{class:"mr-1 h-3 w-3"}),t[13]||(t[13]=i(" Editar "))]),_:1})]),_:1},8,["href"])):c("",!0)])]),_:1})]),_:1})):c("",!0)])])]}),_:1})],64))}});export{Ba as default};
